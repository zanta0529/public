(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xm={exports:{}},Ku={};var p_;function vS(){if(p_)return Ku;p_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Ku.Fragment=e,Ku.jsx=n,Ku.jsxs=n,Ku}var g_;function _S(){return g_||(g_=1,xm.exports=vS()),xm.exports}var W=_S(),Om={exports:{}},rt={};var y_;function bS(){if(y_)return rt;y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function $(F){return F===null||typeof F!="object"?null:(F=D&&F[D]||F["@@iterator"],typeof F=="function"?F:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},me=Object.assign,Ee={};function ke(F,pe,Ie){this.props=F,this.context=pe,this.refs=Ee,this.updater=Ie||ne}ke.prototype.isReactComponent={},ke.prototype.setState=function(F,pe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,pe,"setState")},ke.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Be(){}Be.prototype=ke.prototype;function Le(F,pe,Ie){this.props=F,this.context=pe,this.refs=Ee,this.updater=Ie||ne}var ct=Le.prototype=new Be;ct.constructor=Le,me(ct,ke.prototype),ct.isPureReactComponent=!0;var Nt=Array.isArray;function $e(){}var V={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(F,pe,Ie){var Pe=Ie.ref;return{$$typeof:i,type:F,key:pe,ref:Pe!==void 0?Pe:null,props:Ie}}function Y(F,pe){return P(F.type,pe,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function Z(F){var pe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ie){return pe[Ie]})}var k=/\/+/g;function Bt(F,pe){return typeof F=="object"&&F!==null&&F.key!=null?Z(""+F.key):pe.toString(36)}function Kt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then($e,$e):(F.status="pending",F.then(function(pe){F.status==="pending"&&(F.status="fulfilled",F.value=pe)},function(pe){F.status==="pending"&&(F.status="rejected",F.reason=pe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function le(F,pe,Ie,Pe,Ye){var Je=typeof F;(Je==="undefined"||Je==="boolean")&&(F=null);var dt=!1;if(F===null)dt=!0;else switch(Je){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(F.$$typeof){case i:case e:dt=!0;break;case R:return dt=F._init,le(dt(F._payload),pe,Ie,Pe,Ye)}}if(dt)return Ye=Ye(F),dt=Pe===""?"."+Bt(F,0):Pe,Nt(Ye)?(Ie="",dt!=null&&(Ie=dt.replace(k,"$&/")+"/"),le(Ye,pe,Ie,"",function(ns){return ns})):Ye!=null&&(q(Ye)&&(Ye=Y(Ye,Ie+(Ye.key==null||F&&F.key===Ye.key?"":(""+Ye.key).replace(k,"$&/")+"/")+dt)),pe.push(Ye)),1;dt=0;var gn=Pe===""?".":Pe+":";if(Nt(F))for(var Me=0;Me<F.length;Me++)Pe=F[Me],Je=gn+Bt(Pe,Me),dt+=le(Pe,pe,Ie,Je,Ye);else if(Me=$(F),typeof Me=="function")for(F=Me.call(F),Me=0;!(Pe=F.next()).done;)Pe=Pe.value,Je=gn+Bt(Pe,Me++),dt+=le(Pe,pe,Ie,Je,Ye);else if(Je==="object"){if(typeof F.then=="function")return le(Kt(F),pe,Ie,Pe,Ye);throw pe=String(F),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function _e(F,pe,Ie){if(F==null)return F;var Pe=[],Ye=0;return le(F,Pe,"","",function(Je){return pe.call(Ie,Je,Ye++)}),Pe}function je(F){if(F._status===-1){var pe=F._result;pe=pe(),pe.then(function(Ie){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ie)},function(Ie){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ie)}),F._status===-1&&(F._status=0,F._result=pe)}if(F._status===1)return F._result.default;throw F._result}var st=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ft={map:_e,forEach:function(F,pe,Ie){_e(F,function(){pe.apply(this,arguments)},Ie)},count:function(F){var pe=0;return _e(F,function(){pe++}),pe},toArray:function(F){return _e(F,function(pe){return pe})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return rt.Activity=x,rt.Children=ft,rt.Component=ke,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=Le,rt.StrictMode=s,rt.Suspense=_,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},rt.cache=function(F){return function(){return F.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(F,pe,Ie){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Pe=me({},F.props),Ye=F.key;if(pe!=null)for(Je in pe.key!==void 0&&(Ye=""+pe.key),pe)!M.call(pe,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&pe.ref===void 0||(Pe[Je]=pe[Je]);var Je=arguments.length-2;if(Je===1)Pe.children=Ie;else if(1<Je){for(var dt=Array(Je),gn=0;gn<Je;gn++)dt[gn]=arguments[gn+2];Pe.children=dt}return P(F.type,Ye,Pe)},rt.createContext=function(F){return F={$$typeof:d,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},rt.createElement=function(F,pe,Ie){var Pe,Ye={},Je=null;if(pe!=null)for(Pe in pe.key!==void 0&&(Je=""+pe.key),pe)M.call(pe,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(Ye[Pe]=pe[Pe]);var dt=arguments.length-2;if(dt===1)Ye.children=Ie;else if(1<dt){for(var gn=Array(dt),Me=0;Me<dt;Me++)gn[Me]=arguments[Me+2];Ye.children=gn}if(F&&F.defaultProps)for(Pe in dt=F.defaultProps,dt)Ye[Pe]===void 0&&(Ye[Pe]=dt[Pe]);return P(F,Je,Ye)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(F){return{$$typeof:y,render:F}},rt.isValidElement=q,rt.lazy=function(F){return{$$typeof:R,_payload:{_status:-1,_result:F},_init:je}},rt.memo=function(F,pe){return{$$typeof:E,type:F,compare:pe===void 0?null:pe}},rt.startTransition=function(F){var pe=V.T,Ie={};V.T=Ie;try{var Pe=F(),Ye=V.S;Ye!==null&&Ye(Ie,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then($e,st)}catch(Je){st(Je)}finally{pe!==null&&Ie.types!==null&&(pe.types=Ie.types),V.T=pe}},rt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},rt.use=function(F){return V.H.use(F)},rt.useActionState=function(F,pe,Ie){return V.H.useActionState(F,pe,Ie)},rt.useCallback=function(F,pe){return V.H.useCallback(F,pe)},rt.useContext=function(F){return V.H.useContext(F)},rt.useDebugValue=function(){},rt.useDeferredValue=function(F,pe){return V.H.useDeferredValue(F,pe)},rt.useEffect=function(F,pe){return V.H.useEffect(F,pe)},rt.useEffectEvent=function(F){return V.H.useEffectEvent(F)},rt.useId=function(){return V.H.useId()},rt.useImperativeHandle=function(F,pe,Ie){return V.H.useImperativeHandle(F,pe,Ie)},rt.useInsertionEffect=function(F,pe){return V.H.useInsertionEffect(F,pe)},rt.useLayoutEffect=function(F,pe){return V.H.useLayoutEffect(F,pe)},rt.useMemo=function(F,pe){return V.H.useMemo(F,pe)},rt.useOptimistic=function(F,pe){return V.H.useOptimistic(F,pe)},rt.useReducer=function(F,pe,Ie){return V.H.useReducer(F,pe,Ie)},rt.useRef=function(F){return V.H.useRef(F)},rt.useState=function(F){return V.H.useState(F)},rt.useSyncExternalStore=function(F,pe,Ie){return V.H.useSyncExternalStore(F,pe,Ie)},rt.useTransition=function(){return V.H.useTransition()},rt.version="19.2.0",rt}var v_;function Ep(){return v_||(v_=1,Om.exports=bS()),Om.exports}var De=Ep();const ES=bp(De);var Dm={exports:{}},Gu={},Nm={exports:{}},Mm={};var __;function TS(){return __||(__=1,(function(i){function e(le,_e){var je=le.length;le.push(_e);e:for(;0<je;){var st=je-1>>>1,ft=le[st];if(0<o(ft,_e))le[st]=_e,le[je]=ft,je=st;else break e}}function n(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var _e=le[0],je=le.pop();if(je!==_e){le[0]=je;e:for(var st=0,ft=le.length,F=ft>>>1;st<F;){var pe=2*(st+1)-1,Ie=le[pe],Pe=pe+1,Ye=le[Pe];if(0>o(Ie,je))Pe<ft&&0>o(Ye,Ie)?(le[st]=Ye,le[Pe]=je,st=Pe):(le[st]=Ie,le[pe]=je,st=pe);else if(Pe<ft&&0>o(Ye,je))le[st]=Ye,le[Pe]=je,st=Pe;else break e}}return _e}function o(le,_e){var je=le.sortIndex-_e.sortIndex;return je!==0?je:le.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var _=[],E=[],R=1,x=null,D=3,$=!1,ne=!1,me=!1,Ee=!1,ke=typeof setTimeout=="function"?setTimeout:null,Be=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;function ct(le){for(var _e=n(E);_e!==null;){if(_e.callback===null)s(E);else if(_e.startTime<=le)s(E),_e.sortIndex=_e.expirationTime,e(_,_e);else break;_e=n(E)}}function Nt(le){if(me=!1,ct(le),!ne)if(n(_)!==null)ne=!0,$e||($e=!0,Z());else{var _e=n(E);_e!==null&&Kt(Nt,_e.startTime-le)}}var $e=!1,V=-1,M=5,P=-1;function Y(){return Ee?!0:!(i.unstable_now()-P<M)}function q(){if(Ee=!1,$e){var le=i.unstable_now();P=le;var _e=!0;try{e:{ne=!1,me&&(me=!1,Be(V),V=-1),$=!0;var je=D;try{t:{for(ct(le),x=n(_);x!==null&&!(x.expirationTime>le&&Y());){var st=x.callback;if(typeof st=="function"){x.callback=null,D=x.priorityLevel;var ft=st(x.expirationTime<=le);if(le=i.unstable_now(),typeof ft=="function"){x.callback=ft,ct(le),_e=!0;break t}x===n(_)&&s(_),ct(le)}else s(_);x=n(_)}if(x!==null)_e=!0;else{var F=n(E);F!==null&&Kt(Nt,F.startTime-le),_e=!1}}break e}finally{x=null,D=je,$=!1}_e=void 0}}finally{_e?Z():$e=!1}}}var Z;if(typeof Le=="function")Z=function(){Le(q)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Bt=k.port2;k.port1.onmessage=q,Z=function(){Bt.postMessage(null)}}else Z=function(){ke(q,0)};function Kt(le,_e){V=ke(function(){le(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(le){le.callback=null},i.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<le?Math.floor(1e3/le):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_next=function(le){switch(D){case 1:case 2:case 3:var _e=3;break;default:_e=D}var je=D;D=_e;try{return le()}finally{D=je}},i.unstable_requestPaint=function(){Ee=!0},i.unstable_runWithPriority=function(le,_e){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var je=D;D=le;try{return _e()}finally{D=je}},i.unstable_scheduleCallback=function(le,_e,je){var st=i.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?st+je:st):je=st,le){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=je+ft,le={id:R++,callback:_e,priorityLevel:le,startTime:je,expirationTime:ft,sortIndex:-1},je>st?(le.sortIndex=je,e(E,le),n(_)===null&&le===n(E)&&(me?(Be(V),V=-1):me=!0,Kt(Nt,je-st))):(le.sortIndex=ft,e(_,le),ne||$||(ne=!0,$e||($e=!0,Z()))),le},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(le){var _e=D;return function(){var je=D;D=_e;try{return le.apply(this,arguments)}finally{D=je}}}})(Mm)),Mm}var b_;function wS(){return b_||(b_=1,Nm.exports=TS()),Nm.exports}var km={exports:{}},fr={};var E_;function SS(){if(E_)return fr;E_=1;var i=Ep();function e(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,E,R){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:E,implementation:R}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fr.createPortal=function(_,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return u(_,E,null,R)},fr.flushSync=function(_){var E=d.T,R=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=E,s.p=R,s.d.f()}},fr.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(_,E))},fr.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},fr.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var R=E.as,x=y(R,E.crossOrigin),D=typeof E.integrity=="string"?E.integrity:void 0,$=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?s.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:$}):R==="script"&&s.d.X(_,{crossOrigin:x,integrity:D,fetchPriority:$,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},fr.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=y(E.as,E.crossOrigin);s.d.M(_,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(_)},fr.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,x=y(R,E.crossOrigin);s.d.L(_,R,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},fr.preloadModule=function(_,E){if(typeof _=="string")if(E){var R=y(E.as,E.crossOrigin);s.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(_)},fr.requestFormReset=function(_){s.d.r(_)},fr.unstable_batchedUpdates=function(_,E){return _(E)},fr.useFormState=function(_,E,R){return d.H.useFormState(_,E,R)},fr.useFormStatus=function(){return d.H.useHostTransitionStatus()},fr.version="19.2.0",fr}var T_;function AS(){if(T_)return km.exports;T_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=SS(),km.exports}var w_;function CS(){if(w_)return Gu;w_=1;var i=wS(),e=Ep(),n=AS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function E(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return _(h),t;if(p===l)return _(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var T=!1,C=h.child;C;){if(C===a){T=!0,a=h,l=p;break}if(C===l){T=!0,l=h,a=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===a){T=!0,a=p,l=h;break}if(C===l){T=!0,l=p,a=h;break}C=C.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function R(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=R(t),r!==null)return r;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),Be=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case me:return"Fragment";case ke:return"Profiler";case Ee:return"StrictMode";case Nt:return"Suspense";case $e:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case Le:return t.displayName||"Context";case Be:return(t._context.displayName||"Context")+".Consumer";case ct:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:Bt(t.type)||"Memo";case M:r=t._payload,t=t._init;try{return Bt(t(r))}catch{}}return null}var Kt=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},st=[],ft=-1;function F(t){return{current:t}}function pe(t){0>ft||(t.current=st[ft],st[ft]=null,ft--)}function Ie(t,r){ft++,st[ft]=t.current,t.current=r}var Pe=F(null),Ye=F(null),Je=F(null),dt=F(null);function gn(t,r){switch(Ie(Je,r),Ie(Ye,t),Ie(Pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Uv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Uv(r),t=jv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(Pe),Ie(Pe,t)}function Me(){pe(Pe),pe(Ye),pe(Je)}function ns(t){t.memoizedState!==null&&Ie(dt,t);var r=Pe.current,a=jv(r,t.type);r!==a&&(Ie(Ye,t),Ie(Pe,a))}function zi(t){Ye.current===t&&(pe(Pe),pe(Ye)),dt.current===t&&(pe(dt),Bu._currentValue=je)}var St,di;function mi(t){if(St===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);St=r&&r[1]||"",di=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+t+di}var Kr=!1;function Is(t,r){if(!t||Kr)return"";Kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var oe=ce}Reflect.construct(t,[],ye)}else{try{ye.call()}catch(ce){oe=ce}t.call(ye.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(ye=t())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var L=T.split(`
`),se=C.split(`
`);for(h=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;h<se.length&&!se[h].includes("DetermineComponentFrameRoot");)h++;if(l===L.length||h===se.length)for(l=L.length-1,h=se.length-1;1<=l&&0<=h&&L[l]!==se[h];)h--;for(;1<=l&&0<=h;l--,h--)if(L[l]!==se[h]){if(l!==1||h!==1)do if(l--,h--,0>h||L[l]!==se[h]){var he=`
`+L[l].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=l&&0<=h);break}}}finally{Kr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Eo(t,r){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==r&&r!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Is(t.type,!1);case 11:return Is(t.type.render,!1);case 1:return Is(t.type,!0);case 31:return mi("Activity");default:return""}}function To(t){try{var r="",a=null;do r+=Eo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var hn=Object.prototype.hasOwnProperty,nn=i.unstable_scheduleCallback,Pn=i.unstable_cancelCallback,al=i.unstable_shouldYield,rs=i.unstable_requestPaint,qn=i.unstable_now,Gr=i.unstable_getCurrentPriorityLevel,Yr=i.unstable_ImmediatePriority,Qr=i.unstable_UserBlockingPriority,pi=i.unstable_NormalPriority,xs=i.unstable_LowPriority,pa=i.unstable_IdlePriority,Os=i.log,gi=i.unstable_setDisableYieldValue,ar=null,yn=null;function vn(t){if(typeof Os=="function"&&gi(t),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(ar,t)}catch{}}var Ne=Math.clz32?Math.clz32:Ds,is=Math.log,wr=Math.LN2;function Ds(t){return t>>>=0,t===0?32:31-(is(t)/wr|0)|0}var Re=256,Bi=262144,rn=4194304;function Sr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?h=Sr(l):(T&=C,T!==0?h=Sr(T):a||(a=C&~t,a!==0&&(h=Sr(a))))):(C=l&~p,C!==0?h=Sr(C):T!==0?h=Sr(T):a||(a=l&~t,a!==0&&(h=Sr(a)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:h}function yr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function lu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var t=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),t}function $n(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ar(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,r,a,l,h,p){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,L=t.expirationTimes,se=t.hiddenUpdates;for(a=T&~a;0<a;){var he=31-Ne(a),ye=1<<he;C[he]=0,L[he]=-1;var oe=se[he];if(oe!==null)for(se[he]=null,he=0;he<oe.length;he++){var ce=oe[he];ce!==null&&(ce.lane&=-536870913)}a&=~ye}l!==0&&yi(t,l,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~r))}function yi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ne(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function kt(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ne(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Wt(t,r){var a=r&-r;return a=(a&42)!==0?1:Ns(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ms(){var t=_e.p;return t!==0?t:(t=window.event,t===void 0?32:l_(t.type))}function or(t,r){var a=_e.p;try{return _e.p=t,r()}finally{_e.p=a}}var $r=Math.random().toString(36).slice(2),Pt="__reactFiber$"+$r,Yt="__reactProps$"+$r,Ln="__reactContainer$"+$r,qi="__reactEvents$"+$r,uu="__reactListeners$"+$r,Jr="__reactHandles$"+$r,So="__reactResources$"+$r,Hn="__reactMarker$"+$r;function ks(t){delete t[Pt],delete t[Yt],delete t[qi],delete t[uu],delete t[Jr]}function Rr(t){var r=t[Pt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ln]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Gv(t);t!==null;){if(a=t[Pt])return a;t=Gv(t)}return r}t=a,a=t.parentNode}return null}function Rt(t){if(t=t[Pt]||t[Ln]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Cn(t){var r=t[So];return r||(r=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function sn(t){t[Hn]=!0}var vi=new Set,ss={};function Ir(t,r){xr(t,r),xr(t+"Capture",r)}function xr(t,r){for(ss[t]=r,t=0;t<r.length;t++)vi.add(r[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ga={},as={};function Ao(t){return hn.call(as,t)?!0:hn.call(ga,t)?!1:Wr.test(t)?as[t]=!0:(ga[t]=!0,!1)}function at(t,r,a){if(Ao(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function lr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function an(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ya(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,p.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xt(t){if(!t._valueTracker){var r=Or(t)?"checked":"value";t._valueTracker=ya(t,r,""+t[r])}}function os(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function pt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zr=/[\n"\\]/g;function Rn(t){return t.replace(Zr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ei(t,r,a,l,h,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?Vs(t,T,on(r)):a!=null?Vs(t,T,on(a)):l!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+on(C):t.removeAttribute("name")}function va(t,r,a,l,h,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){xt(t);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),xt(t)}function Vs(t,r,a){r==="number"&&pt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ti(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Co(t,r,a){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+on(a):""}function ni(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),xt(t)}function Jn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mt(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ll.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function _a(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&mt(t,h,l)}else for(var p in r)r.hasOwnProperty(p)&&mt(t,p,r[p])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return dn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ur(){}var Dr=null;function vr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Lt=null;function Fn(t){var r=Rt(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ei(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(s(90));ei(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&os(l)}break e;case"textarea":Co(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ti(t,!!a.multiple,r,!1)}}}var _i=!1;function Nr(t,r,a){if(_i)return t(r,a);_i=!0;try{var l=t(r);return l}finally{if(_i=!1,(Hi!==null||Lt!==null)&&(ff(),Hi&&(r=Hi,t=Lt,Lt=Hi=null,Fn(r),t)))for(r=0;r<t.length;r++)Fn(t[r])}}function _r(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(bn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ps=!1}var Mr=null,Ea=null,Fi=null;function Ki(){if(Fi)return Fi;var t,r=Ea,a=r.length,l,h="value"in Mr?Mr.value:Mr.textContent,p=h.length;for(t=0;t<a&&r[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&r[a-l]===h[p-l];l++);return Fi=h.slice(t,1<l?1-l:void 0)}function Gi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function ii(){return!1}function ln(t){function r(a,l,h,p,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bi:ii,this.isPropagationStopped=ii,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=ln(Yi),si=x({},Yi,{view:0,detail:0}),ls=ln(si),Ti,Ta,wi,wa=x({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Ti=t.screenX-wi.screenX,Ta=t.screenY-wi.screenY):Ta=Ti=0,wi=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Ls=ln(wa),Qi=x({},wa,{dataTransfer:0}),Ro=ln(Qi),Us=x({},si,{relatedTarget:0}),Si=ln(Us),us=x({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=ln(us),Sa=x({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=ln(Sa),Aa=x({},Yi,{data:0}),kr=ln(Aa),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cs(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=En[t])?!!r[t]:!1}function Vr(){return cs}var Kn=x({},si,{key:function(t){if(t.key){var r=Ca[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ra[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(t){return t.type==="keypress"?Gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=ln(Kn),xo=x({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=ln(xo),c=x({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),v=ln(c),w=x({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ln(w),te=x({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=ln(te),Ae=x({},Yi,{newState:0,oldState:0}),tt=ln(Ae),un=[9,13,27,32],At=bn&&"CompositionEvent"in window,Ut=null;bn&&"documentMode"in document&&(Ut=document.documentMode);var Pr=bn&&"TextEvent"in window&&!Ut,Lr=bn&&(!At||Ut&&8<Ut&&11>=Ut),br=" ",ai=!1;function fs(t,r){switch(t){case"keyup":return un.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function Oc(t,r){switch(t){case"compositionend":return Ia(r);case"keypress":return r.which!==32?null:(ai=!0,br);case"textInput":return t=r.data,t===br&&ai?null:t;default:return null}}function Hh(t,r){if(zs)return t==="compositionend"||!At&&fs(t,r)?(t=Ki(),Fi=Ea=Mr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Lr&&r.locale!=="ko"?null:r.data;default:return null}}var Dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dc[t.type]:r==="textarea"}function cu(t,r,a,l){Hi?Lt?Lt.push(l):Lt=[l]:Hi=l,r=vf(r,"onChange"),0<r.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var xa=null,Oo=null;function Fh(t){Nv(t,0)}function fl(t){var r=_n(t);if(os(r))return t}function Do(t,r){if(t==="change")return r}var Ci=!1;if(bn){var Qt;if(bn){var Oa="oninput"in document;if(!Oa){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),Oa=typeof Er.oninput=="function"}Qt=Oa}else Qt=!1;Ci=Qt&&(!document.documentMode||9<document.documentMode)}function Nc(){xa&&(xa.detachEvent("onpropertychange",hl),Oo=xa=null)}function hl(t){if(t.propertyName==="value"&&fl(Oo)){var r=[];cu(r,Oo,t,vr(t)),Nr(Fh,r)}}function Mc(t,r,a){t==="focusin"?(Nc(),xa=r,Oo=a,xa.attachEvent("onpropertychange",hl)):t==="focusout"&&Nc()}function Bs(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(Oo)}function fu(t,r){if(t==="click")return fl(r)}function Da(t,r){if(t==="input"||t==="change")return fl(r)}function hs(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var cr=typeof Object.is=="function"?Object.is:hs;function f(t,r){if(cr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!hn.call(r,h)||!cr(t[h],r[h]))return!1}return!0}function m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g(t,r){var a=m(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=m(a)}}function b(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?b(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function S(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=pt(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=pt(t.document)}return r}function A(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var O=bn&&"documentMode"in document&&11>=document.documentMode,N=null,j=null,z=null,Q=!1;function U(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Q||N==null||N!==pt(l)||(l=N,"selectionStart"in l&&A(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),z&&f(z,l)||(z=l,l=vf(j,"onSelect"),0<l.length&&(r=new Ei("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=N)))}function J(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var B={animationend:J("Animation","AnimationEnd"),animationiteration:J("Animation","AnimationIteration"),animationstart:J("Animation","AnimationStart"),transitionrun:J("Transition","TransitionRun"),transitionstart:J("Transition","TransitionStart"),transitioncancel:J("Transition","TransitionCancel"),transitionend:J("Transition","TransitionEnd")},K={},G={};bn&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function X(t){if(K[t])return K[t];if(!B[t])return t;var r=B[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in G)return K[t]=r[a];return t}var re=X("animationend"),ae=X("animationiteration"),fe=X("animationstart"),ge=X("transitionrun"),Se=X("transitionstart"),Oe=X("transitioncancel"),Te=X("transitionend"),Ce=new Map,xe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xe.push("scrollEnd");function we(t,r){Ce.set(t,r),Ir(r,[t])}var Ve=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fe=[],Ze=0,ot=0;function Gn(){for(var t=Ze,r=ot=Ze=0;r<t;){var a=Fe[r];Fe[r++]=null;var l=Fe[r];Fe[r++]=null;var h=Fe[r];Fe[r++]=null;var p=Fe[r];if(Fe[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}p!==0&&No(a,h,p)}}function We(t,r,a,l){Fe[Ze++]=t,Fe[Ze++]=r,Fe[Ze++]=a,Fe[Ze++]=l,ot|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function In(t,r,a,l){return We(t,r,a,l),xn(t)}function Zt(t,r){return We(t,null,null,r),xn(t)}function No(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=t.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&r!==null&&(h=31-Ne(a),t=p.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),p):null}function xn(t){if(50<ku)throw ku=0,Zd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ur={};function hu(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,r,a,l){return new hu(t,r,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qs(t,r){var a=t.alternate;return a===null?(a=oi(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function kc(t,r,a,l,h,p){var T=0;if(l=t,typeof t=="function")Kh(t)&&(T=1);else if(typeof t=="string")T=sS(t,a,Pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=oi(31,a,r,h),t.elementType=P,t.lanes=p,t;case me:return Mo(a.children,h,p,r);case Ee:T=8,h|=24;break;case ke:return t=oi(12,a,r,h|2),t.elementType=ke,t.lanes=p,t;case Nt:return t=oi(13,a,r,h),t.elementType=Nt,t.lanes=p,t;case $e:return t=oi(19,a,r,h),t.elementType=$e,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:T=10;break e;case Be:T=9;break e;case ct:T=11;break e;case V:T=14;break e;case M:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=oi(T,a,r,h),r.elementType=t,r.type=l,r.lanes=p,r}function Mo(t,r,a,l){return t=oi(7,t,l,r),t.lanes=a,t}function Gh(t,r,a){return t=oi(6,t,null,r),t.lanes=a,t}function pg(t){var r=oi(18,null,null,0);return r.stateNode=t,r}function Yh(t,r,a){return r=oi(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var gg=new WeakMap;function Ri(t,r){if(typeof t=="object"&&t!==null){var a=gg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:To(r)},gg.set(t,r),r)}return{value:t,source:r,stack:To(r)}}var dl=[],ml=0,Vc=null,du=0,Ii=[],xi=0,Na=null,ds=1,ms="";function Hs(t,r){dl[ml++]=du,dl[ml++]=Vc,Vc=t,du=r}function yg(t,r,a){Ii[xi++]=ds,Ii[xi++]=ms,Ii[xi++]=Na,Na=t;var l=ds;t=ms;var h=32-Ne(l)-1;l&=~(1<<h),a+=1;var p=32-Ne(r)+h;if(30<p){var T=h-h%5;p=(l&(1<<T)-1).toString(32),l>>=T,h-=T,ds=1<<32-Ne(r)+h|a<<h|l,ms=p+t}else ds=1<<p|a<<h|l,ms=t}function Qh(t){t.return!==null&&(Hs(t,1),yg(t,1,0))}function Xh(t){for(;t===Vc;)Vc=dl[--ml],dl[ml]=null,du=dl[--ml],dl[ml]=null;for(;t===Na;)Na=Ii[--xi],Ii[xi]=null,ms=Ii[--xi],Ii[xi]=null,ds=Ii[--xi],Ii[xi]=null}function vg(t,r){Ii[xi++]=ds,Ii[xi++]=ms,Ii[xi++]=Na,ds=r.id,ms=r.overflow,Na=t}var Wn=null,Xt=null,Ct=!1,Ma=null,Oi=!1,$h=Error(s(519));function ka(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(Ri(r,t)),$h}function _g(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Pt]=t,r[Yt]=l,a){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(a=0;a<Pu.length;a++)yt(Pu[a],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":yt("invalid",r),va(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":yt("invalid",r);break;case"textarea":yt("invalid",r),ni(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Pv(r.textContent,a)?(l.popover!=null&&(yt("beforetoggle",r),yt("toggle",r)),l.onScroll!=null&&yt("scroll",r),l.onScrollEnd!=null&&yt("scrollend",r),l.onClick!=null&&(r.onclick=ur),r=!0):r=!1,r||ka(t,!0)}function bg(t){for(Wn=t.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Wn=Wn.return}}function pl(t){if(t!==Wn)return!1;if(!Ct)return bg(t),Ct=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mm(t.type,t.memoizedProps)),a=!a),a&&Xt&&ka(t),bg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xt=Kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xt=Kv(t)}else r===27?(r=Xt,Qa(t.type)?(t=_m,_m=null,Xt=t):Xt=r):Xt=Wn?Ni(t.stateNode.nextSibling):null;return!0}function ko(){Xt=Wn=null,Ct=!1}function Jh(){var t=Ma;return t!==null&&(qr===null?qr=t:qr.push.apply(qr,t),Ma=null),t}function mu(t){Ma===null?Ma=[t]:Ma.push(t)}var Wh=F(null),Vo=null,Fs=null;function Va(t,r,a){Ie(Wh,r._currentValue),r._currentValue=a}function Ks(t){t._currentValue=Wh.current,pe(Wh)}function Zh(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ed(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var L=0;L<r.length;L++)if(C.context===r[L]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Zh(p.return,a,t),l||(T=null);break e}p=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Zh(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function gl(t,r,a,l){t=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=h.type;cr(h.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(h===dt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bu):t=[Bu])}h=h.return}t!==null&&ed(r,t,a,l),r.flags|=262144}function Pc(t){for(t=t.firstContext;t!==null;){if(!cr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Po(t){Vo=t,Fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zn(t){return Eg(Vo,t)}function Lc(t,r){return Vo===null&&Po(t),Eg(t,r)}function Eg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fs===null){if(t===null)throw Error(s(308));Fs=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Fs=Fs.next=r;return a}var tw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},nw=i.unstable_scheduleCallback,rw=i.unstable_NormalPriority,On={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new tw,data:new Map,refCount:0}}function pu(t){t.refCount--,t.refCount===0&&nw(rw,function(){t.controller.abort()})}var gu=null,nd=0,yl=0,vl=null;function iw(t,r){if(gu===null){var a=gu=[];nd=0,yl=sm(),vl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nd++,r.then(Tg,Tg),r}function Tg(){if(--nd===0&&gu!==null){vl!==null&&(vl.status="fulfilled");var t=gu;gu=null,yl=0,vl=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function sw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=le.S;le.S=function(t,r){av=qn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&iw(t,r),wg!==null&&wg(t,r)};var Lo=F(null);function rd(){var t=Lo.current;return t!==null?t:Gt.pooledCache}function Uc(t,r){r===null?Ie(Lo,Lo.current):Ie(Lo,r.pool)}function Sg(){var t=rd();return t===null?null:{parent:On._currentValue,pool:t}}var _l=Error(s(460)),id=Error(s(474)),jc=Error(s(542)),zc={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ur,ur),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t;default:if(typeof r.status=="string")r.then(ur,ur);else{if(t=Gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t}throw jo=r,_l}}function Uo(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jo=a,_l):a}}var jo=null;function Rg(){if(jo===null)throw Error(s(459));var t=jo;return jo=null,t}function Ig(t){if(t===_l||t===jc)throw Error(s(483))}var bl=null,yu=0;function Bc(t){var r=yu;return yu+=1,bl===null&&(bl=[]),Cg(bl,t,r)}function vu(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function qc(t,r){throw r.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xg(t){function r(ee,H){if(t){var ie=ee.deletions;ie===null?(ee.deletions=[H],ee.flags|=16):ie.push(H)}}function a(ee,H){if(!t)return null;for(;H!==null;)r(ee,H),H=H.sibling;return null}function l(ee){for(var H=new Map;ee!==null;)ee.key!==null?H.set(ee.key,ee):H.set(ee.index,ee),ee=ee.sibling;return H}function h(ee,H){return ee=qs(ee,H),ee.index=0,ee.sibling=null,ee}function p(ee,H,ie){return ee.index=ie,t?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<H?(ee.flags|=67108866,H):ie):(ee.flags|=67108866,H)):(ee.flags|=1048576,H)}function T(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function C(ee,H,ie,de){return H===null||H.tag!==6?(H=Gh(ie,ee.mode,de),H.return=ee,H):(H=h(H,ie),H.return=ee,H)}function L(ee,H,ie,de){var Ke=ie.type;return Ke===me?he(ee,H,ie.props.children,de,ie.key):H!==null&&(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Uo(Ke)===H.type)?(H=h(H,ie.props),vu(H,ie),H.return=ee,H):(H=kc(ie.type,ie.key,ie.props,null,ee.mode,de),vu(H,ie),H.return=ee,H)}function se(ee,H,ie,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==ie.containerInfo||H.stateNode.implementation!==ie.implementation?(H=Yh(ie,ee.mode,de),H.return=ee,H):(H=h(H,ie.children||[]),H.return=ee,H)}function he(ee,H,ie,de,Ke){return H===null||H.tag!==7?(H=Mo(ie,ee.mode,de,Ke),H.return=ee,H):(H=h(H,ie),H.return=ee,H)}function ye(ee,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Gh(""+H,ee.mode,ie),H.return=ee,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return ie=kc(H.type,H.key,H.props,null,ee.mode,ie),vu(ie,H),ie.return=ee,ie;case ne:return H=Yh(H,ee.mode,ie),H.return=ee,H;case M:return H=Uo(H),ye(ee,H,ie)}if(Kt(H)||Z(H))return H=Mo(H,ee.mode,ie,null),H.return=ee,H;if(typeof H.then=="function")return ye(ee,Bc(H),ie);if(H.$$typeof===Le)return ye(ee,Lc(ee,H),ie);qc(ee,H)}return null}function oe(ee,H,ie,de){var Ke=H!==null?H.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ke!==null?null:C(ee,H,""+ie,de);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:return ie.key===Ke?L(ee,H,ie,de):null;case ne:return ie.key===Ke?se(ee,H,ie,de):null;case M:return ie=Uo(ie),oe(ee,H,ie,de)}if(Kt(ie)||Z(ie))return Ke!==null?null:he(ee,H,ie,de,null);if(typeof ie.then=="function")return oe(ee,H,Bc(ie),de);if(ie.$$typeof===Le)return oe(ee,H,Lc(ee,ie),de);qc(ee,ie)}return null}function ce(ee,H,ie,de,Ke){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ee=ee.get(ie)||null,C(H,ee,""+de,Ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case $:return ee=ee.get(de.key===null?ie:de.key)||null,L(H,ee,de,Ke);case ne:return ee=ee.get(de.key===null?ie:de.key)||null,se(H,ee,de,Ke);case M:return de=Uo(de),ce(ee,H,ie,de,Ke)}if(Kt(de)||Z(de))return ee=ee.get(ie)||null,he(H,ee,de,Ke,null);if(typeof de.then=="function")return ce(ee,H,ie,Bc(de),Ke);if(de.$$typeof===Le)return ce(ee,H,ie,Lc(H,de),Ke);qc(H,de)}return null}function ze(ee,H,ie,de){for(var Ke=null,Ot=null,qe=H,ut=H=0,bt=null;qe!==null&&ut<ie.length;ut++){qe.index>ut?(bt=qe,qe=null):bt=qe.sibling;var Dt=oe(ee,qe,ie[ut],de);if(Dt===null){qe===null&&(qe=bt);break}t&&qe&&Dt.alternate===null&&r(ee,qe),H=p(Dt,H,ut),Ot===null?Ke=Dt:Ot.sibling=Dt,Ot=Dt,qe=bt}if(ut===ie.length)return a(ee,qe),Ct&&Hs(ee,ut),Ke;if(qe===null){for(;ut<ie.length;ut++)qe=ye(ee,ie[ut],de),qe!==null&&(H=p(qe,H,ut),Ot===null?Ke=qe:Ot.sibling=qe,Ot=qe);return Ct&&Hs(ee,ut),Ke}for(qe=l(qe);ut<ie.length;ut++)bt=ce(qe,ee,ut,ie[ut],de),bt!==null&&(t&&bt.alternate!==null&&qe.delete(bt.key===null?ut:bt.key),H=p(bt,H,ut),Ot===null?Ke=bt:Ot.sibling=bt,Ot=bt);return t&&qe.forEach(function(Za){return r(ee,Za)}),Ct&&Hs(ee,ut),Ke}function Qe(ee,H,ie,de){if(ie==null)throw Error(s(151));for(var Ke=null,Ot=null,qe=H,ut=H=0,bt=null,Dt=ie.next();qe!==null&&!Dt.done;ut++,Dt=ie.next()){qe.index>ut?(bt=qe,qe=null):bt=qe.sibling;var Za=oe(ee,qe,Dt.value,de);if(Za===null){qe===null&&(qe=bt);break}t&&qe&&Za.alternate===null&&r(ee,qe),H=p(Za,H,ut),Ot===null?Ke=Za:Ot.sibling=Za,Ot=Za,qe=bt}if(Dt.done)return a(ee,qe),Ct&&Hs(ee,ut),Ke;if(qe===null){for(;!Dt.done;ut++,Dt=ie.next())Dt=ye(ee,Dt.value,de),Dt!==null&&(H=p(Dt,H,ut),Ot===null?Ke=Dt:Ot.sibling=Dt,Ot=Dt);return Ct&&Hs(ee,ut),Ke}for(qe=l(qe);!Dt.done;ut++,Dt=ie.next())Dt=ce(qe,ee,ut,Dt.value,de),Dt!==null&&(t&&Dt.alternate!==null&&qe.delete(Dt.key===null?ut:Dt.key),H=p(Dt,H,ut),Ot===null?Ke=Dt:Ot.sibling=Dt,Ot=Dt);return t&&qe.forEach(function(gS){return r(ee,gS)}),Ct&&Hs(ee,ut),Ke}function Ft(ee,H,ie,de){if(typeof ie=="object"&&ie!==null&&ie.type===me&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $:e:{for(var Ke=ie.key;H!==null;){if(H.key===Ke){if(Ke=ie.type,Ke===me){if(H.tag===7){a(ee,H.sibling),de=h(H,ie.props.children),de.return=ee,ee=de;break e}}else if(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Uo(Ke)===H.type){a(ee,H.sibling),de=h(H,ie.props),vu(de,ie),de.return=ee,ee=de;break e}a(ee,H);break}else r(ee,H);H=H.sibling}ie.type===me?(de=Mo(ie.props.children,ee.mode,de,ie.key),de.return=ee,ee=de):(de=kc(ie.type,ie.key,ie.props,null,ee.mode,de),vu(de,ie),de.return=ee,ee=de)}return T(ee);case ne:e:{for(Ke=ie.key;H!==null;){if(H.key===Ke)if(H.tag===4&&H.stateNode.containerInfo===ie.containerInfo&&H.stateNode.implementation===ie.implementation){a(ee,H.sibling),de=h(H,ie.children||[]),de.return=ee,ee=de;break e}else{a(ee,H);break}else r(ee,H);H=H.sibling}de=Yh(ie,ee.mode,de),de.return=ee,ee=de}return T(ee);case M:return ie=Uo(ie),Ft(ee,H,ie,de)}if(Kt(ie))return ze(ee,H,ie,de);if(Z(ie)){if(Ke=Z(ie),typeof Ke!="function")throw Error(s(150));return ie=Ke.call(ie),Qe(ee,H,ie,de)}if(typeof ie.then=="function")return Ft(ee,H,Bc(ie),de);if(ie.$$typeof===Le)return Ft(ee,H,Lc(ee,ie),de);qc(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,H!==null&&H.tag===6?(a(ee,H.sibling),de=h(H,ie),de.return=ee,ee=de):(a(ee,H),de=Gh(ie,ee.mode,de),de.return=ee,ee=de),T(ee)):a(ee,H)}return function(ee,H,ie,de){try{yu=0;var Ke=Ft(ee,H,ie,de);return bl=null,Ke}catch(qe){if(qe===_l||qe===jc)throw qe;var Ot=oi(29,qe,null,ee.mode);return Ot.lanes=de,Ot.return=ee,Ot}finally{}}}var zo=xg(!0),Og=xg(!1),Pa=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function La(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Mt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=xn(t),No(t,null,a),r}return We(t,l,r,a),xn(t)}function _u(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kt(t,a)}}function od(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var ld=!1;function bu(){if(ld){var t=vl;if(t!==null)throw t}}function Eu(t,r,a,l){ld=!1;var h=t.updateQueue;Pa=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var L=C,se=L.next;L.next=null,T===null?p=se:T.next=se,T=L;var he=t.alternate;he!==null&&(he=he.updateQueue,C=he.lastBaseUpdate,C!==T&&(C===null?he.firstBaseUpdate=se:C.next=se,he.lastBaseUpdate=L))}if(p!==null){var ye=h.baseState;T=0,he=se=L=null,C=p;do{var oe=C.lane&-536870913,ce=oe!==C.lane;if(ce?(_t&oe)===oe:(l&oe)===oe){oe!==0&&oe===yl&&(ld=!0),he!==null&&(he=he.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ze=t,Qe=C;oe=r;var Ft=a;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){ye=ze.call(Ft,ye,oe);break e}ye=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,oe=typeof ze=="function"?ze.call(Ft,ye,oe):ze,oe==null)break e;ye=x({},ye,oe);break e;case 2:Pa=!0}}oe=C.callback,oe!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=h.callbacks,ce===null?h.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:C.tag,payload:C.payload,callback:C.callback,next:null},he===null?(se=he=ce,L=ye):he=he.next=ce,T|=oe;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ce=C,C=ce.next,ce.next=null,h.lastBaseUpdate=ce,h.shared.pending=null}}while(!0);he===null&&(L=ye),h.baseState=L,h.firstBaseUpdate=se,h.lastBaseUpdate=he,p===null&&(h.shared.lanes=0),Ha|=T,t.lanes=T,t.memoizedState=ye}}function Dg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ng(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],r)}var El=F(null),Hc=F(0);function Mg(t,r){t=ea,Ie(Hc,t),Ie(El,r),ea=t|r.baseLanes}function ud(){Ie(Hc,ea),Ie(El,El.current)}function cd(){ea=Hc.current,pe(El),pe(Hc)}var li=F(null),Di=null;function ja(t){var r=t.alternate;Ie(Tn,Tn.current&1),Ie(li,t),Di===null&&(r===null||El.current!==null||r.memoizedState!==null)&&(Di=t)}function fd(t){Ie(Tn,Tn.current),Ie(li,t),Di===null&&(Di=t)}function kg(t){t.tag===22?(Ie(Tn,Tn.current),Ie(li,t),Di===null&&(Di=t)):za()}function za(){Ie(Tn,Tn.current),Ie(li,li.current)}function ui(t){pe(li),Di===t&&(Di=null),pe(Tn)}var Tn=F(0);function Fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ym(a)||vm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gs=0,lt=null,qt=null,Dn=null,Kc=!1,Tl=!1,Bo=!1,Gc=0,Tu=0,wl=null,aw=0;function mn(){throw Error(s(321))}function hd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!cr(t[a],r[a]))return!1;return!0}function dd(t,r,a,l,h,p){return Gs=p,lt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,le.H=t===null||t.memoizedState===null?yy:Id,Bo=!1,p=a(l,h),Bo=!1,Tl&&(p=Pg(r,a,l,h)),Vg(t),p}function Vg(t){le.H=Au;var r=qt!==null&&qt.next!==null;if(Gs=0,Dn=qt=lt=null,Kc=!1,Tu=0,wl=null,r)throw Error(s(300));t===null||Nn||(t=t.dependencies,t!==null&&Pc(t)&&(Nn=!0))}function Pg(t,r,a,l){lt=t;var h=0;do{if(Tl&&(wl=null),Tu=0,Tl=!1,25<=h)throw Error(s(301));if(h+=1,Dn=qt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}le.H=vy,p=r(a,l)}while(Tl);return p}function ow(){var t=le.H,r=t.useState()[0];return r=typeof r.then=="function"?wu(r):r,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(lt.flags|=1024),r}function md(){var t=Gc!==0;return Gc=0,t}function pd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function gd(t){if(Kc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Kc=!1}Gs=0,Dn=qt=lt=null,Tl=!1,Tu=Gc=0,wl=null}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?lt.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function wn(){if(qt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var r=Dn===null?lt.memoizedState:Dn.next;if(r!==null)Dn=r,qt=t;else{if(t===null)throw lt.alternate===null?Error(s(467)):Error(s(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Dn===null?lt.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(t){var r=Tu;return Tu+=1,wl===null&&(wl=[]),t=Cg(wl,t,r),r=lt,(Dn===null?r.memoizedState:Dn.next)===null&&(r=r.alternate,le.H=r===null||r.memoizedState===null?yy:Id),t}function Qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wu(t);if(t.$$typeof===Le)return Zn(t)}throw Error(s(438,String(t)))}function yd(t){var r=null,a=lt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yc(),lt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=Y;return r.index++,a}function Ys(t,r){return typeof r=="function"?r(t):r}function Xc(t){var r=wn();return vd(r,qt,t)}function vd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,p=l.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}r.baseQueue=h=p,l.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{r=h.next;var C=T=null,L=null,se=r,he=!1;do{var ye=se.lane&-536870913;if(ye!==se.lane?(_t&ye)===ye:(Gs&ye)===ye){var oe=se.revertLane;if(oe===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ye===yl&&(he=!0);else if((Gs&oe)===oe){se=se.next,oe===yl&&(he=!0);continue}else ye={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},L===null?(C=L=ye,T=p):L=L.next=ye,lt.lanes|=oe,Ha|=oe;ye=se.action,Bo&&a(p,ye),p=se.hasEagerState?se.eagerState:a(p,ye)}else oe={lane:ye,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},L===null?(C=L=oe,T=p):L=L.next=oe,lt.lanes|=ye,Ha|=ye;se=se.next}while(se!==null&&se!==r);if(L===null?T=p:L.next=C,!cr(p,t.memoizedState)&&(Nn=!0,he&&(a=vl,a!==null)))throw a;t.memoizedState=p,t.baseState=T,t.baseQueue=L,l.lastRenderedState=p}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _d(t){var r=wn(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do p=t(p,T.action),T=T.next;while(T!==h);cr(p,r.memoizedState)||(Nn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Lg(t,r,a){var l=lt,h=wn(),p=Ct;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!cr((qt||h).memoizedState,a);if(T&&(h.memoizedState=a,Nn=!0),h=h.queue,Td(zg.bind(null,l,h,t),[t]),h.getSnapshot!==r||T||Dn!==null&&Dn.memoizedState.tag&1){if(l.flags|=2048,Sl(9,{destroy:void 0},jg.bind(null,l,h,a,r),null),Gt===null)throw Error(s(349));p||(Gs&127)!==0||Ug(l,r,a)}return a}function Ug(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=lt.updateQueue,r===null?(r=Yc(),lt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jg(t,r,a,l){r.value=a,r.getSnapshot=l,Bg(r)&&qg(t)}function zg(t,r,a){return a(function(){Bg(r)&&qg(t)})}function Bg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!cr(t,a)}catch{return!0}}function qg(t){var r=Zt(t,2);r!==null&&Hr(r,t,2)}function bd(t){var r=Tr();if(typeof t=="function"){var a=t;if(t=a(),Bo){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},r}function Hg(t,r,a,l){return t.baseState=a,vd(t,qt,typeof l=="function"?l:Ys)}function lw(t,r,a,l,h){if(Wc(t))throw Error(s(485));if(t=r.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};le.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Fg(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Fg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var p=le.T,T={};le.T=T;try{var C=a(h,l),L=le.S;L!==null&&L(T,C),Kg(t,r,C)}catch(se){Ed(t,r,se)}finally{p!==null&&T.types!==null&&(p.types=T.types),le.T=p}}else try{p=a(h,l),Kg(t,r,p)}catch(se){Ed(t,r,se)}}function Kg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(t,r,l)},function(l){return Ed(t,r,l)}):Gg(t,r,a)}function Gg(t,r,a){r.status="fulfilled",r.value=a,Yg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Fg(t,a)))}function Ed(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yg(r),r=r.next;while(r!==l)}t.action=null}function Yg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qg(t,r){return r}function Xg(t,r){if(Ct){var a=Gt.formState;if(a!==null){e:{var l=lt;if(Ct){if(Xt){t:{for(var h=Xt,p=Oi;h.nodeType!==8;){if(!p){h=null;break t}if(h=Ni(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Xt=Ni(h.nextSibling),l=h.data==="F!";break e}}ka(l)}l=!1}l&&(r=a[0])}}return a=Tr(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:r},a.queue=l,a=my.bind(null,lt,l),l.dispatch=a,l=bd(!1),p=Rd.bind(null,lt,!1,l.queue),l=Tr(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=lw.bind(null,lt,h,p,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function $g(t){var r=wn();return Jg(r,qt,t)}function Jg(t,r,a){if(r=vd(t,r,Qg)[0],t=Xc(Ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wu(r)}catch(T){throw T===_l?jc:T}else l=r;r=wn();var h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(lt.flags|=2048,Sl(9,{destroy:void 0},uw.bind(null,h,a),null)),[l,p,t]}function uw(t,r){t.action=r}function Wg(t){var r=wn(),a=qt;if(a!==null)return Jg(r,a,t);wn(),r=r.memoizedState,a=wn();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Sl(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=lt.updateQueue,r===null&&(r=Yc(),lt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Zg(){return wn().memoizedState}function $c(t,r,a,l){var h=Tr();lt.flags|=t,h.memoizedState=Sl(1|r,{destroy:void 0},a,l===void 0?null:l)}function Jc(t,r,a,l){var h=wn();l=l===void 0?null:l;var p=h.memoizedState.inst;qt!==null&&l!==null&&hd(l,qt.memoizedState.deps)?h.memoizedState=Sl(r,p,a,l):(lt.flags|=t,h.memoizedState=Sl(1|r,p,a,l))}function ey(t,r){$c(8390656,8,t,r)}function Td(t,r){Jc(2048,8,t,r)}function cw(t){lt.flags|=4;var r=lt.updateQueue;if(r===null)r=Yc(),lt.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ty(t){var r=wn().memoizedState;return cw({ref:r,nextImpl:t}),function(){if((Mt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ny(t,r){return Jc(4,2,t,r)}function ry(t,r){return Jc(4,4,t,r)}function iy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function sy(t,r,a){a=a!=null?a.concat([t]):null,Jc(4,4,iy.bind(null,r,t),a)}function wd(){}function ay(t,r){var a=wn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function oy(t,r){var a=wn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hd(r,l[1]))return l[0];if(l=t(),Bo){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function Sd(t,r,a){return a===void 0||(Gs&1073741824)!==0&&(_t&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=lv(),lt.lanes|=t,Ha|=t,a)}function ly(t,r,a,l){return cr(a,r)?a:El.current!==null?(t=Sd(t,a,l),cr(t,r)||(Nn=!0),t):(Gs&42)===0||(Gs&1073741824)!==0&&(_t&261930)===0?(Nn=!0,t.memoizedState=a):(t=lv(),lt.lanes|=t,Ha|=t,r)}function uy(t,r,a,l,h){var p=_e.p;_e.p=p!==0&&8>p?p:8;var T=le.T,C={};le.T=C,Rd(t,!1,r,a);try{var L=h(),se=le.S;if(se!==null&&se(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var he=sw(L,l);Su(t,r,he,hi(t))}else Su(t,r,l,hi(t))}catch(ye){Su(t,r,{then:function(){},status:"rejected",reason:ye},hi())}finally{_e.p=p,T!==null&&C.types!==null&&(T.types=C.types),le.T=T}}function fw(){}function Ad(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=cy(t).queue;uy(t,h,r,je,a===null?fw:function(){return fy(t),a(l)})}function cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:je},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function fy(t){var r=cy(t);r.next===null&&(r=t.alternate.memoizedState),Su(t,r.next.queue,{},hi())}function Cd(){return Zn(Bu)}function hy(){return wn().memoizedState}function dy(){return wn().memoizedState}function hw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=hi();t=La(a);var l=Ua(r,t,a);l!==null&&(Hr(l,r,a),_u(l,r,a)),r={cache:td()},t.payload=r;return}r=r.return}}function dw(t,r,a){var l=hi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(t)?py(r,a):(a=In(t,r,a,l),a!==null&&(Hr(a,t,l),gy(a,r,l)))}function my(t,r,a){var l=hi();Su(t,r,a,l)}function Su(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(t))py(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,C=p(T,a);if(h.hasEagerState=!0,h.eagerState=C,cr(C,T))return We(t,r,h,0),Gt===null&&Gn(),!1}catch{}finally{}if(a=In(t,r,h,l),a!==null)return Hr(a,t,l),gy(a,r,l),!0}return!1}function Rd(t,r,a,l){if(l={lane:2,revertLane:sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(t)){if(r)throw Error(s(479))}else r=In(t,a,l,2),r!==null&&Hr(r,t,2)}function Wc(t){var r=t.alternate;return t===lt||r!==null&&r===lt}function py(t,r){Tl=Kc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function gy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kt(t,a)}}var Au={readContext:Zn,use:Qc,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};Au.useEffectEvent=mn;var yy={readContext:Zn,use:Qc,useCallback:function(t,r){return Tr().memoizedState=[t,r===void 0?null:r],t},useContext:Zn,useEffect:ey,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,$c(4194308,4,iy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return $c(4194308,4,t,r)},useInsertionEffect:function(t,r){$c(4,2,t,r)},useMemo:function(t,r){var a=Tr();r=r===void 0?null:r;var l=t();if(Bo){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Tr();if(a!==void 0){var h=a(r);if(Bo){vn(!0);try{a(r)}finally{vn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dw.bind(null,lt,t),[l.memoizedState,t]},useRef:function(t){var r=Tr();return t={current:t},r.memoizedState=t},useState:function(t){t=bd(t);var r=t.queue,a=my.bind(null,lt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,r){var a=Tr();return Sd(a,t,r)},useTransition:function(){var t=bd(!1);return t=uy.bind(null,lt,t.queue,!0,!1),Tr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=lt,h=Tr();if(Ct){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Gt===null)throw Error(s(349));(_t&127)!==0||Ug(l,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,ey(zg.bind(null,l,p,t),[t]),l.flags|=2048,Sl(9,{destroy:void 0},jg.bind(null,l,p,a,r),null),a},useId:function(){var t=Tr(),r=Gt.identifierPrefix;if(Ct){var a=ms,l=ds;a=(l&~(1<<32-Ne(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=aw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Cd,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var r=Tr();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Rd.bind(null,lt,!0,a),a.dispatch=r,[t,r]},useMemoCache:yd,useCacheRefresh:function(){return Tr().memoizedState=hw.bind(null,lt)},useEffectEvent:function(t){var r=Tr(),a={impl:t};return r.memoizedState=a,function(){if((Mt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Id={readContext:Zn,use:Qc,useCallback:ay,useContext:Zn,useEffect:Td,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:Xc,useRef:Zg,useState:function(){return Xc(Ys)},useDebugValue:wd,useDeferredValue:function(t,r){var a=wn();return ly(a,qt.memoizedState,t,r)},useTransition:function(){var t=Xc(Ys)[0],r=wn().memoizedState;return[typeof t=="boolean"?t:wu(t),r]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Cd,useFormState:$g,useActionState:$g,useOptimistic:function(t,r){var a=wn();return Hg(a,qt,t,r)},useMemoCache:yd,useCacheRefresh:dy};Id.useEffectEvent=ty;var vy={readContext:Zn,use:Qc,useCallback:ay,useContext:Zn,useEffect:Td,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:_d,useRef:Zg,useState:function(){return _d(Ys)},useDebugValue:wd,useDeferredValue:function(t,r){var a=wn();return qt===null?Sd(a,t,r):ly(a,qt.memoizedState,t,r)},useTransition:function(){var t=_d(Ys)[0],r=wn().memoizedState;return[typeof t=="boolean"?t:wu(t),r]},useSyncExternalStore:Lg,useId:hy,useHostTransitionStatus:Cd,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,r){var a=wn();return qt!==null?Hg(a,qt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yd,useCacheRefresh:dy};vy.useEffectEvent=ty;function xd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=hi(),h=La(l);h.payload=r,a!=null&&(h.callback=a),r=Ua(t,h,l),r!==null&&(Hr(r,t,l),_u(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=hi(),h=La(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ua(t,h,l),r!==null&&(Hr(r,t,l),_u(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=hi(),l=La(a);l.tag=2,r!=null&&(l.callback=r),r=Ua(t,l,a),r!==null&&(Hr(r,t,a),_u(r,t,a))}};function _y(t,r,a,l,h,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!f(a,l)||!f(h,p):!0}function by(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Od.enqueueReplaceState(r,r.state,null)}function qo(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ey(t){Ve(t)}function Ty(t){console.error(t)}function wy(t){Ve(t)}function Zc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Dd(t,r,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(t,r)},a}function Ay(t){return t=La(t),t.tag=3,t}function Cy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;t.payload=function(){return h(p)},t.callback=function(){Sy(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Sy(r,a,l),typeof h!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function mw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&gl(r,a,h,!0),a=li.current,a!==null){switch(a.tag){case 31:case 13:return Di===null?hf():a.alternate===null&&pn===0&&(pn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),nm(t,l,h)),!1;case 22:return a.flags|=65536,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),nm(t,l,h)),!1}throw Error(s(435,a.tag))}return nm(t,l,h),hf(),!1}if(Ct)return r=li.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==$h&&(t=Error(s(422),{cause:l}),mu(Ri(t,a)))):(l!==$h&&(r=Error(s(423),{cause:l}),mu(Ri(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ri(l,a),h=Dd(t.stateNode,l,h),od(t,h),pn!==4&&(pn=2)),!1;var p=Error(s(520),{cause:l});if(p=Ri(p,a),Mu===null?Mu=[p]:Mu.push(p),pn!==4&&(pn=2),r===null)return!0;l=Ri(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Dd(a.stateNode,l,t),od(a,t),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Fa===null||!Fa.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),Cy(h,t,a,l),od(a,h),!1}a=a.return}while(a!==null);return!1}var Nd=Error(s(461)),Nn=!1;function er(t,r,a,l){r.child=t===null?Og(r,null,a,l):zo(r,t.child,a,l)}function Ry(t,r,a,l,h){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Po(r),l=dd(t,r,a,T,p,h),C=md(),t!==null&&!Nn?(pd(t,r,h),Qs(t,r,h)):(Ct&&C&&Qh(r),r.flags|=1,er(t,r,l,h),r.child)}function Iy(t,r,a,l,h){if(t===null){var p=a.type;return typeof p=="function"&&!Kh(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,xy(t,r,p,l,h)):(t=kc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!zd(t,h)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(T,l)&&t.ref===r.ref)return Qs(t,r,h)}return r.flags|=1,t=qs(p,l),t.ref=r.ref,t.return=r,r.child=t}function xy(t,r,a,l,h){if(t!==null){var p=t.memoizedProps;if(f(p,l)&&t.ref===r.ref)if(Nn=!1,r.pendingProps=l=p,zd(t,h))(t.flags&131072)!==0&&(Nn=!0);else return r.lanes=t.lanes,Qs(t,r,h)}return Md(t,r,a,l,h)}function Oy(t,r,a,l){var h=l.children,p=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,r.child=null;return Dy(t,r,p,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(r,p!==null?p.cachePool:null),p!==null?Mg(r,p):ud(),kg(r);else return l=r.lanes=536870912,Dy(t,r,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Uc(r,p.cachePool),Mg(r,p),za(),r.memoizedState=null):(t!==null&&Uc(r,null),ud(),za());return er(t,r,h,a),r.child}function Cu(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Dy(t,r,a,l,h){var p=rd();return p=p===null?null:{parent:On._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},t!==null&&Uc(r,null),ud(),kg(r),t!==null&&gl(t,r,l,!0),r.childLanes=h,null}function ef(t,r){return r=nf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ny(t,r,a){return zo(r,t.child,null,a),t=ef(r,r.pendingProps),t.flags|=2,ui(r),r.memoizedState=null,t}function pw(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ct){if(l.mode==="hidden")return t=ef(r,l),r.lanes=536870912,Cu(null,t);if(fd(r),(t=Xt)?(t=Fv(t,Oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Na!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=r,r.child=a,Wn=r,Xt=null)):t=null,t===null)throw ka(r);return r.lanes=536870912,null}return ef(r,l)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(fd(r),h)if(r.flags&256)r.flags&=-257,r=Ny(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nn||gl(t,r,a,!1),h=(a&t.childLanes)!==0,Nn||h){if(l=Gt,l!==null&&(T=Wt(l,a),T!==0&&T!==p.retryLane))throw p.retryLane=T,Zt(t,T),Hr(l,t,T),Nd;hf(),r=Ny(t,r,a)}else t=p.treeContext,Xt=Ni(T.nextSibling),Wn=r,Ct=!0,Ma=null,Oi=!1,t!==null&&vg(r,t),r=ef(r,l),r.flags|=4096;return r}return t=qs(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function tf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Md(t,r,a,l,h){return Po(r),a=dd(t,r,a,l,void 0,h),l=md(),t!==null&&!Nn?(pd(t,r,h),Qs(t,r,h)):(Ct&&l&&Qh(r),r.flags|=1,er(t,r,a,h),r.child)}function My(t,r,a,l,h,p){return Po(r),r.updateQueue=null,a=Pg(r,l,a,h),Vg(t),l=md(),t!==null&&!Nn?(pd(t,r,p),Qs(t,r,p)):(Ct&&l&&Qh(r),r.flags|=1,er(t,r,a,p),r.child)}function ky(t,r,a,l,h){if(Po(r),r.stateNode===null){var p=Ur,T=a.contextType;typeof T=="object"&&T!==null&&(p=Zn(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Od,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},sd(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Zn(T):Ur,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(xd(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Od.enqueueReplaceState(p,p.state,null),Eu(r,l,p,h),bu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){p=r.stateNode;var C=r.memoizedProps,L=qo(a,C);p.props=L;var se=p.context,he=a.contextType;T=Ur,typeof he=="object"&&he!==null&&(T=Zn(he));var ye=a.getDerivedStateFromProps;he=typeof ye=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,he||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||se!==T)&&by(r,p,l,T),Pa=!1;var oe=r.memoizedState;p.state=oe,Eu(r,l,p,h),bu(),se=r.memoizedState,C||oe!==se||Pa?(typeof ye=="function"&&(xd(r,a,ye,l),se=r.memoizedState),(L=Pa||_y(r,a,L,l,oe,se,T))?(he||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=se),p.props=l,p.state=se,p.context=T,l=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,ad(t,r),T=r.memoizedProps,he=qo(a,T),p.props=he,ye=r.pendingProps,oe=p.context,se=a.contextType,L=Ur,typeof se=="object"&&se!==null&&(L=Zn(se)),C=a.getDerivedStateFromProps,(se=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ye||oe!==L)&&by(r,p,l,L),Pa=!1,oe=r.memoizedState,p.state=oe,Eu(r,l,p,h),bu();var ce=r.memoizedState;T!==ye||oe!==ce||Pa||t!==null&&t.dependencies!==null&&Pc(t.dependencies)?(typeof C=="function"&&(xd(r,a,C,l),ce=r.memoizedState),(he=Pa||_y(r,a,he,l,oe,ce,L)||t!==null&&t.dependencies!==null&&Pc(t.dependencies))?(se||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,ce,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,ce,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ce),p.props=l,p.state=ce,p.context=L,l=he):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),l=!1)}return p=l,tf(t,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&l?(r.child=zo(r,t.child,null,h),r.child=zo(r,null,a,h)):er(t,r,a,h),r.memoizedState=p.state,t=r.child):t=Qs(t,r,h),t}function Vy(t,r,a,l){return ko(),r.flags|=256,er(t,r,a,l),r.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(t){return{baseLanes:t,cachePool:Sg()}}function Pd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=fi),t}function Py(t,r,a){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(Tn.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ct){if(h?ja(r):za(),(t=Xt)?(t=Fv(t,Oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Na!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},a=pg(t),a.return=r,r.child=a,Wn=r,Xt=null)):t=null,t===null)throw ka(r);return vm(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(za(),h=r.mode,C=nf({mode:"hidden",children:C},h),l=Mo(l,h,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=Vd(a),l.childLanes=Pd(t,T,a),r.memoizedState=kd,Cu(null,l)):(ja(r),Ld(r,C))}var L=t.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(p)r.flags&256?(ja(r),r.flags&=-257,r=Ud(t,r,a)):r.memoizedState!==null?(za(),r.child=t.child,r.flags|=128,r=null):(za(),C=l.fallback,h=r.mode,l=nf({mode:"visible",children:l.children},h),C=Mo(C,h,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,zo(r,t.child,null,a),l=r.child,l.memoizedState=Vd(a),l.childLanes=Pd(t,T,a),r.memoizedState=kd,r=Cu(null,l));else if(ja(r),vm(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var se=T.dgst;T=se,l=Error(s(419)),l.stack="",l.digest=T,mu({value:l,source:null,stack:null}),r=Ud(t,r,a)}else if(Nn||gl(t,r,a,!1),T=(a&t.childLanes)!==0,Nn||T){if(T=Gt,T!==null&&(l=Wt(T,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,Zt(t,l),Hr(T,t,l),Nd;ym(C)||hf(),r=Ud(t,r,a)}else ym(C)?(r.flags|=192,r.child=t.child,r=null):(t=L.treeContext,Xt=Ni(C.nextSibling),Wn=r,Ct=!0,Ma=null,Oi=!1,t!==null&&vg(r,t),r=Ld(r,l.children),r.flags|=4096);return r}return h?(za(),C=l.fallback,h=r.mode,L=t.child,se=L.sibling,l=qs(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,se!==null?C=qs(se,C):(C=Mo(C,h,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,Cu(null,l),l=r.child,C=t.child.memoizedState,C===null?C=Vd(a):(h=C.cachePool,h!==null?(L=On._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=Sg(),C={baseLanes:C.baseLanes|a,cachePool:h}),l.memoizedState=C,l.childLanes=Pd(t,T,a),r.memoizedState=kd,Cu(t.child,l)):(ja(r),a=t.child,t=a.sibling,a=qs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=a,r.memoizedState=null,a)}function Ld(t,r){return r=nf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function nf(t,r){return t=oi(22,t,null,r),t.lanes=0,t}function Ud(t,r,a){return zo(r,t.child,null,a),t=Ld(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ly(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Zh(t.return,r,a)}function jd(t,r,a,l,h,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=h,T.treeForkCount=p)}function Uy(t,r,a){var l=r.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var T=Tn.current,C=(T&2)!==0;if(C?(T=T&1|2,r.flags|=128):T&=1,Ie(Tn,T),er(t,r,l,a),l=Ct?du:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,a,r);else if(t.tag===19)Ly(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),jd(r,!1,h,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Fc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jd(r,!0,a,null,p,l);break;case"together":jd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Qs(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ha|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(gl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=qs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=qs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function zd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Pc(t)))}function gw(t,r,a){switch(r.tag){case 3:gn(r,r.stateNode.containerInfo),Va(r,On,t.memoizedState.cache),ko();break;case 27:case 5:ns(r);break;case 4:gn(r,r.stateNode.containerInfo);break;case 10:Va(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,fd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Py(t,r,a):(ja(r),t=Qs(t,r,a),t!==null?t.sibling:null);ja(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(gl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Uy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ie(Tn,Tn.current),l)break;return null;case 22:return r.lanes=0,Oy(t,r,a,r.pendingProps);case 24:Va(r,On,t.memoizedState.cache)}return Qs(t,r,a)}function jy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nn=!0;else{if(!zd(t,a)&&(r.flags&128)===0)return Nn=!1,gw(t,r,a);Nn=(t.flags&131072)!==0}else Nn=!1,Ct&&(r.flags&1048576)!==0&&yg(r,du,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Uo(r.elementType),r.type=t,typeof t=="function")Kh(t)?(l=qo(t,l),r.tag=1,r=ky(null,r,t,l,a)):(r.tag=0,r=Md(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ct){r.tag=11,r=Ry(null,r,t,l,a);break e}else if(h===V){r.tag=14,r=Iy(null,r,t,l,a);break e}}throw r=Bt(t)||t,Error(s(306,r,""))}}return r;case 0:return Md(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=qo(l,r.pendingProps),ky(t,r,l,h,a);case 3:e:{if(gn(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,ad(t,r),Eu(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Va(r,On,l),l!==p.cache&&ed(r,[On],a,!0),bu(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Vy(t,r,l,a);break e}else if(l!==h){h=Ri(Error(s(424)),r),mu(h),r=Vy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=Ni(t.firstChild),Wn=r,Ct=!0,Ma=null,Oi=!0,a=Og(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),l===h){r=Qs(t,r,a);break e}er(t,r,l,a)}r=r.child}return r;case 26:return tf(t,r),t===null?(a=$v(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ct||(a=r.type,t=r.pendingProps,l=_f(Je.current).createElement(a),l[Pt]=r,l[Yt]=t,tr(l,a,t),sn(l),r.stateNode=l):r.memoizedState=$v(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ns(r),t===null&&Ct&&(l=r.stateNode=Yv(r.type,r.pendingProps,Je.current),Wn=r,Oi=!0,h=Xt,Qa(r.type)?(_m=h,Xt=Ni(l.firstChild)):Xt=h),er(t,r,r.pendingProps.children,a),tf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ct&&((h=l=Xt)&&(l=Gw(l,r.type,r.pendingProps,Oi),l!==null?(r.stateNode=l,Wn=r,Xt=Ni(l.firstChild),Oi=!1,h=!0):h=!1),h||ka(r)),ns(r),h=r.type,p=r.pendingProps,T=t!==null?t.memoizedProps:null,l=p.children,mm(h,p)?l=null:T!==null&&mm(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=dd(t,r,ow,null,null,a),Bu._currentValue=h),tf(t,r),er(t,r,l,a),r.child;case 6:return t===null&&Ct&&((t=a=Xt)&&(a=Yw(a,r.pendingProps,Oi),a!==null?(r.stateNode=a,Wn=r,Xt=null,t=!0):t=!1),t||ka(r)),null;case 13:return Py(t,r,a);case 4:return gn(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=zo(r,null,l,a):er(t,r,l,a),r.child;case 11:return Ry(t,r,r.type,r.pendingProps,a);case 7:return er(t,r,r.pendingProps,a),r.child;case 8:return er(t,r,r.pendingProps.children,a),r.child;case 12:return er(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Va(r,r.type,l.value),er(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Po(r),h=Zn(h),l=l(h),r.flags|=1,er(t,r,l,a),r.child;case 14:return Iy(t,r,r.type,r.pendingProps,a);case 15:return xy(t,r,r.type,r.pendingProps,a);case 19:return Uy(t,r,a);case 31:return pw(t,r,a);case 22:return Oy(t,r,a,r.pendingProps);case 24:return Po(r),l=Zn(On),t===null?(h=rd(),h===null&&(h=Gt,p=td(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),r.memoizedState={parent:l,cache:h},sd(r),Va(r,On,h)):((t.lanes&a)!==0&&(ad(t,r),Eu(r,null,null,a),bu()),h=t.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Va(r,On,l)):(l=p.cache,Va(r,On,l),l!==h.cache&&ed(r,[On],a,!0))),er(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(t){t.flags|=4}function Bd(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(hv())t.flags|=8192;else throw jo=zc,id}else t.flags&=-16777217}function zy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(r))if(hv())t.flags|=8192;else throw jo=zc,id}function rf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ol():536870912,t.lanes|=r,Il|=r)}function Ru(t,r){if(!Ct)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function yw(t,r,a){var l=r.pendingProps;switch(Xh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(r),null;case 1:return $t(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ks(On),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(r)?Xs(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jh())),$t(r),null;case 26:var h=r.type,p=r.memoizedState;return t===null?(Xs(r),p!==null?($t(r),zy(r,p)):($t(r),Bd(r,h,null,l,a))):p?p!==t.memoizedState?(Xs(r),$t(r),zy(r,p)):($t(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xs(r),$t(r),Bd(r,h,t,l,a)),null;case 27:if(zi(r),a=Je.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $t(r),null}t=Pe.current,pl(r)?_g(r):(t=Yv(h,l,a),r.stateNode=t,Xs(r))}return $t(r),null;case 5:if(zi(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $t(r),null}if(p=Pe.current,pl(r))_g(r);else{var T=_f(Je.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}p[Pt]=r,p[Yt]=l;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(tr(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xs(r)}}return $t(r),Bd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Je.current,pl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Wn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pv(t.nodeValue,a)),t||ka(r,!0)}else t=_f(t).createTextNode(l),t[Pt]=r,r.stateNode=t}return $t(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=pl(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=r}else ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$t(r),t=!1}else a=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(ui(r),r):(ui(r),null);if((r.flags&128)!==0)throw Error(s(558))}return $t(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=r}else ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$t(r),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ui(r),r):(ui(r),null)}return ui(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),rf(r,r.updateQueue),$t(r),null);case 4:return Me(),t===null&&um(r.stateNode.containerInfo),$t(r),null;case 10:return Ks(r.type),$t(r),null;case 19:if(pe(Tn),l=r.memoizedState,l===null)return $t(r),null;if(h=(r.flags&128)!==0,p=l.rendering,p===null)if(h)Ru(l,!1);else{if(pn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=Fc(t),p!==null){for(r.flags|=128,Ru(l,!1),t=p.updateQueue,r.updateQueue=t,rf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)mg(a,t),a=a.sibling;return Ie(Tn,Tn.current&1|2),Ct&&Hs(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&qn()>uf&&(r.flags|=128,h=!0,Ru(l,!1),r.lanes=4194304)}else{if(!h)if(t=Fc(p),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,rf(r,t),Ru(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ct)return $t(r),null}else 2*qn()-l.renderingStartTime>uf&&a!==536870912&&(r.flags|=128,h=!0,Ru(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(t=l.last,t!==null?t.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qn(),t.sibling=null,a=Tn.current,Ie(Tn,h?a&1|2:a&1),Ct&&Hs(r,l.treeForkCount),t):($t(r),null);case 22:case 23:return ui(r),cd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&($t(r),r.subtreeFlags&6&&(r.flags|=8192)):$t(r),a=r.updateQueue,a!==null&&rf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&pe(Lo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ks(On),$t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vw(t,r){switch(Xh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ks(On),Me(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zi(r),null;case 31:if(r.memoizedState!==null){if(ui(r),r.alternate===null)throw Error(s(340));ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ui(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return pe(Tn),null;case 4:return Me(),null;case 10:return Ks(r.type),null;case 22:case 23:return ui(r),cd(),t!==null&&pe(Lo),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ks(On),null;case 25:return null;default:return null}}function By(t,r){switch(Xh(r),r.tag){case 3:Ks(On),Me();break;case 26:case 27:case 5:zi(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&ui(r);break;case 13:ui(r);break;case 19:pe(Tn);break;case 10:Ks(r.type);break;case 22:case 23:ui(r),cd(),t!==null&&pe(Lo);break;case 24:Ks(On)}}function Iu(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==h)}}catch(C){zt(r,r.return,C)}}function Ba(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&t)===t){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=r;var L=a,se=C;try{se()}catch(he){zt(h,L,he)}}}l=l.next}while(l!==p)}}catch(he){zt(r,r.return,he)}}function qy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ng(r,a)}catch(l){zt(t,t.return,l)}}}function Hy(t,r,a){a.props=qo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){zt(t,r,l)}}function xu(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){zt(t,r,h)}}function ps(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){zt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){zt(t,r,h)}else a.current=null}function Fy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){zt(t,t.return,h)}}function qd(t,r,a){try{var l=t.stateNode;zw(l,t.type,a,r),l[Yt]=r}catch(h){zt(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ur));else if(l!==4&&(l===27&&Qa(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Fd(t,r,a),t=t.sibling;t!==null;)Fd(t,r,a),t=t.sibling}function sf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Qa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sf(t,r,a),t=t.sibling;t!==null;)sf(t,r,a),t=t.sibling}function Gy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);tr(r,l,a),r[Pt]=t,r[Yt]=a}catch(p){zt(t,t.return,p)}}var $s=!1,Mn=!1,Kd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function _w(t,r){if(t=t.containerInfo,hm=Cf,t=S(t),A(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,C=-1,L=-1,se=0,he=0,ye=t,oe=null;t:for(;;){for(var ce;ye!==a||h!==0&&ye.nodeType!==3||(C=T+h),ye!==p||l!==0&&ye.nodeType!==3||(L=T+l),ye.nodeType===3&&(T+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)oe=ye,ye=ce;for(;;){if(ye===t)break t;if(oe===a&&++se===h&&(C=T),oe===p&&++he===l&&(L=T),(ce=ye.nextSibling)!==null)break;ye=oe,oe=ye.parentNode}ye=ce}a=C===-1||L===-1?null:{start:C,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:t,selectionRange:a},Cf=!1,Yn=r;Yn!==null;)if(r=Yn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Yn=t;else for(;Yn!==null;){switch(r=Yn,p=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=r,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var ze=qo(a.type,h);t=l.getSnapshotBeforeUpdate(ze,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Qe){zt(a,a.return,Qe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Yn=t;break}Yn=r.return}}function Qy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ws(t,a),l&4&&Iu(5,a);break;case 1:if(Ws(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){zt(a,a.return,T)}else{var h=qo(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){zt(a,a.return,T)}}l&64&&qy(a),l&512&&xu(a,a.return);break;case 3:if(Ws(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ng(t,r)}catch(T){zt(a,a.return,T)}}break;case 27:r===null&&l&4&&Gy(a);case 26:case 5:Ws(t,a),r===null&&l&4&&Fy(a),l&512&&xu(a,a.return);break;case 12:Ws(t,a);break;case 31:Ws(t,a),l&4&&Jy(t,a);break;case 13:Ws(t,a),l&4&&Wy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Iw.bind(null,a),Qw(t,a))));break;case 22:if(l=a.memoizedState!==null||$s,!l){r=r!==null&&r.memoizedState!==null||Mn,h=$s;var p=Mn;$s=l,(Mn=r)&&!p?Zs(t,a,(a.subtreeFlags&8772)!==0):Ws(t,a),$s=h,Mn=p}break;case 30:break;default:Ws(t,a)}}function Xy(t){var r=t.alternate;r!==null&&(t.alternate=null,Xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ks(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var en=null,jr=!1;function Js(t,r,a){for(a=a.child;a!==null;)$y(t,r,a),a=a.sibling}function $y(t,r,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ar,a)}catch{}switch(a.tag){case 26:Mn||ps(a,r),Js(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mn||ps(a,r);var l=en,h=jr;Qa(a.type)&&(en=a.stateNode,jr=!1),Js(t,r,a),Uu(a.stateNode),en=l,jr=h;break;case 5:Mn||ps(a,r);case 6:if(l=en,h=jr,en=null,Js(t,r,a),en=l,jr=h,en!==null)if(jr)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(a.stateNode)}catch(p){zt(a,r,p)}else try{en.removeChild(a.stateNode)}catch(p){zt(a,r,p)}break;case 18:en!==null&&(jr?(t=en,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):qv(en,a.stateNode));break;case 4:l=en,h=jr,en=a.stateNode.containerInfo,jr=!0,Js(t,r,a),en=l,jr=h;break;case 0:case 11:case 14:case 15:Ba(2,a,r),Mn||Ba(4,a,r),Js(t,r,a);break;case 1:Mn||(ps(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,r,l)),Js(t,r,a);break;case 21:Js(t,r,a);break;case 22:Mn=(l=Mn)||a.memoizedState!==null,Js(t,r,a),Mn=l;break;default:Js(t,r,a)}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pl(t)}catch(a){zt(r,r.return,a)}}}function Wy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){zt(r,r.return,a)}}function bw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(s(435,t.tag))}}function af(t,r){var a=bw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=xw.bind(null,t,l);l.then(h,h)}})}function zr(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=t,T=r,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Qa(C.type)){en=C.stateNode,jr=!1;break e}break;case 5:en=C.stateNode,jr=!1;break e;case 3:case 4:en=C.stateNode.containerInfo,jr=!0;break e}C=C.return}if(en===null)throw Error(s(160));$y(p,T,h),en=null,jr=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Zy(r,t),r=r.sibling}var $i=null;function Zy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zr(r,t),Br(t),l&4&&(Ba(3,t,t.return),Iu(3,t),Ba(5,t,t.return));break;case 1:zr(r,t),Br(t),l&512&&(Mn||a===null||ps(a,a.return)),l&64&&$s&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$i;if(zr(r,t),Br(t),l&512&&(Mn||a===null||ps(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Hn]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),tr(p,l,a),p[Pt]=t,sn(p),l=p;break e;case"link":var T=Zv("link","href",h).get(l+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break t}}p=h.createElement(l),tr(p,l,a),h.head.appendChild(p);break;case"meta":if(T=Zv("meta","content",h).get(l+(a.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break t}}p=h.createElement(l),tr(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Pt]=t,sn(p),l=p}t.stateNode=l}else e_(h,t.type,t.stateNode);else t.stateNode=Wv(h,l,t.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?e_(h,t.type,t.stateNode):Wv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:zr(r,t),Br(t),l&512&&(Mn||a===null||ps(a,a.return)),a!==null&&l&4&&qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zr(r,t),Br(t),l&512&&(Mn||a===null||ps(a,a.return)),t.flags&32){h=t.stateNode;try{Jn(h,"")}catch(ze){zt(t,t.return,ze)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kd=!0);break;case 6:if(zr(r,t),Br(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ze){zt(t,t.return,ze)}}break;case 3:if(Tf=null,h=$i,$i=bf(r.containerInfo),zr(r,t),$i=h,Br(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(ze){zt(t,t.return,ze)}Kd&&(Kd=!1,ev(t));break;case 4:l=$i,$i=bf(t.stateNode.containerInfo),zr(r,t),Br(t),$i=l;break;case 12:zr(r,t),Br(t);break;case 31:zr(r,t),Br(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 13:zr(r,t),Br(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lf=qn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 22:h=t.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,se=$s,he=Mn;if($s=se||h,Mn=he||L,zr(r,t),Mn=he,$s=se,Br(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||L||$s||Mn||Ho(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){L=a=r;try{if(p=L.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=L.stateNode;var ye=L.memoizedProps.style,oe=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;C.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ze){zt(L,L.return,ze)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(ze){zt(L,L.return,ze)}}}else if(r.tag===18){if(a===null){L=r;try{var ce=L.stateNode;h?Hv(ce,!0):Hv(L.stateNode,!1)}catch(ze){zt(L,L.return,ze)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,af(t,a))));break;case 19:zr(r,t),Br(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 30:break;case 21:break;default:zr(r,t),Br(t)}}function Br(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=Hd(t);sf(t,p,h);break;case 5:var T=a.stateNode;a.flags&32&&(Jn(T,""),a.flags&=-33);var C=Hd(t);sf(t,C,T);break;case 3:case 4:var L=a.stateNode.containerInfo,se=Hd(t);Fd(t,se,L);break;default:throw Error(s(161))}}catch(he){zt(t,t.return,he)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ws(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qy(t,r.alternate,r),r=r.sibling}function Ho(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ba(4,r,r.return),Ho(r);break;case 1:ps(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hy(r,r.return,a),Ho(r);break;case 27:Uu(r.stateNode);case 26:case 5:ps(r,r.return),Ho(r);break;case 22:r.memoizedState===null&&Ho(r);break;case 30:Ho(r);break;default:Ho(r)}t=t.sibling}}function Zs(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Zs(h,p,a),Iu(4,p);break;case 1:if(Zs(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(se){zt(l,l.return,se)}if(l=p,h=l.updateQueue,h!==null){var C=l.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)Dg(L[h],C)}catch(se){zt(l,l.return,se)}}a&&T&64&&qy(p),xu(p,p.return);break;case 27:Gy(p);case 26:case 5:Zs(h,p,a),a&&l===null&&T&4&&Fy(p),xu(p,p.return);break;case 12:Zs(h,p,a);break;case 31:Zs(h,p,a),a&&T&4&&Jy(h,p);break;case 13:Zs(h,p,a),a&&T&4&&Wy(h,p);break;case 22:p.memoizedState===null&&Zs(h,p,a),xu(p,p.return);break;case 30:break;default:Zs(h,p,a)}r=r.sibling}}function Gd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pu(a))}function Yd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pu(t))}function Ji(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(t,r,a,l),r=r.sibling}function tv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r,a,l),h&2048&&Iu(9,r);break;case 1:Ji(t,r,a,l);break;case 3:Ji(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pu(t)));break;case 12:if(h&2048){Ji(t,r,a,l),t=r.stateNode;try{var p=r.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){zt(r,r.return,L)}}else Ji(t,r,a,l);break;case 31:Ji(t,r,a,l);break;case 13:Ji(t,r,a,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?Ji(t,r,a,l):Ou(t,r):p._visibility&2?Ji(t,r,a,l):(p._visibility|=2,Al(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Gd(T,r);break;case 24:Ji(t,r,a,l),h&2048&&Yd(r.alternate,r);break;default:Ji(t,r,a,l)}}function Al(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=t,T=r,C=a,L=l,se=T.flags;switch(T.tag){case 0:case 11:case 15:Al(p,T,C,L,h),Iu(8,T);break;case 23:break;case 22:var he=T.stateNode;T.memoizedState!==null?he._visibility&2?Al(p,T,C,L,h):Ou(p,T):(he._visibility|=2,Al(p,T,C,L,h)),h&&se&2048&&Gd(T.alternate,T);break;case 24:Al(p,T,C,L,h),h&&se&2048&&Yd(T.alternate,T);break;default:Al(p,T,C,L,h)}r=r.sibling}}function Ou(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Ou(a,l),h&2048&&Gd(l.alternate,l);break;case 24:Ou(a,l),h&2048&&Yd(l.alternate,l);break;default:Ou(a,l)}r=r.sibling}}var Du=8192;function Cl(t,r,a){if(t.subtreeFlags&Du)for(t=t.child;t!==null;)nv(t,r,a),t=t.sibling}function nv(t,r,a){switch(t.tag){case 26:Cl(t,r,a),t.flags&Du&&t.memoizedState!==null&&aS(a,$i,t.memoizedState,t.memoizedProps);break;case 5:Cl(t,r,a);break;case 3:case 4:var l=$i;$i=bf(t.stateNode.containerInfo),Cl(t,r,a),$i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Du,Du=16777216,Cl(t,r,a),Du=l):Cl(t,r,a));break;default:Cl(t,r,a)}}function rv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Nu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yn=l,sv(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:Nu(t),t.flags&2048&&Ba(9,t,t.return);break;case 3:Nu(t);break;case 12:Nu(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,of(t)):Nu(t);break;default:Nu(t)}}function of(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yn=l,sv(l,t)}rv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ba(8,r,r.return),of(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,of(r));break;default:of(r)}t=t.sibling}}function sv(t,r){for(;Yn!==null;){var a=Yn;switch(a.tag){case 0:case 11:case 15:Ba(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yn=l;else e:for(a=t;Yn!==null;){l=Yn;var h=l.sibling,p=l.return;if(Xy(l),l===a){Yn=null;break e}if(h!==null){h.return=p,Yn=h;break e}Yn=p}}}var Ew={getCacheForType:function(t){var r=Zn(On),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Zn(On).controller.signal}},Tw=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Gt=null,gt=null,_t=0,jt=0,ci=null,qa=!1,Rl=!1,Qd=!1,ea=0,pn=0,Ha=0,Fo=0,Xd=0,fi=0,Il=0,Mu=null,qr=null,$d=!1,lf=0,av=0,uf=1/0,cf=null,Fa=null,Un=0,Ka=null,xl=null,ta=0,Jd=0,Wd=null,ov=null,ku=0,Zd=null;function hi(){return(Mt&2)!==0&&_t!==0?_t&-_t:le.T!==null?sm():Ms()}function lv(){if(fi===0)if((_t&536870912)===0||Ct){var t=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),fi=t}else fi=536870912;return t=li.current,t!==null&&(t.flags|=32),fi}function Hr(t,r,a){(t===Gt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Ol(t,0),Ga(t,_t,fi,!1)),Ar(t,a),((Mt&2)===0||t!==Gt)&&(t===Gt&&((Mt&2)===0&&(Fo|=a),pn===4&&Ga(t,_t,fi,!1)),gs(t))}function uv(t,r,a){if((Mt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||yr(t,r),h=l?Aw(t,r):tm(t,r,!0),p=l;do{if(h===0){Rl&&!l&&Ga(t,r,0,!1);break}else{if(a=t.current.alternate,p&&!ww(a)){h=tm(t,r,!1),p=!1;continue}if(h===2){if(p=r,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var C=t;h=Mu;var L=C.current.memoizedState.isDehydrated;if(L&&(Ol(C,T).flags|=256),T=tm(C,T,!1),T!==2){if(Qd&&!L){C.errorRecoveryDisabledLanes|=p,Fo|=p,h=4;break e}p=qr,qr=h,p!==null&&(qr===null?qr=p:qr.push.apply(qr,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){Ol(t,0),Ga(t,r,0,!0);break}e:{switch(l=t,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ga(l,r,fi,!qa);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=lf+300-qn(),10<h)){if(Ga(l,r,fi,!qa),Xr(l,0,!0)!==0)break e;ta=r,l.timeoutHandle=zv(cv.bind(null,l,a,qr,cf,$d,r,fi,Fo,Il,qa,p,"Throttled",-0,0),h);break e}cv(l,a,qr,cf,$d,r,fi,Fo,Il,qa,p,null,-0,0)}}break}while(!0);gs(t)}function cv(t,r,a,l,h,p,T,C,L,se,he,ye,oe,ce){if(t.timeoutHandle=-1,ye=r.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ur},nv(r,p,ye);var ze=(p&62914560)===p?lf-qn():(p&4194048)===p?av-qn():0;if(ze=oS(ye,ze),ze!==null){ta=p,t.cancelPendingCommit=ze(vv.bind(null,t,r,p,a,l,h,T,C,L,he,ye,null,oe,ce)),Ga(t,p,T,!se);return}}vv(t,r,p,a,l,h,T,C,L)}function ww(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!cr(p(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ga(t,r,a,l){r&=~Xd,r&=~Fo,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var p=31-Ne(h),T=1<<p;l[p]=-1,h&=~T}a!==0&&yi(t,a,r)}function ff(){return(Mt&6)===0?(Vu(0),!1):!0}function em(){if(gt!==null){if(jt===0)var t=gt.return;else t=gt,Fs=Vo=null,gd(t),bl=null,yu=0,t=gt;for(;t!==null;)By(t.alternate,t),t=t.return;gt=null}}function Ol(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Hw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ta=0,em(),Gt=t,gt=a=qs(t.current,null),_t=r,jt=0,ci=null,qa=!1,Rl=yr(t,r),Qd=!1,Il=fi=Xd=Fo=Ha=pn=0,qr=Mu=null,$d=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Ne(l),p=1<<h;r|=t[h],l&=~p}return ea=r,Gn(),a}function fv(t,r){lt=null,le.H=Au,r===_l||r===jc?(r=Rg(),jt=3):r===id?(r=Rg(),jt=4):jt=r===Nd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,gt===null&&(pn=1,Zc(t,Ri(r,t.current)))}function hv(){var t=li.current;return t===null?!0:(_t&4194048)===_t?Di===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Di:!1}function dv(){var t=le.H;return le.H=Au,t===null?Au:t}function mv(){var t=le.A;return le.A=Ew,t}function hf(){pn=4,qa||(_t&4194048)!==_t&&li.current!==null||(Rl=!0),(Ha&134217727)===0&&(Fo&134217727)===0||Gt===null||Ga(Gt,_t,fi,!1)}function tm(t,r,a){var l=Mt;Mt|=2;var h=dv(),p=mv();(Gt!==t||_t!==r)&&(cf=null,Ol(t,r)),r=!1;var T=pn;e:do try{if(jt!==0&&gt!==null){var C=gt,L=ci;switch(jt){case 8:em(),T=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(r=!0);var se=jt;if(jt=0,ci=null,Dl(t,C,L,se),a&&Rl){T=0;break e}break;default:se=jt,jt=0,ci=null,Dl(t,C,L,se)}}Sw(),T=pn;break}catch(he){fv(t,he)}while(!0);return r&&t.shellSuspendCounter++,Fs=Vo=null,Mt=l,le.H=h,le.A=p,gt===null&&(Gt=null,_t=0,Gn()),T}function Sw(){for(;gt!==null;)pv(gt)}function Aw(t,r){var a=Mt;Mt|=2;var l=dv(),h=mv();Gt!==t||_t!==r?(cf=null,uf=qn()+500,Ol(t,r)):Rl=yr(t,r);e:do try{if(jt!==0&&gt!==null){r=gt;var p=ci;t:switch(jt){case 1:jt=0,ci=null,Dl(t,r,p,1);break;case 2:case 9:if(Ag(p)){jt=0,ci=null,gv(r);break}r=function(){jt!==2&&jt!==9||Gt!==t||(jt=7),gs(t)},p.then(r,r);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Ag(p)?(jt=0,ci=null,gv(r)):(jt=0,ci=null,Dl(t,r,p,7));break;case 5:var T=null;switch(gt.tag){case 26:T=gt.memoizedState;case 5:case 27:var C=gt;if(T?t_(T):C.stateNode.complete){jt=0,ci=null;var L=C.sibling;if(L!==null)gt=L;else{var se=C.return;se!==null?(gt=se,df(se)):gt=null}break t}}jt=0,ci=null,Dl(t,r,p,5);break;case 6:jt=0,ci=null,Dl(t,r,p,6);break;case 8:em(),pn=6;break e;default:throw Error(s(462))}}Cw();break}catch(he){fv(t,he)}while(!0);return Fs=Vo=null,le.H=l,le.A=h,Mt=a,gt!==null?0:(Gt=null,_t=0,Gn(),pn)}function Cw(){for(;gt!==null&&!al();)pv(gt)}function pv(t){var r=jy(t.alternate,t,ea);t.memoizedProps=t.pendingProps,r===null?df(t):gt=r}function gv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=My(a,r,r.pendingProps,r.type,void 0,_t);break;case 11:r=My(a,r,r.pendingProps,r.type.render,r.ref,_t);break;case 5:gd(r);default:By(a,r),r=gt=mg(r,ea),r=jy(a,r,ea)}t.memoizedProps=t.pendingProps,r===null?df(t):gt=r}function Dl(t,r,a,l){Fs=Vo=null,gd(r),bl=null,yu=0;var h=r.return;try{if(mw(t,h,r,a,_t)){pn=1,Zc(t,Ri(a,t.current)),gt=null;return}}catch(p){if(h!==null)throw gt=h,p;pn=1,Zc(t,Ri(a,t.current)),gt=null;return}r.flags&32768?(Ct||l===1?t=!0:Rl||(_t&536870912)!==0?t=!1:(qa=t=!0,(l===2||l===9||l===3||l===6)&&(l=li.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(r,t)):df(r)}function df(t){var r=t;do{if((r.flags&32768)!==0){yv(r,qa);return}t=r.return;var a=yw(r.alternate,r,ea);if(a!==null){gt=a;return}if(r=r.sibling,r!==null){gt=r;return}gt=r=t}while(r!==null);pn===0&&(pn=5)}function yv(t,r){do{var a=vw(t.alternate,t);if(a!==null){a.flags&=32767,gt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){gt=t;return}gt=t=a}while(t!==null);pn=6,gt=null}function vv(t,r,a,l,h,p,T,C,L){t.cancelPendingCommit=null;do mf();while(Un!==0);if((Mt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=ot,wo(t,a,p,T,C,L),t===Gt&&(gt=Gt=null,_t=0),xl=r,Ka=t,ta=a,Jd=p,Wd=h,ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ow(pi,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=le.T,le.T=null,h=_e.p,_e.p=2,T=Mt,Mt|=4;try{_w(t,r,a)}finally{Mt=T,_e.p=h,le.T=l}}Un=1,_v(),bv(),Ev()}}function _v(){if(Un===1){Un=0;var t=Ka,r=xl,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=le.T,le.T=null;var l=_e.p;_e.p=2;var h=Mt;Mt|=4;try{Zy(r,t);var p=dm,T=S(t.containerInfo),C=p.focusedElem,L=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&b(C.ownerDocument.documentElement,C)){if(L!==null&&A(C)){var se=L.start,he=L.end;if(he===void 0&&(he=se),"selectionStart"in C)C.selectionStart=se,C.selectionEnd=Math.min(he,C.value.length);else{var ye=C.ownerDocument||document,oe=ye&&ye.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),ze=C.textContent.length,Qe=Math.min(L.start,ze),Ft=L.end===void 0?Qe:Math.min(L.end,ze);!ce.extend&&Qe>Ft&&(T=Ft,Ft=Qe,Qe=T);var ee=g(C,Qe),H=g(C,Ft);if(ee&&H&&(ce.rangeCount!==1||ce.anchorNode!==ee.node||ce.anchorOffset!==ee.offset||ce.focusNode!==H.node||ce.focusOffset!==H.offset)){var ie=ye.createRange();ie.setStart(ee.node,ee.offset),ce.removeAllRanges(),Qe>Ft?(ce.addRange(ie),ce.extend(H.node,H.offset)):(ie.setEnd(H.node,H.offset),ce.addRange(ie))}}}}for(ye=[],ce=C;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ye.length;C++){var de=ye[C];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Cf=!!hm,dm=hm=null}finally{Mt=h,_e.p=l,le.T=a}}t.current=r,Un=2}}function bv(){if(Un===2){Un=0;var t=Ka,r=xl,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=le.T,le.T=null;var l=_e.p;_e.p=2;var h=Mt;Mt|=4;try{Qy(t,r.alternate,r)}finally{Mt=h,_e.p=l,le.T=a}}Un=3}}function Ev(){if(Un===4||Un===3){Un=0,rs();var t=Ka,r=xl,a=ta,l=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Un=5:(Un=0,xl=Ka=null,Tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fa=null),Cr(a),r=r.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ar,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=le.T,h=_e.p,_e.p=2,le.T=null;try{for(var p=t.onRecoverableError,T=0;T<l.length;T++){var C=l[T];p(C.value,{componentStack:C.stack})}}finally{le.T=r,_e.p=h}}(ta&3)!==0&&mf(),gs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Zd?ku++:(ku=0,Zd=t):ku=0,Vu(0)}}function Tv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,pu(r)))}function mf(){return _v(),bv(),Ev(),wv()}function wv(){if(Un!==5)return!1;var t=Ka,r=Jd;Jd=0;var a=Cr(ta),l=le.T,h=_e.p;try{_e.p=32>a?32:a,le.T=null,a=Wd,Wd=null;var p=Ka,T=ta;if(Un=0,xl=Ka=null,ta=0,(Mt&6)!==0)throw Error(s(331));var C=Mt;if(Mt|=4,iv(p.current),tv(p,p.current,T,a),Mt=C,Vu(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ar,p)}catch{}return!0}finally{_e.p=h,le.T=l,Tv(t,r)}}function Sv(t,r,a){r=Ri(a,r),r=Dd(t.stateNode,r,2),t=Ua(t,r,2),t!==null&&(Ar(t,2),gs(t))}function zt(t,r,a){if(t.tag===3)Sv(t,t,a);else for(;r!==null;){if(r.tag===3){Sv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fa===null||!Fa.has(l))){t=Ri(a,t),a=Ay(2),l=Ua(r,a,2),l!==null&&(Cy(a,l,r,t),Ar(l,2),gs(l));break}}r=r.return}}function nm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Tw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Qd=!0,h.add(a),t=Rw.bind(null,t,r,a),r.then(t,t))}function Rw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Gt===t&&(_t&a)===a&&(pn===4||pn===3&&(_t&62914560)===_t&&300>qn()-lf?(Mt&2)===0&&Ol(t,0):Xd|=a,Il===_t&&(Il=0)),gs(t)}function Av(t,r){r===0&&(r=ol()),t=Zt(t,r),t!==null&&(Ar(t,r),gs(t))}function Iw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Av(t,a)}function xw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Av(t,a)}function Ow(t,r){return nn(t,r)}var pf=null,Nl=null,rm=!1,gf=!1,im=!1,Ya=0;function gs(t){t!==Nl&&t.next===null&&(Nl===null?pf=Nl=t:Nl=Nl.next=t),gf=!0,rm||(rm=!0,Nw())}function Vu(t,r){if(!im&&gf){im=!0;do for(var a=!1,l=pf;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var T=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-Ne(42|t)+1)-1,p&=h&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,xv(l,p))}else p=_t,p=Xr(l,l===Gt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||yr(l,p)||(a=!0,xv(l,p));l=l.next}while(a);im=!1}}function Dw(){Cv()}function Cv(){gf=rm=!1;var t=0;Ya!==0&&qw()&&(t=Ya);for(var r=qn(),a=null,l=pf;l!==null;){var h=l.next,p=Rv(l,r);p===0?(l.next=null,a===null?pf=h:a.next=h,h===null&&(Nl=a)):(a=l,(t!==0||(p&3)!==0)&&(gf=!0)),l=h}Un!==0&&Un!==5||Vu(t),Ya!==0&&(Ya=0)}function Rv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-Ne(p),C=1<<T,L=h[T];L===-1?((C&a)===0||(C&l)!==0)&&(h[T]=lu(C,r)):L<=r&&(t.expiredLanes|=C),p&=~C}if(r=Gt,a=_t,a=Xr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||yr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Pn(l),Cr(a)){case 2:case 8:a=Qr;break;case 32:a=pi;break;case 268435456:a=pa;break;default:a=pi}return l=Iv.bind(null,t),a=nn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Pn(l),t.callbackPriority=2,t.callbackNode=null,2}function Iv(t,r){if(Un!==0&&Un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mf()&&t.callbackNode!==a)return null;var l=_t;return l=Xr(t,t===Gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,r),Rv(t,qn()),t.callbackNode!=null&&t.callbackNode===a?Iv.bind(null,t):null)}function xv(t,r){if(mf())return null;uv(t,r,!0)}function Nw(){Fw(function(){(Mt&6)!==0?nn(Yr,Dw):Cv()})}function sm(){if(Ya===0){var t=yl;t===0&&(t=Re,Re<<=1,(Re&261888)===0&&(Re=256)),Ya=t}return Ya}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function Dv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Mw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var p=Ov((h[Yt]||null).action),T=l.submitter;T&&(r=(r=T[Yt]||null)?Ov(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var C=new Ei("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ya!==0){var L=T?Dv(h,T):new FormData(h);Ad(a,{pending:!0,data:L,method:h.method,action:p},null,L)}}else typeof p=="function"&&(C.preventDefault(),L=T?Dv(h,T):new FormData(h),Ad(a,{pending:!0,data:L,method:h.method,action:p},p,L))},currentTarget:h}]})}}for(var am=0;am<xe.length;am++){var om=xe[am],kw=om.toLowerCase(),Vw=om[0].toUpperCase()+om.slice(1);we(kw,"on"+Vw)}we(re,"onAnimationEnd"),we(ae,"onAnimationIteration"),we(fe,"onAnimationStart"),we("dblclick","onDoubleClick"),we("focusin","onFocus"),we("focusout","onBlur"),we(ge,"onTransitionRun"),we(Se,"onTransitionStart"),we(Oe,"onTransitionCancel"),we(Te,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Nv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var C=l[T],L=C.instance,se=C.currentTarget;if(C=C.listener,L!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=se;try{p(h)}catch(he){Ve(he)}h.currentTarget=null,p=L}else for(T=0;T<l.length;T++){if(C=l[T],L=C.instance,se=C.currentTarget,C=C.listener,L!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=se;try{p(h)}catch(he){Ve(he)}h.currentTarget=null,p=L}}}}function yt(t,r){var a=r[qi];a===void 0&&(a=r[qi]=new Set);var l=t+"__bubble";a.has(l)||(Mv(r,t,2,!1),a.add(l))}function lm(t,r,a){var l=0;r&&(l|=4),Mv(a,t,l,r)}var yf="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[yf]){t[yf]=!0,vi.forEach(function(a){a!=="selectionchange"&&(Pw.has(a)||lm(a,!1,t),lm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[yf]||(r[yf]=!0,lm("selectionchange",!1,r))}}function Mv(t,r,a,l){switch(l_(r)){case 2:var h=cS;break;case 8:h=fS;break;default:h=Sm}a=h.bind(null,r,a,t),h=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function cm(t,r,a,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=l.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=Rr(C),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){l=p=T;continue e}C=C.parentNode}}l=l.return}Nr(function(){var se=p,he=vr(a),ye=[];e:{var oe=Ce.get(t);if(oe!==void 0){var ce=Ei,ze=t;switch(t){case"keypress":if(Gi(a)===0)break e;case"keydown":case"keyup":ce=js;break;case"focusin":ze="focus",ce=Si;break;case"focusout":ze="blur",ce=Si;break;case"beforeblur":case"afterblur":ce=Si;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=v;break;case re:case ae:case fe:ce=Io;break;case Te:ce=I;break;case"scroll":case"scrollend":ce=ls;break;case"wheel":ce=ue;break;case"copy":case"cut":case"paste":ce=Xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ai;break;case"toggle":case"beforetoggle":ce=tt}var Qe=(r&4)!==0,Ft=!Qe&&(t==="scroll"||t==="scrollend"),ee=Qe?oe!==null?oe+"Capture":null:oe;Qe=[];for(var H=se,ie;H!==null;){var de=H;if(ie=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ie===null||ee===null||(de=_r(H,ee),de!=null&&Qe.push(Lu(H,de,ie))),Ft)break;H=H.return}0<Qe.length&&(oe=new ce(oe,ze,null,a,he),ye.push({event:oe,listeners:Qe}))}}if((r&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",oe&&a!==Dr&&(ze=a.relatedTarget||a.fromElement)&&(Rr(ze)||ze[Ln]))break e;if((ce||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(ze=a.relatedTarget||a.toElement,ce=se,ze=ze?Rr(ze):null,ze!==null&&(Ft=u(ze),Qe=ze.tag,ze!==Ft||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(ce=null,ze=se),ce!==ze)){if(Qe=Ls,de="onMouseLeave",ee="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Qe=Ai,de="onPointerLeave",ee="onPointerEnter",H="pointer"),Ft=ce==null?oe:_n(ce),ie=ze==null?oe:_n(ze),oe=new Qe(de,H+"leave",ce,a,he),oe.target=Ft,oe.relatedTarget=ie,de=null,Rr(he)===se&&(Qe=new Qe(ee,H+"enter",ze,a,he),Qe.target=ie,Qe.relatedTarget=Ft,de=Qe),Ft=de,ce&&ze)t:{for(Qe=Lw,ee=ce,H=ze,ie=0,de=ee;de;de=Qe(de))ie++;de=0;for(var Ke=H;Ke;Ke=Qe(Ke))de++;for(;0<ie-de;)ee=Qe(ee),ie--;for(;0<de-ie;)H=Qe(H),de--;for(;ie--;){if(ee===H||H!==null&&ee===H.alternate){Qe=ee;break t}ee=Qe(ee),H=Qe(H)}Qe=null}else Qe=null;ce!==null&&kv(ye,oe,ce,Qe,!1),ze!==null&&Ft!==null&&kv(ye,Ft,ze,Qe,!0)}}e:{if(oe=se?_n(se):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var Ot=Do;else if(cl(oe))if(Ci)Ot=Da;else{Ot=Bs;var qe=Mc}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&ba(se.elementType)&&(Ot=Do):Ot=fu;if(Ot&&(Ot=Ot(t,se))){cu(ye,Ot,a,he);break e}qe&&qe(t,oe,se),t==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Vs(oe,"number",oe.value)}switch(qe=se?_n(se):window,t){case"focusin":(cl(qe)||qe.contentEditable==="true")&&(N=qe,j=se,z=null);break;case"focusout":z=j=N=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,U(ye,a,he);break;case"selectionchange":if(O)break;case"keydown":case"keyup":U(ye,a,he)}var ut;if(At)e:{switch(t){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else zs?fs(t,a)&&(bt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(Lr&&a.locale!=="ko"&&(zs||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zs&&(ut=Ki()):(Mr=he,Ea="value"in Mr?Mr.value:Mr.textContent,zs=!0)),qe=vf(se,bt),0<qe.length&&(bt=new kr(bt,t,null,a,he),ye.push({event:bt,listeners:qe}),ut?bt.data=ut:(ut=Ia(a),ut!==null&&(bt.data=ut)))),(ut=Pr?Oc(t,a):Hh(t,a))&&(bt=vf(se,"onBeforeInput"),0<bt.length&&(qe=new kr("onBeforeInput","beforeinput",null,a,he),ye.push({event:qe,listeners:bt}),qe.data=ut)),Mw(ye,t,se,a,he)}Nv(ye,r)})}function Lu(t,r,a){return{instance:t,listener:r,currentTarget:a}}function vf(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=_r(t,a),h!=null&&l.unshift(Lu(t,h,p)),h=_r(t,r),h!=null&&l.push(Lu(t,h,p))),t.tag===3)return l;t=t.return}return[]}function Lw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kv(t,r,a,l,h){for(var p=r._reactName,T=[];a!==null&&a!==l;){var C=a,L=C.alternate,se=C.stateNode;if(C=C.tag,L!==null&&L===l)break;C!==5&&C!==26&&C!==27||se===null||(L=se,h?(se=_r(a,p),se!=null&&T.unshift(Lu(a,se,L))):h||(se=_r(a,p),se!=null&&T.push(Lu(a,se,L)))),a=a.return}T.length!==0&&t.push({event:r,listeners:T})}var Uw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(Uw,`
`).replace(jw,"")}function Pv(t,r){return r=Vv(r),Vv(t)===r}function Ht(t,r,a,l,h,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Jn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":_a(t,l,p);break;case"data":if(r!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ht(t,r,"name",h.name,h,null),Ht(t,r,"formEncType",h.formEncType,h,null),Ht(t,r,"formMethod",h.formMethod,h,null),Ht(t,r,"formTarget",h.formTarget,h,null)):(Ht(t,r,"encType",h.encType,h,null),Ht(t,r,"method",h.method,h,null),Ht(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ur);break;case"onScroll":l!=null&&yt("scroll",t);break;case"onScrollEnd":l!=null&&yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":yt("beforetoggle",t),yt("toggle",t),at(t,"popover",l);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":at(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ul.get(a)||a,at(t,a,l))}}function fm(t,r,a,l,h,p){switch(a){case"style":_a(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&Jn(t,""+l);break;case"onScroll":l!=null&&yt("scroll",t);break;case"onScrollEnd":l!=null&&yt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),p=t[Yt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):at(t,a,l)}}}function tr(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",t),yt("load",t);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,p,T,a,null)}}h&&Ht(t,r,"srcSet",a.srcSet,a,null),l&&Ht(t,r,"src",a.src,a,null);return;case"input":yt("invalid",t);var C=p=T=h=null,L=null,se=null;for(l in a)if(a.hasOwnProperty(l)){var he=a[l];if(he!=null)switch(l){case"name":h=he;break;case"type":T=he;break;case"checked":L=he;break;case"defaultChecked":se=he;break;case"value":p=he;break;case"defaultValue":C=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:Ht(t,r,l,he,a,null)}}va(t,p,C,L,se,T,h,!1);return;case"select":yt("invalid",t),l=T=p=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:Ht(t,r,h,C,a,null)}r=p,a=T,t.multiple=!!l,r!=null?ti(t,!!l,r,!1):a!=null&&ti(t,!!l,a,!0);return;case"textarea":yt("invalid",t),p=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(t,r,T,C,a,null)}ni(t,l,h,p);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(t,r,L,l,a,null)}return;case"dialog":yt("beforetoggle",t),yt("toggle",t),yt("cancel",t),yt("close",t);break;case"iframe":case"object":yt("load",t);break;case"video":case"audio":for(l=0;l<Pu.length;l++)yt(Pu[l],t);break;case"image":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"embed":case"source":case"link":yt("error",t),yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in a)if(a.hasOwnProperty(se)&&(l=a[se],l!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,se,l,a,null)}return;default:if(ba(r)){for(he in a)a.hasOwnProperty(he)&&(l=a[he],l!==void 0&&fm(t,r,he,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(t,r,C,l,a,null))}function zw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,C=null,L=null,se=null,he=null;for(ce in a){var ye=a[ce];if(a.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":L=ye;default:l.hasOwnProperty(ce)||Ht(t,r,ce,null,l,ye)}}for(var oe in l){var ce=l[oe];if(ye=a[oe],l.hasOwnProperty(oe)&&(ce!=null||ye!=null))switch(oe){case"type":p=ce;break;case"name":h=ce;break;case"checked":se=ce;break;case"defaultChecked":he=ce;break;case"value":T=ce;break;case"defaultValue":C=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,r));break;default:ce!==ye&&Ht(t,r,oe,ce,l,ye)}}ei(t,T,C,L,se,he,p,h);return;case"select":ce=T=C=oe=null;for(p in a)if(L=a[p],a.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ce=L;default:l.hasOwnProperty(p)||Ht(t,r,p,null,l,L)}for(h in l)if(p=l[h],L=a[h],l.hasOwnProperty(h)&&(p!=null||L!=null))switch(h){case"value":oe=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==L&&Ht(t,r,h,p,l,L)}r=C,a=T,l=ce,oe!=null?ti(t,!!a,oe,!1):!!l!=!!a&&(r!=null?ti(t,!!a,r,!0):ti(t,!!a,a?[]:"",!1));return;case"textarea":ce=oe=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(t,r,C,null,l,h)}for(T in l)if(h=l[T],p=a[T],l.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":oe=h;break;case"defaultValue":ce=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Ht(t,r,T,h,l,p)}Co(t,oe,ce);return;case"option":for(var ze in a)if(oe=a[ze],a.hasOwnProperty(ze)&&oe!=null&&!l.hasOwnProperty(ze))switch(ze){case"selected":t.selected=!1;break;default:Ht(t,r,ze,null,l,oe)}for(L in l)if(oe=l[L],ce=a[L],l.hasOwnProperty(L)&&oe!==ce&&(oe!=null||ce!=null))switch(L){case"selected":t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Ht(t,r,L,oe,l,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in a)oe=a[Qe],a.hasOwnProperty(Qe)&&oe!=null&&!l.hasOwnProperty(Qe)&&Ht(t,r,Qe,null,l,oe);for(se in l)if(oe=l[se],ce=a[se],l.hasOwnProperty(se)&&oe!==ce&&(oe!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Ht(t,r,se,oe,l,ce)}return;default:if(ba(r)){for(var Ft in a)oe=a[Ft],a.hasOwnProperty(Ft)&&oe!==void 0&&!l.hasOwnProperty(Ft)&&fm(t,r,Ft,void 0,l,oe);for(he in l)oe=l[he],ce=a[he],!l.hasOwnProperty(he)||oe===ce||oe===void 0&&ce===void 0||fm(t,r,he,oe,l,ce);return}}for(var ee in a)oe=a[ee],a.hasOwnProperty(ee)&&oe!=null&&!l.hasOwnProperty(ee)&&Ht(t,r,ee,null,l,oe);for(ye in l)oe=l[ye],ce=a[ye],!l.hasOwnProperty(ye)||oe===ce||oe==null&&ce==null||Ht(t,r,ye,oe,l,ce)}function Lv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],p=h.transferSize,T=h.initiatorType,C=h.duration;if(p&&C&&Lv(T)){for(T=0,C=h.responseEnd,l+=1;l<a.length;l++){var L=a[l],se=L.startTime;if(se>C)break;var he=L.transferSize,ye=L.initiatorType;he&&Lv(ye)&&(L=L.responseEnd,T+=he*(L<C?1:(C-se)/(L-se)))}if(--l,r+=8*(p+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hm=null,dm=null;function _f(t){return t.nodeType===9?t:t.ownerDocument}function Uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function qw(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(Kw)}:zv;function Kw(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function qv(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Pl(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Uu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Uu(a);for(var p=a.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[Hn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=T}}else a==="body"&&Uu(t.ownerDocument.body);a=h}while(a);Pl(r)}function Hv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gm(a),ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Gw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Ni(t.nextSibling),t===null)break}return null}function Yw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ni(t.nextSibling),t===null))return null;return t}function Fv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ni(t.nextSibling),t===null))return null;return t}function ym(t){return t.data==="$?"||t.data==="$~"}function vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ni(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var _m=null;function Kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Ni(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Gv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Yv(t,r,a){switch(r=_f(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Uu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ks(t)}var Mi=new Map,Qv=new Set;function bf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var na=_e.d;_e.d={f:Xw,r:$w,D:Jw,C:Ww,L:Zw,m:eS,X:nS,S:tS,M:rS};function Xw(){var t=na.f(),r=ff();return t||r}function $w(t){var r=Rt(t);r!==null&&r.tag===5&&r.type==="form"?fy(r):na.r(t)}var Ml=typeof document>"u"?null:document;function Xv(t,r,a){var l=Ml;if(l&&typeof r=="string"&&r){var h=Rn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Qv.has(h)||(Qv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),tr(r,"link",t),sn(r),l.head.appendChild(r)))}}function Jw(t){na.D(t),Xv("dns-prefetch",t,null)}function Ww(t,r){na.C(t,r),Xv("preconnect",t,r)}function Zw(t,r,a){na.L(t,r,a);var l=Ml;if(l&&t&&r){var h='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rn(a.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var p=h;switch(r){case"style":p=kl(t);break;case"script":p=Vl(t)}Mi.has(p)||(t=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mi.set(p,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(ju(p))||r==="script"&&l.querySelector(zu(p))||(r=l.createElement("link"),tr(r,"link",t),sn(r),l.head.appendChild(r)))}}function eS(t,r){na.m(t,r);var a=Ml;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(t)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vl(t)}if(!Mi.has(p)&&(t=x({rel:"modulepreload",href:t},r),Mi.set(p,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zu(p)))return}l=a.createElement("link"),tr(l,"link",t),sn(l),a.head.appendChild(l)}}}function tS(t,r,a){na.S(t,r,a);var l=Ml;if(l&&t){var h=Cn(l).hoistableStyles,p=kl(t);r=r||"default";var T=h.get(p);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(ju(p)))C.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mi.get(p))&&bm(t,a);var L=T=l.createElement("link");sn(L),tr(L,"link",t),L._p=new Promise(function(se,he){L.onload=se,L.onerror=he}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ef(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(p,T)}}}function nS(t,r){na.X(t,r);var a=Ml;if(a&&t){var l=Cn(a).hoistableScripts,h=Vl(t),p=l.get(h);p||(p=a.querySelector(zu(h)),p||(t=x({src:t,async:!0},r),(r=Mi.get(h))&&Em(t,r),p=a.createElement("script"),sn(p),tr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function rS(t,r){na.M(t,r);var a=Ml;if(a&&t){var l=Cn(a).hoistableScripts,h=Vl(t),p=l.get(h);p||(p=a.querySelector(zu(h)),p||(t=x({src:t,async:!0,type:"module"},r),(r=Mi.get(h))&&Em(t,r),p=a.createElement("script"),sn(p),tr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function $v(t,r,a,l){var h=(h=Je.current)?bf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=kl(a.href),a=Cn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=kl(a.href);var p=Cn(h).hoistableStyles,T=p.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=h.querySelector(ju(t)))&&!p._p&&(T.instance=p,T.state.loading=5),Mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mi.set(t,a),p||iS(h,t,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vl(a),a=Cn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function kl(t){return'href="'+Rn(t)+'"'}function ju(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function iS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tr(r,"link",a),sn(r),t.head.appendChild(r))}function Vl(t){return'[src="'+Rn(t)+'"]'}function zu(t){return"script[async]"+t}function Wv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(l)return r.instance=l,sn(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),sn(l),tr(l,"style",h),Ef(l,a.precedence,t),r.instance=l;case"stylesheet":h=kl(a.href);var p=t.querySelector(ju(h));if(p)return r.state.loading|=4,r.instance=p,sn(p),p;l=Jv(a),(h=Mi.get(h))&&bm(l,h),p=(t.ownerDocument||t).createElement("link"),sn(p);var T=p;return T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),tr(p,"link",l),r.state.loading|=4,Ef(p,a.precedence,t),r.instance=p;case"script":return p=Vl(a.src),(h=t.querySelector(zu(p)))?(r.instance=h,sn(h),h):(l=a,(h=Mi.get(p))&&(l=x({},a),Em(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),sn(h),tr(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ef(l,a.precedence,t));return r.instance}function Ef(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===r)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Tf=null;function Zv(t,r,a){if(Tf===null){var l=new Map,h=Tf=new Map;h.set(a,l)}else h=Tf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var p=a[h];if(!(p[Hn]||p[Pt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=t+T;var C=l.get(T);C?C.push(p):l.set(T,[p])}}return l}function e_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function sS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=kl(l.href),p=r.querySelector(ju(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=wf.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=p,sn(p);return}p=r.ownerDocument||r,l=Jv(l),(h=Mi.get(h))&&bm(l,h),p=p.createElement("link"),sn(p);var T=p;T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),tr(p,"link",l),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wf.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Tm=0;function oS(t,r){return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+r);0<t.imgBytes&&Tm===0&&(Tm=62500*Bw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Tm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sf=null;function Af(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sf=new Map,r.forEach(lS,t),Sf=null,wf.call(t))}function lS(t,r){if(!(r.state.loading&4)){var a=Sf.get(t);if(a)var l=a.get(null);else{a=new Map,Sf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,h),a.set(T,h),this.count++,l=wf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Bu={$$typeof:Le,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function uS(t,r,a,l,h,p,T,C,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function n_(t,r,a,l,h,p,T,C,L,se,he,ye){return t=new uS(t,r,a,T,L,se,he,ye,C),r=1,p===!0&&(r|=24),p=oi(3,null,null,r),t.current=p,p.stateNode=t,r=td(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},sd(p),t}function r_(t){return t?(t=Ur,t):Ur}function i_(t,r,a,l,h,p){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=La(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ua(t,l,r),a!==null&&(Hr(a,t,r),_u(a,t,r))}function s_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function wm(t,r){s_(t,r),(t=t.alternate)&&s_(t,r)}function a_(t){if(t.tag===13||t.tag===31){var r=Zt(t,67108864);r!==null&&Hr(r,t,67108864),wm(t,67108864)}}function o_(t){if(t.tag===13||t.tag===31){var r=hi();r=Ns(r);var a=Zt(t,r);a!==null&&Hr(a,t,r),wm(t,r)}}var Cf=!0;function cS(t,r,a,l){var h=le.T;le.T=null;var p=_e.p;try{_e.p=2,Sm(t,r,a,l)}finally{_e.p=p,le.T=h}}function fS(t,r,a,l){var h=le.T;le.T=null;var p=_e.p;try{_e.p=8,Sm(t,r,a,l)}finally{_e.p=p,le.T=h}}function Sm(t,r,a,l){if(Cf){var h=Am(l);if(h===null)cm(t,r,l,Rf,a),u_(t,l);else if(dS(h,t,r,a,l))l.stopPropagation();else if(u_(t,l),r&4&&-1<hS.indexOf(t)){for(;h!==null;){var p=Rt(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Sr(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var L=1<<31-Ne(T);C.entanglements[1]|=L,T&=~L}gs(p),(Mt&6)===0&&(uf=qn()+500,Vu(0))}}break;case 31:case 13:C=Zt(p,2),C!==null&&Hr(C,p,2),ff(),wm(p,2)}if(p=Am(l),p===null&&cm(t,r,l,Rf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else cm(t,r,l,null,a)}}function Am(t){return t=vr(t),Cm(t)}var Rf=null;function Cm(t){if(Rf=null,t=Rr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=y(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rf=t,null}function l_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Yr:return 2;case Qr:return 8;case pi:case xs:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Rm=!1,Xa=null,$a=null,Ja=null,qu=new Map,Hu=new Map,Wa=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(t,r){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":qu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(r.pointerId)}}function Fu(t,r,a,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Rt(r),r!==null&&a_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function dS(t,r,a,l,h){switch(r){case"focusin":return Xa=Fu(Xa,t,r,a,l,h),!0;case"dragenter":return $a=Fu($a,t,r,a,l,h),!0;case"mouseover":return Ja=Fu(Ja,t,r,a,l,h),!0;case"pointerover":var p=h.pointerId;return qu.set(p,Fu(qu.get(p)||null,t,r,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Hu.set(p,Fu(Hu.get(p)||null,t,r,a,l,h)),!0}return!1}function c_(t){var r=Rr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,or(t.priority,function(){o_(a)});return}}else if(r===31){if(r=y(a),r!==null){t.blockedOn=r,or(t.priority,function(){o_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function If(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dr=l,a.target.dispatchEvent(l),Dr=null}else return r=Rt(a),r!==null&&a_(r),t.blockedOn=a,!1;r.shift()}return!0}function f_(t,r,a){If(t)&&a.delete(r)}function mS(){Rm=!1,Xa!==null&&If(Xa)&&(Xa=null),$a!==null&&If($a)&&($a=null),Ja!==null&&If(Ja)&&(Ja=null),qu.forEach(f_),Hu.forEach(f_)}function xf(t,r){t.blockedOn===r&&(t.blockedOn=null,Rm||(Rm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mS)))}var Of=null;function h_(t){Of!==t&&(Of=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Of===t&&(Of=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var p=Rt(a);p!==null&&(t.splice(r,3),r-=3,Ad(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function r(L){return xf(L,t)}Xa!==null&&xf(Xa,t),$a!==null&&xf($a,t),Ja!==null&&xf(Ja,t),qu.forEach(r),Hu.forEach(r);for(var a=0;a<Wa.length;a++){var l=Wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wa.length&&(a=Wa[0],a.blockedOn===null);)c_(a),a.blockedOn===null&&Wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],T=h[Yt]||null;if(typeof p=="function")T||h_(a);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[Yt]||null)C=T.formAction;else if(Cm(h)!==null)continue}else C=T.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),h_(a)}}}function d_(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Im(t){this._internalRoot=t}Df.prototype.render=Im.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=hi();i_(a,l,t,r,null,null)},Df.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;i_(t.current,2,null,t,null,null),ff(),r[Ln]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ms();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wa.length&&r!==0&&r<Wa[a].priority;a++);Wa.splice(a,0,t),a===0&&c_(t)}};var m_=e.version;if(m_!=="19.2.0")throw Error(s(527,m_,"19.2.0"));_e.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(r),t=t!==null?R(t):null,t=t===null?null:t.stateNode,t};var pS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{ar=Nf.inject(pS),yn=Nf}catch{}}return Gu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ey,p=Ty,T=wy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=n_(t,1,!1,null,null,a,l,null,h,p,T,d_),t[Ln]=r.current,um(t),new Im(r)},Gu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",p=Ey,T=Ty,C=wy,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),r=n_(t,1,!0,r,a??null,l,h,L,p,T,C,d_),r.context=r_(null),a=r.current,l=hi(),l=Ns(l),h=La(l),h.callback=null,Ua(a,h,l),a=l,r.current.lanes=a,Ar(r,a),gs(r),t[Ln]=r.current,um(t),new Df(r)},Gu.version="19.2.0",Gu}var S_;function RS(){if(S_)return Dm.exports;S_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dm.exports=CS(),Dm.exports}var IS=RS();const xS=bp(IS);var Ff={exports:{}},OS=Ff.exports,A_;function DS(){return A_||(A_=1,(function(i,e){(function(n,s){i.exports=s()})(OS,function(){var n=function(f,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(g[S]=b[S])})(f,m)},s=function(){return(s=Object.assign||function(f){for(var m,g=1,b=arguments.length;g<b;g++)for(var S in m=arguments[g])Object.prototype.hasOwnProperty.call(m,S)&&(f[S]=m[S]);return f}).apply(this,arguments)};function o(f,m,g){for(var b,S=0,A=m.length;S<A;S++)!b&&S in m||((b=b||Array.prototype.slice.call(m,0,S))[S]=m[S]);return f.concat(b||Array.prototype.slice.call(m))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yS,d=Object.keys,y=Array.isArray;function _(f,m){return typeof m!="object"||d(m).forEach(function(g){f[g]=m[g]}),f}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var E=Object.getPrototypeOf,R={}.hasOwnProperty;function x(f,m){return R.call(f,m)}function D(f,m){typeof m=="function"&&(m=m(E(f))),(typeof Reflect>"u"?d:Reflect.ownKeys)(m).forEach(function(g){ne(f,g,m[g])})}var $=Object.defineProperty;function ne(f,m,g,b){$(f,m,_(g&&x(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},b))}function me(f){return{from:function(m){return f.prototype=Object.create(m.prototype),ne(f.prototype,"constructor",f),{extend:D.bind(null,f.prototype)}}}}var Ee=Object.getOwnPropertyDescriptor,ke=[].slice;function Be(f,m,g){return ke.call(f,m,g)}function Le(f,m){return m(f)}function ct(f){if(!f)throw new Error("Assertion Failed")}function Nt(f){u.setImmediate?setImmediate(f):setTimeout(f,0)}function $e(f,m){if(typeof m=="string"&&x(f,m))return f[m];if(!m)return f;if(typeof m!="string"){for(var g=[],b=0,S=m.length;b<S;++b){var A=$e(f,m[b]);g.push(A)}return g}var O=m.indexOf(".");if(O!==-1){var N=f[m.substr(0,O)];return N==null?void 0:$e(N,m.substr(O+1))}}function V(f,m,g){if(f&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof m!="string"&&"length"in m){ct(typeof g!="string"&&"length"in g);for(var b=0,S=m.length;b<S;++b)V(f,m[b],g[b])}else{var A,O,N=m.indexOf(".");N!==-1?(A=m.substr(0,N),(O=m.substr(N+1))===""?g===void 0?y(f)&&!isNaN(parseInt(A))?f.splice(A,1):delete f[A]:f[A]=g:V(N=!(N=f[A])||!x(f,A)?f[A]={}:N,O,g)):g===void 0?y(f)&&!isNaN(parseInt(m))?f.splice(m,1):delete f[m]:f[m]=g}}function M(f){var m,g={};for(m in f)x(f,m)&&(g[m]=f[m]);return g}var P=[].concat;function Y(f){return P.apply([],f)}var Yr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(m){return m+f+"Array"})}))).filter(function(f){return u[f]}),q=new Set(Yr.map(function(f){return u[f]})),Z=null;function k(f){return Z=new WeakMap,f=(function m(g){if(!g||typeof g!="object")return g;var b=Z.get(g);if(b)return b;if(y(g)){b=[],Z.set(g,b);for(var S=0,A=g.length;S<A;++S)b.push(m(g[S]))}else if(q.has(g.constructor))b=g;else{var O,N=E(g);for(O in b=N===Object.prototype?{}:Object.create(N),Z.set(g,b),g)x(g,O)&&(b[O]=m(g[O]))}return b})(f),Z=null,f}var Bt={}.toString;function Kt(f){return Bt.call(f).slice(8,-1)}var le=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_e=typeof le=="symbol"?function(f){var m;return f!=null&&(m=f[le])&&m.apply(f)}:function(){return null};function je(f,m){return m=f.indexOf(m),0<=m&&f.splice(m,1),0<=m}var st={};function ft(f){var m,g,b,S;if(arguments.length===1){if(y(f))return f.slice();if(this===st&&typeof f=="string")return[f];if(S=_e(f)){for(g=[];!(b=S.next()).done;)g.push(b.value);return g}if(f==null)return[f];if(typeof(m=f.length)!="number")return[f];for(g=new Array(m);m--;)g[m]=f[m];return g}for(m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return g}var F=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Gr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gr),pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(f,m){this.name=f,this.message=m}function Pe(f,m){return f+". Errors: "+Object.keys(m).map(function(g){return m[g].toString()}).filter(function(g,b,S){return S.indexOf(g)===b}).join(`
`)}function Ye(f,m,g,b){this.failures=m,this.failedKeys=b,this.successCount=g,this.message=Pe(f,m)}function Je(f,m){this.name="BulkError",this.failures=Object.keys(m).map(function(g){return m[g]}),this.failuresByPos=m,this.message=Pe(f,this.failures)}me(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),me(Ye).from(Ie),me(Je).from(Ie);var dt=Er.reduce(function(f,m){return f[m]=m+"Error",f},{}),gn=Ie,Me=Er.reduce(function(f,m){var g=m+"Error";function b(S,A){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(A?`
 `+A:""),this.inner=A||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=pe[m]||g,this.inner=null)}return me(b).from(gn),f[m]=b,f},{});Me.Syntax=SyntaxError,Me.Type=TypeError,Me.Range=RangeError;var ns=Gr.reduce(function(f,m){return f[m+"Error"]=Me[m],f},{}),zi=Er.reduce(function(f,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(f[m+"Error"]=Me[m]),f},{});function St(){}function di(f){return f}function mi(f,m){return f==null||f===di?m:function(g){return m(f(g))}}function Kr(f,m){return function(){f.apply(this,arguments),m.apply(this,arguments)}}function Is(f,m){return f===St?m:function(){var g=f.apply(this,arguments);g!==void 0&&(arguments[0]=g);var b=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var A=m.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Kr(b,this.onsuccess):b),S&&(this.onerror=this.onerror?Kr(S,this.onerror):S),A!==void 0?A:g}}function Eo(f,m){return f===St?m:function(){f.apply(this,arguments);var g=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Kr(g,this.onsuccess):g),b&&(this.onerror=this.onerror?Kr(b,this.onerror):b)}}function To(f,m){return f===St?m:function(g){var b=f.apply(this,arguments);_(g,b);var S=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,g=m.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Kr(S,this.onsuccess):S),A&&(this.onerror=this.onerror?Kr(A,this.onerror):A),b===void 0?g===void 0?void 0:g:_(b,g)}}function hn(f,m){return f===St?m:function(){return m.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function nn(f,m){return f===St?m:function(){var g=f.apply(this,arguments);if(g&&typeof g.then=="function"){for(var b=this,S=arguments.length,A=new Array(S);S--;)A[S]=arguments[S];return g.then(function(){return m.apply(b,A)})}return m.apply(this,arguments)}}zi.ModifyError=Ye,zi.DexieError=Ie,zi.BulkError=Je;var Pn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function al(f){Pn=f}var rs={},qn=100,Yr=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,E(f),f];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,E(m),f]})(),Gr=Yr[0],Er=Yr[1],Yr=Yr[2],Er=Er&&Er.then,Qr=Gr&&Gr.constructor,pi=!!Yr,xs=function(f,m){is.push([f,m]),Os&&(queueMicrotask(ol),Os=!1)},pa=!0,Os=!0,gi=[],ar=[],yn=di,vn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:St,pgp:!1,env:{},finalize:St},Ne=vn,is=[],wr=0,Ds=[];function Re(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Ne;if(typeof f!="function"){if(f!==rs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Sr(this,this._value))}this._state=null,this._value=null,++m.ref,(function g(b,S){try{S(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var O=b._lib&&$n();A&&typeof A.then=="function"?g(b,function(N,j){A instanceof Re?A._then(N,j):A.then(N,j)}):(b._state=!0,b._value=A,Xr(b)),O&&Ar()}},Sr.bind(null,b))}catch(A){Sr(b,A)}})(this,f)}var Bi={get:function(){var f=Ne,m=or;function g(b,S){var A=this,O=!f.global&&(f!==Ne||m!==or),N=O&&!Ln(),j=new Re(function(z,Q){yr(A,new rn(ks(b,f,O,N),ks(S,f,O,N),z,Q,f))});return this._consoleTask&&(j._consoleTask=this._consoleTask),j}return g.prototype=rs,g},set:function(f){ne(this,"then",f&&f.prototype===rs?Bi:{get:function(){return f},set:Bi.set})}};function rn(f,m,g,b,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof m=="function"?m:null,this.resolve=g,this.reject=b,this.psd=S}function Sr(f,m){var g,b;ar.push(m),f._state===null&&(g=f._lib&&$n(),m=yn(m),f._state=!1,f._value=m,b=f,gi.some(function(S){return S._value===b._value})||gi.push(b),Xr(f),g&&Ar())}function Xr(f){var m=f._listeners;f._listeners=[];for(var g=0,b=m.length;g<b;++g)yr(f,m[g]);var S=f._PSD;--S.ref||S.finalize(),wr===0&&(++wr,xs(function(){--wr==0&&wo()},[]))}function yr(f,m){if(f._state!==null){var g=f._state?m.onFulfilled:m.onRejected;if(g===null)return(f._state?m.resolve:m.reject)(f._value);++m.psd.ref,++wr,xs(lu,[g,f,m])}else f._listeners.push(m)}function lu(f,m,g){try{var b,S=m._value;!m._state&&ar.length&&(ar=[]),b=Pn&&m._consoleTask?m._consoleTask.run(function(){return f(S)}):f(S),m._state||ar.indexOf(S)!==-1||(function(A){for(var O=gi.length;O;)if(gi[--O]._value===A._value)return gi.splice(O,1)})(m),g.resolve(b)}catch(A){g.reject(A)}finally{--wr==0&&wo(),--g.psd.ref||g.psd.finalize()}}function ol(){Hn(vn,function(){$n()&&Ar()})}function $n(){var f=pa;return Os=pa=!1,f}function Ar(){var f,m,g;do for(;0<is.length;)for(f=is,is=[],g=f.length,m=0;m<g;++m){var b=f[m];b[0].apply(null,b[1])}while(0<is.length);Os=pa=!0}function wo(){var f=gi;gi=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var m=Ds.slice(0),g=m.length;g;)m[--g]()}function yi(f){return new Re(rs,!1,f)}function kt(f,m){var g=Ne;return function(){var b=$n(),S=Ne;try{return Jr(g,!0),f.apply(this,arguments)}catch(A){m&&m(A)}finally{Jr(S,!1),b&&Ar()}}}D(Re.prototype,{then:Bi,_then:function(f,m){yr(this,new rn(null,null,f,m,Ne))},catch:function(f){if(arguments.length===1)return this.then(null,f);var m=f,g=arguments[1];return typeof m=="function"?this.then(null,function(b){return(b instanceof m?g:yi)(b)}):this.then(null,function(b){return(b&&b.name===m?g:yi)(b)})},finally:function(f){return this.then(function(m){return Re.resolve(f()).then(function(){return m})},function(m){return Re.resolve(f()).then(function(){return yi(m)})})},timeout:function(f,m){var g=this;return f<1/0?new Re(function(b,S){var A=setTimeout(function(){return S(new Me.Timeout(m))},f);g.then(b,S).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ne(Re.prototype,Symbol.toStringTag,"Dexie.Promise"),vn.env=So(),D(Re,{all:function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.length===0&&m([]);var b=f.length;f.forEach(function(S,A){return Re.resolve(S).then(function(O){f[A]=O,--b||m(f)},g)})})},resolve:function(f){return f instanceof Re?f:f&&typeof f.then=="function"?new Re(function(m,g){f.then(m,g)}):new Re(rs,!0,f)},reject:yi,race:function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.map(function(b){return Re.resolve(b).then(m,g)})})},PSD:{get:function(){return Ne},set:function(f){return Ne=f}},totalEchoes:{get:function(){return or}},newPSD:Pt,usePSD:Hn,scheduler:{get:function(){return xs},set:function(f){xs=f}},rejectionMapper:{get:function(){return yn},set:function(f){yn=f}},follow:function(f,m){return new Re(function(g,b){return Pt(function(S,A){var O=Ne;O.unhandleds=[],O.onunhandled=A,O.finalize=Kr(function(){var N,j=this;N=function(){j.unhandleds.length===0?S():A(j.unhandleds[0])},Ds.push(function z(){N(),Ds.splice(Ds.indexOf(z),1)}),++wr,xs(function(){--wr==0&&wo()},[])},O.finalize),f()},m,g,b)})}}),Qr&&(Qr.allSettled&&ne(Re,"allSettled",function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m){f.length===0&&m([]);var g=f.length,b=new Array(g);f.forEach(function(S,A){return Re.resolve(S).then(function(O){return b[A]={status:"fulfilled",value:O}},function(O){return b[A]={status:"rejected",reason:O}}).then(function(){return--g||m(b)})})})}),Qr.any&&typeof AggregateError<"u"&&ne(Re,"any",function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.length===0&&g(new AggregateError([]));var b=f.length,S=new Array(b);f.forEach(function(A,O){return Re.resolve(A).then(function(N){return m(N)},function(N){S[O]=N,--b||g(new AggregateError(S))})})})}),Qr.withResolvers&&(Re.withResolvers=Qr.withResolvers));var Wt={awaits:0,echoes:0,id:0},Ns=0,Cr=[],Ms=0,or=0,$r=0;function Pt(f,m,g,b){var S=Ne,A=Object.create(S);return A.parent=S,A.ref=0,A.global=!1,A.id=++$r,vn.env,A.env=pi?{Promise:Re,PromiseProp:{value:Re,configurable:!0,writable:!0},all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{},m&&_(A,m),++S.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Hn(A,f,g,b),A.ref===0&&A.finalize(),b}function Yt(){return Wt.id||(Wt.id=++Ns),++Wt.awaits,Wt.echoes+=qn,Wt.id}function Ln(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*qn,!0)}function qi(f){return Wt.echoes&&f&&f.constructor===Qr?(Yt(),f.then(function(m){return Ln(),m},function(m){return Ln(),Rt(m)})):f}function uu(){var f=Cr[Cr.length-1];Cr.pop(),Jr(f,!1)}function Jr(f,m){var g,b=Ne;(m?!Wt.echoes||Ms++&&f===Ne:!Ms||--Ms&&f===Ne)||queueMicrotask(m?(function(S){++or,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Cr.push(Ne),Jr(S,!0)}).bind(null,f):uu),f!==Ne&&(Ne=f,b===vn&&(vn.env=So()),pi&&(g=vn.env.Promise,m=f.env,(b.global||f.global)&&(Object.defineProperty(u,"Promise",m.PromiseProp),g.all=m.all,g.race=m.race,g.resolve=m.resolve,g.reject=m.reject,m.allSettled&&(g.allSettled=m.allSettled),m.any&&(g.any=m.any))))}function So(){var f=u.Promise;return pi?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Hn(f,m,g,b,S){var A=Ne;try{return Jr(f,!0),m(g,b,S)}finally{Jr(A,!1)}}function ks(f,m,g,b){return typeof f!="function"?f:function(){var S=Ne;g&&Yt(),Jr(m,!0);try{return f.apply(this,arguments)}finally{Jr(S,!1),b&&queueMicrotask(Ln)}}}function Rr(f){Promise===Qr&&Wt.echoes===0?Ms===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Er).indexOf("[native code]")===-1&&(Yt=Ln=St);var Rt=Re.reject,_n="",Cn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sn="String expected.",vi=[],ss="__dbnames",Ir="readonly",xr="readwrite";function Wr(f,m){return f?m?function(){return f.apply(this,arguments)&&m.apply(this,arguments)}:f:m}var ga={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function as(f){return typeof f!="string"||/\./.test(f)?function(m){return m}:function(m){return m[f]===void 0&&f in m&&delete(m=k(m))[f],m}}function Ao(){throw Me.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function at(f,m){try{var g=lr(f),b=lr(m);if(g!==b)return g==="Array"?1:b==="Array"?-1:g==="binary"?1:b==="binary"?-1:g==="string"?1:b==="string"?-1:g==="Date"?1:b!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return m<f?1:f<m?-1:0;case"binary":return(function(S,A){for(var O=S.length,N=A.length,j=O<N?O:N,z=0;z<j;++z)if(S[z]!==A[z])return S[z]<A[z]?-1:1;return O===N?0:O<N?-1:1})(an(f),an(m));case"Array":return(function(S,A){for(var O=S.length,N=A.length,j=O<N?O:N,z=0;z<j;++z){var Q=at(S[z],A[z]);if(Q!==0)return Q}return O===N?0:O<N?-1:1})(f,m)}}catch{}return NaN}function lr(f){var m=typeof f;return m!="object"?m:ArrayBuffer.isView(f)?"binary":(f=Kt(f),f==="ArrayBuffer"?"binary":f)}function an(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function on(f,m,g){var b=f.schema.yProps;return b?(m&&0<g.numFailures&&(m=m.filter(function(S,A){return!g.failures[A]})),Promise.all(b.map(function(S){return S=S.updatesTable,m?f.db.table(S).where("k").anyOf(m).delete():f.db.table(S).clear()})).then(function(){return g})):g}var Or=(ya.prototype.execute=function(f){var m=this["@@propmod"];if(m.add!==void 0){var g=m.add;if(y(g))return o(o([],y(f)?f:[],!0),g).sort();if(typeof g=="number")return(Number(f)||0)+g;if(typeof g=="bigint")try{return BigInt(f)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(m.remove!==void 0){var b=m.remove;if(y(b))return y(f)?f.filter(function(S){return!b.includes(S)}).sort():[];if(typeof b=="number")return Number(f)-b;if(typeof b=="bigint")try{return BigInt(f)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return g=(g=m.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof f=="string"&&f.startsWith(g)?m.replacePrefix[1]+f.substring(g.length):f},ya);function ya(f){this["@@propmod"]=f}function xt(f,m){for(var g=d(m),b=g.length,S=!1,A=0;A<b;++A){var O=g[A],N=m[O],j=$e(f,O);N instanceof Or?(V(f,O,N.execute(j)),S=!0):j!==N&&(V(f,O,N),S=!0)}return S}var os=(pt.prototype._trans=function(f,m,g){var b=this._tx||Ne.trans,S=this.name,A=Pn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function O(z,Q,U){if(!U.schema[S])throw new Me.NotFound("Table "+S+" not part of transaction");return m(U.idbtrans,U)}var N=$n();try{var j=b&&b.db._novip===this.db._novip?b===Ne.trans?b._promise(f,O,g):Pt(function(){return b._promise(f,O,g)},{trans:b,transless:Ne.transless||Ne}):(function z(Q,U,J,B){if(Q.idbdb&&(Q._state.openComplete||Ne.letThrough||Q._vip)){var K=Q._createTransaction(U,J,Q._dbSchema);try{K.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===dt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,J,B)})):Rt(G)}return K._promise(U,function(G,X){return Pt(function(){return Ne.trans=K,B(G,X,K)})}).then(function(G){if(U==="readwrite")try{K.idbtrans.commit()}catch{}return U==="readonly"?G:K._completion.then(function(){return G})})}if(Q._state.openComplete)return Rt(new Me.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Rt(new Me.DatabaseClosed);Q.open().catch(St)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,J,B)})})(this.db,f,[this.name],O);return A&&(j._consoleTask=A,j=j.catch(function(z){return console.trace(z),Rt(z)})),j}finally{N&&Ar()}},pt.prototype.get=function(f,m){var g=this;return f&&f.constructor===Object?this.where(f).first(m):f==null?Rt(new Me.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return g.core.get({trans:b,key:f}).then(function(S){return g.hook.reading.fire(S)})}).then(m)},pt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(y(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var m=d(f);if(m.length===1)return this.where(m[0]).equals(f[m[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&m.every(function(z){return 0<=N.keyPath.indexOf(z)})){for(var j=0;j<m.length;++j)if(m.indexOf(N.keyPath[j])===-1)return!1;return!0}return!1}).sort(function(N,j){return N.keyPath.length-j.keyPath.length})[0];if(g&&this.db._maxKey!==_n){var A=g.keyPath.slice(0,m.length);return this.where(A).equals(A.map(function(j){return f[j]}))}!g&&Pn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var b=this.schema.idxByName;function S(N,j){return at(N,j)===0}var O=m.reduce(function(U,j){var z=U[0],Q=U[1],U=b[j],J=f[j];return[z||U,z||!U?Wr(Q,U&&U.multi?function(B){return B=$e(B,j),y(B)&&B.some(function(K){return S(J,K)})}:function(B){return S(J,$e(B,j))}):Q]},[null,null]),A=O[0],O=O[1];return A?this.where(A.name).equals(f[A.keyPath]).filter(O):g?this.filter(O):this.where(m).equals("")},pt.prototype.filter=function(f){return this.toCollection().and(f)},pt.prototype.count=function(f){return this.toCollection().count(f)},pt.prototype.offset=function(f){return this.toCollection().offset(f)},pt.prototype.limit=function(f){return this.toCollection().limit(f)},pt.prototype.each=function(f){return this.toCollection().each(f)},pt.prototype.toArray=function(f){return this.toCollection().toArray(f)},pt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,y(f)?"[".concat(f.join("+"),"]"):f))},pt.prototype.reverse=function(){return this.toCollection().reverse()},pt.prototype.mapToClass=function(f){var m,g=this.db,b=this.name;function S(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Ao&&((function(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=j}n(j,z),j.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)})(S,m=f),Object.defineProperty(S.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),S.prototype.table=function(){return b},f=S);for(var A=new Set,O=f.prototype;O;O=E(O))Object.getOwnPropertyNames(O).forEach(function(j){return A.add(j)});function N(j){if(!j)return j;var z,Q=Object.create(f.prototype);for(z in j)if(!A.has(z))try{Q[z]=j[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),f},pt.prototype.defineClass=function(){return this.mapToClass(function(f){_(this,f)})},pt.prototype.add=function(f,m){var g=this,b=this.schema.primKey,S=b.auto,A=b.keyPath,O=f;return A&&S&&(O=as(A)(f)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"add",keys:m!=null?[m]:null,values:[O]})}).then(function(N){return N.numFailures?Re.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{V(f,A,N)}catch{}return N})},pt.prototype.upsert=function(f,m){var g=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return g.core.get({trans:S,key:f}).then(function(A){var O=A??{};return xt(O,m),b&&V(O,b,f),g.core.mutate({trans:S,type:"put",values:[O],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[m]}}).then(function(N){return N.numFailures?Re.reject(N.failures[0]):!!A})})})},pt.prototype.update=function(f,m){return typeof f!="object"||y(f)?this.where(":id").equals(f).modify(m):(f=$e(f,this.schema.primKey.keyPath),f===void 0?Rt(new Me.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(m))},pt.prototype.put=function(f,m){var g=this,b=this.schema.primKey,S=b.auto,A=b.keyPath,O=f;return A&&S&&(O=as(A)(f)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"put",values:[O],keys:m!=null?[m]:null})}).then(function(N){return N.numFailures?Re.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{V(f,A,N)}catch{}return N})},pt.prototype.delete=function(f){var m=this;return this._trans("readwrite",function(g){return m.core.mutate({trans:g,type:"delete",keys:[f]}).then(function(b){return on(m,[f],b)}).then(function(b){return b.numFailures?Re.reject(b.failures[0]):void 0})})},pt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"deleteRange",range:ga}).then(function(g){return on(f,null,g)})}).then(function(m){return m.numFailures?Re.reject(m.failures[0]):void 0})},pt.prototype.bulkGet=function(f){var m=this;return this._trans("readonly",function(g){return m.core.getMany({keys:f,trans:g}).then(function(b){return b.map(function(S){return m.hook.reading.fire(S)})})})},pt.prototype.bulkAdd=function(f,m,g){var b=this,S=Array.isArray(m)?m:void 0,A=(g=g||(S?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(O){var z=b.schema.primKey,N=z.auto,z=z.keyPath;if(z&&S)throw new Me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Me.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&N?f.map(as(z)):f;return b.core.mutate({trans:O,type:"add",keys:S,values:z,wantResults:A}).then(function(K){var U=K.numFailures,J=K.results,B=K.lastResult,K=K.failures;if(U===0)return A?J:B;throw new Je("".concat(b.name,".bulkAdd(): ").concat(U," of ").concat(j," operations failed"),K)})})},pt.prototype.bulkPut=function(f,m,g){var b=this,S=Array.isArray(m)?m:void 0,A=(g=g||(S?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(O){var z=b.schema.primKey,N=z.auto,z=z.keyPath;if(z&&S)throw new Me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Me.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&N?f.map(as(z)):f;return b.core.mutate({trans:O,type:"put",keys:S,values:z,wantResults:A}).then(function(K){var U=K.numFailures,J=K.results,B=K.lastResult,K=K.failures;if(U===0)return A?J:B;throw new Je("".concat(b.name,".bulkPut(): ").concat(U," of ").concat(j," operations failed"),K)})})},pt.prototype.bulkUpdate=function(f){var m=this,g=this.core,b=f.map(function(O){return O.key}),S=f.map(function(O){return O.changes}),A=[];return this._trans("readwrite",function(O){return g.getMany({trans:O,keys:b,cache:"clone"}).then(function(N){var j=[],z=[];f.forEach(function(U,J){var B=U.key,K=U.changes,G=N[J];if(G){for(var X=0,re=Object.keys(K);X<re.length;X++){var ae=re[X],fe=K[ae];if(ae===m.schema.primKey.keyPath){if(at(fe,B)!==0)throw new Me.Constraint("Cannot update primary key in bulkUpdate()")}else V(G,ae,fe)}A.push(J),j.push(B),z.push(G)}});var Q=j.length;return g.mutate({trans:O,type:"put",keys:j,values:z,updates:{keys:b,changeSpecs:S}}).then(function(U){var J=U.numFailures,B=U.failures;if(J===0)return Q;for(var K=0,G=Object.keys(B);K<G.length;K++){var X,re=G[K],ae=A[Number(re)];ae!=null&&(X=B[re],delete B[re],B[ae]=X)}throw new Je("".concat(m.name,".bulkUpdate(): ").concat(J," of ").concat(Q," operations failed"),B)})})})},pt.prototype.bulkDelete=function(f){var m=this,g=f.length;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:f}).then(function(S){return on(m,f,S)})}).then(function(O){var S=O.numFailures,A=O.lastResult,O=O.failures;if(S===0)return A;throw new Je("".concat(m.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),O)})},pt);function pt(){}function Zr(f){function m(O,N){if(N){for(var j=arguments.length,z=new Array(j-1);--j;)z[j-1]=arguments[j];return g[O].subscribe.apply(null,z),f}if(typeof O=="string")return g[O]}var g={};m.addEventType=A;for(var b=1,S=arguments.length;b<S;++b)A(arguments[b]);return m;function A(O,N,j){if(typeof O!="object"){var z;N=N||hn;var Q={subscribers:[],fire:j=j||St,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=N(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function(J){return J!==U}),Q.fire=Q.subscribers.reduce(N,j)}};return g[O]=m[O]=Q}d(z=O).forEach(function(U){var J=z[U];if(y(J))A(U,z[U][0],z[U][1]);else{if(J!=="asap")throw new Me.InvalidArgument("Invalid event config");var B=A(U,di,function(){for(var K=arguments.length,G=new Array(K);K--;)G[K]=arguments[K];B.subscribers.forEach(function(X){Nt(function(){X.apply(null,G)})})})}})}}function Rn(f,m){return me(m).from({prototype:f}),m}function ei(f,m){return!(f.filter||f.algorithm||f.or)&&(m?f.justLimit:!f.replayFilter)}function va(f,m){f.filter=Wr(f.filter,m)}function Vs(f,m,g){var b=f.replayFilter;f.replayFilter=b?function(){return Wr(b(),m())}:m,f.justLimit=g&&!b}function ti(f,m){if(f.isPrimKey)return m.primaryKey;var g=m.getIndexByKeyPath(f.index);if(!g)throw new Me.Schema("KeyPath "+f.index+" on object store "+m.name+" is not indexed");return g}function Co(f,m,g){var b=ti(f,m.schema);return m.openCursor({trans:g,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:b,range:f.range}})}function ni(f,m,g,b){var S=f.replayFilter?Wr(f.filter,f.replayFilter()):f.filter;if(f.or){var A={},O=function(N,j,z){var Q,U;S&&!S(j,z,function(J){return j.stop(J)},function(J){return j.fail(J)})||((U=""+(Q=j.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),x(A,U)||(A[U]=!0,m(N,j,z)))};return Promise.all([f.or._iterate(O,g),Jn(Co(f,b,g),f.algorithm,O,!f.keysOnly&&f.valueMapper)])}return Jn(Co(f,b,g),Wr(f.algorithm,S),m,!f.keysOnly&&f.valueMapper)}function Jn(f,m,g,b){var S=kt(b?function(A,O,N){return g(b(A),O,N)}:g);return f.then(function(A){if(A)return A.start(function(){var O=function(){return A.continue()};m&&!m(A,function(N){return O=N},function(N){A.stop(N),O=St},function(N){A.fail(N),O=St})||S(A.value,A,function(N){return O=N}),O()})})}var ll=(mt.prototype._read=function(f,m){var g=this._ctx;return g.error?g.table._trans(null,Rt.bind(null,g.error)):g.table._trans("readonly",f).then(m)},mt.prototype._write=function(f){var m=this._ctx;return m.error?m.table._trans(null,Rt.bind(null,m.error)):m.table._trans("readwrite",f,"locked")},mt.prototype._addAlgorithm=function(f){var m=this._ctx;m.algorithm=Wr(m.algorithm,f)},mt.prototype._iterate=function(f,m){return ni(this._ctx,f,m,this._ctx.table.core)},mt.prototype.clone=function(f){var m=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return f&&_(g,f),m._ctx=g,m},mt.prototype.raw=function(){return this._ctx.valueMapper=null,this},mt.prototype.each=function(f){var m=this._ctx;return this._read(function(g){return ni(m,f,g,m.table.core)})},mt.prototype.count=function(f){var m=this;return this._read(function(g){var b=m._ctx,S=b.table.core;if(ei(b,!0))return S.count({trans:g,query:{index:ti(b,S.schema),range:b.range}}).then(function(O){return Math.min(O,b.limit)});var A=0;return ni(b,function(){return++A,!1},g,S).then(function(){return A})}).then(f)},mt.prototype.sortBy=function(f,m){var g=f.split(".").reverse(),b=g[0],S=g.length-1;function A(j,z){return z?A(j[g[z]],z-1):j[b]}var O=this._ctx.dir==="next"?1:-1;function N(j,z){return at(A(j,S),A(z,S))*O}return this.toArray(function(j){return j.sort(N)}).then(m)},mt.prototype.toArray=function(f){var m=this;return this._read(function(g){var b=m._ctx;if(b.dir==="next"&&ei(b,!0)&&0<b.limit){var S=b.valueMapper,A=ti(b,b.table.core.schema);return b.table.core.query({trans:g,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(N){return N=N.result,S?N.map(S):N})}var O=[];return ni(b,function(N){return O.push(N)},g,b.table.core).then(function(){return O})},f)},mt.prototype.offset=function(f){var m=this._ctx;return f<=0||(m.offset+=f,ei(m)?Vs(m,function(){var g=f;return function(b,S){return g===0||(g===1?--g:S(function(){b.advance(g),g=0}),!1)}}):Vs(m,function(){var g=f;return function(){return--g<0}})),this},mt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Vs(this._ctx,function(){var m=f;return function(g,b,S){return--m<=0&&b(S),0<=m}},!0),this},mt.prototype.until=function(f,m){return va(this._ctx,function(g,b,S){return!f(g.value)||(b(S),m)}),this},mt.prototype.first=function(f){return this.limit(1).toArray(function(m){return m[0]}).then(f)},mt.prototype.last=function(f){return this.reverse().first(f)},mt.prototype.filter=function(f){var m;return va(this._ctx,function(g){return f(g.value)}),(m=this._ctx).isMatch=Wr(m.isMatch,f),this},mt.prototype.and=function(f){return this.filter(f)},mt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},mt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},mt.prototype.desc=function(){return this.reverse()},mt.prototype.eachKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.key,b)})},mt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},mt.prototype.eachPrimaryKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.primaryKey,b)})},mt.prototype.keys=function(f){var m=this._ctx;m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,S){g.push(S.key)}).then(function(){return g}).then(f)},mt.prototype.primaryKeys=function(f){var m=this._ctx;if(m.dir==="next"&&ei(m,!0)&&0<m.limit)return this._read(function(b){var S=ti(m,m.table.core.schema);return m.table.core.query({trans:b,values:!1,limit:m.limit,query:{index:S,range:m.range}})}).then(function(b){return b.result}).then(f);m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,S){g.push(S.primaryKey)}).then(function(){return g}).then(f)},mt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},mt.prototype.firstKey=function(f){return this.limit(1).keys(function(m){return m[0]}).then(f)},mt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},mt.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var m={};return va(this._ctx,function(S){var b=S.primaryKey.toString(),S=x(m,b);return m[b]=!0,!S}),this},mt.prototype.modify=function(f){var m=this,g=this._ctx;return this._write(function(b){var S=typeof f=="function"?f:function(G){return xt(G,f)},A=g.table.core,z=A.schema.primaryKey,O=z.outbound,N=z.extractKey,j=200,z=m.db._options.modifyChunkSize;z&&(j=typeof z=="object"?z[A.name]||z["*"]||200:z);function Q(G,ae){var re=ae.failures,ae=ae.numFailures;J+=G-ae;for(var fe=0,ge=d(re);fe<ge.length;fe++){var Se=ge[fe];U.push(re[Se])}}var U=[],J=0,B=[],K=f===_a;return m.clone().primaryKeys().then(function(G){function X(ae){var fe=Math.min(j,G.length-ae),ge=G.slice(ae,ae+fe);return(K?Promise.resolve([]):A.getMany({trans:b,keys:ge,cache:"immutable"})).then(function(Se){var Oe=[],Te=[],Ce=O?[]:null,xe=K?ge:[];if(!K)for(var we=0;we<fe;++we){var Ve=Se[we],Fe={value:k(Ve),primKey:G[ae+we]};S.call(Fe,Fe.value,Fe)!==!1&&(Fe.value==null?xe.push(G[ae+we]):O||at(N(Ve),N(Fe.value))===0?(Te.push(Fe.value),O&&Ce.push(G[ae+we])):(xe.push(G[ae+we]),Oe.push(Fe.value)))}return Promise.resolve(0<Oe.length&&A.mutate({trans:b,type:"add",values:Oe}).then(function(Ze){for(var ot in Ze.failures)xe.splice(parseInt(ot),1);Q(Oe.length,Ze)})).then(function(){return(0<Te.length||re&&typeof f=="object")&&A.mutate({trans:b,type:"put",keys:Ce,values:Te,criteria:re,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<ae}).then(function(Ze){return Q(Te.length,Ze)})}).then(function(){return(0<xe.length||re&&K)&&A.mutate({trans:b,type:"delete",keys:xe,criteria:re,isAdditionalChunk:0<ae}).then(function(Ze){return on(g.table,xe,Ze)}).then(function(Ze){return Q(xe.length,Ze)})}).then(function(){return G.length>ae+fe&&X(ae+j)})})}var re=ei(g)&&g.limit===1/0&&(typeof f!="function"||K)&&{index:g.index,range:g.range};return X(0).then(function(){if(0<U.length)throw new Ye("Error modifying one or more objects",U,J,B);return G.length})})})},mt.prototype.delete=function(){var f=this._ctx,m=f.range;return!ei(f)||f.table.schema.yProps||!f.isPrimKey&&m.type!==3?this.modify(_a):this._write(function(g){var b=f.table.core.schema.primaryKey,S=m;return f.table.core.count({trans:g,query:{index:b,range:S}}).then(function(A){return f.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(j){var N=j.failures,j=j.numFailures;if(j)throw new Ye("Could not delete some values",Object.keys(N).map(function(z){return N[z]}),A-j);return A-j})})})},mt);function mt(){}var _a=function(f,m){return m.value=null};function ba(f,m){return f<m?-1:f===m?0:1}function ul(f,m){return m<f?-1:f===m?0:1}function dn(f,m,g){return f=f instanceof Hi?new f.Collection(f):f,f._ctx.error=new(g||TypeError)(m),f}function ri(f){return new f.Collection(f,function(){return vr("")}).limit(0)}function ur(f,m,g,b){var S,A,O,N,j,z,Q,U=g.length;if(!g.every(function(K){return typeof K=="string"}))return dn(f,sn);function J(K){S=K==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=K==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},O=K==="next"?ba:ul;var G=g.map(function(X){return{lower:A(X),upper:S(X)}}).sort(function(X,re){return O(X.lower,re.lower)});N=G.map(function(X){return X.upper}),j=G.map(function(X){return X.lower}),Q=(z=K)==="next"?"":b}J("next"),f=new f.Collection(f,function(){return Dr(N[0],j[U-1]+b)}),f._ondirectionchange=function(K){J(K)};var B=0;return f._addAlgorithm(function(K,G,X){var re=K.key;if(typeof re!="string")return!1;var ae=A(re);if(m(ae,j,B))return!0;for(var fe=null,ge=B;ge<U;++ge){var Se=(function(Oe,Te,Ce,xe,we,Ve){for(var Fe=Math.min(Oe.length,xe.length),Ze=-1,ot=0;ot<Fe;++ot){var Gn=Te[ot];if(Gn!==xe[ot])return we(Oe[ot],Ce[ot])<0?Oe.substr(0,ot)+Ce[ot]+Ce.substr(ot+1):we(Oe[ot],xe[ot])<0?Oe.substr(0,ot)+xe[ot]+Ce.substr(ot+1):0<=Ze?Oe.substr(0,Ze)+Te[Ze]+Ce.substr(Ze+1):null;we(Oe[ot],Gn)<0&&(Ze=ot)}return Fe<xe.length&&Ve==="next"?Oe+Ce.substr(Oe.length):Fe<Oe.length&&Ve==="prev"?Oe.substr(0,Ce.length):Ze<0?null:Oe.substr(0,Ze)+xe[Ze]+Ce.substr(Ze+1)})(re,ae,N[ge],j[ge],O,z);Se===null&&fe===null?B=ge+1:(fe===null||0<O(fe,Se))&&(fe=Se)}return G(fe!==null?function(){K.continue(fe+Q)}:X),!1}),f}function Dr(f,m,g,b){return{type:2,lower:f,upper:m,lowerOpen:g,upperOpen:b}}function vr(f){return{type:1,lower:f,upper:f}}var Hi=(Object.defineProperty(Lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Lt.prototype.between=function(f,m,g,b){g=g!==!1,b=b===!0;try{return 0<this._cmp(f,m)||this._cmp(f,m)===0&&(g||b)&&(!g||!b)?ri(this):new this.Collection(this,function(){return Dr(f,m,!g,!b)})}catch{return dn(this,Cn)}},Lt.prototype.equals=function(f){return f==null?dn(this,Cn):new this.Collection(this,function(){return vr(f)})},Lt.prototype.above=function(f){return f==null?dn(this,Cn):new this.Collection(this,function(){return Dr(f,void 0,!0)})},Lt.prototype.aboveOrEqual=function(f){return f==null?dn(this,Cn):new this.Collection(this,function(){return Dr(f,void 0,!1)})},Lt.prototype.below=function(f){return f==null?dn(this,Cn):new this.Collection(this,function(){return Dr(void 0,f,!1,!0)})},Lt.prototype.belowOrEqual=function(f){return f==null?dn(this,Cn):new this.Collection(this,function(){return Dr(void 0,f)})},Lt.prototype.startsWith=function(f){return typeof f!="string"?dn(this,sn):this.between(f,f+_n,!0,!0)},Lt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):ur(this,function(m,g){return m.indexOf(g[0])===0},[f],_n)},Lt.prototype.equalsIgnoreCase=function(f){return ur(this,function(m,g){return m===g[0]},[f],"")},Lt.prototype.anyOfIgnoreCase=function(){var f=ft.apply(st,arguments);return f.length===0?ri(this):ur(this,function(m,g){return g.indexOf(m)!==-1},f,"")},Lt.prototype.startsWithAnyOfIgnoreCase=function(){var f=ft.apply(st,arguments);return f.length===0?ri(this):ur(this,function(m,g){return g.some(function(b){return m.indexOf(b)===0})},f,_n)},Lt.prototype.anyOf=function(){var f=this,m=ft.apply(st,arguments),g=this._cmp;try{m.sort(g)}catch{return dn(this,Cn)}if(m.length===0)return ri(this);var b=new this.Collection(this,function(){return Dr(m[0],m[m.length-1])});b._ondirectionchange=function(A){g=A==="next"?f._ascending:f._descending,m.sort(g)};var S=0;return b._addAlgorithm(function(A,O,N){for(var j=A.key;0<g(j,m[S]);)if(++S===m.length)return O(N),!1;return g(j,m[S])===0||(O(function(){A.continue(m[S])}),!1)}),b},Lt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Lt.prototype.noneOf=function(){var f=ft.apply(st,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return dn(this,Cn)}var m=f.reduce(function(g,b){return g?g.concat([[g[g.length-1][1],b]]):[[-1/0,b]]},null);return m.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Lt.prototype.inAnyRange=function(re,m){var g=this,b=this._cmp,S=this._ascending,A=this._descending,O=this._min,N=this._max;if(re.length===0)return ri(this);if(!re.every(function(ae){return ae[0]!==void 0&&ae[1]!==void 0&&S(ae[0],ae[1])<=0}))return dn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Me.InvalidArgument);var j=!m||m.includeLowers!==!1,z=m&&m.includeUppers===!0,Q,U=S;function J(ae,fe){return U(ae[0],fe[0])}try{(Q=re.reduce(function(ae,fe){for(var ge=0,Se=ae.length;ge<Se;++ge){var Oe=ae[ge];if(b(fe[0],Oe[1])<0&&0<b(fe[1],Oe[0])){Oe[0]=O(Oe[0],fe[0]),Oe[1]=N(Oe[1],fe[1]);break}}return ge===Se&&ae.push(fe),ae},[])).sort(J)}catch{return dn(this,Cn)}var B=0,K=z?function(ae){return 0<S(ae,Q[B][1])}:function(ae){return 0<=S(ae,Q[B][1])},G=j?function(ae){return 0<A(ae,Q[B][0])}:function(ae){return 0<=A(ae,Q[B][0])},X=K,re=new this.Collection(this,function(){return Dr(Q[0][0],Q[Q.length-1][1],!j,!z)});return re._ondirectionchange=function(ae){U=ae==="next"?(X=K,S):(X=G,A),Q.sort(J)},re._addAlgorithm(function(ae,fe,ge){for(var Se,Oe=ae.key;X(Oe);)if(++B===Q.length)return fe(ge),!1;return!K(Se=Oe)&&!G(Se)||(g._cmp(Oe,Q[B][1])===0||g._cmp(Oe,Q[B][0])===0||fe(function(){U===S?ae.continue(Q[B][0]):ae.continue(Q[B][1])}),!1)}),re},Lt.prototype.startsWithAnyOf=function(){var f=ft.apply(st,arguments);return f.every(function(m){return typeof m=="string"})?f.length===0?ri(this):this.inAnyRange(f.map(function(m){return[m,m+_n]})):dn(this,"startsWithAnyOf() only works with strings")},Lt);function Lt(){}function Fn(f){return kt(function(m){return _i(m),f(m.target.error),!1})}function _i(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var Nr="storagemutated",_r="x-storagemutated-1",bn=Zr(null,Nr),Ps=(ht.prototype._lock=function(){return ct(!Ne.global),++this._reculock,this._reculock!==1||Ne.global||(Ne.lockOwnerFor=this),this},ht.prototype._unlock=function(){if(ct(!Ne.global),--this._reculock==0)for(Ne.global||(Ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Hn(f[1],f[0])}catch{}}return this},ht.prototype._locked=function(){return this._reculock&&Ne.lockOwnerFor!==this},ht.prototype.create=function(f){var m=this;if(!this.mode)return this;var g=this.db.idbdb,b=this.db._state.dbOpenError;if(ct(!this.idbtrans),!f&&!g)switch(b&&b.name){case"DatabaseClosedError":throw new Me.DatabaseClosed(b);case"MissingAPIError":throw new Me.MissingAPI(b.message,b);default:throw new Me.OpenFailed(b)}if(!this.active)throw new Me.TransactionInactive;return ct(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(S){_i(S),m._reject(f.error)}),f.onabort=kt(function(S){_i(S),m.active&&m._reject(new Me.Abort(f.error)),m.active=!1,m.on("abort").fire(S)}),f.oncomplete=kt(function(){m.active=!1,m._resolve(),"mutatedParts"in f&&bn.storagemutated.fire(f.mutatedParts)}),this},ht.prototype._promise=function(f,m,g){var b=this;if(f==="readwrite"&&this.mode!=="readwrite")return Rt(new Me.ReadOnly("Transaction is readonly"));if(!this.active)return Rt(new Me.TransactionInactive);if(this._locked())return new Re(function(A,O){b._blockedFuncs.push([function(){b._promise(f,m,g).then(A,O)},Ne])});if(g)return Pt(function(){var A=new Re(function(O,N){b._lock();var j=m(O,N,b);j&&j.then&&j.then(O,N)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var S=new Re(function(A,O){var N=m(A,O,b);N&&N.then&&N.then(A,O)});return S._lib=!0,S},ht.prototype._root=function(){return this.parent?this.parent._root():this},ht.prototype.waitFor=function(f){var m,g=this._root(),b=Re.resolve(f);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return b}):(g._waitingFor=b,g._waitingQueue=[],m=g.idbtrans.objectStore(g.storeNames[0]),(function A(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(m.get(-1/0).onsuccess=A)})());var S=g._waitingFor;return new Re(function(A,O){b.then(function(N){return g._waitingQueue.push(kt(A.bind(null,N)))},function(N){return g._waitingQueue.push(kt(O.bind(null,N)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},ht.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Me.Abort))},ht.prototype.table=function(f){var m=this._memoizedTables||(this._memoizedTables={});if(x(m,f))return m[f];var g=this.schema[f];if(!g)throw new Me.NotFound("Table "+f+" not part of transaction");return g=new this.db.Table(f,g,this),g.core=this.db.core.table(f),m[f]=g},ht);function ht(){}function Mr(f,m,g,b,S,A,O,N){return{name:f,keyPath:m,unique:g,multi:b,auto:S,compound:A,src:(g&&!O?"&":"")+(b?"*":"")+(S?"++":"")+Ea(m),type:N}}function Ea(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Fi(f,m,g){return{name:f,primKey:m,indexes:g,mappedClass:null,idxByName:(b=function(S){return[S.name,S]},g.reduce(function(S,A,O){return O=b(A,O),O&&(S[O[0]]=O[1]),S},{}))};var b}var Ki=function(f){try{return f.only([[]]),Ki=function(){return[[]]},[[]]}catch{return Ki=function(){return _n},_n}};function Gi(f){return f==null?function(){}:typeof f=="string"?(m=f).split(".").length===1?function(g){return g[m]}:function(g){return $e(g,m)}:function(g){return $e(g,f)};var m}function bi(f){return[].slice.call(f)}var ii=0;function ln(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Yi(f,m,j){function b(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var B=X.lower,K=X.upper,G=X.lowerOpen,X=X.upperOpen;return B===void 0?K===void 0?null:m.upperBound(K,!!X):K===void 0?m.lowerBound(B,!!G):m.bound(B,K,!!G,!!X)}function S(J){var B,K=J.name;return{name:K,schema:J,mutate:function(G){var X=G.trans,re=G.type,ae=G.keys,fe=G.values,ge=G.range;return new Promise(function(Se,Oe){Se=kt(Se);var Te=X.objectStore(K),Ce=Te.keyPath==null,xe=re==="put"||re==="add";if(!xe&&re!=="delete"&&re!=="deleteRange")throw new Error("Invalid operation type: "+re);var we,Ve=(ae||fe||{length:1}).length;if(ae&&fe&&ae.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if(Ve===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function Fe(xn){++Gn,_i(xn)}var Ze=[],ot=[],Gn=0;if(re==="deleteRange"){if(ge.type===4)return Se({numFailures:Gn,failures:ot,results:[],lastResult:void 0});ge.type===3?Ze.push(we=Te.clear()):Ze.push(we=Te.delete(b(ge)))}else{var Ce=xe?Ce?[fe,ae]:[fe,null]:[ae,null],We=Ce[0],In=Ce[1];if(xe)for(var Zt=0;Zt<Ve;++Zt)Ze.push(we=In&&In[Zt]!==void 0?Te[re](We[Zt],In[Zt]):Te[re](We[Zt])),we.onerror=Fe;else for(Zt=0;Zt<Ve;++Zt)Ze.push(we=Te[re](We[Zt])),we.onerror=Fe}function No(xn){xn=xn.target.result,Ze.forEach(function(Ur,hu){return Ur.error!=null&&(ot[hu]=Ur.error)}),Se({numFailures:Gn,failures:ot,results:re==="delete"?ae:Ze.map(function(Ur){return Ur.result}),lastResult:xn})}we.onerror=function(xn){Fe(xn),No(xn)},we.onsuccess=No})},getMany:function(G){var X=G.trans,re=G.keys;return new Promise(function(ae,fe){ae=kt(ae);for(var ge,Se=X.objectStore(K),Oe=re.length,Te=new Array(Oe),Ce=0,xe=0,we=function(Ze){Ze=Ze.target,Te[Ze._pos]=Ze.result,++xe===Ce&&ae(Te)},Ve=Fn(fe),Fe=0;Fe<Oe;++Fe)re[Fe]!=null&&((ge=Se.get(re[Fe]))._pos=Fe,ge.onsuccess=we,ge.onerror=Ve,++Ce);Ce===0&&ae(Te)})},get:function(G){var X=G.trans,re=G.key;return new Promise(function(ae,fe){ae=kt(ae);var ge=X.objectStore(K).get(re);ge.onsuccess=function(Se){return ae(Se.target.result)},ge.onerror=Fn(fe)})},query:(B=z,function(G){return new Promise(function(X,re){X=kt(X);var ae,fe,ge,Ce=G.trans,Se=G.values,Oe=G.limit,we=G.query,Te=Oe===1/0?void 0:Oe,xe=we.index,we=we.range,Ce=Ce.objectStore(K),xe=xe.isPrimaryKey?Ce:Ce.index(xe.name),we=b(we);if(Oe===0)return X({result:[]});B?((Te=Se?xe.getAll(we,Te):xe.getAllKeys(we,Te)).onsuccess=function(Ve){return X({result:Ve.target.result})},Te.onerror=Fn(re)):(ae=0,fe=!Se&&"openKeyCursor"in xe?xe.openKeyCursor(we):xe.openCursor(we),ge=[],fe.onsuccess=function(Ve){var Fe=fe.result;return Fe?(ge.push(Se?Fe.value:Fe.primaryKey),++ae===Oe?X({result:ge}):void Fe.continue()):X({result:ge})},fe.onerror=Fn(re))})}),openCursor:function(G){var X=G.trans,re=G.values,ae=G.query,fe=G.reverse,ge=G.unique;return new Promise(function(Se,Oe){Se=kt(Se);var xe=ae.index,Te=ae.range,Ce=X.objectStore(K),Ce=xe.isPrimaryKey?Ce:Ce.index(xe.name),xe=fe?ge?"prevunique":"prev":ge?"nextunique":"next",we=!re&&"openKeyCursor"in Ce?Ce.openKeyCursor(b(Te),xe):Ce.openCursor(b(Te),xe);we.onerror=Fn(Oe),we.onsuccess=kt(function(Ve){var Fe,Ze,ot,Gn,We=we.result;We?(We.___id=++ii,We.done=!1,Fe=We.continue.bind(We),Ze=(Ze=We.continuePrimaryKey)&&Ze.bind(We),ot=We.advance.bind(We),Gn=function(){throw new Error("Cursor not stopped")},We.trans=X,We.stop=We.continue=We.continuePrimaryKey=We.advance=function(){throw new Error("Cursor not started")},We.fail=kt(Oe),We.next=function(){var In=this,Zt=1;return this.start(function(){return Zt--?In.continue():In.stop()}).then(function(){return In})},We.start=function(In){function Zt(){if(we.result)try{In()}catch(xn){We.fail(xn)}else We.done=!0,We.start=function(){throw new Error("Cursor behind last entry")},We.stop()}var No=new Promise(function(xn,Ur){xn=kt(xn),we.onerror=Fn(Ur),We.fail=Ur,We.stop=function(hu){We.stop=We.continue=We.continuePrimaryKey=We.advance=Gn,xn(hu)}});return we.onsuccess=kt(function(xn){we.onsuccess=Zt,Zt()}),We.continue=Fe,We.continuePrimaryKey=Ze,We.advance=ot,Zt(),No},Se(We)):Se(null)},Oe)})},count:function(G){var X=G.query,re=G.trans,ae=X.index,fe=X.range;return new Promise(function(ge,Se){var Oe=re.objectStore(K),Te=ae.isPrimaryKey?Oe:Oe.index(ae.name),Oe=b(fe),Te=Oe?Te.count(Oe):Te.count();Te.onsuccess=kt(function(Ce){return ge(Ce.target.result)}),Te.onerror=Fn(Se)})}}}var A,O,N,Q=(O=j,N=bi((A=f).objectStoreNames),{schema:{name:A.name,tables:N.map(function(J){return O.objectStore(J)}).map(function(J){var B=J.keyPath,X=J.autoIncrement,K=y(B),G={},X={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B==null,compound:K,keyPath:B,autoIncrement:X,unique:!0,extractKey:Gi(B)},indexes:bi(J.indexNames).map(function(re){return J.index(re)}).map(function(ge){var ae=ge.name,fe=ge.unique,Se=ge.multiEntry,ge=ge.keyPath,Se={name:ae,compound:y(ge),keyPath:ge,unique:fe,multiEntry:Se,extractKey:Gi(ge)};return G[ln(ge)]=Se}),getIndexByKeyPath:function(re){return G[ln(re)]}};return G[":id"]=X.primaryKey,B!=null&&(G[ln(B)]=X.primaryKey),X})},hasGetAll:0<N.length&&"getAll"in O.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),j=Q.schema,z=Q.hasGetAll,Q=j.tables.map(S),U={};return Q.forEach(function(J){return U[J.name]=J}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(J){if(!U[J])throw new Error("Table '".concat(J,"' not found"));return U[J]},MIN_KEY:-1/0,MAX_KEY:Ki(m),schema:j}}function Ei(f,m,g,b){var S=g.IDBKeyRange;return g.indexedDB,{dbcore:(b=Yi(m,S,b),f.dbcore.reduce(function(A,O){return O=O.create,s(s({},A),O(A))},b))}}function si(f,b){var g=b.db,b=Ei(f._middlewares,g,f._deps,b);f.core=b.dbcore,f.tables.forEach(function(S){var A=S.name;f.core.schema.tables.some(function(O){return O.name===A})&&(S.core=f.core.table(A),f[A]instanceof f.Table&&(f[A].core=S.core))})}function ls(f,m,g,b){g.forEach(function(S){var A=b[S];m.forEach(function(O){var N=(function j(z,Q){return Ee(z,Q)||(z=E(z))&&j(z,Q)})(O,S);(!N||"value"in N&&N.value===void 0)&&(O===f.Transaction.prototype||O instanceof f.Transaction?ne(O,S,{get:function(){return this.table(S)},set:function(j){$(this,S,{value:j,writable:!0,configurable:!0,enumerable:!0})}}):O[S]=new f.Table(S,A))})})}function Ti(f,m){m.forEach(function(g){for(var b in g)g[b]instanceof f.Table&&delete g[b]})}function Ta(f,m){return f._cfg.version-m._cfg.version}function wi(f,m,g,b){var S=f._dbSchema;g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Fi("$meta",Io("")[0],[]),f._storeNames.push("$meta"));var A=f._createTransaction("readwrite",f._storeNames,S);A.create(g),A._completion.catch(b);var O=A._reject.bind(A),N=Ne.transless||Ne;Pt(function(){return Ne.trans=A,Ne.transless=N,m!==0?(si(f,g),z=m,((j=A).storeNames.includes("$meta")?j.table("$meta").get("version").then(function(Q){return Q??z}):Re.resolve(z)).then(function(Q){return J=Q,B=A,K=g,G=[],Q=(U=f)._versions,X=U._dbSchema=Si(0,U.idbdb,K),(Q=Q.filter(function(re){return re._cfg.version>=J})).length!==0?(Q.forEach(function(re){G.push(function(){var ae=X,fe=re._cfg.dbschema;us(U,ae,K),us(U,fe,K),X=U._dbSchema=fe;var ge=Ls(ae,fe);ge.add.forEach(function(xe){Qi(K,xe[0],xe[1].primKey,xe[1].indexes)}),ge.change.forEach(function(xe){if(xe.recreate)throw new Me.Upgrade("Not yet support for changing primary key");var we=K.objectStore(xe.name);xe.add.forEach(function(Ve){return Us(we,Ve)}),xe.change.forEach(function(Ve){we.deleteIndex(Ve.name),Us(we,Ve)}),xe.del.forEach(function(Ve){return we.deleteIndex(Ve)})});var Se=re._cfg.contentUpgrade;if(Se&&re._cfg.version>J){si(U,K),B._memoizedTables={};var Oe=M(fe);ge.del.forEach(function(xe){Oe[xe]=ae[xe]}),Ti(U,[U.Transaction.prototype]),ls(U,[U.Transaction.prototype],d(Oe),Oe),B.schema=Oe;var Te,Ce=F(Se);return Ce&&Yt(),ge=Re.follow(function(){var xe;(Te=Se(B))&&Ce&&(xe=Ln.bind(null,null),Te.then(xe,xe))}),Te&&typeof Te.then=="function"?Re.resolve(Te):ge.then(function(){return Te})}}),G.push(function(ae){var fe,ge,Se=re._cfg.dbschema;fe=Se,ge=ae,[].slice.call(ge.db.objectStoreNames).forEach(function(Oe){return fe[Oe]==null&&ge.db.deleteObjectStore(Oe)}),Ti(U,[U.Transaction.prototype]),ls(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),B.schema=U._dbSchema}),G.push(function(ae){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===re._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(fe){return fe!=="$meta"})):ae.objectStore("$meta").put(re._cfg.version,"version"))})}),(function re(){return G.length?Re.resolve(G.shift()(B.idbtrans)).then(re):Re.resolve()})().then(function(){Ro(X,K)})):Re.resolve();var U,J,B,K,G,X}).catch(O)):(d(S).forEach(function(Q){Qi(g,Q,S[Q].primKey,S[Q].indexes)}),si(f,g),void Re.follow(function(){return f.on.populate.fire(A)}).catch(O));var j,z})}function wa(f,m){Ro(f._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var g=Si(0,f.idbdb,m);us(f,f._dbSchema,m);for(var b=0,S=Ls(g,f._dbSchema).change;b<S.length;b++){var A=(function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=m.objectStore(O.name);O.add.forEach(function(j){Pn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(j.src)),Us(N,j)})})(S[b]);if(typeof A=="object")return A.value}}function Ls(f,m){var g,b={del:[],add:[],change:[]};for(g in f)m[g]||b.del.push(g);for(g in m){var S=f[g],A=m[g];if(S){var O={name:g,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||S.primKey.auto!==A.primKey.auto)O.recreate=!0,b.change.push(O);else{var N=S.idxByName,j=A.idxByName,z=void 0;for(z in N)j[z]||O.del.push(z);for(z in j){var Q=N[z],U=j[z];Q?Q.src!==U.src&&O.change.push(U):O.add.push(U)}(0<O.del.length||0<O.add.length||0<O.change.length)&&b.change.push(O)}}else b.add.push([g,A])}return b}function Qi(f,m,g,b){var S=f.db.createObjectStore(m,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return b.forEach(function(A){return Us(S,A)}),S}function Ro(f,m){d(f).forEach(function(g){m.db.objectStoreNames.contains(g)||(Pn&&console.debug("Dexie: Creating missing table",g),Qi(m,g,f[g].primKey,f[g].indexes))})}function Us(f,m){f.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Si(f,m,g){var b={};return Be(m.objectStoreNames,0).forEach(function(S){for(var A=g.objectStore(S),O=Mr(Ea(z=A.keyPath),z||"",!0,!1,!!A.autoIncrement,z&&typeof z!="string",!0),N=[],j=0;j<A.indexNames.length;++j){var Q=A.index(A.indexNames[j]),z=Q.keyPath,Q=Mr(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);N.push(Q)}b[S]=Fi(S,O,N)}),b}function us(f,m,g){for(var b=g.db.objectStoreNames,S=0;S<b.length;++S){var A=b[S],O=g.objectStore(A);f._hasGetAll="getAll"in O;for(var N=0;N<O.indexNames.length;++N){var j=O.indexNames[N],z=O.index(j).keyPath,Q=typeof z=="string"?z:"["+Be(z).join("+")+"]";!m[A]||(z=m[A].idxByName[Q])&&(z.name=j,delete m[A].idxByName[Q],m[A].idxByName[j]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Io(f){return f.split(",").map(function(m,g){var A=m.split(":"),b=(S=A[1])===null||S===void 0?void 0:S.trim(),S=(m=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Mr(S,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),y(A),g===0,b)})}var Sa=(Xi.prototype._createTableSchema=Fi,Xi.prototype._parseIndexSyntax=Io,Xi.prototype._parseStoresSpec=function(f,m){var g=this;d(f).forEach(function(b){if(f[b]!==null){var S=g._parseIndexSyntax(f[b]),A=S.shift();if(!A)throw new Me.Schema("Invalid schema for table "+b+": "+f[b]);if(A.unique=!0,A.multi)throw new Me.Schema("Primary key cannot be multiEntry*");S.forEach(function(O){if(O.auto)throw new Me.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new Me.Schema("Index must have a name and cannot be an empty string")}),S=g._createTableSchema(b,A,S),m[b]=S}})},Xi.prototype.stores=function(g){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?_(this._cfg.storesSource,g):g;var g=m._versions,b={},S={};return g.forEach(function(A){_(b,A._cfg.storesSource),S=A._cfg.dbschema={},A._parseStoresSpec(b,S)}),m._dbSchema=S,Ti(m,[m._allTables,m,m.Transaction.prototype]),ls(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],d(S),S),m._storeNames=d(S),this},Xi.prototype.upgrade=function(f){return this._cfg.contentUpgrade=nn(this._cfg.contentUpgrade||St,f),this},Xi);function Xi(){}function Aa(f,m){var g=f._dbNamesDB;return g||(g=f._dbNamesDB=new Ci(ss,{addons:[],indexedDB:f,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function kr(f){return f&&typeof f.databases=="function"}function Ca(f){return Pt(function(){return Ne.letThrough=!0,f()})}function Ra(f){return!("from"in f)}var En=function(f,m){if(!this){var g=new En;return f&&"d"in f&&_(g,f),g}_(this,arguments.length?{d:1,from:f,to:1<arguments.length?m:f}:{d:0})};function cs(f,m,g){var b=at(m,g);if(!isNaN(b)){if(0<b)throw RangeError();if(Ra(f))return _(f,{from:m,to:g,d:1});var S=f.l,b=f.r;if(at(g,f.from)<0)return S?cs(S,m,g):f.l={from:m,to:g,d:1,l:null,r:null},xo(f);if(0<at(m,f.to))return b?cs(b,m,g):f.r={from:m,to:g,d:1,l:null,r:null},xo(f);at(m,f.from)<0&&(f.from=m,f.l=null,f.d=b?b.d+1:1),0<at(g,f.to)&&(f.to=g,f.r=null,f.d=f.l?f.l.d+1:1),g=!f.r,S&&!f.l&&Vr(f,S),b&&g&&Vr(f,b)}}function Vr(f,m){Ra(m)||(function g(b,j){var A=j.from,O=j.to,N=j.l,j=j.r;cs(b,A,O),N&&g(b,N),j&&g(b,j)})(f,m)}function Kn(f,m){var g=js(m),b=g.next();if(b.done)return!1;for(var S=b.value,A=js(f),O=A.next(S.from),N=O.value;!b.done&&!O.done;){if(at(N.from,S.to)<=0&&0<=at(N.to,S.from))return!0;at(S.from,N.from)<0?S=(b=g.next(N.from)).value:N=(O=A.next(S.from)).value}return!1}function js(f){var m=Ra(f)?null:{s:0,n:f};return{next:function(g){for(var b=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,b)for(;m.n.l&&at(g,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!b||at(g,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function xo(f){var m,g,b=(((m=f.r)===null||m===void 0?void 0:m.d)||0)-(((g=f.l)===null||g===void 0?void 0:g.d)||0),S=1<b?"r":b<-1?"l":"";S&&(m=S=="r"?"l":"r",g=s({},f),b=f[S],f.from=b.from,f.to=b.to,f[S]=b[S],g[S]=b[m],(f[m]=g).d=Ai(g)),f.d=Ai(f)}function Ai(g){var m=g.r,g=g.l;return(m?g?Math.max(m.d,g.d):m.d:g?g.d:0)+1}function c(f,m){return d(m).forEach(function(g){f[g]?Vr(f[g],m[g]):f[g]=(function b(S){var A,O,N={};for(A in S)x(S,A)&&(O=S[A],N[A]=!O||typeof O!="object"||q.has(O.constructor)?O:b(O));return N})(m[g])}),f}function v(f,m){return f.all||m.all||Object.keys(f).some(function(g){return m[g]&&Kn(m[g],f[g])})}D(En.prototype,((Er={add:function(f){return Vr(this,f),this},addKey:function(f){return cs(this,f,f),this},addKeys:function(f){var m=this;return f.forEach(function(g){return cs(m,g,g)}),this},hasKey:function(f){var m=js(this).next(f).value;return m&&at(m.from,f)<=0&&0<=at(m.to,f)}})[le]=function(){return js(this)},Er));var w={},I={},te=!1;function ue(f){c(I,f),te||(te=!0,setTimeout(function(){te=!1,Ae(I,!(I={}))},0))}function Ae(f,m){m===void 0&&(m=!1);var g=new Set;if(f.all)for(var b=0,S=Object.values(w);b<S.length;b++)tt(O=S[b],f,g,m);else for(var A in f){var O,N=/^idb\:\/\/(.*)\/(.*)\//.exec(A);N&&(A=N[1],N=N[2],(O=w["idb://".concat(A,"/").concat(N)])&&tt(O,f,g,m))}g.forEach(function(j){return j()})}function tt(f,m,g,b){for(var S=[],A=0,O=Object.entries(f.queries.query);A<O.length;A++){for(var N=O[A],j=N[0],z=[],Q=0,U=N[1];Q<U.length;Q++){var J=U[Q];v(m,J.obsSet)?J.subscribers.forEach(function(X){return g.add(X)}):b&&z.push(J)}b&&S.push([j,z])}if(b)for(var B=0,K=S;B<K.length;B++){var G=K[B],j=G[0],z=G[1];f.queries.query[j]=z}}function un(f){var m=f._state,g=f._deps.indexedDB;if(m.isBeingOpened||f.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Rt(m.dbOpenError):f});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var b=m.openCanceller,S=Math.round(10*f.verno),A=!1;function O(){if(m.openCanceller!==b)throw new Me.DatabaseClosed("db.open() was cancelled")}function N(){return new Re(function(J,B){if(O(),!g)throw new Me.MissingAPI;var K=f.name,G=m.autoSchema||!S?g.open(K):g.open(K,S);if(!G)throw new Me.MissingAPI;G.onerror=Fn(B),G.onblocked=kt(f._fireOnBlocked),G.onupgradeneeded=kt(function(X){var re;Q=G.transaction,m.autoSchema&&!f._options.allowEmptyDB?(G.onerror=_i,Q.abort(),G.result.close(),(re=g.deleteDatabase(K)).onsuccess=re.onerror=kt(function(){B(new Me.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(Q.onerror=Fn(B),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,U=X<1,f.idbdb=G.result,A&&wa(f,Q),wi(f,X/10,Q,B))},B),G.onsuccess=kt(function(){Q=null;var X,re,ae,fe,ge,Se=f.idbdb=G.result,Oe=Be(Se.objectStoreNames);if(0<Oe.length)try{var Te=Se.transaction((fe=Oe).length===1?fe[0]:fe,"readonly");if(m.autoSchema)re=Se,ae=Te,(X=f).verno=re.version/10,ae=X._dbSchema=Si(0,re,ae),X._storeNames=Be(re.objectStoreNames,0),ls(X,[X._allTables],d(ae),ae);else if(us(f,f._dbSchema,Te),((ge=Ls(Si(0,(ge=f).idbdb,Te),ge._dbSchema)).add.length||ge.change.some(function(Ce){return Ce.add.length||Ce.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),S=Se.version+1,A=!0,J(N());si(f,Te)}catch{}vi.push(f),Se.onversionchange=kt(function(Ce){m.vcFired=!0,f.on("versionchange").fire(Ce)}),Se.onclose=kt(function(){f.close({disableAutoOpen:!1})}),U&&(ge=f._deps,Te=K,Se=ge.indexedDB,ge=ge.IDBKeyRange,kr(Se)||Te===ss||Aa(Se,ge).put({name:Te}).catch(St)),J()},B)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<S)return S=0,N()}return Re.reject(J)})}var j,z=m.dbReadyResolve,Q=null,U=!1;return Re.race([b,(typeof navigator>"u"?Re.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function B(){return indexedDB.databases().finally(J)}j=setInterval(B,100),B()}).finally(function(){return clearInterval(j)}):Promise.resolve()).then(N)]).then(function(){return O(),m.onReadyBeingFired=[],Re.resolve(Ca(function(){return f.on.ready.fire(f.vip)})).then(function J(){if(0<m.onReadyBeingFired.length){var B=m.onReadyBeingFired.reduce(nn,St);return m.onReadyBeingFired=[],Re.resolve(Ca(function(){return B(f.vip)})).then(J)}})}).finally(function(){m.openCanceller===b&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(J){m.dbOpenError=J;try{Q&&Q.abort()}catch{}return b===m.openCanceller&&f._close(),Rt(J)}).finally(function(){m.openComplete=!0,z()}).then(function(){var J;return U&&(J={},f.tables.forEach(function(B){B.schema.indexes.forEach(function(K){K.name&&(J["idb://".concat(f.name,"/").concat(B.name,"/").concat(K.name)]=new En(-1/0,[[[]]]))}),J["idb://".concat(f.name,"/").concat(B.name,"/")]=J["idb://".concat(f.name,"/").concat(B.name,"/:dels")]=new En(-1/0,[[[]]])}),bn(Nr).fire(J),Ae(J,!0)),f})}function At(f){function m(A){return f.next(A)}var g=S(m),b=S(function(A){return f.throw(A)});function S(A){return function(j){var N=A(j),j=N.value;return N.done?j:j&&typeof j.then=="function"?j.then(g,b):y(j)?Promise.all(j).then(g,b):g(j)}}return S(m)()}function Ut(f,m,g){for(var b=y(f)?f.slice():[f],S=0;S<g;++S)b.push(m);return b}var Pr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema,S={},A=[];function O(U,J,B){var K=ln(U),G=S[K]=S[K]||[],X=U==null?0:typeof U=="string"?1:U.length,re=0<J,re=s(s({},B),{name:re?"".concat(K,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:re,keyTail:J,keyLength:X,extractKey:Gi(U),unique:!re&&B.unique});return G.push(re),re.isPrimaryKey||A.push(re),1<X&&O(X===2?U[0]:U.slice(0,X-1),J+1,B),G.sort(function(ae,fe){return ae.keyTail-fe.keyTail}),re}m=O(b.primaryKey.keyPath,0,b.primaryKey),S[":id"]=[m];for(var N=0,j=b.indexes;N<j.length;N++){var z=j[N];O(z.keyPath,0,z)}function Q(U){var J,B=U.query.index;return B.isVirtual?s(s({},U),{query:{index:B.lowLevelIndex,range:(J=U.query.range,B=B.keyTail,{type:J.type===1?2:J.type,lower:Ut(J.lower,J.lowerOpen?f.MAX_KEY:f.MIN_KEY,B),lowerOpen:!0,upper:Ut(J.upper,J.upperOpen?f.MIN_KEY:f.MAX_KEY,B),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},b),{primaryKey:m,indexes:A,getIndexByKeyPath:function(U){return(U=S[ln(U)])&&U[0]}}),count:function(U){return g.count(Q(U))},query:function(U){return g.query(Q(U))},openCursor:function(U){var J=U.query.index,B=J.keyTail,K=J.isVirtual,G=J.keyLength;return K?g.openCursor(Q(U)).then(function(re){return re&&X(re)}):g.openCursor(U);function X(re){return Object.create(re,{continue:{value:function(ae){ae!=null?re.continue(Ut(ae,U.reverse?f.MAX_KEY:f.MIN_KEY,B)):U.unique?re.continue(re.key.slice(0,G).concat(U.reverse?f.MIN_KEY:f.MAX_KEY,B)):re.continue()}},continuePrimaryKey:{value:function(ae,fe){re.continuePrimaryKey(Ut(ae,f.MAX_KEY,B),fe)}},primaryKey:{get:function(){return re.primaryKey}},key:{get:function(){var ae=re.key;return G===1?ae[0]:ae.slice(0,G)}},value:{get:function(){return re.value}}})}}})}})}};function Lr(f,m,g,b){return g=g||{},b=b||"",d(f).forEach(function(S){var A,O,N;x(m,S)?(A=f[S],O=m[S],typeof A=="object"&&typeof O=="object"&&A&&O?(N=Kt(A))!==Kt(O)?g[b+S]=m[S]:N==="Object"?Lr(A,O,g,b+S+"."):A!==O&&(g[b+S]=m[S]):A!==O&&(g[b+S]=m[S])):g[b+S]=void 0}),d(m).forEach(function(S){x(f,S)||(g[b+S]=m[S])}),g}function br(f,m){return m.type==="delete"?m.keys:m.keys||m.values.map(f.extractKey)}var ai={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema.primaryKey;return s(s({},g),{mutate:function(S){var A=Ne.trans,O=A.table(m).hook,N=O.deleting,j=O.creating,z=O.updating;switch(S.type){case"add":if(j.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"put":if(j.fire===St&&z.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"delete":if(N.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"deleteRange":if(N.fire===St)break;return A._promise("readwrite",function(){return(function U(J,B,K){return g.query({trans:J,values:!1,query:{index:b,range:B},limit:K}).then(function(G){var X=G.result;return Q({type:"delete",keys:X,trans:J}).then(function(re){return 0<re.numFailures?Promise.reject(re.failures[0]):X.length<K?{failures:[],numFailures:0,lastResult:void 0}:U(J,s(s({},B),{lower:X[X.length-1],lowerOpen:!0}),K)})})})(S.trans,S.range,1e4)},!0)}return g.mutate(S);function Q(U){var J,B,K,G=Ne.trans,X=U.keys||br(b,U);if(!X)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:X}):s({},U)).type!=="delete"&&(U.values=o([],U.values)),U.keys&&(U.keys=o([],U.keys)),J=g,K=X,((B=U).type==="add"?Promise.resolve([]):J.getMany({trans:B.trans,keys:K,cache:"immutable"})).then(function(re){var ae=X.map(function(fe,ge){var Se,Oe,Te,Ce=re[ge],xe={onerror:null,onsuccess:null};return U.type==="delete"?N.fire.call(xe,fe,Ce,G):U.type==="add"||Ce===void 0?(Se=j.fire.call(xe,fe,U.values[ge],G),fe==null&&Se!=null&&(U.keys[ge]=fe=Se,b.outbound||V(U.values[ge],b.keyPath,fe))):(Se=Lr(Ce,U.values[ge]),(Oe=z.fire.call(xe,Se,fe,Ce,G))&&(Te=U.values[ge],Object.keys(Oe).forEach(function(we){x(Te,we)?Te[we]=Oe[we]:V(Te,we,Oe[we])}))),xe});return g.mutate(U).then(function(fe){for(var ge=fe.failures,Se=fe.results,Oe=fe.numFailures,fe=fe.lastResult,Te=0;Te<X.length;++Te){var Ce=(Se||X)[Te],xe=ae[Te];Ce==null?xe.onerror&&xe.onerror(ge[Te]):xe.onsuccess&&xe.onsuccess(U.type==="put"&&re[Te]?U.values[Te]:Ce)}return{failures:ge,results:Se,numFailures:Oe,lastResult:fe}}).catch(function(fe){return ae.forEach(function(ge){return ge.onerror&&ge.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function fs(f,m,g){try{if(!m||m.keys.length<f.length)return null;for(var b=[],S=0,A=0;S<m.keys.length&&A<f.length;++S)at(m.keys[S],f[A])===0&&(b.push(g?k(m.values[S]):m.values[S]),++A);return b.length===f.length?b:null}catch{return null}}var Ia={stack:"dbcore",level:-1,create:function(f){return{table:function(m){var g=f.table(m);return s(s({},g),{getMany:function(b){if(!b.cache)return g.getMany(b);var S=fs(b.keys,b.trans._cache,b.cache==="clone");return S?Re.resolve(S):g.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?k(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),g.mutate(b)}})}}}};function zs(f,m){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function Oc(f,m){switch(f){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Hh={stack:"dbcore",level:0,name:"Observability",create:function(f){var m=f.schema.name,g=new En(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(b,S,A){if(Ne.subscr&&S!=="readonly")throw new Me.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ne.querier));return f.transaction(b,S,A)},table:function(b){var S=f.table(b),A=S.schema,O=A.primaryKey,U=A.indexes,N=O.extractKey,j=O.outbound,z=O.autoIncrement&&U.filter(function(B){return B.compound&&B.keyPath.includes(O.keyPath)}),Q=s(s({},S),{mutate:function(B){function K(we){return we="idb://".concat(m,"/").concat(b,"/").concat(we),fe[we]||(fe[we]=new En)}var G,X,re,ae=B.trans,fe=B.mutatedParts||(B.mutatedParts={}),ge=K(""),Se=K(":dels"),Oe=B.type,xe=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[br(O,B).filter(function(we){return we}),B.values]:[],Te=xe[0],Ce=xe[1],xe=B.trans._cache;return y(Te)?(ge.addKeys(Te),(xe=Oe==="delete"||Te.length===Ce.length?fs(Te,xe):null)||Se.addKeys(Te),(xe||Ce)&&(G=K,X=xe,re=Ce,A.indexes.forEach(function(we){var Ve=G(we.name||"");function Fe(ot){return ot!=null?we.extractKey(ot):null}function Ze(ot){return we.multiEntry&&y(ot)?ot.forEach(function(Gn){return Ve.addKey(Gn)}):Ve.addKey(ot)}(X||re).forEach(function(ot,In){var We=X&&Fe(X[In]),In=re&&Fe(re[In]);at(We,In)!==0&&(We!=null&&Ze(We),In!=null&&Ze(In))})}))):Te?(Ce={from:(Ce=Te.lower)!==null&&Ce!==void 0?Ce:f.MIN_KEY,to:(Ce=Te.upper)!==null&&Ce!==void 0?Ce:f.MAX_KEY},Se.add(Ce),ge.add(Ce)):(ge.add(g),Se.add(g),A.indexes.forEach(function(we){return K(we.name).add(g)})),S.mutate(B).then(function(we){return!Te||B.type!=="add"&&B.type!=="put"||(ge.addKeys(we.results),z&&z.forEach(function(Ve){for(var Fe=B.values.map(function(We){return Ve.extractKey(We)}),Ze=Ve.keyPath.findIndex(function(We){return We===O.keyPath}),ot=0,Gn=we.results.length;ot<Gn;++ot)Fe[ot][Ze]=we.results[ot];K(Ve.name).addKeys(Fe)})),ae.mutatedParts=c(ae.mutatedParts||{},fe),we})}}),U=function(K){var G=K.query,K=G.index,G=G.range;return[K,new En((K=G.lower)!==null&&K!==void 0?K:f.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:f.MAX_KEY)]},J={get:function(B){return[O,new En(B.key)]},getMany:function(B){return[O,new En().addKeys(B.keys)]},count:U,query:U,openCursor:U};return d(J).forEach(function(B){Q[B]=function(K){var G=Ne.subscr,X=!!G,re=zs(Ne,S)&&Oc(B,K)?K.obsSet={}:G;if(X){var ae=function(Ce){return Ce="idb://".concat(m,"/").concat(b,"/").concat(Ce),re[Ce]||(re[Ce]=new En)},fe=ae(""),ge=ae(":dels"),G=J[B](K),X=G[0],G=G[1];if((B==="query"&&X.isPrimaryKey&&!K.values?ge:ae(X.name||"")).add(G),!X.isPrimaryKey){if(B!=="count"){var Se=B==="query"&&j&&K.values&&S.query(s(s({},K),{values:!1}));return S[B].apply(this,arguments).then(function(Ce){if(B==="query"){if(j&&K.values)return Se.then(function(Fe){return Fe=Fe.result,fe.addKeys(Fe),Ce});var xe=K.values?Ce.result.map(N):Ce.result;(K.values?fe:ge).addKeys(xe)}else if(B==="openCursor"){var we=Ce,Ve=K.values;return we&&Object.create(we,{key:{get:function(){return ge.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Fe=we.primaryKey;return ge.addKey(Fe),Fe}},value:{get:function(){return Ve&&fe.addKey(we.primaryKey),we.value}}})}return Ce})}ge.add(g)}}return S[B].apply(this,arguments)}}),Q}})}};function Dc(f,m,g){if(g.numFailures===0)return m;if(m.type==="deleteRange")return null;var b=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return g.numFailures===b?null:(m=s({},m),y(m.keys)&&(m.keys=m.keys.filter(function(S,A){return!(A in g.failures)})),"values"in m&&y(m.values)&&(m.values=m.values.filter(function(S,A){return!(A in g.failures)})),m)}function cl(f,m){return g=f,((b=m).lower===void 0||(b.lowerOpen?0<at(g,b.lower):0<=at(g,b.lower)))&&(f=f,(m=m).upper===void 0||(m.upperOpen?at(f,m.upper)<0:at(f,m.upper)<=0));var g,b}function cu(f,m,J,b,S,A){if(!J||J.length===0)return f;var O=m.query.index,N=O.multiEntry,j=m.query.range,z=b.schema.primaryKey.extractKey,Q=O.extractKey,U=(O.lowLevelIndex||O).extractKey,J=J.reduce(function(B,K){var G=B,X=[];if(K.type==="add"||K.type==="put")for(var re=new En,ae=K.values.length-1;0<=ae;--ae){var fe,ge=K.values[ae],Se=z(ge);re.hasKey(Se)||(fe=Q(ge),(N&&y(fe)?fe.some(function(we){return cl(we,j)}):cl(fe,j))&&(re.addKey(Se),X.push(ge)))}switch(K.type){case"add":var Oe=new En().addKeys(m.values?B.map(function(Ve){return z(Ve)}):B),G=B.concat(m.values?X.filter(function(Ve){return Ve=z(Ve),!Oe.hasKey(Ve)&&(Oe.addKey(Ve),!0)}):X.map(function(Ve){return z(Ve)}).filter(function(Ve){return!Oe.hasKey(Ve)&&(Oe.addKey(Ve),!0)}));break;case"put":var Te=new En().addKeys(K.values.map(function(Ve){return z(Ve)}));G=B.filter(function(Ve){return!Te.hasKey(m.values?z(Ve):Ve)}).concat(m.values?X:X.map(function(Ve){return z(Ve)}));break;case"delete":var Ce=new En().addKeys(K.keys);G=B.filter(function(Ve){return!Ce.hasKey(m.values?z(Ve):Ve)});break;case"deleteRange":var xe=K.range;G=B.filter(function(Ve){return!cl(z(Ve),xe)})}return G},f);return J===f?f:(J.sort(function(B,K){return at(U(B),U(K))||at(z(B),z(K))}),m.limit&&m.limit<1/0&&(J.length>m.limit?J.length=m.limit:f.length===m.limit&&J.length<m.limit&&(S.dirty=!0)),A?Object.freeze(J):J)}function xa(f,m){return at(f.lower,m.lower)===0&&at(f.upper,m.upper)===0&&!!f.lowerOpen==!!m.lowerOpen&&!!f.upperOpen==!!m.upperOpen}function Oo(f,m){return(function(g,b,S,A){if(g===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=at(g,b))===0){if(S&&A)return 0;if(S)return 1;if(A)return-1}return b})(f.lower,m.lower,f.lowerOpen,m.lowerOpen)<=0&&0<=(function(g,b,S,A){if(g===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=at(g,b))===0){if(S&&A)return 0;if(S)return-1;if(A)return 1}return b})(f.upper,m.upper,f.upperOpen,m.upperOpen)}function Fh(f,m,g,b){f.subscribers.add(g),b.addEventListener("abort",function(){var S,A;f.subscribers.delete(g),f.subscribers.size===0&&(S=f,A=m,setTimeout(function(){S.subscribers.size===0&&je(A,S)},3e3))})}var fl={stack:"dbcore",level:0,name:"Cache",create:function(f){var m=f.schema.name;return s(s({},f),{transaction:function(g,b,S){var A,O,N=f.transaction(g,b,S);return b==="readwrite"&&(O=(A=new AbortController).signal,S=function(j){return function(){if(A.abort(),b==="readwrite"){for(var z=new Set,Q=0,U=g;Q<U.length;Q++){var J=U[Q],B=w["idb://".concat(m,"/").concat(J)];if(B){var K=f.table(J),G=B.optimisticOps.filter(function(Ve){return Ve.trans===N});if(N._explicit&&j&&N.mutatedParts)for(var X=0,re=Object.values(B.queries.query);X<re.length;X++)for(var ae=0,fe=(Oe=re[X]).slice();ae<fe.length;ae++)v((Te=fe[ae]).obsSet,N.mutatedParts)&&(je(Oe,Te),Te.subscribers.forEach(function(Ve){return z.add(Ve)}));else if(0<G.length){B.optimisticOps=B.optimisticOps.filter(function(Ve){return Ve.trans!==N});for(var ge=0,Se=Object.values(B.queries.query);ge<Se.length;ge++)for(var Oe,Te,Ce,xe=0,we=(Oe=Se[ge]).slice();xe<we.length;xe++)(Te=we[xe]).res!=null&&N.mutatedParts&&(j&&!Te.dirty?(Ce=Object.isFrozen(Te.res),Ce=cu(Te.res,Te.req,G,K,Te,Ce),Te.dirty?(je(Oe,Te),Te.subscribers.forEach(function(Ve){return z.add(Ve)})):Ce!==Te.res&&(Te.res=Ce,Te.promise=Re.resolve({result:Ce}))):(Te.dirty&&je(Oe,Te),Te.subscribers.forEach(function(Ve){return z.add(Ve)})))}}}z.forEach(function(Ve){return Ve()})}}},N.addEventListener("abort",S(!1),{signal:O}),N.addEventListener("error",S(!1),{signal:O}),N.addEventListener("complete",S(!0),{signal:O})),N},table:function(g){var b=f.table(g),S=b.schema.primaryKey;return s(s({},b),{mutate:function(A){var O=Ne.trans;if(S.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return b.mutate(A);var N=w["idb://".concat(m,"/").concat(g)];return N?(O=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||br(S,A).some(function(j){return j==null}))?(N.optimisticOps.push(A),A.mutatedParts&&ue(A.mutatedParts),O.then(function(j){0<j.numFailures&&(je(N.optimisticOps,A),(j=Dc(0,A,j))&&N.optimisticOps.push(j),A.mutatedParts&&ue(A.mutatedParts))}),O.catch(function(){je(N.optimisticOps,A),A.mutatedParts&&ue(A.mutatedParts)})):O.then(function(j){var z=Dc(0,s(s({},A),{values:A.values.map(function(Q,U){var J;return j.failures[U]?Q:(Q=(J=S.keyPath)!==null&&J!==void 0&&J.includes(".")?k(Q):s({},Q),V(Q,S.keyPath,j.results[U]),Q)})}),j);N.optimisticOps.push(z),queueMicrotask(function(){return A.mutatedParts&&ue(A.mutatedParts)})}),O):b.mutate(A)},query:function(A){if(!zs(Ne,b)||!Oc("query",A))return b.query(A);var O=((z=Ne.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=Ne,N=U.requery,j=U.signal,z=(function(K,G,X,re){var ae=w["idb://".concat(K,"/").concat(G)];if(!ae)return[];if(!(G=ae.queries[X]))return[null,!1,ae,null];var fe=G[(re.query?re.query.index.name:null)||""];if(!fe)return[null,!1,ae,null];switch(X){case"query":var ge=fe.find(function(Se){return Se.req.limit===re.limit&&Se.req.values===re.values&&xa(Se.req.query.range,re.query.range)});return ge?[ge,!0,ae,fe]:[fe.find(function(Se){return("limit"in Se.req?Se.req.limit:1/0)>=re.limit&&(!re.values||Se.req.values)&&Oo(Se.req.query.range,re.query.range)}),!1,ae,fe];case"count":return ge=fe.find(function(Se){return xa(Se.req.query.range,re.query.range)}),[ge,!!ge,ae,fe]}})(m,g,"query",A),Q=z[0],U=z[1],J=z[2],B=z[3];return Q&&U?Q.obsSet=A.obsSet:(U=b.query(A).then(function(K){var G=K.result;if(Q&&(Q.res=G),O){for(var X=0,re=G.length;X<re;++X)Object.freeze(G[X]);Object.freeze(G)}else K.result=k(G);return K}).catch(function(K){return B&&Q&&je(B,Q),Promise.reject(K)}),Q={obsSet:A.obsSet,promise:U,subscribers:new Set,type:"query",req:A,dirty:!1},B?B.push(Q):(B=[Q],(J=J||(w["idb://".concat(m,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=B)),Fh(Q,B,N,j),Q.promise.then(function(K){return{result:cu(K.result,A,J?.optimisticOps,b,Q,O)}})}})}})}};function Do(f,m){return new Proxy(f,{get:function(g,b,S){return b==="db"?m:Reflect.get(g,b,S)}})}var Ci=(Qt.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Me.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var m=this._versions,g=m.filter(function(b){return b._cfg.version===f})[0];return g||(g=new this.Version(f),m.push(g),m.sort(Ta),g.stores({}),this._state.autoSchema=!1,g)},Qt.prototype._whenReady=function(f){var m=this;return this.idbdb&&(this._state.openComplete||Ne.letThrough||this._vip)?f():new Re(function(g,b){if(m._state.openComplete)return b(new Me.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void b(new Me.DatabaseClosed);m.open().catch(St)}m._state.dbReadyPromise.then(g,b)}).then(f)},Qt.prototype.use=function(f){var m=f.stack,g=f.create,b=f.level,S=f.name;return S&&this.unuse({stack:m,name:S}),f=this._middlewares[m]||(this._middlewares[m]=[]),f.push({stack:m,create:g,level:b??10,name:S}),f.sort(function(A,O){return A.level-O.level}),this},Qt.prototype.unuse=function(f){var m=f.stack,g=f.name,b=f.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(S){return b?S.create!==b:!!g&&S.name!==g})),this},Qt.prototype.open=function(){var f=this;return Hn(vn,function(){return un(f)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,m=vi.indexOf(this);if(0<=m&&vi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new Re(function(g){f.dbReadyResolve=g}),f.openCanceller=new Re(function(g,b){f.cancelOpen=b}))},Qt.prototype.close=function(g){var m=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;m?(g.isBeingOpened&&g.cancelOpen(new Me.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Me.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Qt.prototype.delete=function(f){var m=this;f===void 0&&(f={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new Re(function(S,A){function O(){m.close(f);var N=m._deps.indexedDB.deleteDatabase(m.name);N.onsuccess=kt(function(){var j,z,Q;j=m._deps,z=m.name,Q=j.indexedDB,j=j.IDBKeyRange,kr(Q)||z===ss||Aa(Q,j).delete(z).catch(St),S()}),N.onerror=Fn(A),N.onblocked=m._fireOnBlocked}if(g)throw new Me.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(O):O()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var f=this;return d(this._allTables).map(function(m){return f._allTables[m]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var f=(function(m,g,b){var S=arguments.length;if(S<2)throw new Me.InvalidArgument("Too few arguments");for(var A=new Array(S-1);--S;)A[S-1]=arguments[S];return b=A.pop(),[m,Y(A),b]}).apply(this,arguments);return this._transaction.apply(this,f)},Qt.prototype._transaction=function(f,m,g){var b=this,S=Ne.trans;S&&S.db===this&&f.indexOf("!")===-1||(S=null);var A,O,N=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(O=m.map(function(z){if(z=z instanceof b.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),f=="r"||f===Ir)A=Ir;else{if(f!="rw"&&f!=xr)throw new Me.InvalidArgument("Invalid transaction mode: "+f);A=xr}if(S){if(S.mode===Ir&&A===xr){if(!N)throw new Me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&O.forEach(function(z){if(S&&S.storeNames.indexOf(z)===-1){if(!N)throw new Me.SubTransaction("Table "+z+" not included in parent transaction.");S=null}}),N&&S&&!S.active&&(S=null)}}catch(z){return S?S._promise(null,function(Q,U){U(z)}):Rt(z)}var j=(function z(Q,U,J,B,K){return Re.resolve().then(function(){var G=Ne.transless||Ne,X=Q._createTransaction(U,J,Q._dbSchema,B);if(X.explicit=!0,G={trans:X,transless:G},B)X.idbtrans=B.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(fe){return fe.name===dt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,J,null,K)})):Rt(fe)}var re,ae=F(K);return ae&&Yt(),G=Re.follow(function(){var fe;(re=K.call(X,X))&&(ae?(fe=Ln.bind(null,null),re.then(fe,fe)):typeof re.next=="function"&&typeof re.throw=="function"&&(re=At(re)))},G),(re&&typeof re.then=="function"?Re.resolve(re).then(function(fe){return X.active?fe:Rt(new Me.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return re})).then(function(fe){return B&&X._resolve(),X._completion.then(function(){return fe})}).catch(function(fe){return X._reject(fe),Rt(fe)})})}).bind(null,this,A,O,S,g);return S?S._promise(A,j,"lock"):Ne.trans?Hn(Ne.transless,function(){return b._whenReady(j)}):this._whenReady(j)},Qt.prototype.table=function(f){if(!x(this._allTables,f))throw new Me.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},Qt);function Qt(f,m){var g=this;this._middlewares={},this.verno=0;var b=Qt.dependencies;this._options=m=s({addons:Qt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},b=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,A,O,N,j,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:St,dbReadyPromise:null,cancelOpen:St,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};z.dbReadyPromise=new Re(function(U){z.dbReadyResolve=U}),z.openCanceller=new Re(function(U,J){z.cancelOpen=J}),this._state=z,this.name=f,this.on=Zr(this,"populate","blocked","versionchange","close",{ready:[nn,St]}),this.once=function(U,J){var B=function(){for(var K=[],G=0;G<arguments.length;G++)K[G]=arguments[G];g.on(U).unsubscribe(B),J.apply(g,K)};return g.on(U,B)},this.on.ready.subscribe=Le(this.on.ready.subscribe,function(U){return function(J,B){Qt.vip(function(){var K,G=g._state;G.openComplete?(G.dbOpenError||Re.resolve().then(J),B&&U(J)):G.onReadyBeingFired?(G.onReadyBeingFired.push(J),B&&U(J)):(U(J),K=g,B||U(function X(){K.on.ready.unsubscribe(J),K.on.ready.unsubscribe(X)}))})}}),this.Collection=(S=this,Rn(ll.prototype,function(re,X){this.db=S;var B=ga,K=null;if(X)try{B=X()}catch(ae){K=ae}var G=re._ctx,X=G.table,re=X.hook.reading.fire;this._ctx={table:X,index:G.index,isPrimKey:!G.index||X.schema.primKey.keyPath&&G.index===X.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:G.or,valueMapper:re!==di?re:null}})),this.Table=(A=this,Rn(os.prototype,function(U,J,B){this.db=A,this._tx=B,this.name=U,this.schema=J,this.hook=A._allTables[U]?A._allTables[U].hook:Zr(null,{creating:[Is,St],reading:[mi,di],updating:[To,St],deleting:[Eo,St]})})),this.Transaction=(O=this,Rn(Ps.prototype,function(U,J,B,K,G){var X=this;U!=="readonly"&&J.forEach(function(re){re=(re=B[re])===null||re===void 0?void 0:re.yProps,re&&(J=J.concat(re.map(function(ae){return ae.updatesTable})))}),this.db=O,this.mode=U,this.storeNames=J,this.schema=B,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=Zr(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Re(function(re,ae){X._resolve=re,X._reject=ae}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(re){var ae=X.active;return X.active=!1,X.on.error.fire(re),X.parent?X.parent._reject(re):ae&&X.idbtrans&&X.idbtrans.abort(),Rt(re)})})),this.Version=(N=this,Rn(Sa.prototype,function(U){this.db=N,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,Rn(Hi.prototype,function(U,J,B){if(this.db=j,this._ctx={table:U,index:J===":id"?null:J,or:B},this._cmp=this._ascending=at,this._descending=function(K,G){return at(G,K)},this._max=function(K,G){return 0<at(K,G)?K:G},this._min=function(K,G){return at(K,G)<0?K:G},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new Me.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Ki(m.IDBKeyRange),this._createTransaction=function(U,J,B,K){return new g.Transaction(U,J,B,g._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),vi.filter(function(J){return J.name===g.name&&J!==g&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(U)})},this.use(Ia),this.use(fl),this.use(Hh),this.use(Pr),this.use(ai);var Q=new Proxy(this,{get:function(U,J,B){if(J==="_vip")return!0;if(J==="table")return function(G){return Do(g.table(G),Q)};var K=Reflect.get(U,J,B);return K instanceof os?Do(K,Q):J==="tables"?K.map(function(G){return Do(G,Q)}):J==="_createTransaction"?function(){return Do(K.apply(this,arguments),Q)}:K}});this.vip=Q,b.forEach(function(U){return U(g)})}var Oa,Er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Nc=(hl.prototype.subscribe=function(f,m,g){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:m,complete:g})},hl.prototype[Er]=function(){return this},hl);function hl(f){this._subscribe=f}try{Oa={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Oa={indexedDB:null,IDBKeyRange:null}}function Mc(f){var m,g=!1,b=new Nc(function(S){var A=F(f),O,N=!1,j={},z={},Q={get closed(){return N},unsubscribe:function(){N||(N=!0,O&&O.abort(),U&&bn.storagemutated.unsubscribe(B))}};S.start&&S.start(Q);var U=!1,J=function(){return Rr(K)},B=function(G){c(j,G),v(z,j)&&J()},K=function(){var G,X,re;!N&&Oa.indexedDB&&(j={},G={},O&&O.abort(),O=new AbortController,re=(function(ae){var fe=$n();try{A&&Yt();var ge=Pt(f,ae);return ge=A?ge.finally(Ln):ge}finally{fe&&Ar()}})(X={subscr:G,signal:O.signal,requery:J,querier:f,trans:null}),Promise.resolve(re).then(function(ae){g=!0,m=ae,N||X.signal.aborted||(j={},(function(fe){for(var ge in fe)if(x(fe,ge))return;return 1})(z=G)||U||(bn(Nr,B),U=!0),Rr(function(){return!N&&S.next&&S.next(ae)}))},function(ae){g=!1,["DatabaseClosedError","AbortError"].includes(ae?.name)||N||Rr(function(){N||S.error&&S.error(ae)})}))};return setTimeout(J,0),Q});return b.hasValue=function(){return g},b.getValue=function(){return m},b}var Bs=Ci;function fu(f){var m=hs;try{hs=!0,bn.storagemutated.fire(f),Ae(f,!0)}finally{hs=m}}D(Bs,s(s({},zi),{delete:function(f){return new Bs(f,{addons:[]}).delete()},exists:function(f){return new Bs(f,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return m=Bs.dependencies,g=m.indexedDB,m=m.IDBKeyRange,(kr(g)?Promise.resolve(g.databases()).then(function(b){return b.map(function(S){return S.name}).filter(function(S){return S!==ss})}):Aa(g,m).toCollection().primaryKeys()).then(f)}catch{return Rt(new Me.MissingAPI)}var m,g},defineClass:function(){return function(f){_(this,f)}},ignoreTransaction:function(f){return Ne.trans?Hn(Ne.transless,f):f()},vip:Ca,async:function(f){return function(){try{var m=At(f.apply(this,arguments));return m&&typeof m.then=="function"?m:Re.resolve(m)}catch(g){return Rt(g)}}},spawn:function(f,m,g){try{var b=At(f.apply(g,m||[]));return b&&typeof b.then=="function"?b:Re.resolve(b)}catch(S){return Rt(S)}},currentTransaction:{get:function(){return Ne.trans||null}},waitFor:function(f,m){return m=Re.resolve(typeof f=="function"?Bs.ignoreTransaction(f):f).timeout(m||6e4),Ne.trans?Ne.trans.waitFor(m):m},Promise:Re,debug:{get:function(){return Pn},set:function(f){al(f)}},derive:me,extend:_,props:D,override:Le,Events:Zr,on:bn,liveQuery:Mc,extendObservabilitySet:c,getByKeyPath:$e,setByKeyPath:V,delByKeyPath:function(f,m){typeof m=="string"?V(f,m,void 0):"length"in m&&[].map.call(m,function(g){V(f,g,void 0)})},shallowClone:M,deepClone:k,getObjectDiff:Lr,cmp:at,asap:Nt,minKey:-1/0,addons:[],connections:vi,errnames:dt,dependencies:Oa,cache:w,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,m,g){return f+m/Math.pow(10,2*g)})})),Bs.maxKey=Ki(Bs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bn(Nr,function(f){hs||(f=new CustomEvent(_r,{detail:f}),hs=!0,dispatchEvent(f),hs=!1)}),addEventListener(_r,function(f){f=f.detail,hs||fu(f)}));var Da,hs=!1,cr=function(){};return typeof BroadcastChannel<"u"&&((cr=function(){(Da=new BroadcastChannel(_r)).onmessage=function(f){return f.data&&fu(f.data)}})(),typeof Da.unref=="function"&&Da.unref(),bn(Nr,function(f){hs||Da.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Ci.disableBfCache&&f.persisted){Pn&&console.debug("Dexie: handling persisted pagehide"),Da?.close();for(var m=0,g=vi;m<g.length;m++)g[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Ci.disableBfCache&&f.persisted&&(Pn&&console.debug("Dexie: handling persisted pageshow"),cr(),fu({all:new En(-1/0,[[]])}))})),Re.rejectionMapper=function(f,m){return!f||f instanceof Ie||f instanceof TypeError||f instanceof SyntaxError||!f.name||!ns[f.name]?f:(m=new ns[f.name](m||f.message,f),"stack"in f&&ne(m,"stack",{get:function(){return this.inner.stack}}),m)},al(Pn),s(Ci,Object.freeze({__proto__:null,Dexie:Ci,liveQuery:Mc,Entity:Ao,cmp:at,PropModification:Or,replacePrefix:function(f,m){return new Or({replacePrefix:[f,m]})},add:function(f){return new Or({add:f})},remove:function(f){return new Or({remove:f})},default:Ci,RangeSet:En,mergeRanges:Vr,rangesOverlap:Kn}),{default:Ci}),Ci})})(Ff)),Ff.exports}var NS=DS();const Ym=bp(NS),C_=Symbol.for("Dexie"),rh=globalThis[C_]||(globalThis[C_]=Ym);if(Ym.semVer!==rh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ym.semVer} and ${rh.semVer}`);const{liveQuery:RD,mergeRanges:ID,rangesOverlap:xD,RangeSet:OD,cmp:DD,Entity:ND,PropModification:MD,replacePrefix:kD,add:VD,remove:PD,DexieYProvider:LD}=rh,nr=new rh("GeminiPodcastFlashcards");nr.version(2).stores({vocab:"id, word, status, nextReview, reviewCount, updatedAt"});async function MS(){if(await nr.vocab.count()===0)try{const n="/public/flashcards/data.json".replace("//","/");console.log(`Fetching data from: ${n}`);const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch data.json (${s.status})`);const u=(await s.json()).map(d=>({...d,status:d.status||"new",reviewCount:d.reviewCount||0,nextReview:d.nextReview||Date.now(),updatedAt:Date.now()}));await nr.vocab.bulkAdd(u),console.log(`Initialized DB with ${u.length} cards.`)}catch(e){console.error("Error initializing database:",e)}}const kS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),R_=i=>{const e=VS(i);return e.charAt(0).toUpperCase()+e.slice(1)},bb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),PS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const US=De.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...y},_)=>De.createElement("svg",{ref:_,...LS,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:bb("lucide",o),...!u&&!PS(y)&&{"aria-hidden":"true"},...y},[...d.map(([E,R])=>De.createElement(E,R)),...Array.isArray(u)?u:[u]]));const jS=(i,e)=>{const n=De.forwardRef(({className:s,...o},u)=>De.createElement(US,{ref:u,iconNode:e,className:bb(`lucide-${kS(R_(i))}`,`lucide-${i}`,s),...o}));return n.displayName=R_(i),n};const zS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Mf=jS("volume-2",zS);function Eb(i,e){const n=Date.now(),s=60*1e3,o=1440*60*1e3,u=Number(e);if(isNaN(u)||u<0||u>5)throw new Error("Grade must be a number between 0 and 5");let{easeFactor:d=2.5,interval:y=0,reviewCount:_=0}=i;u>=3?(y===0?y=1:y===1?y=6:y=Math.round(y*d),_+=1):y=0;let E=d+(.1-(5-u)*(.08+(5-u)*.02));E<1.3&&(E=1.3);const R=y===0?n+10*s:n+y*o,x=u>=3?"review":"learning";return{easeFactor:parseFloat(E.toFixed(2)),interval:y,nextReview:R,status:x,reviewCount:_,updatedAt:n}}function BS({card:i,onUpdate:e}){const[n,s]=De.useState(!1),[o,u]=De.useState(!1),d=()=>{s(!n),u(!1)},y=(D,$)=>{$.stopPropagation();try{const ne=Eb(i,D),me={...i,...ne};e(me),s(!1),u(!1)}catch(ne){console.error("Error updating card:",ne)}},_=D=>{D.stopPropagation(),u(!o)},E=(D,$)=>{if($.stopPropagation(),!D)return;window.speechSynthesis.cancel();const ne=new SpeechSynthesisUtterance(D);ne.lang="en-US",ne.rate=.9,window.speechSynthesis.speak(ne)},R=D=>D===0?"< 1d":D===1?"1d":`${D}d`,x={background:"transparent",border:"none",cursor:"pointer",color:"#88ccca",padding:"4px",marginLeft:"8px",verticalAlign:"middle",transition:"opacity 0.2s",display:"inline-flex",alignItems:"center",justifyContent:"center"};return W.jsxs("div",{className:"flashcard-container",onClick:d,style:{border:"1px solid #444",padding:"1.5rem",borderRadius:"12px",textAlign:"center",cursor:"pointer",minHeight:"220px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#25262b",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"transform 0.2s",color:"#e0e0e0",position:"relative",maxHeight:"70vh",overflow:"hidden"},children:[!n&&W.jsxs("div",{className:"front",children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem"},children:[W.jsx("h2",{style:{fontSize:"2.5rem",margin:0,fontWeight:"bold"},children:i.word}),W.jsx("button",{onClick:D=>E(i.word,D),style:x,"aria-label":"Play pronunciation",children:W.jsx(Mf,{size:24})})]}),i.ipa&&W.jsxs("p",{style:{fontSize:"1.2rem",color:"#88ccca",fontFamily:"monospace",margin:"0 0 1.5rem 0"},children:["/",i.ipa,"/"]}),W.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"(Click to flip)"}),W.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"0.8rem",color:"#555"},children:["EF: ",i.easeFactor||"2.5"," | Int: ",i.interval||0,"d"]})]}),n&&W.jsxs("div",{className:"back",style:{display:"flex",flexDirection:"column",height:"100%"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem"},children:[W.jsx("h2",{style:{fontSize:"1.5rem",color:"#888",margin:0},children:i.word}),W.jsx("button",{onClick:D=>E(i.word,D),style:{...x,color:"#666"},"aria-label":"Play pronunciation",children:W.jsx(Mf,{size:20})})]}),i.ipa&&W.jsxs("p",{style:{fontSize:"1rem",color:"#666",fontFamily:"monospace",margin:"0 0 0.8rem 0"},children:["/",i.ipa,"/"]}),W.jsxs("div",{style:{marginBottom:"0.8rem"},children:[W.jsx("button",{onClick:_,style:{background:"transparent",border:"1px solid #555",color:"#888",borderRadius:"15px",padding:"2px 10px",fontSize:"0.75rem",cursor:"pointer",marginBottom:"0.2rem",transition:"all 0.2s"},children:o?"Hide Translation":"Show Translation"}),o&&W.jsx("div",{style:{fontSize:"1.1rem",color:"#e91e63",fontWeight:"bold",marginTop:"0.3rem",animation:"fadeIn 0.3s ease-in"},children:i.translation||"(No translation)"})]}),W.jsxs("div",{style:{textAlign:"left",lineHeight:"1.6",flexGrow:1,overflowY:"auto",paddingRight:"4px",marginBottom:"1rem",scrollbarWidth:"thin",scrollbarColor:"#444 transparent"},children:[W.jsxs("div",{style:{marginBottom:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",padding:"10px",borderRadius:"6px",borderLeft:"4px solid #88ccca"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[W.jsx("strong",{style:{color:"#88ccca",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Definition"}),W.jsx("button",{onClick:D=>E(i.definition,D),style:{...x,marginLeft:"8px",padding:0},"aria-label":"Play definition pronunciation",children:W.jsx(Mf,{size:16})})]}),W.jsx("div",{style:{fontSize:"1.1rem",color:"#ffffff",fontWeight:"500",lineHeight:"1.4"},children:i.definition})]}),W.jsxs("div",{style:{padding:"0 10px"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[W.jsx("strong",{style:{color:"#aaa",fontSize:"0.8rem"},children:"Context:"}),W.jsx("button",{onClick:D=>E(i.context,D),style:{...x,marginLeft:"6px",color:"#aaa"},"aria-label":"Play context pronunciation",children:W.jsx(Mf,{size:16})})]}),W.jsx("div",{style:{marginTop:"2px"},children:W.jsx("em",{style:{color:"#a5d6a7",fontSize:"0.95rem"},children:i.context})})]})]}),W.jsxs("div",{className:"actions",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem",marginTop:"auto",paddingTop:"0.5rem",borderTop:"1px solid #333"},children:[W.jsxs("button",{onClick:D=>y(1,D),style:kf("#e53935"),title:"Reset",children:["Again ",W.jsx("div",{style:Vf,children:"< 10m"})]}),W.jsxs("button",{onClick:D=>y(3,D),style:kf("#fb8c00"),title:"Hard",children:["Hard ",W.jsxs("div",{style:Vf,children:["~",R(Math.round((i.interval||1)*1.2))]})]}),W.jsxs("button",{onClick:D=>y(4,D),style:kf("#43a047"),title:"Good",children:["Good"," ",W.jsx("div",{style:Vf,children:R(Math.round((i.interval||1)*(i.easeFactor||2.5)))})]}),W.jsxs("button",{onClick:D=>y(5,D),style:kf("#1e88e5"),title:"Easy",children:["Easy"," ",W.jsx("div",{style:Vf,children:R(Math.round((i.interval||1)*(i.easeFactor||2.5)*1.3))})]})]})]})]})}const kf=i=>({padding:"0.5rem 0.2rem",backgroundColor:i,color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"}),Vf={fontSize:"0.65rem",opacity:.8,marginTop:"2px"};class qS{_generateId(){const e=Date.now(),n=Math.random().toString(36).substring(2,8);return`${e}_${n}`}async importCards(e){try{let n;try{n=JSON.parse(e)}catch(y){throw new Error("Input must be a valid JSON string",y)}if(!Array.isArray(n))throw new Error("Input must be a JSON array");const s=await nr.vocab.toArray(),o=new Set(s.map(y=>y.word.toLowerCase())),u=[];let d=0;for(const y of n)y.word&&(o.has(y.word.toLowerCase())?d++:(u.push({...y,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),easeFactor:2.5,interval:0,updatedAt:Date.now(),createdAt:Date.now()}),o.add(y.word.toLowerCase())));return u.length>0&&await nr.vocab.bulkAdd(u),{addedCount:u.length,skippedCount:d}}catch(n){throw console.error("Import failed:",n),n}}async addCard(e){if((await nr.vocab.toArray()).some(u=>u.word.toLowerCase()===e.word.toLowerCase()))throw new Error(`Duplicate word: ${e.word}`);const o={...e,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),easeFactor:2.5,interval:0,updatedAt:Date.now(),createdAt:Date.now()};return await nr.vocab.add(o),o}async updateCard(e){const n={...e,updatedAt:Date.now()};return await nr.vocab.put(n),n}async deleteCard(e){await nr.vocab.delete(e)}async getAllCards(){return await nr.vocab.toArray()}async clearAllCards(){await nr.vocab.clear()}async getDueCards(e=20){const n=Date.now();return(await nr.vocab.where("nextReview").belowOrEqual(n).and(o=>o.status!=="new").toArray()).sort((o,u)=>o.nextReview!==u.nextReview?o.nextReview-u.nextReview:(o.easeFactor||2.5)-(u.easeFactor||2.5)).slice(0,e)}async processReview(e,n){const s=Eb(e,n),o={...e,...s};return await this.updateCard(o),o}}const ql=new qS;var I_;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(I_||(I_={}));var x_;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(x_||(x_={}));var O_;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(O_||(O_={}));const D_=["user","model","function","system"];var N_;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(N_||(N_={}));var M_;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(M_||(M_={}));var k_;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(k_||(k_={}));var V_;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(V_||(V_={}));var Ju;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(Ju||(Ju={}));var P_;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(P_||(P_={}));var L_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(L_||(L_={}));var U_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(U_||(U_={}));class pr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ll extends pr{constructor(e,n){super(e),this.response=n}}class Tb extends pr{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class oo extends pr{}class wb extends pr{}const HS="https://generativelanguage.googleapis.com",FS="v1beta",KS="0.24.1",GS="genai-js";var $o;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})($o||($o={}));class YS{constructor(e,n,s,o,u){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||FS;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||HS}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function QS(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${GS}/${KS}`),e.join(" ")}async function XS(i){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",QS(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let s=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new oo(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new oo(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new oo(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function $S(i,e,n,s,o,u){const d=new YS(i,e,n,s,u);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},e1(u)),{method:"POST",headers:await XS(d),body:o})}}async function vc(i,e,n,s,o,u={},d=fetch){const{url:y,fetchOptions:_}=await $S(i,e,n,s,o,u);return JS(y,_,d)}async function JS(i,e,n=fetch){let s;try{s=await n(i,e)}catch(o){WS(o,i)}return s.ok||await ZS(s,i),s}function WS(i,e){let n=i;throw n.name==="AbortError"?(n=new wb(`Request aborted when fetching ${e.toString()}: ${i.message}`),n.stack=i.stack):i instanceof Tb||i instanceof oo||(n=new pr(`Error fetching from ${e.toString()}: ${i.message}`),n.stack=i.stack),n}async function ZS(i,e){let n="",s;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new Tb(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,s)}function e1(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Tp(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Kf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return t1(i)}else if(i.promptFeedback)throw new Ll(`Text not available. ${to(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),j_(i)[0]}else if(i.promptFeedback)throw new Ll(`Function call not available. ${to(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return j_(i)}else if(i.promptFeedback)throw new Ll(`Function call not available. ${to(i)}`,i)},i}function t1(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.text&&u.push(d.text),d.executableCode&&u.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&u.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function j_(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&u.push(d.functionCall);if(u.length>0)return u}const n1=[Ju.RECITATION,Ju.SAFETY,Ju.LANGUAGE];function Kf(i){return!!i.finishReason&&n1.includes(i.finishReason)}function to(i){var e,n,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const u=i.candidates[0];Kf(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function ac(i){return this instanceof ac?(this.v=i,this):new ac(i)}function r1(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,e||[]),o,u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(D){s[D]&&(o[D]=function($){return new Promise(function(ne,me){u.push([D,$,ne,me])>1||y(D,$)})})}function y(D,$){try{_(s[D]($))}catch(ne){x(u[0][3],ne)}}function _(D){D.value instanceof ac?Promise.resolve(D.value.v).then(E,R):x(u[0][2],D)}function E(D){y("next",D)}function R(D){y("throw",D)}function x(D,$){D($),u.shift(),u.length&&y(u[0][0],u[0][1])}}const z_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function i1(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=o1(e),[s,o]=n.tee();return{stream:a1(s),response:s1(o)}}async function s1(i){const e=[],n=i.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return Tp(l1(e));e.push(o)}}function a1(i){return r1(this,arguments,function*(){const n=i.getReader();for(;;){const{value:s,done:o}=yield ac(n.read());if(o)break;yield yield ac(Tp(s))}})}function o1(i){const e=i.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return e.read().then(({value:d,done:y})=>{if(y){if(o.trim()){s.error(new pr("Failed to parse stream"));return}s.close();return}o+=d;let _=o.match(z_),E;for(;_;){try{E=JSON.parse(_[1])}catch{s.error(new pr(`Error parsing JSON response: "${_[1]}"`));return}s.enqueue(E),o=o.substring(_[0].length),_=o.match(z_)}return u()}).catch(d=>{let y=d;throw y.stack=d.stack,y.name==="AbortError"?y=new wb("Request aborted when reading from the stream"):y=new pr("Error reading from the stream"),y})}}})}function l1(i){const e=i[i.length-1],n={promptFeedback:e?.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const d={};for(const y of u.content.parts)y.text&&(d.text=y.text),y.functionCall&&(d.functionCall=y.functionCall),y.executableCode&&(d.executableCode=y.executableCode),y.codeExecutionResult&&(d.codeExecutionResult=y.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[o].content.parts.push(d)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function Sb(i,e,n,s){const o=await vc(e,$o.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),s);return i1(o)}async function Ab(i,e,n,s){const u=await(await vc(e,$o.GENERATE_CONTENT,i,!1,JSON.stringify(n),s)).json();return{response:Tp(u)}}function Cb(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function oc(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const n of i)typeof n=="string"?e.push({text:n}):e.push(n);return u1(e)}function u1(i){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of i)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),s=!0);if(s&&o)throw new pr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new pr("No content is provided for sending chat message.");return s?e:n}function c1(i,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new oo("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const u=oc(i);s.contents=[u]}return{generateContentRequest:s}}function B_(i){let e;return i.contents?e=i:e={contents:[oc(i)]},i.systemInstruction&&(e.systemInstruction=Cb(i.systemInstruction)),e}function f1(i){return typeof i=="string"||Array.isArray(i)?{content:oc(i)}:i}const q_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],h1={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function d1(i){let e=!1;for(const n of i){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new pr(`First content should be with role 'user', got ${s}`);if(!D_.includes(s))throw new pr(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(D_)}`);if(!Array.isArray(o))throw new pr("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new pr("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const y of o)for(const _ of q_)_ in y&&(u[_]+=1);const d=h1[s];for(const y of q_)if(!d.includes(y)&&u[y]>0)throw new pr(`Content with role '${s}' can't contain '${y}' part`);e=!0}}function H_(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const F_="SILENT_ERROR";class m1{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(d1(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=oc(e),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},x=Object.assign(Object.assign({},this._requestOptions),n);let D;return this._sendPromise=this._sendPromise.then(()=>Ab(this._apiKey,this.model,R,x)).then($=>{var ne;if(H_($.response)){this._history.push(E);const me=Object.assign({parts:[],role:"model"},(ne=$.response.candidates)===null||ne===void 0?void 0:ne[0].content);this._history.push(me)}else{const me=to($.response);me&&console.warn(`sendMessage() was unsuccessful. ${me}. Inspect response object for details.`)}D=$}).catch($=>{throw this._sendPromise=Promise.resolve(),$}),await this._sendPromise,D}async sendMessageStream(e,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=oc(e),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},x=Object.assign(Object.assign({},this._requestOptions),n),D=Sb(this._apiKey,this.model,R,x);return this._sendPromise=this._sendPromise.then(()=>D).catch($=>{throw new Error(F_)}).then($=>$.response).then($=>{if(H_($)){this._history.push(E);const ne=Object.assign({},$.candidates[0].content);ne.role||(ne.role="model"),this._history.push(ne)}else{const ne=to($);ne&&console.warn(`sendMessageStream() was unsuccessful. ${ne}. Inspect response object for details.`)}}).catch($=>{$.message!==F_&&console.error($)}),D}}async function p1(i,e,n,s){return(await vc(e,$o.COUNT_TOKENS,i,!1,JSON.stringify(n),s)).json()}async function g1(i,e,n,s){return(await vc(e,$o.EMBED_CONTENT,i,!1,JSON.stringify(n),s)).json()}async function y1(i,e,n,s){const o=n.requests.map(d=>Object.assign(Object.assign({},d),{model:e}));return(await vc(e,$o.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}class K_{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Cb(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=B_(e),u=Object.assign(Object.assign({},this._requestOptions),n);return Ab(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(e,n={}){var s;const o=B_(e),u=Object.assign(Object.assign({},this._requestOptions),n);return Sb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(e){var n;return new m1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=c1(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return p1(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=f1(e),o=Object.assign(Object.assign({},this._requestOptions),n);return g1(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return y1(this.apiKey,this.model,e,s)}}class G_{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new pr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new K_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new oo("Cached content must contain a `name` field.");if(!e.model)throw new oo("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(n?.[d]&&e[d]&&n?.[d]!==e[d]){if(d==="model"){const y=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,_=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(y===_)continue}throw new oo(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${e[d]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new K_(this.apiKey,u,s)}}const v1={models:{default:"gemini-2.5-flash"}},_1={ai:v1};class b1{constructor(){this.apiKeyKey="gemini_api_key_byok",this.modelName=_1.ai?.models?.default}getApiKey(){return localStorage.getItem(this.apiKeyKey)||sessionStorage.getItem(this.apiKeyKey)}isPersistent(){return!!localStorage.getItem(this.apiKeyKey)}setApiKey(e,n=!1){n?(localStorage.setItem(this.apiKeyKey,e),sessionStorage.removeItem(this.apiKeyKey)):(sessionStorage.setItem(this.apiKeyKey,e),localStorage.removeItem(this.apiKeyKey))}removeApiKey(){sessionStorage.removeItem(this.apiKeyKey),localStorage.removeItem(this.apiKeyKey)}hasKey(){return!!this.getApiKey()}async generateCardDetails(e){const n=this.getApiKey();if(!n)throw new Error("API Key not found in session. Please configure it in Settings again.");const o=new G_(n).getGenerativeModel({model:this.modelName}),u=`
      You are an English vocabulary expert helping a Traditional Chinese (Taiwan) learner.
      Define the word: "${e}".
      
      Return ONLY a raw JSON object (no markdown formatting, no code blocks) with the following keys:
      - "definition": A clear, concise English definition suitable for a flashcard.
      - "ipa": The IPA phonetic transcription.
      - "context": A short, natural example sentence using the word (Keep this in English).
      - "translation": The Traditional Chinese (Taiwan) translation of the word. Ensure it is NOT Simplified Chinese.
    `;return this._callGemini(o,u)}async analyzeTranscript(e,n){const s=this.getApiKey();if(!s)throw new Error("API Key not found. Please configure it in Settings.");const u=new G_(s).getGenerativeModel({model:this.modelName});let d="";n==="auto"?d="Select the most important and difficult vocabulary words (approximately 5 to 15 words depending on text length).":d=`Select strictly up to ${n} most important vocabulary words.`;const y=`
      You are an expert language tutor analyzing a podcast transcript for a Traditional Chinese (Taiwan) learner.
      
      Goal: Extract vocabulary words from the provided text.
      Constraint: ${d}
      
      For each word, provide:
      1. "word": The target word (lemma).
      2. "ipa": IPA phonetic transcription.
      3. "definition": A concise English definition relevant to the context in the transcript.
      4. "context": The exact sentence or a slightly simplified version from the text where the word appears (Keep in English).
      5. "translation": The Traditional Chinese (Taiwan) translation of the word. Strictly NO Simplified Chinese.

      Input Text:
      """
      ${e.substring(0,3e4)} 
      """
      (Note: Input truncated to first 30k chars to fit context window if necessary)

      Return ONLY a raw JSON array (no markdown, no code blocks) of objects.
      Example format:
      [
        { "word": "Serendipity", "ipa": "...", "definition": "...", "context": "...", "translation": "" }
      ]
    `;return this._callGemini(u,y,!0)}async _callGemini(e,n,s=!1){try{console.log(`Calling AI Model: ${this.modelName}`);const y=(await(await e.generateContent(n)).response).text().replace(/```json|```/g,"").trim();let _;try{_=JSON.parse(y)}catch(R){const x=y.indexOf(s?"[":"{"),D=y.lastIndexOf(s?"]":"}")+1;if(x!==-1&&D!==-1)_=JSON.parse(y.substring(x,D));else throw R}const E=R=>{R.ipa&&(R.ipa=R.ipa.replace(new RegExp("^[/\\[]|[/\\]]$","g"),""))};return Array.isArray(_)?_.forEach(E):E(_),_}catch(o){throw console.error("AI Generation failed:",o),new Error(`AI Error: ${o.message}`)}}}const ia=new b1;let E1={data:""},T1=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||E1},w1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,S1=/\/\*[^]*?\*\/|  +/g,Y_=/\n+/g,no=(i,e)=>{let n="",s="",o="";for(let u in i){let d=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+d+";":s+=u[1]=="f"?no(d,u):u+"{"+no(d,u[1]=="k"?"":e)+"}":typeof d=="object"?s+=no(d,e?e.replace(/([^,])+/g,y=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,_=>/&/.test(_)?_.replace(/&/g,y):y?y+" "+_:_)):u):d!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=no.p?no.p(u,d):u+":"+d+";")}return n+(e&&o?e+"{"+o+"}":o)+s},ra={},Rb=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+Rb(i[n]);return e}return i},A1=(i,e,n,s,o)=>{let u=Rb(i),d=ra[u]||(ra[u]=(_=>{let E=0,R=11;for(;E<_.length;)R=101*R+_.charCodeAt(E++)>>>0;return"go"+R})(u));if(!ra[d]){let _=u!==i?i:(E=>{let R,x,D=[{}];for(;R=w1.exec(E.replace(S1,""));)R[4]?D.shift():R[3]?(x=R[3].replace(Y_," ").trim(),D.unshift(D[0][x]=D[0][x]||{})):D[0][R[1]]=R[2].replace(Y_," ").trim();return D[0]})(i);ra[d]=no(o?{["@keyframes "+d]:_}:_,n?"":"."+d)}let y=n&&ra.g?ra.g:null;return n&&(ra.g=ra[d]),((_,E,R,x)=>{x?E.data=E.data.replace(x,_):E.data.indexOf(_)===-1&&(E.data=R?_+E.data:E.data+_)})(ra[d],e,s,y),d},C1=(i,e,n)=>i.reduce((s,o,u)=>{let d=e[u];if(d&&d.call){let y=d(n),_=y&&y.props&&y.props.className||/^go/.test(y)&&y;d=_?"."+_:y&&typeof y=="object"?y.props?"":no(y,""):y===!1?"":y}return s+o+(d??"")},"");function Ah(i){let e=this||{},n=i.call?i(e.p):i;return A1(n.unshift?n.raw?C1(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,T1(e.target),e.g,e.o,e.k)}let Ib,Qm,Xm;Ah.bind({g:1});let ua=Ah.bind({k:1});function R1(i,e,n,s){no.p=e,Ib=i,Qm=n,Xm=s}function bo(i,e){let n=this||{};return function(){let s=arguments;function o(u,d){let y=Object.assign({},u),_=y.className||o.className;n.p=Object.assign({theme:Qm&&Qm()},y),n.o=/ *go\d+/.test(_),y.className=Ah.apply(n,s)+(_?" "+_:"");let E=i;return i[0]&&(E=y.as||i,delete y.as),Xm&&E[0]&&Xm(y),Ib(E,y)}return o}}var I1=i=>typeof i=="function",ih=(i,e)=>I1(i)?i(e):i,x1=(()=>{let i=0;return()=>(++i).toString()})(),xb=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),O1=20,wp="default",Ob=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return Ob(i,{type:i.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+u}))}}},Gf=[],Db={toasts:[],pausedAt:void 0,settings:{toastLimit:O1}},_s={},Nb=(i,e=wp)=>{_s[e]=Ob(_s[e]||Db,i),Gf.forEach(([n,s])=>{n===e&&s(_s[e])})},Mb=i=>Object.keys(_s).forEach(e=>Nb(i,e)),D1=i=>Object.keys(_s).find(e=>_s[e].toasts.some(n=>n.id===i)),Ch=(i=wp)=>e=>{Nb(e,i)},N1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M1=(i={},e=wp)=>{let[n,s]=De.useState(_s[e]||Db),o=De.useRef(_s[e]);De.useEffect(()=>(o.current!==_s[e]&&s(_s[e]),Gf.push([e,s]),()=>{let d=Gf.findIndex(([y])=>y===e);d>-1&&Gf.splice(d,1)}),[e]);let u=n.toasts.map(d=>{var y,_,E;return{...i,...i[d.type],...d,removeDelay:d.removeDelay||((y=i[d.type])==null?void 0:y.removeDelay)||i?.removeDelay,duration:d.duration||((_=i[d.type])==null?void 0:_.duration)||i?.duration||N1[d.type],style:{...i.style,...(E=i[d.type])==null?void 0:E.style,...d.style}}});return{...n,toasts:u}},k1=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||x1()}),_c=i=>(e,n)=>{let s=k1(e,i,n);return Ch(s.toasterId||D1(s.id))({type:2,toast:s}),s.id},jn=(i,e)=>_c("blank")(i,e);jn.error=_c("error");jn.success=_c("success");jn.loading=_c("loading");jn.custom=_c("custom");jn.dismiss=(i,e)=>{let n={type:3,toastId:i};e?Ch(e)(n):Mb(n)};jn.dismissAll=i=>jn.dismiss(void 0,i);jn.remove=(i,e)=>{let n={type:4,toastId:i};e?Ch(e)(n):Mb(n)};jn.removeAll=i=>jn.remove(void 0,i);jn.promise=(i,e,n)=>{let s=jn.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?ih(e.success,o):void 0;return u?jn.success(u,{id:s,...n,...n?.success}):jn.dismiss(s),o}).catch(o=>{let u=e.error?ih(e.error,o):void 0;u?jn.error(u,{id:s,...n,...n?.error}):jn.dismiss(s)}),i};var V1=1e3,P1=(i,e="default")=>{let{toasts:n,pausedAt:s}=M1(i,e),o=De.useRef(new Map).current,u=De.useCallback((x,D=V1)=>{if(o.has(x))return;let $=setTimeout(()=>{o.delete(x),d({type:4,toastId:x})},D);o.set(x,$)},[]);De.useEffect(()=>{if(s)return;let x=Date.now(),D=n.map($=>{if($.duration===1/0)return;let ne=($.duration||0)+$.pauseDuration-(x-$.createdAt);if(ne<0){$.visible&&jn.dismiss($.id);return}return setTimeout(()=>jn.dismiss($.id,e),ne)});return()=>{D.forEach($=>$&&clearTimeout($))}},[n,s,e]);let d=De.useCallback(Ch(e),[e]),y=De.useCallback(()=>{d({type:5,time:Date.now()})},[d]),_=De.useCallback((x,D)=>{d({type:1,toast:{id:x,height:D}})},[d]),E=De.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),R=De.useCallback((x,D)=>{let{reverseOrder:$=!1,gutter:ne=8,defaultPosition:me}=D||{},Ee=n.filter(Le=>(Le.position||me)===(x.position||me)&&Le.height),ke=Ee.findIndex(Le=>Le.id===x.id),Be=Ee.filter((Le,ct)=>ct<ke&&Le.visible).length;return Ee.filter(Le=>Le.visible).slice(...$?[Be+1]:[0,Be]).reduce((Le,ct)=>Le+(ct.height||0)+ne,0)},[n]);return De.useEffect(()=>{n.forEach(x=>{if(x.dismissed)u(x.id,x.removeDelay);else{let D=o.get(x.id);D&&(clearTimeout(D),o.delete(x.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:_,startPause:y,endPause:E,calculateOffset:R}}},L1=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,U1=ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j1=ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,z1=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${U1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,B1=ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,q1=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${B1} 1s linear infinite;
`,H1=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,F1=ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K1=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${F1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G1=bo("div")`
  position: absolute;
`,Y1=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Q1=ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X1=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Q1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$1=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?De.createElement(X1,null,e):e:n==="blank"?null:De.createElement(Y1,null,De.createElement(q1,{...s}),n!=="loading"&&De.createElement(G1,null,n==="error"?De.createElement(z1,{...s}):De.createElement(K1,{...s})))},J1=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,W1=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Z1="0%{opacity:0;} 100%{opacity:1;}",eA="0%{opacity:1;} 100%{opacity:0;}",tA=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nA=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rA=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=xb()?[Z1,eA]:[J1(n),W1(n)];return{animation:e?`${ua(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ua(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iA=De.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?rA(i.position||e||"top-center",i.visible):{opacity:0},u=De.createElement($1,{toast:i}),d=De.createElement(nA,{...i.ariaProps},ih(i.message,i));return De.createElement(tA,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:d}):De.createElement(De.Fragment,null,u,d))});R1(De.createElement);var sA=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=De.useCallback(d=>{if(d){let y=()=>{let _=d.getBoundingClientRect().height;s(i,_)};y(),new MutationObserver(y).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return De.createElement("div",{ref:u,className:e,style:n},o)},aA=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},oA=Ah`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pf=16,lA=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:d,containerClassName:y})=>{let{toasts:_,handlers:E}=P1(n,u);return De.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Pf,left:Pf,right:Pf,bottom:Pf,pointerEvents:"none",...d},className:y,onMouseEnter:E.startPause,onMouseLeave:E.endPause},_.map(R=>{let x=R.position||e,D=E.calculateOffset(R,{reverseOrder:i,gutter:s,defaultPosition:e}),$=aA(x,D);return De.createElement(sA,{id:R.id,key:R.id,onHeightUpdate:E.updateHeight,className:R.visible?oA:"",style:$},R.type==="custom"?ih(R.message,R):o?o(R):De.createElement(iA,{toast:R,position:x}))}))},vt=jn;function uA({isOpen:i,onClose:e,onSuccess:n}){const[s,o]=De.useState(""),[u,d]=De.useState(!1),[y,_]=De.useState("auto"),[E,R]=De.useState(null);if(!i)return null;const x=async()=>{if(!s.trim())return;if(!ia.hasKey()){vt.error("Please set your Gemini API Key in Settings first.");return}d(!0),R(null);const $=vt.loading("AI is analyzing transcript...");try{const ne=await ia.analyzeTranscript(s,y);if(!Array.isArray(ne)||ne.length===0)throw new Error("AI found no vocabulary or returned invalid format.");vt.loading(`Found ${ne.length} words. Saving...`,{id:$});const me=JSON.stringify(ne),Ee=await ql.importCards(me);vt.success(`Success!
Added: ${Ee.addedCount}
Skipped (Duplicate): ${Ee.skippedCount}`,{id:$,duration:4e3}),o(""),n(),e()}catch(ne){console.error(ne);const me=ne.message||"Unknown error";R(me),vt.error(`Failed: ${me}`,{id:$})}finally{d(!1)}},D=[{label:"AUTO",value:"auto"},{label:"5",value:5},{label:"10",value:10},{label:"20",value:20}];return W.jsx("div",{style:ki.overlay,children:W.jsxs("div",{style:ki.modal,children:[W.jsx("h2",{style:{marginTop:0,color:"#fff",marginBottom:"1.5rem"},children:"Import from Podcast"}),W.jsxs("div",{style:ki.settingRow,children:[W.jsx("span",{style:ki.settingLabel,children:"Max Words:"}),W.jsx("div",{style:ki.optionGroup,children:D.map($=>W.jsx("button",{onClick:()=>_($.value),style:{...ki.optionBtn,...y===$.value?ki.optionBtnActive:{}},children:$.label},$.value))})]}),W.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Paste the full podcast transcript text below. Gemini will extract key vocabulary for you."}),W.jsx("textarea",{value:s,onChange:$=>o($.target.value),placeholder:"Paste transcript text here...",style:ki.textarea,disabled:u}),E&&W.jsxs("div",{style:ki.error,children:[" ",E]}),W.jsxs("div",{style:ki.actions,children:[W.jsx("button",{onClick:e,disabled:u,style:{...ki.btn,backgroundColor:"#555"},children:"Cancel"}),W.jsx("button",{onClick:x,disabled:u||!s.trim(),style:{...ki.btn,backgroundColor:u?"#777":"#6366f1",opacity:!s.trim()||u?.6:1},children:u?"Analyzing...":"Analyze & Import"})]})]})})}const ki={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},modal:{backgroundColor:"#1e2024",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"600px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},settingRow:{display:"flex",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},settingLabel:{color:"#ccc",fontSize:"0.9rem",fontWeight:"500"},optionGroup:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},optionBtn:{padding:"0.4rem 1rem",backgroundColor:"#2c2e33",border:"1px solid #444",borderRadius:"6px",color:"#aaa",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},optionBtnActive:{backgroundColor:"#6366f1",color:"#fff",borderColor:"#6366f1",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)"},textarea:{width:"100%",height:"250px",backgroundColor:"#131416",color:"#e0e0e0",border:"1px solid #444",borderRadius:"6px",padding:"0.8rem",fontFamily:"inherit",fontSize:"0.95rem",resize:"vertical",lineHeight:"1.5"},error:{color:"#ff6b6b",marginTop:"1rem",fontSize:"0.9rem",padding:"0.5rem",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"4px"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},btn:{padding:"0.6rem 1.5rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem"}};function cA({isOpen:i,onClose:e}){const[n,s]=De.useState(""),[o,u]=De.useState(!1),[d,y]=De.useState(!1);De.useEffect(()=>{i&&(s(ia.getApiKey()||""),y(ia.isPersistent()))},[i]);const _=()=>{n.trim()?(ia.setApiKey(n.trim(),d),d?vt.success("API Key  ()"):vt.success("API Key  ( Session)")):(ia.removeApiKey(),vt("API Key ")),e()},E=()=>{s(""),y(!1),ia.removeApiKey(),vt("API Key ")};return i?W.jsx("div",{style:Vi.overlay,children:W.jsxs("div",{style:Vi.modal,children:[W.jsx("h2",{style:{marginTop:0,color:"#fff"},children:"Settings"}),W.jsxs("div",{style:{marginBottom:"2rem"},children:[W.jsx("label",{style:Vi.label,children:"Gemini API Key (BYOK)"}),W.jsxs("p",{style:Vi.hint,children:[" Key  Google Gemini API",W.jsx("br",{}),""]}),W.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[W.jsx("input",{type:o?"text":"password",value:n,onChange:R=>s(R.target.value),placeholder:"AIzaSy...",style:Vi.input}),W.jsx("button",{onClick:()=>u(!o),style:Vi.iconBtn,title:"Toggle Visibility",children:o?"":""})]}),W.jsxs("div",{style:Vi.checkboxContainer,children:[W.jsx("input",{type:"checkbox",id:"rememberKey",checked:d,onChange:R=>y(R.target.checked),style:{cursor:"pointer"}}),W.jsx("label",{htmlFor:"rememberKey",style:{...Vi.label,marginBottom:0,cursor:"pointer",fontWeight:"normal",fontSize:"0.9rem"},children:" ()"})]}),d&&W.jsx("p",{style:{color:"#ff9800",fontSize:"0.8rem",marginTop:"0.2rem",marginLeft:"1.5rem"},children:"  Key  LocalStorage"})]}),W.jsxs("div",{style:Vi.actions,children:[W.jsx("button",{onClick:E,style:{...Vi.btn,backgroundColor:"#d32f2f",marginRight:"auto"},children:"Clear Key"}),W.jsx("button",{onClick:e,style:{...Vi.btn,backgroundColor:"#555"},children:"Close"}),W.jsx("button",{onClick:_,style:{...Vi.btn,backgroundColor:"#4caf50"},children:"Save"})]})]})}):null}const Vi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)"},label:{display:"block",color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.5rem"},hint:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.5rem",lineHeight:"1.4"},input:{flex:1,padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontFamily:"monospace"},iconBtn:{padding:"0 0.8rem",backgroundColor:"#444",border:"none",borderRadius:"4px",cursor:"pointer",color:"#fff"},checkboxContainer:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem"},btn:{padding:"0.5rem 1.2rem",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"}};function fA({isOpen:i,onClose:e,onSuccess:n}){const[s,o]=De.useState(""),[u,d]=De.useState(""),[y,_]=De.useState(""),[E,R]=De.useState(""),[x,D]=De.useState(""),[$,ne]=De.useState(!1);if(!i)return null;const me=async()=>{if(!s.trim()){vt.error("Please enter a word first");return}if(!ia.hasKey()){vt.error("Please set your API Key in Settings first");return}ne(!0);const ke=vt.loading(`Asking Gemini about "${s}"...`);try{const Be=await ia.generateCardDetails(s);d(Be.ipa||""),_(Be.definition||""),R(Be.context||""),D(Be.translation||""),vt.success("Auto-filled!",{id:ke})}catch(Be){console.error(Be),vt.error(Be.message,{id:ke})}finally{ne(!1)}},Ee=async()=>{if(!s||!y){vt.error("Word and Definition are required");return}try{await ql.addCard({word:s,ipa:u,definition:y,context:E,translation:x}),vt.success(`Added "${s}"`),o(""),d(""),_(""),R(""),D(""),n(),e()}catch(ke){console.error(ke),vt.error(ke.message)}};return W.jsx("div",{style:Sn.overlay,children:W.jsxs("div",{style:Sn.modal,children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[W.jsx("h2",{style:{margin:0,color:"#fff"},children:"Add New Card"}),W.jsx("button",{onClick:me,disabled:$,style:Sn.magicBtn,title:"AI Auto-fill",children:$?"...":" AI Auto-fill"})]}),W.jsxs("div",{style:Sn.field,children:[W.jsx("label",{style:Sn.label,children:"Word"}),W.jsx("input",{style:Sn.input,value:s,onChange:ke=>o(ke.target.value),placeholder:"e.g. Serendipity",autoFocus:!0})]}),W.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[W.jsxs("div",{style:{...Sn.field,flex:1},children:[W.jsx("label",{style:Sn.label,children:"IPA (Optional)"}),W.jsx("input",{style:Sn.input,value:u,onChange:ke=>d(ke.target.value),placeholder:"/ser.ndp..ti/"})]}),W.jsxs("div",{style:{...Sn.field,flex:1},children:[W.jsx("label",{style:Sn.label,children:"Translation ()"}),W.jsx("input",{style:Sn.input,value:x,onChange:ke=>D(ke.target.value),placeholder:"e.g. "})]})]}),W.jsxs("div",{style:Sn.field,children:[W.jsx("label",{style:Sn.label,children:"Definition"}),W.jsx("textarea",{style:{...Sn.input,height:"60px",resize:"vertical"},value:y,onChange:ke=>_(ke.target.value)})]}),W.jsxs("div",{style:Sn.field,children:[W.jsx("label",{style:Sn.label,children:"Context / Example (English)"}),W.jsx("textarea",{style:{...Sn.input,height:"60px",resize:"vertical"},value:E,onChange:ke=>R(ke.target.value)})]}),W.jsxs("div",{style:Sn.actions,children:[W.jsx("button",{onClick:e,style:{...Sn.btn,backgroundColor:"#555"},children:"Cancel"}),W.jsx("button",{onClick:Ee,style:{...Sn.btn,backgroundColor:"#2196f3"},children:"Save Card"})]})]})})}const Sn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},field:{marginBottom:"1rem"},label:{display:"block",color:"#aaa",fontSize:"0.85rem",marginBottom:"0.3rem"},input:{width:"100%",padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontSize:"1rem",boxSizing:"border-box"},magicBtn:{padding:"0.4rem 0.8rem",backgroundColor:"transparent",border:"1px solid #e91e63",borderRadius:"20px",color:"#e91e63",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s",fontWeight:"bold"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},btn:{padding:"0.6rem 1.2rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"}};function hA({isOpen:i,onClose:e}){const[n,s]=De.useState([]),[o,u]=De.useState(null),[d,y]=De.useState(!1),[_,E]=De.useState(0),R=De.useRef(null);De.useEffect(()=>{i&&(x(),y(!1),E(0),u(null))},[i]),De.useEffect(()=>(d&&_>0?R.current=setTimeout(()=>{E(ne=>ne-1)},1e3):d&&_===0&&y(!1),()=>clearTimeout(R.current)),[d,_]);const x=async()=>{try{const ne=await ql.getAllCards();ne.sort((me,Ee)=>Ee.updatedAt-me.updatedAt),s(ne)}catch(ne){console.error(ne),vt.error("Failed to load cards")}},D=async ne=>{if(o!==ne){u(ne),setTimeout(()=>{u(me=>me===ne?null:me)},3e3);return}try{await ql.deleteCard(ne),vt.success("Card deleted"),u(null),x()}catch(me){console.error(me),vt.error("Delete failed")}},$=async()=>{if(!d){y(!0),E(3);return}try{await ql.clearAllCards(),vt.success("All data cleared"),s([]),y(!1)}catch(ne){console.error(ne),vt.error("Clear failed")}};return i?W.jsx("div",{style:Pi.overlay,children:W.jsxs("div",{style:Pi.modal,children:[W.jsxs("div",{style:Pi.header,children:[W.jsxs("h2",{style:{margin:0,color:"#fff"},children:["Manage Cards (",n.length,")"]}),W.jsx("button",{onClick:e,style:Pi.closeBtn,children:""})]}),W.jsx("div",{style:Pi.listContainer,children:n.length===0?W.jsx("p",{style:{color:"#888",textAlign:"center"},children:"No cards found."}):n.map(ne=>W.jsxs("div",{style:Pi.cardRow,children:[W.jsxs("div",{style:Pi.cardInfo,children:[W.jsx("div",{style:Pi.word,children:ne.word}),W.jsxs("div",{style:Pi.def,children:[ne.definition?.substring(0,50),"..."]})]}),W.jsx("button",{onClick:()=>D(ne.id),style:{...Pi.deleteBtn,backgroundColor:o===ne.id?"#d32f2f":"#333",color:o===ne.id?"#fff":"#888",border:o===ne.id?"1px solid #ff5252":"1px solid #444",width:o===ne.id?"100px":"40px"},children:o===ne.id?"Sure?":""})]},ne.id))}),W.jsx("div",{style:Pi.footer,children:W.jsx("button",{onClick:$,style:{...Pi.dangerBtn,backgroundColor:d?"#d32f2f":"#3a1c1c",color:d?"#ffeb3b":"#ff6b6b",border:d?"1px solid #ffeb3b":"1px solid #ff6b6b"},children:d?`Confirm Clear All? (${_})`:"Clear All Local Data"})})]})}):null}const Pi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},modal:{backgroundColor:"#1e2024",width:"90%",maxWidth:"500px",maxHeight:"80vh",borderRadius:"12px",display:"flex",flexDirection:"column",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},header:{padding:"1.5rem",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},closeBtn:{background:"none",border:"none",color:"#888",fontSize:"1.2rem",cursor:"pointer"},listContainer:{flex:1,overflowY:"auto",padding:"1rem"},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.8rem",borderBottom:"1px solid #2c2e33"},cardInfo:{flex:1,marginRight:"1rem",overflow:"hidden"},word:{color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.2rem"},def:{color:"#888",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},deleteBtn:{padding:"0.4rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"0.9rem",whiteSpace:"nowrap",display:"flex",justifyContent:"center",alignItems:"center"},footer:{padding:"1.5rem",borderTop:"1px solid #333"},dangerBtn:{width:"100%",padding:"0.8rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"}};function dA({isOpen:i,onClose:e}){const[n,s]=De.useState(""),[o,u]=De.useState(!1),[d,y]=De.useState([]),[_,E]=De.useState(new Set);De.useEffect(()=>{i&&R()},[i]),De.useEffect(()=>{d.length>0&&x(Array.from(_))},[_,d]);const R=async()=>{u(!0);try{const ne=await ql.getDueCards(5);ne.length===0?(vt.error("No review data found."),y([])):(y(ne),E(new Set(ne.map(me=>me.word))))}catch(ne){console.error("Error fetching data:",ne),vt.error("Failed to load review data")}finally{u(!1)}},x=ne=>{if(ne.length===0){s("Please select at least one word to generate the prompt.");return}const Ee=`Create an engaging podcast script on a broad and interesting topic aligned with your persona's expertise. 

Your task is to naturally weave the following target vocabulary into this larger narrative: [${ne.join(", ")}]. 

IMPORTANT: 
1. The content must NOT be limited only to these vocabularies. 
2. Build a rich, immersive context with a coherent storyline or argument including target vocabularies. 
3. Use the target words only as natural touchpoints within a flowing, full-length conversation. 
4. Keep the tone casual, authentic, conversational and educational. 
`;s(Ee)},D=ne=>{const me=new Set(_);me.has(ne)?me.delete(ne):me.add(ne),E(me)},$=()=>{navigator.clipboard.writeText(n),vt.success("Prompt copied to clipboard!")};return i?W.jsx("div",{style:tn.overlay,children:W.jsxs("div",{style:tn.modal,children:[W.jsxs("div",{style:tn.header,children:[W.jsx("h2",{style:tn.title,children:"Review Session Ready"}),W.jsx("button",{onClick:e,style:tn.closeBtn,children:""})]}),o?W.jsxs("div",{style:tn.loadingState,children:[W.jsx("div",{style:tn.spinner}),W.jsx("p",{children:"Analyzing your progress..."})]}):W.jsxs("div",{style:tn.content,children:[W.jsx("div",{style:tn.statsRow,children:W.jsxs("div",{style:{...tn.statCard,backgroundColor:"rgba(52, 152, 219, 0.15)",borderColor:"#3498db"},children:[W.jsx("div",{style:tn.statLabel,children:"Target Vocabulary Count"}),W.jsx("div",{style:{...tn.statValue,color:"#3498db"},children:_.size})]})}),W.jsxs("div",{style:tn.section,children:[W.jsxs("div",{style:tn.sectionHeader,children:[W.jsx("span",{style:tn.sectionTitle,children:"Target Words"}),W.jsx("span",{style:tn.sectionSubtitle,children:"Click to include/exclude"})]}),W.jsx("div",{style:tn.chipsContainer,children:d.map(ne=>{const me=_.has(ne.word);return W.jsx("button",{onClick:()=>D(ne.word),style:{...tn.chip,...me?tn.chipSelected:tn.chipUnselected},children:ne.word},ne.word)})})]}),W.jsxs("div",{style:tn.section,children:[W.jsx("div",{style:tn.sectionTitle,children:"Generated Prompt"}),W.jsx("textarea",{value:n,readOnly:!0,style:tn.textarea})]}),W.jsx("button",{onClick:$,disabled:_.size===0,style:{...tn.copyBtn,opacity:_.size===0?.5:1,cursor:_.size===0?"not-allowed":"pointer"},children:"Copy Prompt to Clipboard"})]})]})}):null}const tn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},modal:{backgroundColor:"#1e1e1e",padding:"2rem",borderRadius:"16px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",color:"#e0e0e0",fontFamily:"'Inter', system-ui, sans-serif",border:"1px solid #333"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},title:{margin:0,fontSize:"1.5rem",fontWeight:"700",color:"#fff",letterSpacing:"-0.02em"},closeBtn:{background:"none",border:"none",color:"#666",fontSize:"2rem",cursor:"pointer",lineHeight:1,padding:"0 0.5rem",transition:"color 0.2s"},loadingState:{padding:"3rem",textAlign:"center",color:"#888"},content:{display:"flex",flexDirection:"column",gap:"1.5rem"},statsRow:{display:"flex",width:"100%"},statCard:{flex:1,padding:"1rem",borderRadius:"12px",border:"1px solid",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},statLabel:{fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"#aaa",marginBottom:"0.3rem",fontWeight:"600"},statValue:{fontSize:"1.8rem",fontWeight:"800"},section:{display:"flex",flexDirection:"column",gap:"0.8rem"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},sectionTitle:{fontSize:"0.95rem",fontWeight:"600",color:"#ccc"},sectionSubtitle:{fontSize:"0.75rem",color:"#666"},chipsContainer:{display:"flex",flexWrap:"wrap",gap:"0.6rem",padding:"1rem",backgroundColor:"#25262b",borderRadius:"12px",border:"1px solid #333",maxHeight:"150px",overflowY:"auto"},chip:{padding:"0.4rem 0.9rem",borderRadius:"50px",fontSize:"0.85rem",fontWeight:"500",cursor:"pointer",border:"1px solid",transition:"all 0.2s ease",outline:"none"},chipSelected:{backgroundColor:"rgba(52, 152, 219, 0.2)",borderColor:"#3498db",color:"#3498db",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},chipUnselected:{backgroundColor:"transparent",borderColor:"#444",color:"#666",textDecoration:"line-through",opacity:.6},textarea:{width:"100%",height:"120px",backgroundColor:"#25262b",border:"1px solid #333",borderRadius:"12px",padding:"1rem",color:"#aaa",fontSize:"0.85rem",lineHeight:"1.6",resize:"none",boxSizing:"border-box"},copyBtn:{backgroundColor:"#3498db",color:"white",border:"none",padding:"1rem",borderRadius:"12px",fontSize:"1rem",fontWeight:"600",width:"100%",transition:"transform 0.1s, background 0.2s",boxShadow:"0 4px 15px rgba(52, 152, 219, 0.3)",cursor:"pointer"}},mA=()=>{};var Q_={};const kb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],y=i[n++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,y=d?i[o+1]:0,_=o+2<i.length,E=_?i[o+2]:0,R=u>>2,x=(u&3)<<4|y>>4;let D=(y&15)<<2|E>>6,$=E&63;_||($=64,d||(D=64)),s.push(n[R],n[x],n[D],n[$])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):pA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],y=o<i.length?n[i.charAt(o)]:0;++o;const E=o<i.length?n[i.charAt(o)]:64;++o;const x=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||y==null||E==null||x==null)throw new gA;const D=u<<2|y>>4;if(s.push(D),E!==64){const $=y<<4&240|E>>2;if(s.push($),x!==64){const ne=E<<6&192|x;s.push(ne)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(i){const e=kb(i);return Vb.encodeByteArray(e,!0)},sh=function(i){return yA(i).replace(/\./g,"")},Pb=function(i){try{return Vb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>vA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof Q_>"u")return;const i=Q_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},EA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Pb(i[1]);return e&&JSON.parse(e)},Rh=()=>{try{return mA()||_A()||bA()||EA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Lb=i=>Rh()?.emulatorHosts?.[i],TA=i=>{const e=Lb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ub=()=>Rh()?.config,jb=i=>Rh()?.[`_${i}`];class wA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function tu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zb(i){return(await fetch(i,{credentials:"include"})).ok}function SA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sh(JSON.stringify(n)),sh(JSON.stringify(d)),""].join(".")}const Wu={};function AA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?i.emulator.push(e):i.prod.push(e);return i}function CA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let X_=!1;function Bb(i,e){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||Wu[i]===e||Wu[i]||X_)return;Wu[i]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=AA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,$){D.setAttribute("width","24"),D.setAttribute("id",$),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function E(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{X_=!0,d()},D}function R(D,$){D.setAttribute("id",$),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function x(){const D=CA(s),$=n("text"),ne=document.getElementById($)||document.createElement("span"),me=n("learnmore"),Ee=document.getElementById(me)||document.createElement("a"),ke=n("preprendIcon"),Be=document.getElementById(ke)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const Le=D.element;y(Le),R(Ee,me);const ct=E();_(Be,ke),Le.append(Be,ne,Ee,ct),document.body.appendChild(Le)}u?(ne.innerText="Preview backend disconnected.",Be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function IA(){const i=Rh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const i=gr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function VA(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const PA="FirebaseError";class ma extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PA,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?LA(u,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ma(o,y,s)}}function LA(i,e){return i.replace(UA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UA=/\{\$([^}]+)}/g;function jA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jo(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if($_(u)&&$_(d)){if(!Jo(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $_(i){return i!==null&&typeof i=="object"}function Ec(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zA(i,e){const n=new BA(i,e);return n.subscribe.bind(n)}class BA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Vm(){}function ji(i){return i&&i._delegate?i._delegate:i}class Wo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ko="[DEFAULT]";class HA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FA(i){return i===Ko?void 0:i}function KA(i){return i.instantiationMode==="EAGER"}class GA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Et;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Et||(Et={}));const YA={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},QA=Et.INFO,XA={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},$A=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=XA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=QA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const JA=(i,e)=>e.some(n=>i instanceof n);let J_,W_;function WA(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,$m=new WeakMap,Hb=new WeakMap,Pm=new WeakMap,Ap=new WeakMap;function eC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(lo(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&qb.set(n,i)}).catch(()=>{}),Ap.set(e,i),e}function tC(i){if($m.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});$m.set(i,e)}let Jm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Hb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function nC(i){Jm=i(Jm)}function rC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Lm(this),e,...n);return Hb.set(s,e.sort?e.sort():[e]),lo(s)}:ZA().includes(i)?function(...e){return i.apply(Lm(this),e),lo(qb.get(this))}:function(...e){return lo(i.apply(Lm(this),e))}}function iC(i){return typeof i=="function"?rC(i):(i instanceof IDBTransaction&&tC(i),JA(i,WA())?new Proxy(i,Jm):i)}function lo(i){if(i instanceof IDBRequest)return eC(i);if(Pm.has(i))return Pm.get(i);const e=iC(i);return e!==i&&(Pm.set(i,e),Ap.set(e,i)),e}const Lm=i=>Ap.get(i);function sC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),y=lo(d);return s&&d.addEventListener("upgradeneeded",_=>{s(lo(d.result),_.oldVersion,_.newVersion,lo(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),y.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const aC=["get","getKey","getAll","getAllKeys","count"],oC=["put","add","delete","clear"],Um=new Map;function Z_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=oC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aC.includes(n)))return;const u=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),o&&_.done]))[0]};return Um.set(e,u),u}nC(i=>({...i,get:(e,n,s)=>Z_(e,n)||i.get(e,n,s),has:(e,n)=>!!Z_(e,n)||i.has(e,n)}));class lC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uC(i){return i.getComponent()?.type==="VERSION"}const Wm="@firebase/app",e0="0.14.6";const ca=new Sp("@firebase/app"),cC="@firebase/app-compat",fC="@firebase/analytics-compat",hC="@firebase/analytics",dC="@firebase/app-check-compat",mC="@firebase/app-check",pC="@firebase/auth",gC="@firebase/auth-compat",yC="@firebase/database",vC="@firebase/data-connect",_C="@firebase/database-compat",bC="@firebase/functions",EC="@firebase/functions-compat",TC="@firebase/installations",wC="@firebase/installations-compat",SC="@firebase/messaging",AC="@firebase/messaging-compat",CC="@firebase/performance",RC="@firebase/performance-compat",IC="@firebase/remote-config",xC="@firebase/remote-config-compat",OC="@firebase/storage",DC="@firebase/storage-compat",NC="@firebase/firestore",MC="@firebase/ai",kC="@firebase/firestore-compat",VC="firebase",PC="12.6.0";const Zm="[DEFAULT]",LC={[Wm]:"fire-core",[cC]:"fire-core-compat",[hC]:"fire-analytics",[fC]:"fire-analytics-compat",[mC]:"fire-app-check",[dC]:"fire-app-check-compat",[pC]:"fire-auth",[gC]:"fire-auth-compat",[yC]:"fire-rtdb",[vC]:"fire-data-connect",[_C]:"fire-rtdb-compat",[bC]:"fire-fn",[EC]:"fire-fn-compat",[TC]:"fire-iid",[wC]:"fire-iid-compat",[SC]:"fire-fcm",[AC]:"fire-fcm-compat",[CC]:"fire-perf",[RC]:"fire-perf-compat",[IC]:"fire-rc",[xC]:"fire-rc-compat",[OC]:"fire-gcs",[DC]:"fire-gcs-compat",[NC]:"fire-fst",[kC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[VC]:"fire-js-all"};const ah=new Map,UC=new Map,ep=new Map;function t0(i,e){try{i.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Yl(i){const e=i.name;if(ep.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of ah.values())t0(n,i);for(const n of UC.values())t0(n,i);return!0}function Cp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wi(i){return i==null?!1:i.settings!==void 0}const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new bc("app","Firebase",jC);class zC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const nu=PC;function Fb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw uo.create("bad-app-name",{appName:String(o)});if(n||(n=Ub()),!n)throw uo.create("no-options");const u=ah.get(o);if(u){if(Jo(n,u.options)&&Jo(s,u.config))return u;throw uo.create("duplicate-app",{appName:o})}const d=new GA(o);for(const _ of ep.values())d.addComponent(_);const y=new zC(n,s,d);return ah.set(o,y),y}function Kb(i=Zm){const e=ah.get(i);if(!e&&i===Zm&&Ub())return Fb();if(!e)throw uo.create("no-app",{appName:i});return e}function co(i,e,n){let s=LC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(d.join(" "));return}Yl(new Wo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const BC="firebase-heartbeat-database",qC=1,lc="firebase-heartbeat-store";let jm=null;function Gb(){return jm||(jm=sC(BC,qC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw uo.create("idb-open",{originalErrorMessage:i.message})})),jm}async function HC(i){try{const n=(await Gb()).transaction(lc),s=await n.objectStore(lc).get(Yb(i));return await n.done,s}catch(e){if(e instanceof ma)ca.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e?.message});ca.warn(n.message)}}}async function n0(i,e){try{const s=(await Gb()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,Yb(i)),await s.done}catch(n){if(n instanceof ma)ca.warn(n.message);else{const s=uo.create("idb-set",{originalErrorMessage:n?.message});ca.warn(s.message)}}}function Yb(i){return`${i.name}!${i.options.appId}`}const FC=1024,KC=30;class GC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>KC){const o=XC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:n,unsentEntries:s}=YC(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ca.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function YC(i,e=FC){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),i0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),i0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?VA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i0(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function XC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function $C(i){Yl(new Wo("platform-logger",e=>new lC(e),"PRIVATE")),Yl(new Wo("heartbeat",e=>new GC(e),"PRIVATE")),co(Wm,e0,i),co(Wm,e0,"esm2020"),co("fire-js","")}$C("");var JC="firebase",WC="12.6.0";co(JC,WC,"app");function Qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZC=Qb,Xb=new bc("auth","Firebase",Qb());const oh=new Sp("@firebase/auth");function eR(i,...e){oh.logLevel<=Et.WARN&&oh.warn(`Auth (${nu}): ${i}`,...e)}function Yf(i,...e){oh.logLevel<=Et.ERROR&&oh.error(`Auth (${nu}): ${i}`,...e)}function As(i,...e){throw Ip(i,...e)}function ts(i,...e){return Ip(i,...e)}function Rp(i,e,n){const s={...ZC(),[e]:n};return new bc("auth","Firebase",s).create(e,{appName:i.name})}function Qo(i){return Rp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&As(i,"argument-error"),Rp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ip(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Xb.create(i,...e)}function et(i,e,...n){if(!i)throw Ip(e,...n)}function aa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Yf(e),new Error(e)}function fa(i,e){i||aa(e)}function tp(){return typeof self<"u"&&self.location?.href||""}function nR(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function rR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||OA()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,fa(n>e,"Short delay should be less than long delay!"),this.isMobile=RA()||DA()}get(){return rR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(i,e){fa(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $b{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oR=new Tc(3e4,6e4);function Op(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ru(i,e,n,s,o={}){return Jb(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const y=Ec({key:i.config.apiKey,...d}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:_,...u};return xA()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&tu(i.emulatorConfig.host)&&(E.credentials="include"),$b.fetch()(await Wb(i,i.config.apiHost,n,y),E)})}async function Jb(i,e,n){i._canInitEmulator=!1;const s={...sR,...e};try{const o=new uR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Lf(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[_,E]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(i,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lf(i,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lf(i,"user-disabled",d);const R=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Rp(i,R,E);As(i,R)}}catch(o){if(o instanceof ma)throw o;As(i,"network-request-failed",{message:String(o)})}}async function lR(i,e,n,s,o={}){const u=await ru(i,e,n,s,o);return"mfaPendingCredential"in u&&As(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Wb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,d=u.config.emulator?xp(i.config,o):`${i.config.apiScheme}://${o}`;return aR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class uR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),oR.get())})}}function Lf(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ts(i,e,s);return o.customData._tokenResponse=n,o}async function cR(i,e){return ru(i,"POST","/v1/accounts:delete",e)}async function lh(i,e){return ru(i,"POST","/v1/accounts:lookup",e)}function Zu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fR(i,e=!1){const n=ji(i),s=await n.getIdToken(e),o=Dp(s);et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:Zu(zm(o.auth_time)),issuedAtTime:Zu(zm(o.iat)),expirationTime:Zu(zm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function zm(i){return Number(i)*1e3}function Dp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pb(n);return o?JSON.parse(o):(Yf("Failed to decode base64 JWT payload"),null)}catch(o){return Yf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(i){const e=Dp(i);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ma&&hR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function hR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class dR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(i){const e=i.auth,n=await i.getIdToken(),s=await uc(i,lh(e,{idToken:n}));et(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Zb(o.providerUserInfo):[],d=pR(i.providerData,u),y=i.isAnonymous,_=!(i.email&&o.passwordHash)&&!d?.length,E=y?_:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,R)}async function mR(i){const e=ji(i);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Zb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gR(i,e){const n=await Jb(i,{},async()=>{const s=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await Wb(i,o,"/v1/token",`key=${u}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:s};return i.emulatorConfig&&tu(i.emulatorConfig.host)&&(_.credentials="include"),$b.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(i,e){return ru(i,"POST","/v2/accounts:revokeToken",Op(i,e))}class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await gR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new Hl;return s&&(et(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(et(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(et(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return aa("not implemented")}}function eo(i,e){et(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new dR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fR(this,e)}reload(){return mR(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wi(this.auth.app))return Promise.reject(Qo(this.auth));const e=await this.getIdToken();return await uc(this,cR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,_=n._redirectEventId??void 0,E=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:x,emailVerified:D,isAnonymous:$,providerData:ne,stsTokenManager:me}=n;et(x&&me,e,"internal-error");const Ee=Hl.fromJSON(this.name,me);et(typeof x=="string",e,"internal-error"),eo(s,e.name),eo(o,e.name),et(typeof D=="boolean",e,"internal-error"),et(typeof $=="boolean",e,"internal-error"),eo(u,e.name),eo(d,e.name),eo(y,e.name),eo(_,e.name),eo(E,e.name),eo(R,e.name);const ke=new Zi({uid:x,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:$,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:Ee,createdAt:E,lastLoginAt:R});return ne&&Array.isArray(ne)&&(ke.providerData=ne.map(Be=>({...Be}))),_&&(ke._redirectEventId=_),ke}static async _fromIdTokenResponse(e,n,s=!1){const o=new Hl;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Zb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new Hl;y.updateFromIdToken(s);const _=new Zi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,E),_}}const o0=new Map;function oa(i){fa(i instanceof Function,"Expected a class definition");let e=o0.get(i);return e?(fa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,o0.set(i,e),e)}class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eE.type="NONE";const l0=eE;function Qf(i,e,n){return`firebase:${i}:${e}:${n}`}class Fl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Zi._fromGetAccountInfoResponse(this.auth,n,e):null}return Zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fl(oa(l0),e,s);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=o[0]||oa(l0);const d=Qf(s,e.config.apiKey,e.name);let y=null;for(const E of n)try{const R=await E._get(d);if(R){let x;if(typeof R=="string"){const D=await lh(e,{idToken:R}).catch(()=>{});if(!D)break;x=await Zi._fromGetAccountInfoResponse(e,D,R)}else x=Zi._fromJSON(e,R);E!==u&&(y=x),u=E;break}}catch{}const _=o.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Fl(u,e,s):(u=_[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==u)try{await E._remove(d)}catch{}})),new Fl(u,e,s))}}function u0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aE(e))return"Blackberry";if(oE(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function tE(i=gr()){return/firefox\//i.test(i)}function nE(i=gr()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(i=gr()){return/crios\//i.test(i)}function iE(i=gr()){return/iemobile/i.test(i)}function sE(i=gr()){return/android/i.test(i)}function aE(i=gr()){return/blackberry/i.test(i)}function oE(i=gr()){return/webos/i.test(i)}function Np(i=gr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vR(i=gr()){return Np(i)&&!!window.navigator?.standalone}function _R(){return NA()&&document.documentMode===10}function lE(i=gr()){return Np(i)||sE(i)||oE(i)||aE(i)||/windows phone/i.test(i)||iE(i)}function uE(i,e=[]){let n;switch(i){case"Browser":n=u0(gr());break;case"Worker":n=`${u0(gr())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${s}`}class bR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,y)=>{try{const _=e(u);d(_)}catch(_){y(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ER(i,e={}){return ru(i,"GET","/v2/passwordPolicy",Op(i,e))}const TR=6;class wR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class SR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wi(this.app))return Promise.reject(Qo(this));const n=e?ji(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wi(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wi(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ER(this),n=new wR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oa(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,o);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ih(i){return ji(i)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zA(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(i){Mp=i}function CR(i){return Mp.loadJS(i)}function RR(){return Mp.gapiScript}function IR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function xR(i,e){const n=Cp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Jo(u,e??{}))return o;As(o,"already-initialized")}return n.initialize({options:e})}function OR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(oa);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function DR(i,e,n){const s=Ih(i);et(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=cE(e),{host:d,port:y}=NR(e),_=y===null?"":`:${y}`,E={url:`${u}//${d}${_}/`},R=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),et(Jo(E,s.config.emulator)&&Jo(R,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=R,s.settings.appVerificationDisabledForTesting=!0,tu(d)?(zb(`${u}//${d}${_}`),Bb("Auth",!0)):MR()}function cE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function NR(i){const e=cE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:f0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:f0(d)}}}function f0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function MR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,n){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function Kl(i,e){return lR(i,"POST","/v1/accounts:signInWithIdp",Op(i,e))}const kR="http://localhost";class Zo extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new Zo(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Kl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:kR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}class kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ro extends wc{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";class sa extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return sa.credential(n,s)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class io extends wc{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";class so extends wc{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return so.credential(n,s)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),d=h0(s);return new Ql({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=h0(s);return new Ql({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function h0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ch extends ma{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function hE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(i,u,e,s):u})}async function VR(i,e,n=!1){const s=await uc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ql._forOperation(i,"link",s)}async function PR(i,e,n=!1){const{auth:s}=i;if(Wi(s.app))return Promise.reject(Qo(s));const o="reauthenticate";try{const u=await uc(i,hE(s,o,e,i),n);et(u.idToken,s,"internal-error");const d=Dp(u.idToken);et(d,s,"internal-error");const{sub:y}=d;return et(i.uid===y,s,"user-mismatch"),Ql._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&As(s,"user-mismatch"),u}}async function LR(i,e,n=!1){if(Wi(i.app))return Promise.reject(Qo(i));const s="signIn",o=await hE(i,s,e),u=await Ql._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function UR(i,e,n,s){return ji(i).onIdTokenChanged(e,n,s)}function jR(i,e,n){return ji(i).beforeAuthStateChanged(e,n)}function zR(i,e,n,s){return ji(i).onAuthStateChanged(e,n,s)}function d0(i){return ji(i).signOut()}const fh="__sak";class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BR=1e3,qR=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);_R()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const HR=mE;class pE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pE.type="SESSION";const gE=pE;function FR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(d).map(async E=>E(n.origin,u)),_=await FR(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function Vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class KR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,_)=>{const E=Vp("",20);o.port1.start();const R=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(x){const D=x;if(D.data.eventId===E)switch(D.data.status){case"ack":clearTimeout(R),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(D.data.response);break;default:clearTimeout(R),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:E,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bs(){return window}function GR(i){bs().location.href=i}function yE(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function YR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){return navigator?.serviceWorker?.controller||null}function XR(){return yE()?self:null}const vE="firebaseLocalStorageDb",$R=1,hh="firebaseLocalStorage",_E="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(i,e){return i.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function JR(){const i=indexedDB.deleteDatabase(vE);return new Sc(i).toPromise()}function rp(){const i=indexedDB.open(vE,$R);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(hh,{keyPath:_E})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await JR(),e(await rp()))})})}async function m0(i,e,n){const s=Oh(i,!0).put({[_E]:e,value:n});return new Sc(s).toPromise()}async function WR(i,e){const n=Oh(i,!1).get(e),s=await new Sc(n).toPromise();return s===void 0?null:s.value}function p0(i,e){const n=Oh(i,!0).delete(e);return new Sc(n).toPromise()}const ZR=800,eI=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>eI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await m0(e,fh,"1"),await p0(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>m0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>WR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new Sc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const tI=bE;new Tc(3e4,6e4);function EE(i,e){return e?oa(e):(et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pp extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nI(i){return LR(i.auth,new Pp(i),i.bypassAuthState)}function rI(i){const{auth:e,user:n}=i;return et(n,e,"internal-error"),PR(n,new Pp(i),i.bypassAuthState)}async function iI(i){const{auth:e,user:n}=i;return et(n,e,"internal-error"),VR(n,new Pp(i),i.bypassAuthState)}class TE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nI;case"linkViaPopup":case"linkViaRedirect":return iI;case"reauthViaPopup":case"reauthViaRedirect":return rI;default:As(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sI=new Tc(2e3,1e4);async function aI(i,e,n){if(Wi(i.app))return Promise.reject(ts(i,"operation-not-supported-in-this-environment"));const s=Ih(i);tR(i,e,kp);const o=EE(s,n);return new Go(s,"signInViaPopup",e,o).executeNotNull()}class Go extends TE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sI.get())};e()}}Go.currentPopupAction=null;const oI="pendingRedirect",Xf=new Map;class lI extends TE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const s=await uI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uI(i,e){const n=hI(e),s=fI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cI(i,e){Xf.set(i._key(),e)}function fI(i){return oa(i._redirectPersistence)}function hI(i){return Qf(oI,i.config.apiKey,i.name)}async function dI(i,e,n=!1){if(Wi(i.app))return Promise.reject(Qo(i));const s=Ih(i),o=EE(s,e),d=await new lI(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const mI=600*1e3;class pI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mI&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function gI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(i);default:return!1}}async function yI(i,e={}){return ru(i,"GET","/v1/projects",e)}const vI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;async function bI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await yI(i);for(const n of e)try{if(EI(n))return}catch{}As(i,"unauthorized-domain")}function EI(i){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!_I.test(n))return!1;if(vI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const TI=new Tc(3e4,6e4);function y0(){const i=bs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function wI(i){return new Promise((e,n)=>{function s(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(ts(i,"network-request-failed"))},timeout:TI.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)s();else{const o=IR("iframefcb");return bs()[o]=()=>{gapi.load?s():n(ts(i,"network-request-failed"))},CR(`${RR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw $f=null,e})}let $f=null;function SI(i){return $f=$f||wI(i),$f}const AI=new Tc(5e3,15e3),CI="__/auth/iframe",RI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OI(i){const e=i.config;et(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?xp(e,RI):`https://${i.config.authDomain}/${CI}`,s={apiKey:e.apiKey,appName:i.name,v:nu},o=xI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ec(s).slice(1)}`}async function DI(i){const e=await SI(i),n=bs().gapi;return et(n,i,"internal-error"),e.open({where:document.body,url:OI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=ts(i,"network-request-failed"),y=bs().setTimeout(()=>{u(d)},AI.get());function _(){bs().clearTimeout(y),o(s)}s.ping(_).then(_,()=>{u(d)})}))}const NI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MI=500,kI=600,VI="_blank",PI="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LI(i,e,n,s=MI,o=kI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const _={...NI,width:s.toString(),height:o.toString(),top:u,left:d},E=gr().toLowerCase();n&&(y=rE(E)?VI:n),tE(E)&&(e=e||PI,_.scrollbars="yes");const R=Object.entries(_).reduce((D,[$,ne])=>`${D}${$}=${ne},`,"");if(vR(E)&&y!=="_self")return UI(e||"",y),new v0(null);const x=window.open(e||"",y,R);et(x,i,"popup-blocked");try{x.focus()}catch{}return new v0(x)}function UI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const jI="__/auth/handler",zI="emulator/auth/handler",BI=encodeURIComponent("fac");async function _0(i,e,n,s,o,u){et(i.config.authDomain,i,"auth-domain-config-required"),et(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:nu,eventId:o};if(e instanceof kp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",jA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[R,x]of Object.entries({}))d[R]=x}if(e instanceof wc){const R=e.getScopes().filter(x=>x!=="");R.length>0&&(d.scopes=R.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const _=await i._getAppCheckToken(),E=_?`#${BI}=${encodeURIComponent(_)}`:"";return`${qI(i)}?${Ec(y).slice(1)}${E}`}function qI({config:i}){return i.emulator?xp(i,zI):`https://${i.authDomain}/${jI}`}const Bm="webStorageSupport";class HI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=dI,this._overrideRedirectResult=cI}async _openPopup(e,n,s,o){fa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await _0(e,n,s,tp(),o);return LI(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await _0(e,n,s,tp(),o);return GR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await DI(e),s=new pI(e);return n.register("authEvent",o=>(et(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},o=>{const u=o?.[0]?.[Bm];u!==void 0&&n(!!u),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lE()||nE()||Np()}}const FI=HI;var b0="@firebase/auth",E0="1.11.1";class KI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YI(i){Yl(new Wo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;et(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uE(i)},E=new SR(s,o,u,_);return OR(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yl(new Wo("auth-internal",e=>{const n=Ih(e.getProvider("auth").getImmediate());return(s=>new KI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(b0,E0,GI(i)),co(b0,E0,"esm2020")}const QI=300,XI=jb("authIdTokenMaxAge")||QI;let T0=null;const $I=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XI)return;const o=n?.token;T0!==o&&(T0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JI(i=Kb()){const e=Cp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=xR(i,{popupRedirectResolver:FI,persistence:[tI,HR,gE]}),s=jb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=$I(u.toString());jR(n,d,()=>d(n.currentUser)),UR(n,y=>d(y))}}const o=Lb("auth");return o&&DR(n,`http://${o}`),n}function WI(){return document.getElementsByTagName("head")?.[0]??document}AR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ts("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",WI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YI("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,SE;(function(){var i;function e(V,M){function P(){}P.prototype=M.prototype,V.F=M.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(Y,q,Z){for(var k=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)k[Bt-2]=arguments[Bt];return M.prototype[q].apply(Y,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,M,P){P||(P=0);const Y=Array(16);if(typeof M=="string")for(var q=0;q<16;++q)Y[q]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(q=0;q<16;++q)Y[q]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=V.g[0],P=V.g[1],q=V.g[2];let Z=V.g[3],k;k=M+(Z^P&(q^Z))+Y[0]+3614090360&4294967295,M=P+(k<<7&4294967295|k>>>25),k=Z+(q^M&(P^q))+Y[1]+3905402710&4294967295,Z=M+(k<<12&4294967295|k>>>20),k=q+(P^Z&(M^P))+Y[2]+606105819&4294967295,q=Z+(k<<17&4294967295|k>>>15),k=P+(M^q&(Z^M))+Y[3]+3250441966&4294967295,P=q+(k<<22&4294967295|k>>>10),k=M+(Z^P&(q^Z))+Y[4]+4118548399&4294967295,M=P+(k<<7&4294967295|k>>>25),k=Z+(q^M&(P^q))+Y[5]+1200080426&4294967295,Z=M+(k<<12&4294967295|k>>>20),k=q+(P^Z&(M^P))+Y[6]+2821735955&4294967295,q=Z+(k<<17&4294967295|k>>>15),k=P+(M^q&(Z^M))+Y[7]+4249261313&4294967295,P=q+(k<<22&4294967295|k>>>10),k=M+(Z^P&(q^Z))+Y[8]+1770035416&4294967295,M=P+(k<<7&4294967295|k>>>25),k=Z+(q^M&(P^q))+Y[9]+2336552879&4294967295,Z=M+(k<<12&4294967295|k>>>20),k=q+(P^Z&(M^P))+Y[10]+4294925233&4294967295,q=Z+(k<<17&4294967295|k>>>15),k=P+(M^q&(Z^M))+Y[11]+2304563134&4294967295,P=q+(k<<22&4294967295|k>>>10),k=M+(Z^P&(q^Z))+Y[12]+1804603682&4294967295,M=P+(k<<7&4294967295|k>>>25),k=Z+(q^M&(P^q))+Y[13]+4254626195&4294967295,Z=M+(k<<12&4294967295|k>>>20),k=q+(P^Z&(M^P))+Y[14]+2792965006&4294967295,q=Z+(k<<17&4294967295|k>>>15),k=P+(M^q&(Z^M))+Y[15]+1236535329&4294967295,P=q+(k<<22&4294967295|k>>>10),k=M+(q^Z&(P^q))+Y[1]+4129170786&4294967295,M=P+(k<<5&4294967295|k>>>27),k=Z+(P^q&(M^P))+Y[6]+3225465664&4294967295,Z=M+(k<<9&4294967295|k>>>23),k=q+(M^P&(Z^M))+Y[11]+643717713&4294967295,q=Z+(k<<14&4294967295|k>>>18),k=P+(Z^M&(q^Z))+Y[0]+3921069994&4294967295,P=q+(k<<20&4294967295|k>>>12),k=M+(q^Z&(P^q))+Y[5]+3593408605&4294967295,M=P+(k<<5&4294967295|k>>>27),k=Z+(P^q&(M^P))+Y[10]+38016083&4294967295,Z=M+(k<<9&4294967295|k>>>23),k=q+(M^P&(Z^M))+Y[15]+3634488961&4294967295,q=Z+(k<<14&4294967295|k>>>18),k=P+(Z^M&(q^Z))+Y[4]+3889429448&4294967295,P=q+(k<<20&4294967295|k>>>12),k=M+(q^Z&(P^q))+Y[9]+568446438&4294967295,M=P+(k<<5&4294967295|k>>>27),k=Z+(P^q&(M^P))+Y[14]+3275163606&4294967295,Z=M+(k<<9&4294967295|k>>>23),k=q+(M^P&(Z^M))+Y[3]+4107603335&4294967295,q=Z+(k<<14&4294967295|k>>>18),k=P+(Z^M&(q^Z))+Y[8]+1163531501&4294967295,P=q+(k<<20&4294967295|k>>>12),k=M+(q^Z&(P^q))+Y[13]+2850285829&4294967295,M=P+(k<<5&4294967295|k>>>27),k=Z+(P^q&(M^P))+Y[2]+4243563512&4294967295,Z=M+(k<<9&4294967295|k>>>23),k=q+(M^P&(Z^M))+Y[7]+1735328473&4294967295,q=Z+(k<<14&4294967295|k>>>18),k=P+(Z^M&(q^Z))+Y[12]+2368359562&4294967295,P=q+(k<<20&4294967295|k>>>12),k=M+(P^q^Z)+Y[5]+4294588738&4294967295,M=P+(k<<4&4294967295|k>>>28),k=Z+(M^P^q)+Y[8]+2272392833&4294967295,Z=M+(k<<11&4294967295|k>>>21),k=q+(Z^M^P)+Y[11]+1839030562&4294967295,q=Z+(k<<16&4294967295|k>>>16),k=P+(q^Z^M)+Y[14]+4259657740&4294967295,P=q+(k<<23&4294967295|k>>>9),k=M+(P^q^Z)+Y[1]+2763975236&4294967295,M=P+(k<<4&4294967295|k>>>28),k=Z+(M^P^q)+Y[4]+1272893353&4294967295,Z=M+(k<<11&4294967295|k>>>21),k=q+(Z^M^P)+Y[7]+4139469664&4294967295,q=Z+(k<<16&4294967295|k>>>16),k=P+(q^Z^M)+Y[10]+3200236656&4294967295,P=q+(k<<23&4294967295|k>>>9),k=M+(P^q^Z)+Y[13]+681279174&4294967295,M=P+(k<<4&4294967295|k>>>28),k=Z+(M^P^q)+Y[0]+3936430074&4294967295,Z=M+(k<<11&4294967295|k>>>21),k=q+(Z^M^P)+Y[3]+3572445317&4294967295,q=Z+(k<<16&4294967295|k>>>16),k=P+(q^Z^M)+Y[6]+76029189&4294967295,P=q+(k<<23&4294967295|k>>>9),k=M+(P^q^Z)+Y[9]+3654602809&4294967295,M=P+(k<<4&4294967295|k>>>28),k=Z+(M^P^q)+Y[12]+3873151461&4294967295,Z=M+(k<<11&4294967295|k>>>21),k=q+(Z^M^P)+Y[15]+530742520&4294967295,q=Z+(k<<16&4294967295|k>>>16),k=P+(q^Z^M)+Y[2]+3299628645&4294967295,P=q+(k<<23&4294967295|k>>>9),k=M+(q^(P|~Z))+Y[0]+4096336452&4294967295,M=P+(k<<6&4294967295|k>>>26),k=Z+(P^(M|~q))+Y[7]+1126891415&4294967295,Z=M+(k<<10&4294967295|k>>>22),k=q+(M^(Z|~P))+Y[14]+2878612391&4294967295,q=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(q|~M))+Y[5]+4237533241&4294967295,P=q+(k<<21&4294967295|k>>>11),k=M+(q^(P|~Z))+Y[12]+1700485571&4294967295,M=P+(k<<6&4294967295|k>>>26),k=Z+(P^(M|~q))+Y[3]+2399980690&4294967295,Z=M+(k<<10&4294967295|k>>>22),k=q+(M^(Z|~P))+Y[10]+4293915773&4294967295,q=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(q|~M))+Y[1]+2240044497&4294967295,P=q+(k<<21&4294967295|k>>>11),k=M+(q^(P|~Z))+Y[8]+1873313359&4294967295,M=P+(k<<6&4294967295|k>>>26),k=Z+(P^(M|~q))+Y[15]+4264355552&4294967295,Z=M+(k<<10&4294967295|k>>>22),k=q+(M^(Z|~P))+Y[6]+2734768916&4294967295,q=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(q|~M))+Y[13]+1309151649&4294967295,P=q+(k<<21&4294967295|k>>>11),k=M+(q^(P|~Z))+Y[4]+4149444226&4294967295,M=P+(k<<6&4294967295|k>>>26),k=Z+(P^(M|~q))+Y[11]+3174756917&4294967295,Z=M+(k<<10&4294967295|k>>>22),k=q+(M^(Z|~P))+Y[2]+718787259&4294967295,q=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(q|~M))+Y[9]+3951481745&4294967295,V.g[0]=V.g[0]+M&4294967295,V.g[1]=V.g[1]+(q+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+q&4294967295,V.g[3]=V.g[3]+Z&4294967295}s.prototype.v=function(V,M){M===void 0&&(M=V.length);const P=M-this.blockSize,Y=this.C;let q=this.h,Z=0;for(;Z<M;){if(q==0)for(;Z<=P;)o(this,V,Z),Z+=this.blockSize;if(typeof V=="string"){for(;Z<M;)if(Y[q++]=V.charCodeAt(Z++),q==this.blockSize){o(this,Y),q=0;break}}else for(;Z<M;)if(Y[q++]=V[Z++],q==this.blockSize){o(this,Y),q=0;break}}this.h=q,this.o+=M},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var M=1;M<V.length-8;++M)V[M]=0;M=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=M&255,M/=256;for(this.v(V),V=Array(16),M=0,P=0;P<4;++P)for(let Y=0;Y<32;Y+=8)V[M++]=this.g[P]>>>Y&255;return V};function u(V,M){var P=y;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=M(V)}function d(V,M){this.h=M;const P=[];let Y=!0;for(let q=V.length-1;q>=0;q--){const Z=V[q]|0;Y&&Z==M||(P[q]=Z,Y=!1)}this.g=P}var y={};function _(V){return-128<=V&&V<128?u(V,function(M){return new d([M|0],M<0?-1:0)}):new d([V|0],V<0?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return x;if(V<0)return Ee(E(-V));const M=[];let P=1;for(let Y=0;V>=P;Y++)M[Y]=V/P|0,P*=4294967296;return new d(M,0)}function R(V,M){if(V.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(V.charAt(0)=="-")return Ee(R(V.substring(1),M));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(M,8));let Y=x;for(let Z=0;Z<V.length;Z+=8){var q=Math.min(8,V.length-Z);const k=parseInt(V.substring(Z,Z+q),M);q<8?(q=E(Math.pow(M,q)),Y=Y.j(q).add(E(k))):(Y=Y.j(P),Y=Y.add(E(k)))}return Y}var x=_(0),D=_(1),$=_(16777216);i=d.prototype,i.m=function(){if(me(this))return-Ee(this).m();let V=0,M=1;for(let P=0;P<this.g.length;P++){const Y=this.i(P);V+=(Y>=0?Y:4294967296+Y)*M,M*=4294967296}return V},i.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(ne(this))return"0";if(me(this))return"-"+Ee(this).toString(V);const M=E(Math.pow(V,6));var P=this;let Y="";for(;;){const q=ct(P,M).g;P=ke(P,q.j(M));let Z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=q,ne(P))return Z+Y;for(;Z.length<6;)Z="0"+Z;Y=Z+Y}},i.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function ne(V){if(V.h!=0)return!1;for(let M=0;M<V.g.length;M++)if(V.g[M]!=0)return!1;return!0}function me(V){return V.h==-1}i.l=function(V){return V=ke(this,V),me(V)?-1:ne(V)?0:1};function Ee(V){const M=V.g.length,P=[];for(let Y=0;Y<M;Y++)P[Y]=~V.g[Y];return new d(P,~V.h).add(D)}i.abs=function(){return me(this)?Ee(this):this},i.add=function(V){const M=Math.max(this.g.length,V.g.length),P=[];let Y=0;for(let q=0;q<=M;q++){let Z=Y+(this.i(q)&65535)+(V.i(q)&65535),k=(Z>>>16)+(this.i(q)>>>16)+(V.i(q)>>>16);Y=k>>>16,Z&=65535,k&=65535,P[q]=k<<16|Z}return new d(P,P[P.length-1]&-2147483648?-1:0)};function ke(V,M){return V.add(Ee(M))}i.j=function(V){if(ne(this)||ne(V))return x;if(me(this))return me(V)?Ee(this).j(Ee(V)):Ee(Ee(this).j(V));if(me(V))return Ee(this.j(Ee(V)));if(this.l($)<0&&V.l($)<0)return E(this.m()*V.m());const M=this.g.length+V.g.length,P=[];for(var Y=0;Y<2*M;Y++)P[Y]=0;for(Y=0;Y<this.g.length;Y++)for(let q=0;q<V.g.length;q++){const Z=this.i(Y)>>>16,k=this.i(Y)&65535,Bt=V.i(q)>>>16,Kt=V.i(q)&65535;P[2*Y+2*q]+=k*Kt,Be(P,2*Y+2*q),P[2*Y+2*q+1]+=Z*Kt,Be(P,2*Y+2*q+1),P[2*Y+2*q+1]+=k*Bt,Be(P,2*Y+2*q+1),P[2*Y+2*q+2]+=Z*Bt,Be(P,2*Y+2*q+2)}for(V=0;V<M;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=M;V<2*M;V++)P[V]=0;return new d(P,0)};function Be(V,M){for(;(V[M]&65535)!=V[M];)V[M+1]+=V[M]>>>16,V[M]&=65535,M++}function Le(V,M){this.g=V,this.h=M}function ct(V,M){if(ne(M))throw Error("division by zero");if(ne(V))return new Le(x,x);if(me(V))return M=ct(Ee(V),M),new Le(Ee(M.g),Ee(M.h));if(me(M))return M=ct(V,Ee(M)),new Le(Ee(M.g),M.h);if(V.g.length>30){if(me(V)||me(M))throw Error("slowDivide_ only works with positive integers.");for(var P=D,Y=M;Y.l(V)<=0;)P=Nt(P),Y=Nt(Y);var q=$e(P,1),Z=$e(Y,1);for(Y=$e(Y,2),P=$e(P,2);!ne(Y);){var k=Z.add(Y);k.l(V)<=0&&(q=q.add(P),Z=k),Y=$e(Y,1),P=$e(P,1)}return M=ke(V,q.j(M)),new Le(q,M)}for(q=x;V.l(M)>=0;){for(P=Math.max(1,Math.floor(V.m()/M.m())),Y=Math.ceil(Math.log(P)/Math.LN2),Y=Y<=48?1:Math.pow(2,Y-48),Z=E(P),k=Z.j(M);me(k)||k.l(V)>0;)P-=Y,Z=E(P),k=Z.j(M);ne(Z)&&(Z=D),q=q.add(Z),V=ke(V,k)}return new Le(q,V)}i.B=function(V){return ct(this,V).h},i.and=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<M;Y++)P[Y]=this.i(Y)&V.i(Y);return new d(P,this.h&V.h)},i.or=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<M;Y++)P[Y]=this.i(Y)|V.i(Y);return new d(P,this.h|V.h)},i.xor=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<M;Y++)P[Y]=this.i(Y)^V.i(Y);return new d(P,this.h^V.h)};function Nt(V){const M=V.g.length+1,P=[];for(let Y=0;Y<M;Y++)P[Y]=V.i(Y)<<1|V.i(Y-1)>>>31;return new d(P,V.h)}function $e(V,M){const P=M>>5;M%=32;const Y=V.g.length-P,q=[];for(let Z=0;Z<Y;Z++)q[Z]=M>0?V.i(Z+P)>>>M|V.i(Z+P+1)<<32-M:V.i(Z+P);return new d(q,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,SE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=R,fo=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,Yu,CE,Jf,ip,RE,IE,xE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)e:{var w=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var te=c[I];if(!(te in w))break e;w=w[te]}c=c[c.length-1],I=w[c],v=v(I),v!=I&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});var u=u||{},d=this||self;function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,w){return c.call.apply(c.bind,arguments)}function E(c,v,w){return E=_,E.apply(null,arguments)}function R(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function x(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,te,ue){for(var Ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Ae[tt-2]=arguments[tt];return v.prototype[te].apply(I,Ae)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function $(c){const v=c.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=c[I];return w}return[]}function ne(c,v){for(let I=1;I<arguments.length;I++){const te=arguments[I];var w=typeof te;if(w=w!="object"?w:te?Array.isArray(te)?"array":w:"null",w=="array"||w=="object"&&typeof te.length=="number"){w=c.length||0;const ue=te.length||0;c.length=w+ue;for(let Ae=0;Ae<ue;Ae++)c[w+Ae]=te[Ae]}else c.push(te)}}class me{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Ee(c){d.setTimeout(()=>{throw c},0)}function ke(){var c=V;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,w){const I=Le.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Le=new me(()=>new ct,c=>c.reset());class ct{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Nt,$e=!1,V=new Be,M=()=>{const c=Promise.resolve(void 0);Nt=()=>{c.then(P)}};function P(){for(var c;c=ke();){try{c.h.call(c.g)}catch(w){Ee(w)}var v=Le;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}$e=!1}function Y(){this.u=this.u,this.C=this.C}Y.prototype.u=!1,Y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Y.prototype[Symbol.dispose]=function(){this.dispose()},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function Bt(c,v){q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(Bt,q),Bt.prototype.init=function(c,v){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Kt="closure_listenable_"+(Math.random()*1e6|0),le=0;function _e(c,v,w,I,te){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=te,this.key=++le,this.da=this.fa=!1}function je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function st(c,v,w){for(const I in c)v.call(w,c[I],I,c)}function ft(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function F(c){const v={};for(const w in c)v[w]=c[w];return v}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,v){let w,I;for(let te=1;te<arguments.length;te++){I=arguments[te];for(w in I)c[w]=I[w];for(let ue=0;ue<pe.length;ue++)w=pe[ue],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,v,w,I,te){const ue=c.toString();c=this.g[ue],c||(c=this.g[ue]=[],this.h++);const Ae=Je(c,v,I,te);return Ae>-1?(v=c[Ae],w||(v.fa=!1)):(v=new _e(v,this.src,ue,!!I,te),v.fa=w,c.push(v)),v};function Ye(c,v){const w=v.type;if(w in c.g){var I=c.g[w],te=Array.prototype.indexOf.call(I,v,void 0),ue;(ue=te>=0)&&Array.prototype.splice.call(I,te,1),ue&&(je(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Je(c,v,w,I){for(let te=0;te<c.length;++te){const ue=c[te];if(!ue.da&&ue.listener==v&&ue.capture==!!w&&ue.ha==I)return te}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),gn={};function Me(c,v,w,I,te){if(Array.isArray(v)){for(let ue=0;ue<v.length;ue++)Me(c,v[ue],w,I,te);return null}return w=To(w),c&&c[Kt]?c.J(v,w,y(I)?!!I.capture:!1,te):ns(c,v,w,!1,I,te)}function ns(c,v,w,I,te,ue){if(!v)throw Error("Invalid event type");const Ae=y(te)?!!te.capture:!!te;let tt=Is(c);if(tt||(c[dt]=tt=new Pe(c)),w=tt.add(v,w,I,Ae,ue),w.proxy)return w;if(I=zi(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)Z||(te=Ae),te===void 0&&(te=!1),c.addEventListener(v.toString(),I,te);else if(c.attachEvent)c.attachEvent(mi(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function zi(){function c(w){return v.call(c.src,c.listener,w)}const v=Kr;return c}function St(c,v,w,I,te){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)St(c,v[ue],w,I,te);else I=y(I)?!!I.capture:!!I,w=To(w),c&&c[Kt]?(c=c.i,ue=String(v).toString(),ue in c.g&&(v=c.g[ue],w=Je(v,w,I,te),w>-1&&(je(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[ue],c.h--)))):c&&(c=Is(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Je(v,w,I,te)),(w=c>-1?v[c]:null)&&di(w))}function di(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Kt])Ye(v.i,c);else{var w=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(w,I,c.capture):v.detachEvent?v.detachEvent(mi(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Is(v))?(Ye(w,c),w.h==0&&(w.src=null,v[dt]=null)):je(c)}}}function mi(c){return c in gn?gn[c]:gn[c]="on"+c}function Kr(c,v){if(c.da)c=!0;else{v=new Bt(v,this);const w=c.listener,I=c.ha||c.src;c.fa&&di(c),c=w.call(I,v)}return c}function Is(c){return c=c[dt],c instanceof Pe?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(v){return c.handleEvent(v)}),c[Eo])}function hn(){Y.call(this),this.i=new Pe(this),this.M=this,this.G=null}x(hn,Y),hn.prototype[Kt]=!0,hn.prototype.removeEventListener=function(c,v,w,I){St(this,c,v,w,I)};function nn(c,v){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new q(v,c);else if(v instanceof q)v.target=v.target||c;else{var te=v;v=new q(I,c),Ie(v,te)}te=!0;let ue,Ae;if(w)for(Ae=w.length-1;Ae>=0;Ae--)ue=v.g=w[Ae],te=Pn(ue,I,!0,v)&&te;if(ue=v.g=c,te=Pn(ue,I,!0,v)&&te,te=Pn(ue,I,!1,v)&&te,w)for(Ae=0;Ae<w.length;Ae++)ue=v.g=w[Ae],te=Pn(ue,I,!1,v)&&te}hn.prototype.N=function(){if(hn.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let I=0;I<w.length;I++)je(w[I]);delete c.g[v],c.h--}}this.G=null},hn.prototype.J=function(c,v,w,I){return this.i.add(String(c),v,!1,w,I)},hn.prototype.K=function(c,v,w,I){return this.i.add(String(c),v,!0,w,I)};function Pn(c,v,w,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let te=!0;for(let ue=0;ue<v.length;++ue){const Ae=v[ue];if(Ae&&!Ae.da&&Ae.capture==w){const tt=Ae.listener,un=Ae.ha||Ae.src;Ae.fa&&Ye(c.i,Ae),te=tt.call(un,I)!==!1&&te}}return te&&!I.defaultPrevented}function al(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(c,v||0)}function rs(c){c.g=al(()=>{c.g=null,c.i&&(c.i=!1,rs(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class qn extends Y{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){Y.call(this),this.h=c,this.g={}}x(Gr,Y);var Yr=[];function Qr(c){st(c.g,function(v,w){this.g.hasOwnProperty(w)&&di(v)},c),c.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),Qr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,xs=d.JSON.parse,pa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Os(){}function gi(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yn(){q.call(this,"d")}x(yn,q);function vn(){q.call(this,"c")}x(vn,q);var Ne={},is=null;function wr(){return is=is||new hn}Ne.Ia="serverreachability";function Ds(c){q.call(this,Ne.Ia,c)}x(Ds,q);function Re(c){const v=wr();nn(v,new Ds(v))}Ne.STAT_EVENT="statevent";function Bi(c,v){q.call(this,Ne.STAT_EVENT,c),this.stat=v}x(Bi,q);function rn(c){const v=wr();nn(v,new Bi(v,c))}Ne.Ja="timingevent";function Sr(c,v){q.call(this,Ne.Ja,c),this.size=v}x(Sr,q);function Xr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function lu(c,v,w,I,te,ue){c.info(function(){if(c.g)if(ue){var Ae="",tt=ue.split("&");for(let At=0;At<tt.length;At++){var un=tt[At].split("=");if(un.length>1){const Ut=un[0];un=un[1];const Pr=Ut.split("_");Ae=Pr.length>=2&&Pr[1]=="type"?Ae+(Ut+"="+un+"&"):Ae+(Ut+"=redacted&")}}}else Ae=null;else Ae=ue;return"XMLHTTP REQ ("+I+") [attempt "+te+"]: "+v+`
`+w+`
`+Ae})}function ol(c,v,w,I,te,ue,Ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+te+"]: "+v+`
`+w+`
`+ue+" "+Ae})}function $n(c,v,w,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+wo(c,w)+(I?" "+I:"")})}function Ar(c,v){c.info(function(){return"TIMEOUT: "+v})}yr.prototype.info=function(){};function wo(c,v){if(!c.g)return v;if(!v)return null;try{const ue=JSON.parse(v);if(ue){for(c=0;c<ue.length;c++)if(Array.isArray(ue[c])){var w=ue[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var te=I[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ae=1;Ae<I.length;Ae++)I[Ae]=""}}}}return pi(ue)}catch{return v}}var yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wt;function Ns(){}x(Ns,Os),Ns.prototype.g=function(){return new XMLHttpRequest},Wt=new Ns;function Cr(c){return encodeURIComponent(String(c))}function Ms(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function or(c,v,w,I){this.j=c,this.i=v,this.l=w,this.S=I||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Pt={},Yt={};function Ln(c,v,w){c.M=1,c.A=os(an(v)),c.u=w,c.R=!0,qi(c,null)}function qi(c,v){c.F=Date.now(),Hn(c),c.B=an(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ba(w.i,"t",I),c.C=0,w=c.j.L,c.h=new $r,c.g=En(c.j,w?v:null,!c.u),c.P>0&&(c.O=new qn(E(c.Y,c,c.g),c.P)),v=c.V,w=c.g,I=c.ba;var te="readystatechange";Array.isArray(te)||(te&&(Yr[0]=te.toString()),te=Yr);for(let ue=0;ue<te.length;ue++){const Ae=Me(w,te[ue],I||v.handleEvent,!1,v.h||v);if(!Ae)break;v.g[Ae.key]=Ae}v=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Re(),lu(c.i,c.v,c.B,c.l,c.S,c.u)}or.prototype.ba=function(c){c=c.target;const v=this.O;v&&ii(c)==3?v.j():this.Y(c)},or.prototype.Y=function(c){try{if(c==this.g)e:{const tt=ii(this.g),un=this.g.ya(),At=this.g.ca();if(!(tt<3)&&(tt!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||tt!=4||un==7||(un==8||At<=0?Re(3):Re(2)),Rr(this);var v=this.g.ca();this.X=v;var w=uu(this);if(this.o=v==200,ol(this.i,this.v,this.B,this.l,this.S,tt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,te=this.g;if((I=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var ue=I;break t}}ue=null}if(c=ue)$n(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cn(this,c);else{this.o=!1,this.m=3,rn(12),_n(this),Rt(this);break e}}if(this.R){c=!0;let Ut;for(;!this.K&&this.C<w.length;)if(Ut=So(this,w),Ut==Yt){tt==4&&(this.m=4,rn(14),c=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Pt){this.m=4,rn(15),$n(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else $n(this.i,this.l,Ut,null),Cn(this,Ut);if(Jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||w.length!=0||this.h.h||(this.m=1,rn(16),c=!1),this.o=this.o&&c,!c)$n(this.i,this.l,w,"[Invalid Chunked Response]"),_n(this),Rt(this);else if(w.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),us(Ae),Ae.P=!0,rn(11))}}else $n(this.i,this.l,w,null),Cn(this,w);tt==4&&_n(this),this.o&&!this.K&&(tt==4?Xi(this.j,this):(this.o=!1,Hn(this)))}else Yi(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),_n(this),Rt(this)}}}catch{}finally{}};function uu(c){if(!Jr(c))return c.g.la();const v=ln(c.g);if(v==="")return"";let w="";const I=v.length,te=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Rt(c),"";c.h.i=new d.TextDecoder}for(let ue=0;ue<I;ue++)c.h.h=!0,w+=c.h.i.decode(v[ue],{stream:!(te&&ue==I-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function Jr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function So(c,v){var w=c.C,I=v.indexOf(`
`,w);return I==-1?Yt:(w=Number(v.substring(w,I)),isNaN(w)?Pt:(I+=1,I+w>v.length?Yt:(v=v.slice(I,I+w),c.C=I+w,v)))}or.prototype.cancel=function(){this.K=!0,_n(this)};function Hn(c){c.T=Date.now()+c.H,ks(c,c.H)}function ks(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Xr(E(c.aa,c),v)}function Rr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}or.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(Re(),rn(17)),_n(this),this.m=2,Rt(this)):ks(this,this.T-c)};function Rt(c){c.j.I==0||c.K||Xi(c.j,c)}function _n(c){Rr(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Qr(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Cn(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||xr(w.h,c))){if(!c.L&&xr(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var te=I;if(te[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Sa(w),Ti(w);else break e;Si(w),rn(18)}}else w.xa=te[1],0<w.xa-w.K&&te[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Xr(E(w.Va,w),6e3));Ir(w.h)<=1&&w.ta&&(w.ta=void 0)}else kr(w,11)}else if((c.L||w.g==c)&&Sa(w),!k(v))for(te=w.Ba.g.parse(v),v=0;v<te.length;v++){let At=te[v];const Ut=At[0];if(!(Ut<=w.K))if(w.K=Ut,At=At[1],w.I==2)if(At[0]=="c"){w.M=At[1],w.ba=At[2];const Pr=At[3];Pr!=null&&(w.ka=Pr,w.j.info("VER="+w.ka));const Lr=At[4];Lr!=null&&(w.za=Lr,w.j.info("SVER="+w.za));const br=At[5];br!=null&&typeof br=="number"&&br>0&&(I=1.5*br,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const ai=c.g;if(ai){const fs=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var ue=I.h;ue.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Wr(ue,ue.h),ue.h=null))}if(I.G){const Ia=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(I.wa=Ia,xt(I.J,I.G,Ia))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var Ae=c;if(I.na=Ra(I,I.L?I.ba:null,I.W),Ae.L){ga(I.h,Ae);var tt=Ae,un=I.O;un&&(tt.H=un),tt.D&&(Rr(tt),Hn(tt)),I.g=Ae}else Us(I);w.i.length>0&&wi(w)}else At[0]!="stop"&&At[0]!="close"||kr(w,7);else w.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?kr(w,7):ls(w):At[0]!="noop"&&w.l&&w.l.qa(At),w.A=0)}}Re(4)}catch{}}var sn=class{constructor(c,v){this.g=c,this.map=v}};function vi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ss(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ir(c){return c.h?1:c.g?c.g.size:0}function xr(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Wr(c,v){c.g?c.g.add(v):c.h=v}function ga(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}vi.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function as(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return $(c.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let te,ue=null;I>=0?(te=c[w].substring(0,I),ue=c[w].substring(I+1)):te=c[w],v(te,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof lr?(this.l=c.l,on(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.u),this.h=c.h,ya(this,ul(c.i)),this.m=c.m):c&&(v=String(c).match(Ao))?(this.l=!1,on(this,v[1]||"",!0),this.o=pt(v[2]||""),this.g=pt(v[3]||"",!0),Or(this,v[4]),this.h=pt(v[5]||"",!0),ya(this,v[6]||"",!0),this.m=pt(v[7]||"")):(this.l=!1,this.i=new ni(null,this.l))}lr.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Zr(v,ei,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Zr(v,ei,!0),"@"),c.push(Cr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Zr(w,w.charAt(0)=="/"?Vs:va,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Zr(w,Co)),c.join("")},lr.prototype.resolve=function(c){const v=an(this);let w=!!c.j;w?on(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var I=c.h;if(w)Or(v,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var te=v.h.lastIndexOf("/");te!=-1&&(I=v.h.slice(0,te+1)+I)}if(te=I,te==".."||te==".")I="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){I=te.lastIndexOf("/",0)==0,te=te.split("/");const ue=[];for(let Ae=0;Ae<te.length;){const tt=te[Ae++];tt=="."?I&&Ae==te.length&&ue.push(""):tt==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),I&&Ae==te.length&&ue.push("")):(ue.push(tt),I=!0)}I=ue.join("/")}else I=te}return w?v.h=I:w=c.i.toString()!=="",w?ya(v,ul(c.i)):w=!!c.m,w&&(v.m=c.m),v};function an(c){return new lr(c)}function on(c,v,w){c.j=w?pt(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function ya(c,v,w){v instanceof ni?(c.i=v,ri(c.i,c.l)):(w||(v=Zr(v,ti)),c.i=new ni(v,c.l))}function xt(c,v,w){c.i.set(v,w)}function os(c){return xt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pt(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Rn),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ei=/[#\/\?@]/g,va=/[#\?:]/g,Vs=/[#\?]/g,ti=/[#\?@]/g,Co=/#/g;function ni(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&at(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=ni.prototype,i.add=function(c,v){Jn(this),this.i=null,c=dn(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function ll(c,v){Jn(c),v=dn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function mt(c,v){return Jn(c),v=dn(c,v),c.g.has(v)}i.forEach=function(c,v){Jn(this),this.g.forEach(function(w,I){w.forEach(function(te){c.call(v,te,I,this)},this)},this)};function _a(c,v){Jn(c);let w=[];if(typeof v=="string")mt(c,v)&&(w=w.concat(c.g.get(dn(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}i.set=function(c,v){return Jn(this),this.i=null,c=dn(this,c),mt(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=_a(this,c),c.length>0?String(c[0]):v):v};function ba(c,v,w){ll(c,v),w.length>0&&(c.i=null,c.g.set(dn(c,v),$(w)),c.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const te=Cr(w);w=_a(this,w);for(let ue=0;ue<w.length;ue++){let Ae=te;w[ue]!==""&&(Ae+="="+Cr(w[ue])),c.push(Ae)}}return this.i=c.join("&")};function ul(c){const v=new ni;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function dn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ri(c,v){v&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(w,I){const te=I.toLowerCase();I!=te&&(ll(this,I),ba(this,te,w))},c)),c.j=v}function ur(c,v){const w=new yr;if(d.Image){const I=new Image;I.onload=R(vr,w,"TestLoadImage: loaded",!0,v,I),I.onerror=R(vr,w,"TestLoadImage: error",!1,v,I),I.onabort=R(vr,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=R(vr,w,"TestLoadImage: timeout",!1,v,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function Dr(c,v){const w=new yr,I=new AbortController,te=setTimeout(()=>{I.abort(),vr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(ue=>{clearTimeout(te),ue.ok?vr(w,"TestPingServer: ok",!0,v):vr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(te),vr(w,"TestPingServer: error",!1,v)})}function vr(c,v,w,I,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),I(w)}catch{}}function Hi(){this.g=new pa}function Lt(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Lt,Os),Lt.prototype.g=function(){return new Fn(this.i,this.h)};function Fn(c,v){hn.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Fn,hn),i=Fn.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,_r(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_i(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _i(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Nr(this):_r(this),this.readyState==3&&_i(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Na=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,_r(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function _r(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let v="";return st(c,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function Ps(c,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=bn(w),typeof c=="string"?w!=null&&Cr(w):xt(c,v,w))}function ht(c){hn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ht,hn);var Mr=/^https?$/i,Ea=["POST","PUT"];i=ht.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wt.g(),this.g.onreadystatechange=D(E(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ue){Fi(this,ue);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var te in I)w.set(te,I[te]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ue of I.keys())w.set(ue,I.get(ue));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ea,v,void 0)>=0)||I||te||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ae]of w)this.g.setRequestHeader(ue,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(ue){Fi(this,ue)}};function Fi(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Ki(c),bi(c)}function Ki(c){c.A||(c.A=!0,nn(c,"complete"),nn(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,nn(this,"complete"),nn(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),ht.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gi(this):this.Xa())},i.Xa=function(){Gi(this)};function Gi(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(nn(c,"readystatechange"),ii(c)==4){c.h=!1;try{const ue=c.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=ue===0){let Ae=String(c.D).match(Ao)[1]||null;!Ae&&d.self&&d.self.location&&(Ae=d.self.location.protocol.slice(0,-1)),I=!Mr.test(Ae?Ae.toLowerCase():"")}w=I}if(w)nn(c,"complete"),nn(c,"success");else{c.o=6;try{var te=ii(c)>2?c.g.statusText:""}catch{te=""}c.l=te+" ["+c.ca()+"]",Ki(c)}}finally{bi(c)}}}}function bi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||nn(c,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xs(v)}};function ln(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const v={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(k(c[I]))continue;var w=Ms(c[I]);const te=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ue=v[te]||[];v[te]=ue,ue.push(w)}ft(v,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function si(c){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vi(c&&c.concurrentRequestLimit),this.Ba=new Hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=si.prototype,i.ka=8,i.I=1,i.connect=function(c,v,w,I){rn(0),this.W=c,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Ra(this,null,this.W),wi(this)};function ls(c){if(Ta(c),c.I==3){var v=c.V++,w=an(c.J);if(xt(w,"SID",c.M),xt(w,"RID",v),xt(w,"TYPE","terminate"),Qi(c,w),v=new or(c,c.j,v),v.M=2,v.A=os(an(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.A,w=!0),w||(v.g=En(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Hn(v)}Ca(c)}function Ti(c){c.g&&(us(c),c.g.cancel(),c.g=null)}function Ta(c){Ti(c),c.v&&(d.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function wi(c){if(!ss(c.h)&&!c.m){c.m=!0;var v=c.Ea;Nt||M(),$e||(Nt(),$e=!0),V.add(v,c),c.D=0}}function wa(c,v){return Ir(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Xr(E(c.Ea,c,v),Aa(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const te=new or(this,this.j,c);let ue=this.o;if(this.U&&(ue?(ue=F(ue),Ie(ue,this.U)):ue=this.U),this.u!==null||this.R||(te.J=ue,ue=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Ro(this,te,v),w=an(this.J),xt(w,"RID",c),xt(w,"CVER",22),this.G&&xt(w,"X-HTTP-Session-Id",this.G),Qi(this,w),ue&&(this.R?v="headers="+Cr(bn(ue))+"&"+v:this.u&&Ps(w,this.u,ue)),Wr(this.h,te),this.Ra&&xt(w,"TYPE","init"),this.S?(xt(w,"$req",v),xt(w,"SID","null"),te.U=!0,Ln(te,w,null)):Ln(te,w,v),this.I=2}}else this.I==3&&(c?Ls(this,c):this.i.length==0||ss(this.h)||Ls(this))};function Ls(c,v){var w;v?w=v.l:w=c.V++;const I=an(c.J);xt(I,"SID",c.M),xt(I,"RID",w),xt(I,"AID",c.K),Qi(c,I),c.u&&c.o&&Ps(I,c.u,c.o),w=new or(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Ro(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Wr(c.h,w),Ln(w,I,v)}function Qi(c,v){c.H&&st(c.H,function(w,I){xt(v,I,w)}),c.l&&st({},function(w,I){xt(v,I,w)})}function Ro(c,v,w){w=Math.min(c.i.length,w);const I=c.l?E(c.l.Ka,c.l,c):null;e:{var te=c.i;let tt=-1;for(;;){const un=["count="+w];tt==-1?w>0?(tt=te[0].g,un.push("ofs="+tt)):tt=0:un.push("ofs="+tt);let At=!0;for(let Ut=0;Ut<w;Ut++){var ue=te[Ut].g;const Pr=te[Ut].map;if(ue-=tt,ue<0)tt=Math.max(0,te[Ut].g-100),At=!1;else try{ue="req"+ue+"_"||"";try{var Ae=Pr instanceof Map?Pr:Object.entries(Pr);for(const[Lr,br]of Ae){let ai=br;y(br)&&(ai=pi(br)),un.push(ue+Lr+"="+encodeURIComponent(ai))}}catch(Lr){throw un.push(ue+"type="+encodeURIComponent("_badmap")),Lr}}catch{I&&I(Pr)}}if(At){Ae=un.join("&");break e}}Ae=void 0}return c=c.i.splice(0,w),v.G=c,Ae}function Us(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;Nt||M(),$e||(Nt(),$e=!0),V.add(v,c),c.A=0}}function Si(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Xr(E(c.Da,c),Aa(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Xr(E(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Ti(this),Io(this))};function us(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Io(c){c.g=new or(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=an(c.na);xt(v,"RID","rpc"),xt(v,"SID",c.M),xt(v,"AID",c.K),xt(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&xt(v,"TO",c.ia),xt(v,"TYPE","xmlhttp"),Qi(c,v),c.u&&c.o&&Ps(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=os(an(v)),w.u=null,w.R=!0,qi(w,c)}i.Va=function(){this.C!=null&&(this.C=null,Ti(this),Si(this),rn(19))};function Sa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Xi(c,v){var w=null;if(c.g==v){Sa(c),us(c),c.g=null;var I=2}else if(xr(c.h,v))w=v.G,ga(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var te=c.D;I=wr(),nn(I,new Sr(I,w)),wi(c)}else Us(c);else if(te=v.m,te==3||te==0&&v.X>0||!(I==1&&wa(c,v)||I==2&&Si(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),te){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function Aa(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function kr(c,v){if(c.j.info("Error code "+v),v==2){var w=E(c.bb,c),I=c.Ua;const te=!I;I=new lr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||on(I,"https"),os(I),te?ur(I.toString(),w):Dr(I.toString(),w)}else rn(2);c.I=0,c.l&&c.l.pa(v),Ca(c),Ta(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Ca(c){if(c.I=0,c.ja=[],c.l){const v=as(c.h);(v.length!=0||c.i.length!=0)&&(ne(c.ja,v),ne(c.ja,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.oa()}}function Ra(c,v,w){var I=w instanceof lr?an(w):new lr(w);if(I.g!="")v&&(I.g=v+"."+I.g),Or(I,I.u);else{var te=d.location;I=te.protocol,v=v?v+"."+te.hostname:te.hostname,te=+te.port;const ue=new lr(null);I&&on(ue,I),v&&(ue.g=v),te&&Or(ue,te),w&&(ue.h=w),I=ue}return w=c.G,v=c.wa,w&&v&&xt(I,w,v),xt(I,"VER",c.ka),Qi(c,I),I}function En(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ht(new Lt({ab:w})):new ht(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cs(){}i=cs.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Vr(){}Vr.prototype.g=function(c,v){return new Kn(c,v)};function Kn(c,v){hn.call(this),this.g=new si(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!k(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ai(this)}x(Kn,hn),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){ls(this.g)},Kn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=pi(c),c=w);v.i.push(new sn(v.Ya++,c)),v.I==3&&wi(v)},Kn.prototype.N=function(){this.g.l=null,delete this.j,ls(this.g),delete this.g,Kn.Z.N.call(this)};function js(c){yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(js,yn);function xo(){vn.call(this),this.status=1}x(xo,vn);function Ai(c){this.g=c}x(Ai,cs),Ai.prototype.ra=function(){nn(this.g,"a")},Ai.prototype.qa=function(c){nn(this.g,new js(c))},Ai.prototype.pa=function(c){nn(this.g,new xo)},Ai.prototype.oa=function(){nn(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,xE=function(){return new Vr},IE=function(){return wr()},RE=Ne,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Jf=yi,kt.COMPLETE="complete",CE=kt,gi.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",hn.prototype.listen=hn.prototype.J,Yu=gi,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,AE=ht}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",A0="4.9.2";class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let iu="12.3.0";const el=new Sp("@firebase/firestore");function Ul(){return el.logLevel}function Ue(i,...e){if(el.logLevel<=Et.DEBUG){const n=e.map(Lp);el.debug(`Firestore (${iu}): ${i}`,...n)}}function ha(i,...e){if(el.logLevel<=Et.ERROR){const n=e.map(Lp);el.error(`Firestore (${iu}): ${i}`,...n)}}function Xl(i,...e){if(el.logLevel<=Et.WARN){const n=e.map(Lp);el.warn(`Firestore (${iu}): ${i}`,...n)}}function Lp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Xe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,OE(i,s,n)}function OE(i,e,n){let s=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ha(s),new Error(s)}function Vt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||OE(e,o,s)}function it(i,e){return i}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends ma{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ho{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class DE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dr.UNAUTHENTICATED)))}shutdown(){}}class e2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class t2{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ho,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ho)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Vt(typeof s.accessToken=="string",31837,{l:s}),new DE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new dr(e)}}class n2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new n2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const s=u=>{u.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=s2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Tt(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return qm(o)===qm(u)?Tt(o,u):qm(o)?1:-1}return Tt(i.length,e.length)}const a2=55296,o2=57343;function qm(i){const e=i.charCodeAt(0);return e>=a2&&e<=o2}function $l(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const R0="__name__";class vs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=vs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Tt(e.length,n.length)}static compareSegments(e,n){const s=vs.isNumericId(e),o=vs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vs.extractNumericId(e).compare(vs.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class cn extends vs{construct(e,n,s){return new cn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new He(be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new cn(n)}static emptyPath(){return new cn([])}}const l2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends vs{construct(e,n,s){return new ir(e,n,s)}static isValidIdentifier(e){return l2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new ir([R0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new He(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new He(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new He(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(u(),o++)}if(u(),d)throw new He(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(n)}static emptyPath(){return new ir([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(cn.fromString(e))}static fromName(e){return new Ge(cn.fromString(e).popFirst(5))}static empty(){return new Ge(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new cn(e.slice()))}}function u2(i,e,n){if(!n)throw new He(be.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function c2(i,e,n,s){if(e===!0&&s===!0)throw new He(be.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function I0(i){if(!Ge.isDocumentKey(i))throw new He(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Xe(12329,{type:typeof i})}function cc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new He(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jp(i);throw new He(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Vn(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ac(i,e){if(!NE(i))throw new He(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new He(be.INVALID_ARGUMENT,n);return!0}const x0=-62135596800,O0=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O0);return new Jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x0)throw new He(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Vn("string",Jt._jsonSchemaVersion),seconds:Vn("number"),nanoseconds:Vn("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Jt(0,0))}static max(){return new nt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fc=-1;function f2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new mo(o,Ge.empty(),e)}function h2(i){return new mo(i.readTime,i.key,fc)}class mo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new mo(nt.min(),Ge.empty(),fc)}static max(){return new mo(nt.max(),Ge.empty(),fc)}}function d2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(i.documentKey,e.documentKey),n!==0?n:Tt(i.largestBatchId,e.largestBatchId))}const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function su(i){if(i.code!==be.FAILED_PRECONDITION||i.message!==m2)throw i;Ue("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,s)=>{n(e)}))}static reject(e){return new ve(((n,s)=>{s(e)}))}static waitFor(e){return new ve(((n,s)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(_=>s(_)))})),d=!0,u===o&&n()}))}static or(e){let n=ve.resolve(!1);for(const s of e)n=n.next((o=>o?ve.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ve(((s,o)=>{const u=e.length,d=new Array(u);let y=0;for(let _=0;_<u;_++){const E=_;n(e[E]).next((R=>{d[E]=R,++y,y===u&&s(d)}),(R=>o(R)))}}))}static doWhile(e,n){return new ve(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function g2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(i){return i.name==="IndexedDbTransactionError"}class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;const zp=-1;function Nh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function y2(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ME="";function v2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=D0(e)),e=_2(i.get(n),e);return D0(e)}function _2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ME:n+="";break;default:n+=u}}return n}function D0(i){return i+ME+""}function N0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function nl(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function kE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class fn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}}class jf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??rr.RED,this.left=o??rr.EMPTY,this.right=u??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new rr(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rr.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class es{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new es([])}unionWith(e){let n=new Bn(ir.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VE("Invalid base64 string: "+u):u}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(i){if(Vt(!!i,39018),typeof i=="string"){let e=0;const n=b2.exec(i);if(Vt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:An(i.seconds),nanos:An(i.nanos)}}function An(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function go(i){return typeof i=="string"?sr.fromBase64String(i):sr.fromUint8Array(i)}const PE="server_timestamp",LE="__type__",UE="__previous_value__",jE="__local_write_time__";function Bp(i){return(i?.mapValue?.fields||{})[LE]?.stringValue===PE}function Mh(i){const e=i.mapValue.fields[UE];return Bp(e)?Mh(e):e}function hc(i){const e=po(i.mapValue.fields[jE].timestampValue);return new Jt(e.seconds,e.nanos)}class E2{constructor(e,n,s,o,u,d,y,_,E,R){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=R}}const mh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}const zE="__type__",T2="__max__",zf={mapValue:{}},BE="__vector__",ph="value";function yo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:S2(i)?9007199254740991:w2(i)?10:11:Xe(28295,{value:i})}function Cs(i,e){if(i===e)return!0;const n=yo(i);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=po(o.timestampValue),y=po(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return go(o.bytesValue).isEqual(go(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return An(o.geoPointValue.latitude)===An(u.geoPointValue.latitude)&&An(o.geoPointValue.longitude)===An(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return An(o.integerValue)===An(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=An(o.doubleValue),y=An(u.doubleValue);return d===y?dh(d)===dh(y):isNaN(d)&&isNaN(y)}return!1})(i,e);case 9:return $l(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(N0(d)!==N0(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Cs(d[_],y[_])))return!1;return!0})(i,e);default:return Xe(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Cs(n,e)))!==void 0}function Jl(i,e){if(i===e)return 0;const n=yo(i),s=yo(e);if(n!==s)return Tt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=An(u.integerValue||u.doubleValue),_=An(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(i,e);case 3:return k0(i.timestampValue,e.timestampValue);case 4:return k0(hc(i),hc(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(u,d){const y=go(u),_=go(d);return y.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),_=d.split("/");for(let E=0;E<y.length&&E<_.length;E++){const R=Tt(y[E],_[E]);if(R!==0)return R}return Tt(y.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Tt(An(u.latitude),An(d.latitude));return y!==0?y:Tt(An(u.longitude),An(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return V0(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},_=d.fields||{},E=y[ph]?.arrayValue,R=_[ph]?.arrayValue,x=Tt(E?.values?.length||0,R?.values?.length||0);return x!==0?x:V0(E,R)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===zf.mapValue&&d===zf.mapValue)return 0;if(u===zf.mapValue)return 1;if(d===zf.mapValue)return-1;const y=u.fields||{},_=Object.keys(y),E=d.fields||{},R=Object.keys(E);_.sort(),R.sort();for(let x=0;x<_.length&&x<R.length;++x){const D=sp(_[x],R[x]);if(D!==0)return D;const $=Jl(y[_[x]],E[R[x]]);if($!==0)return $}return Tt(_.length,R.length)})(i.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function k0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Tt(i,e);const n=po(i),s=po(e),o=Tt(n.seconds,s.seconds);return o!==0?o:Tt(n.nanos,s.nanos)}function V0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Jl(n[o],s[o]);if(u)return u}return Tt(n.length,s.length)}function Wl(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=po(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return go(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${ap(n.fields[d])}`;return o+"}"})(i.mapValue):Xe(61005,{value:i})}function Wf(i){switch(yo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(i);return e?16+Wf(e):16;case 5:return 2*i.stringValue.length;case 6:return go(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Wf(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return nl(s.fields,((u,d)=>{o+=u.length+Wf(d)})),o})(i.mapValue);default:throw Xe(13486,{value:i})}}function op(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function P0(i){return!!i&&"nullValue"in i}function L0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zf(i){return!!i&&"mapValue"in i}function w2(i){return(i?.mapValue?.fields||{})[zE]?.stringValue===BE}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return nl(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ec(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(i.arrayValue.values[n]);return e}return{...i}}function S2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=ir.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=y.popLast()}d?s[y.lastSegment()]=ec(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){nl(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Li(ec(this.value))}}function qE(i){const e=[];return nl(i.fields,((n,s)=>{const o=new ir([n]);if(Zf(s)){const u=qE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new es(e)}class mr{constructor(e,n,s,o,u,d,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mr(e,0,nt.min(),nt.min(),nt.min(),Li.empty(),0)}static newFoundDocument(e,n,s,o){return new mr(e,1,n,nt.min(),s,o,0)}static newNoDocument(e,n){return new mr(e,2,n,nt.min(),nt.min(),Li.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,nt.min(),nt.min(),Li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function U0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=Ge.comparator(Ge.fromName(d.referenceValue),n.key):s=Jl(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function j0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cs(i.position[n],e.position[n]))return!1;return!0}class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function A2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class HE{}class zn extends HE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new R2(e,n,s):n==="array-contains"?new O2(e,s):n==="in"?new D2(e,s):n==="not-in"?new N2(e,s):n==="array-contains-any"?new M2(e,s):new zn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new I2(e,s):new x2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends HE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rs(e,n)}matches(e){return FE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(i){return i.op==="and"}function KE(i){return C2(i)&&FE(i)}function C2(i){for(const e of i.filters)if(e instanceof Rs)return!1;return!0}function lp(i){if(i instanceof zn)return i.field.canonicalString()+i.op.toString()+Wl(i.value);if(KE(i))return i.filters.map((e=>lp(e))).join(",");{const e=i.filters.map((n=>lp(n))).join(",");return`${i.op}(${e})`}}function GE(i,e){return i instanceof zn?(function(s,o){return o instanceof zn&&s.op===o.op&&s.field.isEqual(o.field)&&Cs(s.value,o.value)})(i,e):i instanceof Rs?(function(s,o){return o instanceof Rs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,y)=>u&&GE(d,o.filters[y])),!0):!1})(i,e):void Xe(19439)}function YE(i){return i instanceof zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`})(i):i instanceof Rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"})(i):"Filter"}class R2 extends zn{constructor(e,n,s){super(e,n,s),this.key=Ge.fromName(s.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class I2 extends zn{constructor(e,n){super(e,"in",n),this.keys=QE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class x2 extends zn{constructor(e,n){super(e,"not-in",n),this.keys=QE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QE(i,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class O2 extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&mc(n.arrayValue,this.value)}}class D2 extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class N2 extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class M2 extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}class k2{constructor(e,n=null,s=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function z0(i,e=null,n=[],s=[],o=null,u=null,d=null){return new k2(i,e,n,s,o,u,d)}function Hp(i){const e=it(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Wl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Wl(s))).join(",")),e.Te=n}return e.Te}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!A2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!GE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!j0(i.startAt,e.startAt)&&j0(i.endAt,e.endAt)}function up(i){return Ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class kh{constructor(e,n=null,s=[],o=[],u=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V2(i,e,n,s,o,u,d,y){return new kh(i,e,n,s,o,u,d,y)}function Kp(i){return new kh(i)}function B0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function P2(i){return i.collectionGroup!==null}function tc(i){const e=it(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Bn(ir.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yh(u,s))})),n.has(ir.keyField().canonicalString())||e.Ie.push(new yh(ir.keyField(),s))}return e.Ie}function Es(i){const e=it(i);return e.Ee||(e.Ee=L2(e,tc(i))),e.Ee}function L2(i,e){if(i.limitType==="F")return z0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return z0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function cp(i,e,n){return new kh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Vh(i,e){return Fp(Es(i),Es(e))&&i.limitType===e.limitType}function XE(i){return`${Hp(Es(i))}|lt:${i.limitType}`}function jl(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>YE(o))).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Wl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Wl(o))).join(",")),`Target(${s})`})(Es(i))}; limitType=${i.limitType})`}function Ph(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of tc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,_){const E=U0(d,y,_);return d.inclusive?E<=0:E<0})(s.startAt,tc(s),o)||s.endAt&&!(function(d,y,_){const E=U0(d,y,_);return d.inclusive?E>=0:E>0})(s.endAt,tc(s),o))})(i,e)}function U2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $E(i){return(e,n)=>{let s=!1;for(const o of tc(i)){const u=j2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function j2(i,e,n){const s=i.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,d,y){const _=d.data.field(u),E=y.data.field(u);return _!==null&&E!==null?Jl(_,E):Xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Xe(19790,{direction:i.dir})}}class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const z2=new fn(Ge.comparator);function da(){return z2}const JE=new fn(Ge.comparator);function Qu(...i){let e=JE;for(const n of i)e=e.insert(n.key,n);return e}function WE(i){let e=JE;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Yo(){return nc()}function ZE(){return nc()}function nc(){return new rl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const B2=new fn(Ge.comparator),q2=new Bn(Ge.comparator);function wt(...i){let e=q2;for(const n of i)e=e.add(n);return e}const H2=new Bn(Tt);function F2(){return H2}function Gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function eT(i){return{integerValue:""+i}}function K2(i,e){return y2(e)?eT(e):Gp(i,e)}class Lh{constructor(){this._=void 0}}function G2(i,e,n){return i instanceof vh?(function(o,u){const d={fields:{[LE]:{stringValue:PE},[jE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=Mh(u)),u&&(d.fields[UE]=u),{mapValue:d}})(n,e):i instanceof pc?nT(i,e):i instanceof gc?rT(i,e):(function(o,u){const d=tT(o,u),y=q0(d)+q0(o.Ae);return op(d)&&op(o.Ae)?eT(y):Gp(o.serializer,y)})(i,e)}function Y2(i,e,n){return i instanceof pc?nT(i,e):i instanceof gc?rT(i,e):n}function tT(i,e){return i instanceof _h?(function(s){return op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vh extends Lh{}class pc extends Lh{constructor(e){super(),this.elements=e}}function nT(i,e){const n=iT(e);for(const s of i.elements)n.some((o=>Cs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gc extends Lh{constructor(e){super(),this.elements=e}}function rT(i,e){let n=iT(e);for(const s of i.elements)n=n.filter((o=>!Cs(o,s)));return{arrayValue:{values:n}}}class _h extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(i){return An(i.integerValue||i.doubleValue)}function iT(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Q2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pc&&o instanceof pc||s instanceof gc&&o instanceof gc?$l(s.elements,o.elements,Cs):s instanceof _h&&o instanceof _h?Cs(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(i.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class la{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Uh{}function sT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new oT(i.key,la.none()):new Cc(i.key,i.data,la.none());{const n=i.data,s=Li.empty();let o=new Bn(ir.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new il(i.key,s,new es(o.toArray()),la.none())}}function $2(i,e,n){i instanceof Cc?(function(o,u,d){const y=o.value.clone(),_=F0(o.fieldTransforms,u,d.transformResults);y.setAll(_),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):i instanceof il?(function(o,u,d){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=F0(o.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(aT(o)),_.setAll(y),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,s){return i instanceof Cc?(function(u,d,y,_){if(!eh(u.precondition,d))return y;const E=u.value.clone(),R=K0(u.fieldTransforms,_,d);return E.setAll(R),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(i,e,n,s):i instanceof il?(function(u,d,y,_){if(!eh(u.precondition,d))return y;const E=K0(u.fieldTransforms,_,d),R=d.data;return R.setAll(aT(u)),R.setAll(E),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(i,e,n,s):(function(u,d,y){return eh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,e,n)}function J2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=tT(s.transform,o||null);u!=null&&(n===null&&(n=Li.empty()),n.set(s.field,u))}return n||null}function H0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$l(s,o,((u,d)=>Q2(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Cc extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class il extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function F0(i,e,n){const s=new Map;Vt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,y=e.data.field(u.field);s.set(u.field,Y2(d,y,n[o]))}return s}function K0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,G2(u,d,e))}return s}class oT extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZE();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const _=sT(d,y);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(nt.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((n,s)=>H0(n,s)))&&$l(this.baseMutations,e.baseMutations,((n,s)=>H0(n,s)))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return B2})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Yp(e,n,s,o)}}class ex{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tx{constructor(e,n){this.count=e,this.unchangedNames=n}}var kn,It;function nx(i){switch(i){case be.OK:return Xe(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Xe(15467,{code:i})}}function lT(i){if(i===void 0)return ha("GRPC error has no .code"),be.UNKNOWN;switch(i){case kn.OK:return be.OK;case kn.CANCELLED:return be.CANCELLED;case kn.UNKNOWN:return be.UNKNOWN;case kn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case kn.INTERNAL:return be.INTERNAL;case kn.UNAVAILABLE:return be.UNAVAILABLE;case kn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case kn.NOT_FOUND:return be.NOT_FOUND;case kn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case kn.ABORTED:return be.ABORTED;case kn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case kn.DATA_LOSS:return be.DATA_LOSS;default:return Xe(39323,{code:i})}}(It=kn||(kn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";function rx(){return new TextEncoder}const ix=new fo([4294967295,4294967295],0);function G0(i){const e=rx().encode(i),n=new SE;return n.update(e),new Uint8Array(n.digest())}function Y0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fo([n,s],0),new fo([o,u],0)]}class Qp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(s<0)throw new Xu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fo.fromNumber(s)));return o.compare(ix)===1&&(o=new fo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=G0(e),[s,o]=Y0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Qp(u,o,n);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=G0(e),[s,o]=Y0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(nt.min(),o,new fn(Tt),da(),wt())}}class Rc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,wt(),wt(),wt())}}class th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class uT{constructor(e,n){this.targetId=e,this.Ce=n}}class cT{constructor(e,n,s=sr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=X0(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),s=wt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Xe(38017,{changeType:u})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sx{constructor(e){this.Ge=e,this.ze=new Map,this.je=da(),this.Je=Bf(),this.He=Bf(),this.Ye=new fn(Tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(up(u))if(s===0){const d=new Ge(u.path);this.et(n,d,mr.newNoDocument(d,nt.min()))}else Vt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=go(s).toUint8Array()}catch(_){if(_ instanceof VE)return Xl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Qp(d,o,u)}catch(_){return Xl(_ instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&up(y.target)){const _=new Ge(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,mr.newNoDocument(_,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=wt();this.He.forEach(((u,d)=>{let y=!0;d.forEachWhile((_=>{const E=this.ot(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new jh(e,n,this.Ye,this.je,s);return this.je=da(),this.Je=Bf(),this.He=Bf(),this.Ye=new fn(Tt),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Q0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(Tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(Tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bf(){return new fn(Ge.comparator)}function X0(){return new fn(Ge.comparator)}const ax={asc:"ASCENDING",desc:"DESCENDING"},ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lx={and:"AND",or:"OR"};class ux{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(i,e){return i.useProto3Json||Nh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cx(i,e){return bh(i,e.toTimestamp())}function Ts(i){return Vt(!!i,49232),nt.fromTimestamp((function(n){const s=po(n);return new Jt(s.seconds,s.nanos)})(i))}function Xp(i,e){return hp(i,e).canonicalString()}function hp(i,e){const n=(function(o){return new cn(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function hT(i){const e=cn.fromString(i);return Vt(yT(e),10190,{key:e.toString()}),e}function dp(i,e){return Xp(i.databaseId,e.path)}function Hm(i,e){const n=hT(e);if(n.get(1)!==i.databaseId.projectId)throw new He(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new He(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ge(mT(n))}function dT(i,e){return Xp(i.databaseId,e)}function fx(i){const e=hT(i);return e.length===4?cn.emptyPath():mT(e)}function mp(i){return new cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mT(i){return Vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function $0(i,e,n){return{name:dp(i,e),fields:n.value.mapValue.fields}}function hx(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Xe(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(E,R){return E.useProto3Json?(Vt(R===void 0||typeof R=="string",58123),sr.fromBase64String(R||"")):(Vt(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),sr.fromUint8Array(R||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(E){const R=E.code===void 0?be.UNKNOWN:lT(E.code);return new He(R,E.message||"")})(d);n=new cT(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(i,s.document.name),u=Ts(s.document.updateTime),d=s.document.createTime?Ts(s.document.createTime):nt.min(),y=new Li({mapValue:{fields:s.document.fields}}),_=mr.newFoundDocument(o,u,d,y),E=s.targetIds||[],R=s.removedTargetIds||[];n=new th(E,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(i,s.document),u=s.readTime?Ts(s.readTime):nt.min(),d=mr.newNoDocument(o,u),y=s.removedTargetIds||[];n=new th([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(i,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new tx(o,u),y=s.targetId;n=new uT(y,d)}}return n}function dx(i,e){let n;if(e instanceof Cc)n={update:$0(i,e.key,e.value)};else if(e instanceof oT)n={delete:dp(i,e.key)};else if(e instanceof il)n={update:$0(i,e.key,e.data),updateMask:Tx(e.fieldMask)};else{if(!(e instanceof W2))return Xe(16599,{Vt:e.type});n={verify:dp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const y=d.transform;if(y instanceof vh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof pc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof _h)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Xe(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:cx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Xe(27497)})(i,e.precondition)),n}function mx(i,e){return i&&i.length>0?(Vt(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?Ts(o.updateTime):Ts(u);return d.isEqual(nt.min())&&(d=Ts(u)),new X2(d,o.transformResults||[])})(n,e)))):[]}function px(i,e){return{documents:[dT(i,e.path)]}}function gx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dT(i,o);const u=(function(E){if(E.length!==0)return gT(Rs.create(E,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(E){if(E.length!==0)return E.map((R=>(function(D){return{field:zl(D.field),direction:_x(D.dir)}})(R)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=fp(i,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:n,parent:o}}function yx(i){let e=fx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Vt(s===1,65062);const R=n.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];n.where&&(u=(function(x){const D=pT(x);return D instanceof Rs&&KE(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((D=>(function(ne){return new yh(Bl(ne.field),(function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(D)))})(n.orderBy));let y=null;n.limit&&(y=(function(x){let D;return D=typeof x=="object"?x.value:x,Nh(D)?null:D})(n.limit));let _=null;n.startAt&&(_=(function(x){const D=!!x.before,$=x.values||[];return new gh($,D)})(n.startAt));let E=null;return n.endAt&&(E=(function(x){const D=!x.before,$=x.values||[];return new gh($,D)})(n.endAt)),V2(e,o,d,u,y,"F",_,E)}function vx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bl(n.unaryFilter.field);return zn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Bl(n.unaryFilter.field);return zn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bl(n.unaryFilter.field);return zn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bl(n.unaryFilter.field);return zn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return zn.create(Bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Rs.create(n.compositeFilter.filters.map((s=>pT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(i):Xe(30097,{filter:i})}function _x(i){return ax[i]}function bx(i){return ox[i]}function Ex(i){return lx[i]}function zl(i){return{fieldPath:i.canonicalString()}}function Bl(i){return ir.fromServerFormat(i.fieldPath)}function gT(i){return i instanceof zn?(function(n){if(n.op==="=="){if(L0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(P0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(P0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:bx(n.op),value:n.value}}})(i):i instanceof Rs?(function(n){const s=n.getFilters().map((o=>gT(o)));return s.length===1?s[0]:{compositeFilter:{op:Ex(n.op),filters:s}}})(i):Xe(54877,{filter:i})}function Tx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ao{constructor(e,n,s,o,u=nt.min(),d=nt.min(),y=sr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wx{constructor(e){this.yt=e}}function Sx(i){const e=yx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cp(e,e.limit,"L"):e}class Ax{constructor(){this.Cn=new Cx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(mo.min())}updateCollectionGroup(e,n,s){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class Cx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bn(cn.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bn(cn.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(vT,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class Zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zl(0)}static cr(){return new Zl(-1)}}const W0="LruGarbageCollector",Rx=1048576;function Z0([i,e],[n,s]){const o=Tt(i,n);return o===0?Tt(e,s):o}class Ix{constructor(e){this.Ir=e,this.buffer=new Bn(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ue(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?Ue(W0,"Ignoring IndexedDB error during garbage collection: ",n):await su(n)}await this.Vr(3e5)}))}}class Ox{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Dh.ce);const s=new Ix(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(J0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,d,y,_,E;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,y=Date.now(),this.removeTargets(e,s,n)))).next((x=>(u=x,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(E=Date.now(),Ul()<=Et.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(_-y)+`ms
	Removed ${x} documents in `+(E-_)+`ms
Total Duration: ${E-R}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function Dx(i,e){return new Ox(i,e)}class Nx{constructor(){this.changes=new rl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ve.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&rc(s.mutation,o,es.empty(),Jt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,wt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=wt()){const o=Yo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=Qu();return u.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Yo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,wt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,s,o){let u=da();const d=nc(),y=(function(){return nc()})();return n.forEach(((_,E)=>{const R=s.get(E.key);o.has(E.key)&&(R===void 0||R.mutation instanceof il)?u=u.insert(E.key,E):R!==void 0?(d.set(E.key,R.mutation.getFieldMask()),rc(R.mutation,E,R.mutation.getFieldMask(),Jt.now())):d.set(E.key,es.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((E,R)=>d.set(E,R))),n.forEach(((E,R)=>y.set(E,new Mx(R,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=nc();let o=new fn(((d,y)=>d-y)),u=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((_=>{const E=n.get(_);if(E===null)return;let R=s.get(_)||es.empty();R=y.applyToLocalView(E,R),s.set(_,R);const x=(o.get(y.batchId)||wt()).add(_);o=o.insert(y.batchId,x)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),E=_.key,R=_.value,x=ZE();R.forEach((D=>{if(!u.has(D)){const $=sT(n.get(D),s.get(D));$!==null&&x.set(D,$),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,E,x))}return ve.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return Ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ve.resolve(Yo());let y=fc,_=u;return d.next((E=>ve.forEach(E,((R,x)=>(y<x.largestBatchId&&(y=x.largestBatchId),u.get(R)?ve.resolve():this.remoteDocumentCache.getEntry(e,R).next((D=>{_=_.insert(R,D)}))))).next((()=>this.populateOverlays(e,E,u))).next((()=>this.computeViews(e,_,E,wt()))).next((R=>({batchId:y,changes:WE(R)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((s=>{let o=Qu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Qu();return this.indexManager.getCollectionParents(e,u).next((y=>ve.forEach(y,(_=>{const E=(function(x,D){return new kh(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,E,s,o).next((R=>{R.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((_,E)=>{const R=E.getKey();d.get(R)===null&&(d=d.insert(R,mr.newInvalidDocument(R)))}));let y=Qu();return d.forEach(((_,E)=>{const R=u.get(_);R!==void 0&&rc(R.mutation,E,es.empty(),Jt.now()),Ph(n,E)&&(y=y.insert(_,E))})),y}))}}class Vx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ts(o.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Sx(o.bundledQuery),readTime:Ts(o.readTime)}})(n)),ve.resolve()}}class Px{constructor(){this.overlays=new fn(Ge.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Yo();return ve.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ve.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ve.resolve()}getOverlaysForCollection(e,n,s){const o=Yo(),u=n.length+1,d=new Ge(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return ve.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new fn(((E,R)=>E-R));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let R=u.get(E.largestBatchId);R===null&&(R=Yo(),u=u.insert(E.largestBatchId,R)),R.set(E.getKey(),E)}}const y=Yo(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,R)=>y.set(E,R))),!(y.size()>=o)););return ve.resolve(y)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ex(n,s));let u=this.qr.get(n);u===void 0&&(u=wt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class Lx{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class $p{constructor(){this.Qr=new Bn(Qn.$r),this.Ur=new Bn(Qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ge(new cn([])),s=new Qn(n,e),o=new Qn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new cn([])),s=new Qn(n,e),o=new Qn(n,e+1);let u=wt();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Qn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||Tt(e.Yr,n.Yr)}static Kr(e,n){return Tt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}class Ux{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Qn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Z2(u,n,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Qn(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ve.resolve(d)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ve.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qn(n,0),o=new Qn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);u.push(y)})),ve.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bn(Tt);return n.forEach((o=>{const u=new Qn(o,0),d=new Qn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(y=>{s=s.add(y.Yr)}))})),ve.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ge.isDocumentKey(u)||(u=u.child(""));const d=new Qn(new Ge(u),0);let y=new Bn(Tt);return this.Zr.forEachWhile((_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===o&&(y=y.add(_.Yr)),!0)}),d),ve.resolve(this.ti(y))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ve.forEach(n.mutations,(o=>{const u=new Qn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qn(n,0),o=this.Zr.firstAfterOrEqual(s);return ve.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jx{constructor(e){this.ri=e,this.docs=(function(){return new fn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ve.resolve(s?s.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let s=da();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mr.newInvalidDocument(o))})),ve.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=da();const d=n.path,y=new Ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:E,value:{document:R}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||d2(h2(R),s)<=0||(o.has(R.key)||Ph(n,R))&&(u=u.insert(R.key,R.mutableCopy()))}return ve.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Xe(9500)}ii(e,n){return ve.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zx(this)}getSize(e){return ve.resolve(this.size)}}class zx extends Nx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Bx{constructor(e){this.persistence=e,this.si=new rl((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=Zl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),ve.waitFor(u).next((()=>o))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ve.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ve.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ve.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ve.resolve(s)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class _T{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new Lx,this.referenceDelegate=e(this),this.Pi=new Bx(this),this.indexManager=new Ax,this.remoteDocumentCache=(function(o){return new jx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wx(n),this.Ii=new Vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Px,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Ux(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ue("MemoryPersistence","Starting transaction:",e);const o=new qx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ve.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class qx extends p2{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new $p,this.Vi=null}static mi(e){return new Jp(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ve.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(s=>{const o=Ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new rl((s=>v2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Dx(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ve.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((y=>{y||(s++,u.removeEntry(d,nt.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wf(e.data.value)),n}br(e,n,s){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ve.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=wt(),o=wt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Fx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:g2(gr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new Hx;return this.Ss(e,n,d).next((y=>{if(u.result=y,this.Vs)return this.bs(e,n,d,y.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ul()<=Et.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Ul()<=Et.DEBUG&&Ue("QueryEngine","Query:",jl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ul()<=Et.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):ve.resolve())}ys(e,n){if(B0(n))return ve.resolve(null);let s=Es(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=wt(...u);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((_=>{const E=this.Ds(n,y);return this.Cs(n,E,d,_.readTime)?this.ys(e,cp(n,null,"F")):this.vs(e,E,n,_)}))))})))))}ws(e,n,s,o){return B0(n)||o.isEqual(nt.min())?ve.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,o)?ve.resolve(null):(Ul()<=Et.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jl(n)),this.vs(e,d,n,f2(o,fc)).next((y=>y)))}))}Ds(e,n){let s=new Bn($E(e));return n.forEach(((o,u)=>{Ph(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ul()<=Et.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ps.getDocumentsMatchingQuery(e,n,mo.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Zp="LocalStore",Kx=3e8;class Gx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new fn(Tt),this.xs=new rl((u=>Hp(u)),Fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Yx(i,e,n,s){return new Gx(i,e,n,s)}async function bT(i,e){const n=it(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],y=[];let _=wt();for(const E of o){d.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}for(const E of u){y.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}return n.localDocuments.getDocuments(s,_).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function Qx(i,e){const n=it(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,E,R){const x=E.batch,D=x.keys();let $=ve.resolve();return D.forEach((ne=>{$=$.next((()=>R.getEntry(_,ne))).next((me=>{const Ee=E.docVersions.get(ne);Vt(Ee!==null,48541),me.version.compareTo(Ee)<0&&(x.applyToRemoteDocument(me,E),me.isValidDocument()&&(me.setReadTime(E.commitVersion),R.addEntry(me)))}))})),$.next((()=>y.mutationQueue.removeMutationBatch(_,x)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let _=wt();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(_=_.add(y.batch.mutations[E].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ET(i){const e=it(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Xx(i,e){const n=it(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];e.targetChanges.forEach(((R,x)=>{const D=o.get(x);if(!D)return;y.push(n.Pi.removeMatchingKeys(u,R.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,R.addedDocuments,x))));let $=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?$=$.withResumeToken(sr.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):R.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(R.resumeToken,s)),o=o.insert(x,$),(function(me,Ee,ke){return me.resumeToken.approximateByteSize()===0||Ee.snapshotVersion.toMicroseconds()-me.snapshotVersion.toMicroseconds()>=Kx?!0:ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0})(D,$,R)&&y.push(n.Pi.updateTargetData(u,$))}));let _=da(),E=wt();if(e.documentUpdates.forEach((R=>{e.resolvedLimboDocuments.has(R)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,R))})),y.push($x(u,d,e.documentUpdates).next((R=>{_=R.ks,E=R.qs}))),!s.isEqual(nt.min())){const R=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(R)}return ve.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,E))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function $x(i,e,n){let s=wt(),o=wt();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=da();return n.forEach(((y,_)=>{const E=u.get(y);_.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(nt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):Ue(Zp,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Jx(i,e){const n=it(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Wx(i,e){const n=it(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ve.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new ao(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function pp(i,e,n){const s=it(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!au(d))throw d;Ue(Zp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function eb(i,e,n){const s=it(i);let o=nt.min(),u=wt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,E,R){const x=it(_),D=x.xs.get(R);return D!==void 0?ve.resolve(x.Ms.get(D)):x.Pi.getTargetData(E,R)})(s,d,Es(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:nt.min(),n?u:wt()))).next((y=>(Zx(s,U2(e),y),{documents:y,Qs:u})))))}function Zx(i,e,n){let s=i.Os.get(e)||nt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class tb{constructor(){this.activeTargetIds=F2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eO{constructor(){this.Mo=new tb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tO{Oo(e){}shutdown(){}}const nb="ConnectivityMonitor";class rb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ue(nb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ue(nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qf=null;function gp(){return qf===null?qf=(function(){return 268435456+Math.round(2147483648*Math.random())})():qf++,"0x"+qf.toString(16)}const Fm="RestConnection",nO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const d=gp(),y=this.zo(e,n.toUriEncodedString());Ue(Fm,`Sending RPC '${e}' ${d}:`,y,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:E}=new URL(y),R=tu(E);return this.Jo(e,y,_,s,R).then((x=>(Ue(Fm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Xl(Fm,`RPC '${e}' ${d} failed with error: `,x,"url: ",y,"request:",s),x}))}Ho(e,n,s,o,u,d){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=nO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class iO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hr="WebChannelConnection";class sO extends rO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=gp();return new Promise(((y,_)=>{const E=new AE;E.setWithCredentials(!0),E.listenOnce(CE.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Jf.NO_ERROR:const x=E.getResponseJson();Ue(hr,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),y(x);break;case Jf.TIMEOUT:Ue(hr,`RPC '${e}' ${d} timed out`),_(new He(be.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const D=E.getStatus();if(Ue(hr,`RPC '${e}' ${d} failed with status:`,D,"response text:",E.getResponseText()),D>0){let $=E.getResponseJson();Array.isArray($)&&($=$[0]);const ne=$?.error;if(ne&&ne.status&&ne.message){const me=(function(ke){const Be=ke.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(Be)>=0?Be:be.UNKNOWN})(ne.status);_(new He(me,ne.message))}else _(new He(be.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new He(be.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{Ue(hr,`RPC '${e}' ${d} completed.`)}}));const R=JSON.stringify(o);Ue(hr,`RPC '${e}' ${d} sending request:`,o),E.send(n,"POST",R,s,15)}))}T_(e,n,s){const o=gp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xE(),y=IE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const R=u.join("");Ue(hr,`Creating RPC '${e}' stream ${o}: ${R}`,_);const x=d.createWebChannel(R,_);this.I_(x);let D=!1,$=!1;const ne=new iO({Yo:Ee=>{$?Ue(hr,`Not sending because RPC '${e}' stream ${o} is closed:`,Ee):(D||(Ue(hr,`Opening RPC '${e}' stream ${o} transport.`),x.open(),D=!0),Ue(hr,`RPC '${e}' stream ${o} sending:`,Ee),x.send(Ee))},Zo:()=>x.close()}),me=(Ee,ke,Be)=>{Ee.listen(ke,(Le=>{try{Be(Le)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return me(x,Yu.EventType.OPEN,(()=>{$||(Ue(hr,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),me(x,Yu.EventType.CLOSE,(()=>{$||($=!0,Ue(hr,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(x))})),me(x,Yu.EventType.ERROR,(Ee=>{$||($=!0,Xl(hr,`RPC '${e}' stream ${o} transport errored. Name:`,Ee.name,"Message:",Ee.message),ne.a_(new He(be.UNAVAILABLE,"The operation could not be completed")))})),me(x,Yu.EventType.MESSAGE,(Ee=>{if(!$){const ke=Ee.data[0];Vt(!!ke,16349);const Be=ke,Le=Be?.error||Be[0]?.error;if(Le){Ue(hr,`RPC '${e}' stream ${o} received error:`,Le);const ct=Le.status;let Nt=(function(M){const P=kn[M];if(P!==void 0)return lT(P)})(ct),$e=Le.message;Nt===void 0&&(Nt=be.INTERNAL,$e="Unknown error status: "+ct+" with message "+Le.message),$=!0,ne.a_(new He(Nt,$e)),x.close()}else Ue(hr,`RPC '${e}' stream ${o} received:`,ke),ne.u_(ke)}})),me(y,RE.STAT_EVENT,(Ee=>{Ee.stat===ip.PROXY?Ue(hr,`RPC '${e}' stream ${o} detected buffering proxy`):Ee.stat===ip.NOPROXY&&Ue(hr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Km(){return typeof document<"u"?document:null}function zh(i){return new ux(i,!0)}class TT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ib="PersistentStream";class wT{constructor(e,n,s,o,u,d,y,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new He(be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ue(ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ue(ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aO extends wT{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return nt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?nt.min():d.readTime?Ts(d.readTime):nt.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(u,d){let y;const _=d.target;if(y=up(_)?{documents:px(u,_)}:{query:gx(u,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=fT(u,d.resumeToken);const E=fp(u,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(nt.min())>0){y.readTime=bh(u,d.snapshotVersion.toTimestamp());const E=fp(u,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,e);const s=vx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class oO extends wT{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mx(e.writeResults,e.commitTime),s=Ts(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dx(this.serializer,s)))};this.q_(n)}}class lO{}class uO extends lO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new He(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,hp(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new He(be.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,hp(n,s),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new He(be.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(n),this.aa=!1):Ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class fO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{sl(this)&&(Ue(tl,"Restarting streams for network reachability change."),await(async function(_){const E=it(_);E.Ea.add(4),await Ic(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Bh(E)})(this))}))})),this.Ra=new cO(s,o)}}async function Bh(i){if(sl(i))for(const e of i.da)await e(!0)}async function Ic(i){for(const e of i.da)await e(!1)}function ST(i,e){const n=it(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ng(n):ou(n).O_()&&tg(n,e))}function eg(i,e){const n=it(i),s=ou(n);n.Ia.delete(e),s.O_()&&AT(n,e),n.Ia.size===0&&(s.O_()?s.L_():sl(n)&&n.Ra.set("Unknown"))}function tg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(i).Y_(e)}function AT(i,e){i.Va.Ue(e),ou(i).Z_(e)}function ng(i){i.Va=new sx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ou(i).start(),i.Ra.ua()}function rg(i){return sl(i)&&!ou(i).x_()&&i.Ia.size>0}function sl(i){return it(i).Ea.size===0}function CT(i){i.Va=void 0}async function hO(i){i.Ra.set("Online")}async function dO(i){i.Ia.forEach(((e,n)=>{tg(i,e)}))}async function mO(i,e){CT(i),rg(i)?(i.Ra.ha(e),ng(i)):i.Ra.set("Unknown")}async function pO(i,e,n){if(i.Ra.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(i,e)}catch(s){Ue(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(i,s)}else if(e instanceof th?i.Va.Ze(e):e instanceof uT?i.Va.st(e):i.Va.tt(e),!n.isEqual(nt.min()))try{const s=await ET(i.localStore);n.compareTo(s)>=0&&await(function(u,d){const y=u.Va.Tt(d);return y.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const R=u.Ia.get(E);R&&u.Ia.set(E,R.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,E)=>{const R=u.Ia.get(_);if(!R)return;u.Ia.set(_,R.withResumeToken(sr.EMPTY_BYTE_STRING,R.snapshotVersion)),AT(u,_);const x=new ao(R.target,_,E,R.sequenceNumber);tg(u,x)})),u.remoteSyncer.applyRemoteEvent(y)})(i,n)}catch(s){Ue(tl,"Failed to raise snapshot:",s),await Th(i,s)}}async function Th(i,e,n){if(!au(e))throw e;i.Ea.add(1),await Ic(i),i.Ra.set("Offline"),n||(n=()=>ET(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ue(tl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Bh(i)}))}function RT(i,e){return e().catch((n=>Th(i,n,e)))}async function qh(i){const e=it(i),n=vo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;gO(e);)try{const o=await Jx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,yO(e,o)}catch(o){await Th(e,o)}IT(e)&&xT(e)}function gO(i){return sl(i)&&i.Ta.length<10}function yO(i,e){i.Ta.push(e);const n=vo(i);n.O_()&&n.X_&&n.ea(e.mutations)}function IT(i){return sl(i)&&!vo(i).x_()&&i.Ta.length>0}function xT(i){vo(i).start()}async function vO(i){vo(i).ra()}async function _O(i){const e=vo(i);for(const n of i.Ta)e.ea(n.mutations)}async function bO(i,e,n){const s=i.Ta.shift(),o=Yp.from(s,e,n);await RT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await qh(i)}async function EO(i,e){e&&vo(i).X_&&await(async function(s,o){if((function(d){return nx(d)&&d!==be.ABORTED})(o.code)){const u=s.Ta.shift();vo(s).B_(),await RT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qh(s)}})(i,e),IT(i)&&xT(i)}async function sb(i,e){const n=it(i);n.asyncQueue.verifyOperationInProgress(),Ue(tl,"RemoteStore received new credentials");const s=sl(n);n.Ea.add(3),await Ic(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function TO(i,e){const n=it(i);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function ou(i){return i.ma||(i.ma=(function(n,s,o){const u=it(n);return u.sa(),new aO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:hO.bind(null,i),t_:dO.bind(null,i),r_:mO.bind(null,i),H_:pO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),rg(i)?ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),CT(i))}))),i.ma}function vo(i){return i.fa||(i.fa=(function(n,s,o){const u=it(n);return u.sa(),new oO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:vO.bind(null,i),r_:EO.bind(null,i),ta:_O.bind(null,i),na:bO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await qh(i)):(await i.fa.stop(),i.Ta.length>0&&(Ue(tl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,y=new ig(e,n,d,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(ha("AsyncQueue",`${e}: ${i}`),au(i))return new He(be.UNAVAILABLE,`${e}: ${i}`);throw i}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ge.comparator(n.key,s.key):(n,s)=>Ge.comparator(n.key,s.key),this.keyedMap=Qu(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ab{constructor(){this.ga=new fn(Ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class eu{constructor(e,n,s,o,u,d,y,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new eu(e,n,Gl.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SO{constructor(){this.queries=ob(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=it(n),u=o.queries;o.queries=ob(),u.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(s)}))})(this,new He(be.ABORTED,"Firestore shutting down"))}}function ob(){return new rl((i=>XE(i)),Vh)}async function AO(i,e){const n=it(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=sg(d,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function CO(i,e){const n=it(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RO(i,e){const n=it(i);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&ag(n)}function IO(i,e,n){const s=it(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ag(i){i.Ca.forEach((e=>{e.next()}))}var yp,lb;(lb=yp||(yp={})).Ma="default",lb.Cache="cache";class xO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new eu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class OT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class OO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=$E(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ab,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((R,x)=>{const D=o.get(R),$=Ph(this.query,x)?x:null,ne=!!D&&this.mutatedKeys.has(D.key),me=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Ee=!1;D&&$?D.data.isEqual($.data)?ne!==me&&(s.track({type:3,doc:$}),Ee=!0):this.su(D,$)||(s.track({type:2,doc:$}),Ee=!0,(_&&this.eu($,_)>0||E&&this.eu($,E)<0)&&(y=!0)):!D&&$?(s.track({type:0,doc:$}),Ee=!0):D&&!$&&(s.track({type:1,doc:D}),Ee=!0,(_||E)&&(y=!0)),Ee&&($?(d=d.add($),u=me?u.add(R):u.delete(R)):(d=d.delete(R),u=u.delete(R)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),u=u.delete(R.key),s.track({type:1,doc:R})}return{tu:d,iu:s,Cs:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((R,x)=>(function($,ne){const me=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:Ee})}};return me($)-me(ne)})(R.type,x.type)||this.eu(R.doc,x.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,E=_!==this.Za;return this.Za=_,d.length!==0||E?{snapshot:new eu(this.query,e.tu,u,d,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new DT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new OT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class DO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NO{constructor(e){this.key=e,this.hu=!1}}class MO{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new rl((y=>XE(y)),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new fn(Ge.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=Zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kO(i,e,n=!0){const s=LT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await NT(s,e,n,!0),o}async function VO(i,e){const n=LT(i);await NT(n,e,!0,!1)}async function NT(i,e,n,s){const o=await Wx(i.localStore,Es(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await PO(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&ST(i.remoteStore,o),y}async function PO(i,e,n,s,o){i.pu=(x,D,$)=>(async function(me,Ee,ke,Be){let Le=Ee.view.ru(ke);Le.Cs&&(Le=await eb(me.localStore,Ee.query,!1).then((({documents:V})=>Ee.view.ru(V,Le))));const ct=Be&&Be.targetChanges.get(Ee.targetId),Nt=Be&&Be.targetMismatches.get(Ee.targetId)!=null,$e=Ee.view.applyChanges(Le,me.isPrimaryClient,ct,Nt);return cb(me,Ee.targetId,$e.au),$e.snapshot})(i,x,D,$);const u=await eb(i.localStore,e,!0),d=new OO(e,u.Qs),y=d.ru(u.documents),_=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),E=d.applyChanges(y,i.isPrimaryClient,_);cb(i,n,E.au);const R=new DO(e,n,d);return i.Tu.set(e,R),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),E.snapshot}async function LO(i,e,n){const s=it(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Vh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(su)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function UO(i,e){const n=it(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function jO(i,e,n){const s=GO(i);try{const o=await(function(d,y){const _=it(d),E=Jt.now(),R=y.reduce((($,ne)=>$.add(ne.key)),wt());let x,D;return _.persistence.runTransaction("Locally write mutations","readwrite",($=>{let ne=da(),me=wt();return _.Ns.getEntries($,R).next((Ee=>{ne=Ee,ne.forEach(((ke,Be)=>{Be.isValidDocument()||(me=me.add(ke))}))})).next((()=>_.localDocuments.getOverlayedDocuments($,ne))).next((Ee=>{x=Ee;const ke=[];for(const Be of y){const Le=J2(Be,x.get(Be.key).overlayedDocument);Le!=null&&ke.push(new il(Be.key,Le,qE(Le.value.mapValue),la.exists(!0)))}return _.mutationQueue.addMutationBatch($,E,ke,y)})).next((Ee=>{D=Ee;const ke=Ee.applyToLocalDocumentSet(x,me);return _.documentOverlayCache.saveOverlays($,Ee.batchId,ke)}))})).then((()=>({batchId:D.batchId,changes:WE(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let E=d.Vu[d.currentUser.toKey()];E||(E=new fn(Tt)),E=E.insert(y,_),d.Vu[d.currentUser.toKey()]=E})(s,o.batchId,n),await xc(s,o.changes),await qh(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function MT(i,e){const n=it(i);try{const s=await Xx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Vt(d.hu,14607):o.removedDocuments.size>0&&(Vt(d.hu,42227),d.hu=!1))})),await xc(n,s,e)}catch(s){await su(s)}}function ub(i,e,n){const s=it(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=it(d);_.onlineState=y;let E=!1;_.queries.forEach(((R,x)=>{for(const D of x.Sa)D.va(y)&&(E=!0)})),E&&ag(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zO(i,e,n){const s=it(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new fn(Ge.comparator);d=d.insert(u,mr.newNoDocument(u,nt.min()));const y=wt().add(u),_=new jh(nt.min(),new Map,new fn(Tt),d,y);await MT(s,_),s.du=s.du.remove(u),s.Au.delete(e),lg(s)}else await pp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(su)}async function BO(i,e){const n=it(i),s=e.batch.batchId;try{const o=await Qx(n.localStore,e);VT(n,s,null),kT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xc(n,o)}catch(o){await su(o)}}async function qO(i,e,n){const s=it(i);try{const o=await(function(d,y){const _=it(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let R;return _.mutationQueue.lookupMutationBatch(E,y).next((x=>(Vt(x!==null,37113),R=x.keys(),_.mutationQueue.removeMutationBatch(E,x)))).next((()=>_.mutationQueue.performConsistencyCheck(E))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(E,R,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,R))).next((()=>_.localDocuments.getDocuments(E,R)))}))})(s.localStore,e);VT(s,e,n),kT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xc(s,o)}catch(o){await su(o)}}function kT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function VT(i,e,n){const s=it(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||PT(i,s)}))}function PT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(eg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),lg(i))}function cb(i,e,n){for(const s of n)s instanceof OT?(i.Ru.addReference(s.key,e),HO(i,s)):s instanceof DT?(Ue(og,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||PT(i,s.key)):Xe(19791,{wu:s})}function HO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Ue(og,"New document in limbo: "+n),i.Eu.add(s),lg(i))}function lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ge(cn.fromString(e)),s=i.fu.next();i.Au.set(s,new NO(n)),i.du=i.du.insert(n,s),ST(i.remoteStore,new ao(Es(Kp(n.path)),s,"TargetPurposeLimboResolution",Dh.ce))}}async function xc(i,e,n){const s=it(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,_)=>{d.push(s.pu(_,e,n).then((E=>{if((E||n)&&s.isPrimaryClient){const R=E?!E.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(E){o.push(E);const R=Wp.As(_.targetId,E);u.push(R)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,E){const R=it(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ve.forEach(E,(D=>ve.forEach(D.Es,($=>R.persistence.referenceDelegate.addReference(x,D.targetId,$))).next((()=>ve.forEach(D.ds,($=>R.persistence.referenceDelegate.removeReference(x,D.targetId,$)))))))))}catch(x){if(!au(x))throw x;Ue(Zp,"Failed to update sequence numbers: "+x)}for(const x of E){const D=x.targetId;if(!x.fromCache){const $=R.Ms.get(D),ne=$.snapshotVersion,me=$.withLastLimboFreeSnapshotVersion(ne);R.Ms=R.Ms.insert(D,me)}}})(s.localStore,u))}async function FO(i,e){const n=it(i);if(!n.currentUser.isEqual(e)){Ue(og,"User change. New user:",e.toKey());const s=await bT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((_=>{_.reject(new He(be.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xc(n,s.Ls)}}function KO(i,e){const n=it(i),s=n.Au.get(e);if(s&&s.hu)return wt().add(s.key);{let o=wt();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function LT(i){const e=it(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zO.bind(null,e),e.Pu.H_=RO.bind(null,e.eventManager),e.Pu.yu=IO.bind(null,e.eventManager),e}function GO(i){const e=it(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qO.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Yx(this.persistence,new Fx,e.initialUser,this.serializer)}Cu(e){return new _T(Jp.mi,this.serializer)}Du(e){return new eO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class YO extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vt(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new _T((s=>Eh.mi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ub(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SO})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=(function(u){return new sO(u)})(e.databaseInfo);return(function(u,d,y,_){return new uO(u,d,y,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,d,y){return new fO(s,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>ub(this.syncEngine,n,0)),(function(){return rb.v()?new rb:new tO})())}createSyncEngine(e,n){return(function(o,u,d,y,_,E,R){const x=new MO(o,u,d,y,_,E);return R&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=it(n);Ue(tl,"RemoteStore shutting down."),s.Ea.add(5),await Ic(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class QO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _o="FirestoreClient";class XO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dr.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{Ue(_o,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Ue(_o,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gm(i,e){i.asyncQueue.verifyOperationInProgress(),Ue(_o,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function fb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $O(i);Ue(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>sb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>sb(e.remoteStore,o))),i._onlineComponents=e}async function $O(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ue(_o,"Using user provided OfflineComponentProvider");try{await Gm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===be.FAILED_PRECONDITION||o.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await Gm(i,new wh)}}else Ue(_o,"Using default OfflineComponentProvider"),await Gm(i,new YO(void 0));return i._offlineComponents}async function UT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ue(_o,"Using user provided OnlineComponentProvider"),await fb(i,i._uninitializedComponentsProvider._online)):(Ue(_o,"Using default OnlineComponentProvider"),await fb(i,new _p))),i._onlineComponents}function JO(i){return UT(i).then((e=>e.syncEngine))}async function WO(i){const e=await UT(i),n=e.eventManager;return n.onListen=kO.bind(null,e.syncEngine),n.onUnlisten=LO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UO.bind(null,e.syncEngine),n}function ZO(i,e,n={}){const s=new ho;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,_,E){const R=new QO({next:D=>{R.Nu(),d.enqueueAndForget((()=>CO(u,x)));const $=D.docs.has(y);!$&&D.fromCache?E.reject(new He(be.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&D.fromCache&&_&&_.source==="server"?E.reject(new He(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(D)},error:D=>E.reject(D)}),x=new xO(Kp(y.path),R,{includeMetadataChanges:!0,qa:!0});return AO(u,x)})(await WO(i),i.asyncQueue,e,n,s))),s.promise}function jT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const hb=new Map;const zT="firestore.googleapis.com",db=!0;class mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new He(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=db}else this.host=e.host,this.ssl=e.ssl??db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rx)throw new He(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new He(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZI;switch(s.type){case"firstParty":return new r2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new He(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hb.get(n);s&&(Ue("ComponentProvider","Removing Datastore"),hb.delete(n),s.terminate())})(this),Promise.resolve()}}function eD(i,e,n,s={}){i=cc(i,ug);const o=tu(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${n}`;o&&(zb(`https://${y}`),Bb("Firestore",!0)),u.host!==zT&&u.host!==y&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:y,ssl:o,emulatorOptions:s};if(!Jo(_,d)&&(i._setSettings(_),s.mockUserToken)){let E,R;if(typeof s.mockUserToken=="string")E=s.mockUserToken,R=dr.MOCK_USER;else{E=SA(s.mockUserToken,i._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new He(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new dr(x)}i._authCredentials=new e2(new DE(E,R))}}class cg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cg(this.firestore,e,this._query)}}class Xn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}toJSON(){return{type:Xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ac(n,Xn._jsonSchema))return new Xn(e,s||null,new Ge(cn.fromString(n.referencePath)))}}Xn._jsonSchemaVersion="firestore/documentReference/1.0",Xn._jsonSchema={type:Vn("string",Xn._jsonSchemaVersion),referencePath:Vn("string")};class yc extends cg{constructor(e,n,s){super(e,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Ge(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function BT(i,e,...n){if(i=ji(i),arguments.length===1&&(e=Up.newId()),u2("doc","path",e),i instanceof ug){const s=cn.fromString(e,...n);return I0(s),new Xn(i,null,new Ge(s))}{if(!(i instanceof Xn||i instanceof yc))throw new He(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(cn.fromString(e,...n));return I0(s),new Xn(i.firestore,i instanceof yc?i.converter:null,new Ge(s))}}const pb="AsyncQueue";class gb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TT(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&Ue(pb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!au(e))throw e;Ue(pb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",yb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Xe(47125,{Pc:yb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class fg extends ug{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function tD(i,e){const n=typeof i=="object"?i:Kb(),s=typeof i=="string"?i:mh,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TA("firestore");u&&eD(o,...u)}return o}function qT(i){if(i._terminated)throw new He(be.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nD(i),i._firestoreClient}function nD(i){const e=i._freezeSettings(),n=(function(o,u,d,y){return new E2(o,u,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new XO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(sr.fromBase64String(e))}catch(n){throw new He(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:Vn("string",Ui._jsonSchemaVersion),bytes:Vn("string")};class hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HT{constructor(e){this._methodName=e}}class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Vn("string",ws._jsonSchemaVersion),latitude:Vn("number"),longitude:Vn("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new He(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Vn("string",Ss._jsonSchemaVersion),vectorValues:Vn("object")};const rD=/^__.*__$/;class iD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}function FT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:i})}}class dg{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&rD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}Cc(e,n,s,o=!1){return new dg({Ac:e,methodName:n,Dc:s,path:ir.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aD(i){const e=i._freezeSettings(),n=zh(i._databaseId);return new sD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function oD(i,e,n,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);QT("Data must be an object, but it was:",d,s);const y=GT(s,d);let _,E;if(u.merge)_=new es(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const R=[];for(const x of u.mergeFields){const D=lD(e,x,n);if(!d.contains(D))throw new He(be.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);cD(R,D)||R.push(D)}_=new es(R),E=d.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,E=d.fieldTransforms;return new iD(new Li(y),_,E)}function KT(i,e){if(YT(i=ji(i)))return QT("Unsupported field value:",e,i),GT(i,e);if(i instanceof HT)return(function(s,o){if(!FT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const y of s){let _=KT(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ji(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return K2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Jt.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof Jt){const u=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof ws)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ui)return{bytesValue:fT(o.serializer,s._byteString)};if(s instanceof Xn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ss)return(function(d,y){return{mapValue:{fields:{[zE]:{stringValue:BE},[ph]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return Gp(y.serializer,E)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jp(s)}`)})(i,e)}function GT(i,e){const n={};return kE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(i,((s,o)=>{const u=KT(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function YT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Jt||i instanceof ws||i instanceof Ui||i instanceof Xn||i instanceof HT||i instanceof Ss)}function QT(i,e,n){if(!YT(n)||!NE(n)){const s=jp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function lD(i,e,n){if((e=ji(e))instanceof hg)return e._internalPath;if(typeof e=="string")return XT(i,e);throw Sh("Field path arguments must be of type string or ",i,!1,void 0,n)}const uD=new RegExp("[~\\*/\\[\\]]");function XT(i,e,n){if(e.search(uD)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hg(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Sh(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new He(be.INVALID_ARGUMENT,y+i+_)}function cD(i,e){return i.some((n=>n.isEqual(e)))}class $T{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fD extends $T{data(){return super.data()}}function JT(i,e){return typeof e=="string"?XT(i,e):e instanceof hg?e._internalPath:e._delegate._internalPath}class hD{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return nl(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((s=>An(s.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new ws(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=po(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=cn.fromString(e);Vt(yT(s),9688,{name:e});const o=new dc(s.get(1),s.get(3)),u=new Ge(s.popFirst(5));return o.isEqual(n)||ha(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function dD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends $T{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(JT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:Vn("string",Xo._jsonSchemaVersion),bundleSource:Vn("string","DocumentSnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class nh extends Xo{data(e={}){return super.data(e)}}class ic{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const _=new nh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,R=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:mD(y.type),doc:_,oldIndex:E,newIndex:R}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:i})}}function pD(i){i=cc(i,Xn);const e=cc(i.firestore,fg);return ZO(qT(e),i._key).then((n=>_D(e,i,n)))}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:Vn("string",ic._jsonSchemaVersion),bundleSource:Vn("string","QuerySnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class gD extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function yD(i,e,n){i=cc(i,Xn);const s=cc(i.firestore,fg),o=dD(i.converter,e);return vD(s,[oD(aD(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,la.none())])}function vD(i,e){return(function(s,o){const u=new ho;return s.asyncQueue.enqueueAndForget((async()=>jO(await JO(s),o,u))),u.promise})(qT(i),e)}function _D(i,e,n){const s=n.docs.get(e._key),o=new gD(i);return new Xo(i,o,e._key,s,new $u(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){iu=o})(nu),Yl(new Wo("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),y=new fg(new t2(s.getProvider("auth-internal")),new i2(d,s.getProvider("app-check-internal")),(function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new He(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(E.options.projectId,R)})(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),co(S0,A0,e),co(S0,A0,"esm2020")})();const bD={apiKey:"AIzaSyCGabs1zTYUI0-yPRp2RD7_Zk4HLsd3kSc",authDomain:"gemini-podcast-cards.firebaseapp.com",projectId:"gemini-podcast-cards",storageBucket:"gemini-podcast-cards.firebasestorage.app",messagingSenderId:"535172285628",appId:"1:535172285628:web:1fa37b46cf2bdf89257cb9"},WT=Fb(bD),Hf=JI(WT),ED=new sa,ZT=tD(WT),ew="users";async function TD(i,e){if(!i)throw new Error("User ID is required");try{const n=JSON.stringify(e),s=BT(ZT,ew,i);await yD(s,{vocab_data:n,last_synced:Date.now()}),console.log(`Successfully synced ${e.length} cards for user ${i}`)}catch(n){throw console.error("Sync upload failed:",n),n}}async function wD(i){if(!i)throw new Error("User ID is required");try{const e=BT(ZT,ew,i),n=await pD(e);if(n.exists()){const s=n.data();if(s.vocab_data)return JSON.parse(s.vocab_data)}return null}catch(e){throw console.error("Sync download failed:",e),e}}const vb="zanta0529@gmail.com,amy.webhd@gmail.com".split(",").map(i=>i.trim()).filter(i=>i!==""),SD=({isOpen:i,onClose:e,onConfirm:n,title:s,message:o})=>{const[u,d]=De.useState(3);return De.useEffect(()=>{if(i){d(3);const y=setInterval(()=>{d(_=>_<=1?(clearInterval(y),0):_-1)},1e3);return()=>clearInterval(y)}},[i]),i?W.jsx("div",{style:_b.overlay,children:W.jsxs("div",{style:_b.content,children:[W.jsxs("h3",{style:{marginTop:0,color:"#ff6b6b"},children:[" ",s]}),W.jsx("p",{style:{color:"#ccc",lineHeight:"1.5"},children:o}),W.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem"},children:[W.jsx("button",{onClick:e,style:{...sc,backgroundColor:"#666"},children:"Cancel"}),W.jsx("button",{onClick:()=>{n(),e()},disabled:u>0,style:{...sc,backgroundColor:u>0?"#CCC":"#e03131",cursor:u>0?"not-allowed":"pointer",opacity:u>0?.7:1},children:u>0?`Wait (${u})...`:"Execute!"})]})]})}):null};function AD(){const[i,e]=De.useState([]),[n,s]=De.useState(!0),[o,u]=De.useState(0),[d,y]=De.useState(null),[_,E]=De.useState(!1),[R,x]=De.useState(!1),[D,$]=De.useState(!1),[ne,me]=De.useState(!1),[Ee,ke]=De.useState(!1),[Be,Le]=De.useState(!1),[ct,Nt]=De.useState(!1),[$e,V]=De.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),M=(le,_e,je)=>{V({isOpen:!0,title:le,message:_e,onConfirm:je})};De.useEffect(()=>{const le=zR(Hf,async _e=>{_e?vb.length===0||vb.includes(_e.email)?(y(_e),vt.success(`Welcome, ${_e.displayName}`)):(console.warn(`Unauthorized: ${_e.email}`),vt.error(`Access denied for ${_e.email}`),await d0(Hf),y(null)):y(null)});return()=>le()},[]);const P=async()=>{try{s(!0),await MS();const le=await nr.vocab.toArray(),_e=Date.now(),je=le.filter(st=>st.nextReview<=_e||st.status==="new");e(je)}catch(le){console.error("Failed to load cards:",le),vt.error("Load failed: "+le.message)}finally{s(!1)}};De.useEffect(()=>{P()},[]);const Y=async le=>{try{await nr.vocab.put(le),u(_e=>_e+1)}catch(_e){console.error("Update failed:",_e),vt.error("Update failed")}},q=async()=>{try{await aI(Hf,ED),Le(!1)}catch(le){console.error("Login failed:",le),vt.error("Login failed")}},Z=async()=>{await d0(Hf),window.location.reload()},k=async()=>{if(!d)return;E(!0),Le(!1);const le=vt.loading("Backing up...");try{const _e=await nr.vocab.toArray();await TD(d.uid,_e),vt.success("Backup complete!",{id:le})}catch(_e){console.error(_e),vt.error("Backup failed",{id:le})}finally{E(!1)}},Bt=async()=>{d&&M("Overwrite Warning","Are you sure you want to overwrite local data with cloud backup? This action cannot be undone.",async()=>{E(!0),Le(!1);const le=vt.loading("Restoring...");try{const _e=await wD(d.uid);_e?(await nr.vocab.clear(),await nr.vocab.bulkAdd(_e),vt.success("Restore complete! Reloading...",{id:le}),setTimeout(()=>window.location.reload(),1500)):vt("No backup found.",{id:le,icon:""})}catch(_e){console.error(_e),vt.error("Restore failed",{id:le})}finally{E(!1)}})};if(n)return W.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1b1e",color:"#fff"},children:"Loading..."});const Kt=i[o];return W.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"1rem",minHeight:"100vh",backgroundColor:"#1a1b1e",color:"#ffffff",fontFamily:"sans-serif",display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"center",position:"relative"},children:[W.jsx(lA,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"}}}),W.jsx(SD,{isOpen:$e.isOpen,onClose:()=>V(le=>({...le,isOpen:!1})),onConfirm:$e.onConfirm,title:$e.title,message:$e.message}),W.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",padding:"0.5rem",borderBottom:"1px solid #333",position:"relative"},children:[W.jsxs("div",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px"},children:["GPF",W.jsx("button",{onClick:()=>$(!0),style:CD,title:"Settings",children:""})]}),W.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[W.jsx("button",{onClick:()=>me(!0),style:{...sc,backgroundColor:"#2196f3"},children:"+ Add"}),W.jsx("button",{onClick:()=>x(!0),style:{...sc,backgroundColor:"#e91e63"},children:"Import"}),W.jsx("button",{onClick:()=>Le(!Be),style:{...sc,backgroundColor:"#333",padding:"0.5rem 0.8rem",fontSize:"1.1rem"},children:""}),Be&&W.jsxs(W.Fragment,{children:[W.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>Le(!1)}),W.jsxs("div",{style:ys.container,children:[W.jsx("button",{onClick:()=>{ke(!0),Le(!1)},style:ys.item,children:" Manage Cards"}),W.jsx("button",{onClick:()=>{Nt(!0),Le(!1)},style:ys.item,children:" AI Smart Review"}),W.jsx("div",{style:ys.divider}),d?W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:k,disabled:_,style:ys.item,children:" Backup Data"}),W.jsx("button",{onClick:Bt,disabled:_,style:ys.item,children:" Restore Data"}),W.jsx("div",{style:ys.divider}),W.jsx("div",{style:ys.userEmail,children:d.email}),W.jsx("button",{onClick:Z,style:{...ys.item,color:"#ff6b6b"},children:"Logout"})]}):W.jsx("button",{onClick:q,style:{...ys.item,color:"#4285F4"},children:"Login with Google"})]})]})]})]}),W.jsxs("header",{style:{marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:[W.jsx("h1",{style:{fontSize:"1.5rem",margin:"0 0 0.3rem 0"},children:"Gemini Flashcards"}),W.jsx("p",{style:{color:"#888",margin:0,fontSize:"0.9rem"},children:i.length>0?`Progress: ${o} / ${i.length}`:"No cards due"})]}),W.jsx("main",{style:{width:"100%",flex:1,display:"flex",flexDirection:"column"},children:Kt?W.jsx(BS,{card:Kt,onUpdate:Y},Kt.id):W.jsxs("div",{style:{textAlign:"center",padding:"3rem",border:"1px dashed #555",borderRadius:"8px"},children:[W.jsx("h2",{children:" All caught up!"}),W.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer"},children:"Refresh"})]})}),W.jsx(uA,{isOpen:R,onClose:()=>x(!1),onSuccess:P}),W.jsx(cA,{isOpen:D,onClose:()=>$(!1)}),W.jsx(fA,{isOpen:ne,onClose:()=>me(!1),onSuccess:P}),W.jsx(hA,{isOpen:Ee,onClose:()=>{ke(!1),P()}}),W.jsx(dA,{isOpen:ct,onClose:()=>Nt(!1)})]})}const sc={padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"6px",border:"none",cursor:"pointer",color:"white",whiteSpace:"nowrap",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.3rem",transition:"opacity 0.2s"},CD={background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},ys={container:{position:"absolute",top:"3.5rem",right:"0.5rem",backgroundColor:"#25262b",border:"1px solid #444",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",zIndex:100,display:"flex",flexDirection:"column",minWidth:"180px",padding:"0.5rem"},item:{background:"none",border:"none",color:"#e0e0e0",padding:"0.8rem 1rem",textAlign:"left",cursor:"pointer",borderRadius:"4px",fontSize:"0.95rem",transition:"background 0.2s"},divider:{height:"1px",backgroundColor:"#444",margin:"0.5rem 0"},userEmail:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"#888",borderBottom:"1px solid #333",marginBottom:"0.5rem"}},_b={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},content:{backgroundColor:"#25262b",padding:"2rem",borderRadius:"12px",maxWidth:"400px",width:"90%",border:"1px solid #444",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"}};xS.createRoot(document.getElementById("root")).render(W.jsx(ES.StrictMode,{children:W.jsx(AD,{})}));
