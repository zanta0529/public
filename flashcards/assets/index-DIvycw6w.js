(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lm(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Xd={exports:{}},wl={};var N_;function $b(){if(N_)return wl;N_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,u,h){var p=null;if(h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),"key"in u){h={};for(var E in u)E!=="key"&&(h[E]=u[E])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:p,ref:u!==void 0?u:null,props:h}}return wl.Fragment=t,wl.jsx=r,wl.jsxs=r,wl}var M_;function Wb(){return M_||(M_=1,Xd.exports=$b()),Xd.exports}var fe=Wb(),Zd={exports:{}},te={};var V_;function tS(){if(V_)return te;V_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Z=Symbol.iterator;function ht(H){return H===null||typeof H!="object"?null:(H=Z&&H[Z]||H["@@iterator"],typeof H=="function"?H:null)}var St={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ct=Object.assign,yt={};function kt(H,ft,wt){this.props=H,this.context=ft,this.refs=yt,this.updater=wt||St}kt.prototype.isReactComponent={},kt.prototype.setState=function(H,ft){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ft,"setState")},kt.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function Gt(){}Gt.prototype=kt.prototype;function qt(H,ft,wt){this.props=H,this.context=ft,this.refs=yt,this.updater=wt||St}var de=qt.prototype=new Gt;de.constructor=qt,Ct(de,kt.prototype),de.isPureReactComponent=!0;var Le=Array.isArray;function ne(){}var x={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(H,ft,wt){var Vt=wt.ref;return{$$typeof:a,type:H,key:ft,ref:Vt!==void 0?Vt:null,props:wt}}function G(H,ft){return P(H.type,ft,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===a}function $(H){var ft={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(wt){return ft[wt]})}var V=/\/+/g;function He(H,ft){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):ft.toString(36)}function $e(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ne,ne):(H.status="pending",H.then(function(ft){H.status==="pending"&&(H.status="fulfilled",H.value=ft)},function(ft){H.status==="pending"&&(H.status="rejected",H.reason=ft)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ut(H,ft,wt,Vt,Ft){var Yt=typeof H;(Yt==="undefined"||Yt==="boolean")&&(H=null);var ce=!1;if(H===null)ce=!0;else switch(Yt){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(H.$$typeof){case a:case t:ce=!0;break;case D:return ce=H._init,ut(ce(H._payload),ft,wt,Vt,Ft)}}if(ce)return Ft=Ft(H),ce=Vt===""?"."+He(H,0):Vt,Le(Ft)?(wt="",ce!=null&&(wt=ce.replace(V,"$&/")+"/"),ut(Ft,ft,wt,"",function(Gi){return Gi})):Ft!=null&&(j(Ft)&&(Ft=G(Ft,wt+(Ft.key==null||H&&H.key===Ft.key?"":(""+Ft.key).replace(V,"$&/")+"/")+ce)),ft.push(Ft)),1;ce=0;var dn=Vt===""?".":Vt+":";if(Le(H))for(var Ot=0;Ot<H.length;Ot++)Vt=H[Ot],Yt=dn+He(Vt,Ot),ce+=ut(Vt,ft,wt,Yt,Ft);else if(Ot=ht(H),typeof Ot=="function")for(H=Ot.call(H),Ot=0;!(Vt=H.next()).done;)Vt=Vt.value,Yt=dn+He(Vt,Ot++),ce+=ut(Vt,ft,wt,Yt,Ft);else if(Yt==="object"){if(typeof H.then=="function")return ut($e(H),ft,wt,Vt,Ft);throw ft=String(H),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Nt(H,ft,wt){if(H==null)return H;var Vt=[],Ft=0;return ut(H,Vt,"","",function(Yt){return ft.call(wt,Yt,Ft++)}),Vt}function Ut(H){if(H._status===-1){var ft=H._result;ft=ft(),ft.then(function(wt){(H._status===0||H._status===-1)&&(H._status=1,H._result=wt)},function(wt){(H._status===0||H._status===-1)&&(H._status=2,H._result=wt)}),H._status===-1&&(H._status=0,H._result=ft)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ue={map:Nt,forEach:function(H,ft,wt){Nt(H,function(){ft.apply(this,arguments)},wt)},count:function(H){var ft=0;return Nt(H,function(){ft++}),ft},toArray:function(H){return Nt(H,function(ft){return ft})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return te.Activity=O,te.Children=ue,te.Component=kt,te.Fragment=r,te.Profiler=u,te.PureComponent=qt,te.StrictMode=s,te.Suspense=b,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,te.__COMPILER_RUNTIME={__proto__:null,c:function(H){return x.H.useMemoCache(H)}},te.cache=function(H){return function(){return H.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(H,ft,wt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Vt=Ct({},H.props),Ft=H.key;if(ft!=null)for(Yt in ft.key!==void 0&&(Ft=""+ft.key),ft)!M.call(ft,Yt)||Yt==="key"||Yt==="__self"||Yt==="__source"||Yt==="ref"&&ft.ref===void 0||(Vt[Yt]=ft[Yt]);var Yt=arguments.length-2;if(Yt===1)Vt.children=wt;else if(1<Yt){for(var ce=Array(Yt),dn=0;dn<Yt;dn++)ce[dn]=arguments[dn+2];Vt.children=ce}return P(H.type,Ft,Vt)},te.createContext=function(H){return H={$$typeof:p,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:h,_context:H},H},te.createElement=function(H,ft,wt){var Vt,Ft={},Yt=null;if(ft!=null)for(Vt in ft.key!==void 0&&(Yt=""+ft.key),ft)M.call(ft,Vt)&&Vt!=="key"&&Vt!=="__self"&&Vt!=="__source"&&(Ft[Vt]=ft[Vt]);var ce=arguments.length-2;if(ce===1)Ft.children=wt;else if(1<ce){for(var dn=Array(ce),Ot=0;Ot<ce;Ot++)dn[Ot]=arguments[Ot+2];Ft.children=dn}if(H&&H.defaultProps)for(Vt in ce=H.defaultProps,ce)Ft[Vt]===void 0&&(Ft[Vt]=ce[Vt]);return P(H,Yt,Ft)},te.createRef=function(){return{current:null}},te.forwardRef=function(H){return{$$typeof:E,render:H}},te.isValidElement=j,te.lazy=function(H){return{$$typeof:D,_payload:{_status:-1,_result:H},_init:Ut}},te.memo=function(H,ft){return{$$typeof:S,type:H,compare:ft===void 0?null:ft}},te.startTransition=function(H){var ft=x.T,wt={};x.T=wt;try{var Vt=H(),Ft=x.S;Ft!==null&&Ft(wt,Vt),typeof Vt=="object"&&Vt!==null&&typeof Vt.then=="function"&&Vt.then(ne,oe)}catch(Yt){oe(Yt)}finally{ft!==null&&wt.types!==null&&(ft.types=wt.types),x.T=ft}},te.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},te.use=function(H){return x.H.use(H)},te.useActionState=function(H,ft,wt){return x.H.useActionState(H,ft,wt)},te.useCallback=function(H,ft){return x.H.useCallback(H,ft)},te.useContext=function(H){return x.H.useContext(H)},te.useDebugValue=function(){},te.useDeferredValue=function(H,ft){return x.H.useDeferredValue(H,ft)},te.useEffect=function(H,ft){return x.H.useEffect(H,ft)},te.useEffectEvent=function(H){return x.H.useEffectEvent(H)},te.useId=function(){return x.H.useId()},te.useImperativeHandle=function(H,ft,wt){return x.H.useImperativeHandle(H,ft,wt)},te.useInsertionEffect=function(H,ft){return x.H.useInsertionEffect(H,ft)},te.useLayoutEffect=function(H,ft){return x.H.useLayoutEffect(H,ft)},te.useMemo=function(H,ft){return x.H.useMemo(H,ft)},te.useOptimistic=function(H,ft){return x.H.useOptimistic(H,ft)},te.useReducer=function(H,ft,wt){return x.H.useReducer(H,ft,wt)},te.useRef=function(H){return x.H.useRef(H)},te.useState=function(H){return x.H.useState(H)},te.useSyncExternalStore=function(H,ft,wt){return x.H.useSyncExternalStore(H,ft,wt)},te.useTransition=function(){return x.H.useTransition()},te.version="19.2.0",te}var x_;function zm(){return x_||(x_=1,Zd.exports=tS()),Zd.exports}var Ks=zm();const eS=Lm(Ks);var Jd={exports:{}},Rl={},$d={exports:{}},Wd={};var k_;function nS(){return k_||(k_=1,(function(a){function t(ut,Nt){var Ut=ut.length;ut.push(Nt);t:for(;0<Ut;){var oe=Ut-1>>>1,ue=ut[oe];if(0<u(ue,Nt))ut[oe]=Nt,ut[Ut]=ue,Ut=oe;else break t}}function r(ut){return ut.length===0?null:ut[0]}function s(ut){if(ut.length===0)return null;var Nt=ut[0],Ut=ut.pop();if(Ut!==Nt){ut[0]=Ut;t:for(var oe=0,ue=ut.length,H=ue>>>1;oe<H;){var ft=2*(oe+1)-1,wt=ut[ft],Vt=ft+1,Ft=ut[Vt];if(0>u(wt,Ut))Vt<ue&&0>u(Ft,wt)?(ut[oe]=Ft,ut[Vt]=Ut,oe=Vt):(ut[oe]=wt,ut[ft]=Ut,oe=ft);else if(Vt<ue&&0>u(Ft,Ut))ut[oe]=Ft,ut[Vt]=Ut,oe=Vt;else break t}}return Nt}function u(ut,Nt){var Ut=ut.sortIndex-Nt.sortIndex;return Ut!==0?Ut:ut.id-Nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var p=Date,E=p.now();a.unstable_now=function(){return p.now()-E}}var b=[],S=[],D=1,O=null,Z=3,ht=!1,St=!1,Ct=!1,yt=!1,kt=typeof setTimeout=="function"?setTimeout:null,Gt=typeof clearTimeout=="function"?clearTimeout:null,qt=typeof setImmediate<"u"?setImmediate:null;function de(ut){for(var Nt=r(S);Nt!==null;){if(Nt.callback===null)s(S);else if(Nt.startTime<=ut)s(S),Nt.sortIndex=Nt.expirationTime,t(b,Nt);else break;Nt=r(S)}}function Le(ut){if(Ct=!1,de(ut),!St)if(r(b)!==null)St=!0,ne||(ne=!0,$());else{var Nt=r(S);Nt!==null&&$e(Le,Nt.startTime-ut)}}var ne=!1,x=-1,M=5,P=-1;function G(){return yt?!0:!(a.unstable_now()-P<M)}function j(){if(yt=!1,ne){var ut=a.unstable_now();P=ut;var Nt=!0;try{t:{St=!1,Ct&&(Ct=!1,Gt(x),x=-1),ht=!0;var Ut=Z;try{e:{for(de(ut),O=r(b);O!==null&&!(O.expirationTime>ut&&G());){var oe=O.callback;if(typeof oe=="function"){O.callback=null,Z=O.priorityLevel;var ue=oe(O.expirationTime<=ut);if(ut=a.unstable_now(),typeof ue=="function"){O.callback=ue,de(ut),Nt=!0;break e}O===r(b)&&s(b),de(ut)}else s(b);O=r(b)}if(O!==null)Nt=!0;else{var H=r(S);H!==null&&$e(Le,H.startTime-ut),Nt=!1}}break t}finally{O=null,Z=Ut,ht=!1}Nt=void 0}}finally{Nt?$():ne=!1}}}var $;if(typeof qt=="function")$=function(){qt(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,He=V.port2;V.port1.onmessage=j,$=function(){He.postMessage(null)}}else $=function(){kt(j,0)};function $e(ut,Nt){x=kt(function(){ut(a.unstable_now())},Nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ut){ut.callback=null},a.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ut?Math.floor(1e3/ut):5},a.unstable_getCurrentPriorityLevel=function(){return Z},a.unstable_next=function(ut){switch(Z){case 1:case 2:case 3:var Nt=3;break;default:Nt=Z}var Ut=Z;Z=Nt;try{return ut()}finally{Z=Ut}},a.unstable_requestPaint=function(){yt=!0},a.unstable_runWithPriority=function(ut,Nt){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var Ut=Z;Z=ut;try{return Nt()}finally{Z=Ut}},a.unstable_scheduleCallback=function(ut,Nt,Ut){var oe=a.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?oe+Ut:oe):Ut=oe,ut){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Ut+ue,ut={id:D++,callback:Nt,priorityLevel:ut,startTime:Ut,expirationTime:ue,sortIndex:-1},Ut>oe?(ut.sortIndex=Ut,t(S,ut),r(b)===null&&ut===r(S)&&(Ct?(Gt(x),x=-1):Ct=!0,$e(Le,Ut-oe))):(ut.sortIndex=ue,t(b,ut),St||ht||(St=!0,ne||(ne=!0,$()))),ut},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(ut){var Nt=Z;return function(){var Ut=Z;Z=Nt;try{return ut.apply(this,arguments)}finally{Z=Ut}}}})(Wd)),Wd}var P_;function rS(){return P_||(P_=1,$d.exports=nS()),$d.exports}var tm={exports:{}},sr={};var U_;function iS(){if(U_)return sr;U_=1;var a=zm();function t(b){var S="https://react.dev/errors/"+b;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)S+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+b+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(b,S,D){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:b,containerInfo:S,implementation:D}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(b,S){if(b==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sr.createPortal=function(b,S){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(t(299));return h(b,S,null,D)},sr.flushSync=function(b){var S=p.T,D=s.p;try{if(p.T=null,s.p=2,b)return b()}finally{p.T=S,s.p=D,s.d.f()}},sr.preconnect=function(b,S){typeof b=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,s.d.C(b,S))},sr.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},sr.preinit=function(b,S){if(typeof b=="string"&&S&&typeof S.as=="string"){var D=S.as,O=E(D,S.crossOrigin),Z=typeof S.integrity=="string"?S.integrity:void 0,ht=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;D==="style"?s.d.S(b,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:O,integrity:Z,fetchPriority:ht}):D==="script"&&s.d.X(b,{crossOrigin:O,integrity:Z,fetchPriority:ht,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},sr.preinitModule=function(b,S){if(typeof b=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var D=E(S.as,S.crossOrigin);s.d.M(b,{crossOrigin:D,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&s.d.M(b)},sr.preload=function(b,S){if(typeof b=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var D=S.as,O=E(D,S.crossOrigin);s.d.L(b,D,{crossOrigin:O,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},sr.preloadModule=function(b,S){if(typeof b=="string")if(S){var D=E(S.as,S.crossOrigin);s.d.m(b,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:D,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else s.d.m(b)},sr.requestFormReset=function(b){s.d.r(b)},sr.unstable_batchedUpdates=function(b,S){return b(S)},sr.useFormState=function(b,S,D){return p.H.useFormState(b,S,D)},sr.useFormStatus=function(){return p.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var L_;function sS(){if(L_)return tm.exports;L_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),tm.exports=iS(),tm.exports}var z_;function aS(){if(z_)return Rl;z_=1;var a=rS(),t=zm(),r=sS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function E(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function b(e){if(h(e)!==e)throw Error(s(188))}function S(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return b(f),e;if(m===o)return b(f),n;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=f,o=m;else{for(var v=!1,R=f.child;R;){if(R===i){v=!0,i=f,o=m;break}if(R===o){v=!0,o=f,i=m;break}R=R.sibling}if(!v){for(R=m.child;R;){if(R===i){v=!0,i=m,o=f;break}if(R===o){v=!0,o=m,i=f;break}R=R.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function D(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=D(e),n!==null)return n;e=e.sibling}return null}var O=Object.assign,Z=Symbol.for("react.element"),ht=Symbol.for("react.transitional.element"),St=Symbol.for("react.portal"),Ct=Symbol.for("react.fragment"),yt=Symbol.for("react.strict_mode"),kt=Symbol.for("react.profiler"),Gt=Symbol.for("react.consumer"),qt=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ct:return"Fragment";case kt:return"Profiler";case yt:return"StrictMode";case Le:return"Suspense";case ne:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case St:return"Portal";case qt:return e.displayName||"Context";case Gt:return(e._context.displayName||"Context")+".Consumer";case de:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var $e=Array.isArray,ut=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ut={pending:!1,data:null,method:null,action:null},oe=[],ue=-1;function H(e){return{current:e}}function ft(e){0>ue||(e.current=oe[ue],oe[ue]=null,ue--)}function wt(e,n){ue++,oe[ue]=e.current,e.current=n}var Vt=H(null),Ft=H(null),Yt=H(null),ce=H(null);function dn(e,n){switch(wt(Yt,n),wt(Ft,e),wt(Vt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ft(Vt),wt(Vt,e)}function Ot(){ft(Vt),ft(Ft),ft(Yt)}function Gi(e){e.memoizedState!==null&&wt(ce,e);var n=Vt.current,i=e_(n,e.type);n!==i&&(wt(Ft,e),wt(Vt,i))}function Oi(e){Ft.current===e&&(ft(Vt),ft(Ft)),ce.current===e&&(ft(ce),Tl._currentValue=Ut)}var be,ai;function oi(e){if(be===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",ai=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+ai}var Lr=!1;function gs(e,n){if(!e||Lr)return"";Lr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var it=at}Reflect.construct(e,[],mt)}else{try{mt.call()}catch(at){it=at}e.call(mt.prototype)}}else{try{throw Error()}catch(at){it=at}(mt=e())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],R=m[1];if(v&&R){var k=v.split(`
`),nt=R.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<nt.length&&!nt[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===nt.length)for(o=k.length-1,f=nt.length-1;1<=o&&0<=f&&k[o]!==nt[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==nt[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==nt[f]){var lt=`
`+k[o].replace(" at new "," at ");return e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",e.displayName)),lt}while(1<=o&&0<=f);break}}}finally{Lr=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?oi(i):""}function ro(e,n){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==n&&n!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return gs(e.type,!1);case 11:return gs(e.type.render,!1);case 1:return gs(e.type,!0);case 31:return oi("Activity");default:return""}}function io(e){try{var n="",i=null;do n+=ro(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ln=Object.prototype.hasOwnProperty,We=a.unstable_scheduleCallback,Mn=a.unstable_cancelCallback,qo=a.unstable_shouldYield,Qi=a.unstable_requestPaint,Un=a.unstable_now,zr=a.unstable_getCurrentPriorityLevel,Br=a.unstable_ImmediatePriority,jr=a.unstable_UserBlockingPriority,ui=a.unstable_NormalPriority,ys=a.unstable_LowPriority,ea=a.unstable_IdlePriority,_s=a.log,li=a.unstable_setDisableYieldValue,tr=null,mn=null;function pn(e){if(typeof _s=="function"&&li(e),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(tr,e)}catch{}}var Dt=Math.clz32?Math.clz32:vs,Yi=Math.log,gr=Math.LN2;function vs(e){return e>>>=0,e===0?32:31-(Yi(e)/gr|0)|0}var At=256,Ni=262144,tn=4194304;function yr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qr(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var f=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var R=o&134217727;return R!==0?(o=R&~m,o!==0?f=yr(o):(v&=R,v!==0?f=yr(v):i||(i=R&~e,i!==0&&(f=yr(i))))):(R=o&~m,R!==0?f=yr(R):v!==0?f=yr(v):i||(i=o&~e,i!==0&&(f=yr(i)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:f}function cr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var e=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),e}function Kn(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function so(e,n,i,o,f,m){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var R=e.entanglements,k=e.expirationTimes,nt=e.hiddenUpdates;for(i=v&~i;0<i;){var lt=31-Dt(i),mt=1<<lt;R[lt]=0,k[lt]=-1;var it=nt[lt];if(it!==null)for(nt[lt]=null,lt=0;lt<it.length;lt++){var at=it[lt];at!==null&&(at.lane&=-536870913)}i&=~mt}o!==0&&ci(e,o,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~n))}function ci(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Dt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Ne(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Dt(i),f=1<<o;f&n|e[o]&n&&(e[o]|=n),i&=~f}}function Xe(e,n){var i=n&-n;return i=(i&42)!==0?1:Es(i),(i&(e.suspendedLanes|n))!==0?0:i}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ts(){var e=Nt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function er(e,n){var i=Nt.p;try{return Nt.p=e,n()}finally{Nt.p=i}}var Hr=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Hr,Fe="__reactProps$"+Hr,Vn="__reactContainer$"+Hr,Mi="__reactEvents$"+Hr,Hu="__reactListeners$"+Hr,Fr="__reactHandles$"+Hr,ao="__reactResources$"+Hr,Ln="__reactMarker$"+Hr;function bs(e){delete e[Ve],delete e[Fe],delete e[Mi],delete e[Hu],delete e[Fr]}function Er(e){var n=e[Ve];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vn]||i[Ve]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=u_(e);e!==null;){if(i=e[Ve])return i;e=u_(e)}return n}e=i,i=e.parentNode}return null}function we(e){if(e=e[Ve]||e[Vn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function bn(e){var n=e[ao];return n||(n=e[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[Ln]=!0}var hi=new Set,Xi={};function Tr(e,n){br(e,n),br(e+"Capture",n)}function br(e,n){for(Xi[e]=n,e=0;e<n.length;e++)hi.add(n[e])}var Kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},Zi={};function oo(e){return ln.call(Zi,e)?!0:ln.call(na,e)?!1:Kr.test(e)?Zi[e]=!0:(na[e]=!0,!1)}function re(e,n,i){if(oo(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function nr(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function nn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ra(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,m.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ce(e){if(!e._valueTracker){var n=Sr(e)?"checked":"value";e._valueTracker=ra(e,n,""+e[n])}}function Ji(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Sr(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gr=/[\n"\\]/g;function Sn(e){return e.replace(Gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qr(e,n,i,o,f,m,v,R){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ss(e,v,rn(n)):i!=null?Ss(e,v,rn(i)):o!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+rn(R):e.removeAttribute("name")}function ia(e,n,i,o,f,m,v,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Ce(e);return}i=i!=null?""+rn(i):"",n=n!=null?""+rn(n):i,R||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=R?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Ce(e)}function Ss(e,n,i){n==="number"&&me(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Yr(e,n,i,o){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&o&&(e[i].defaultSelected=!0)}else{for(i=""+rn(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function uo(e,n,i){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+rn(i):""}function Xr(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if($e(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=rn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Ce(e)}function Gn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function he(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Fo.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function sa(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&i[f]!==o&&he(e,f,o)}else for(var m in n)n.hasOwnProperty(m)&&he(e,m,n[m])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return cn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rr(){}var Ar=null;function hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,xe=null;function zn(e){var n=we(e);if(n&&(e=n.stateNode)){var i=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Qr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var f=o[Fe]||null;if(!f)throw Error(s(90));Qr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ji(o)}break t;case"textarea":uo(e,i.value,i.defaultValue);break t;case"select":n=i.value,n!=null&&Yr(e,!!i.multiple,n,!1)}}}var fi=!1;function wr(e,n,i){if(fi)return e(n,i);fi=!0;try{var o=e(n);return o}finally{if(fi=!1,(Vi!==null||xe!==null)&&(Lc(),Vi&&(n=Vi,e=xe,xe=Vi=null,zn(n),e)))for(n=0;n<e.length;n++)zn(e[n])}}function fr(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Fe]||null;if(o===null)return null;i=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(yn)try{var le={};Object.defineProperty(le,"passive",{get:function(){As=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{As=!1}var Rr=null,oa=null,xi=null;function ki(){if(xi)return xi;var e,n=oa,i=n.length,o,f="value"in Rr?Rr.value:Rr.textContent,m=f.length;for(e=0;e<i&&n[e]===f[e];e++);var v=i-e;for(o=1;o<=v&&n[i-o]===f[m-o];o++);return xi=f.slice(e,1<o?1-o:void 0)}function Pi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Jr(){return!1}function sn(e){function n(i,o,f,m,v){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?di:Jr,this.isPropagationStopped=Jr,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=sn(Ui),$r=O({},Ui,{view:0,detail:0}),$i=sn($r),pi,ua,gi,la=O({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(pi=e.screenX-gi.screenX,ua=e.screenY-gi.screenY):ua=pi=0,gi=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),ws=sn(la),Li=O({},la,{dataTransfer:0}),lo=sn(Li),Rs=O({},$r,{relatedTarget:0}),yi=sn(Rs),Wi=O({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),co=sn(Wi),ca=O({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zi=sn(ca),ha=O({},Ui,{data:0}),Cr=sn(ha),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ts(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_n[e])?!!n[e]:!1}function Ir(){return ts}var Bn=O({},$r,{key:function(e){if(e.key){var n=fa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?da[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cs=sn(Bn),ho=O({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_i=sn(ho),l=O({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),y=sn(l),T=O({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=sn(T),W=O({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),st=sn(W),Tt=O({},Ui,{newState:0,oldState:0}),$t=sn(Tt),an=[9,13,27,32],Se=yn&&"CompositionEvent"in window,ke=null;yn&&"documentMode"in document&&(ke=document.documentMode);var Dr=yn&&"TextEvent"in window&&!ke,Or=yn&&(!Se||ke&&8<ke&&11>=ke),dr=" ",Wr=!1;function es(e,n){switch(e){case"keyup":return an.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function ic(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Wr=!0,dr);case"textInput":return e=n.data,e===dr&&Wr?null:e;default:return null}}function lf(e,n){if(Is)return e==="compositionend"||!Se&&es(e,n)?(e=ki(),xi=oa=Rr=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Or&&n.locale!=="ko"?null:n.data;default:return null}}var sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sc[e.type]:n==="textarea"}function Fu(e,n,i,o){Vi?xe?xe.push(o):xe=[o]:Vi=o,n=Kc(n,"onChange"),0<n.length&&(i=new mi("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var pa=null,fo=null;function cf(e){Yy(e,0)}function Qo(e){var n=gn(e);if(Ji(n))return e}function mo(e,n){if(e==="change")return n}var vi=!1;if(yn){var Ke;if(yn){var ga="oninput"in document;if(!ga){var mr=document.createElement("div");mr.setAttribute("oninput","return;"),ga=typeof mr.oninput=="function"}Ke=ga}else Ke=!1;vi=Ke&&(!document.documentMode||9<document.documentMode)}function ac(){pa&&(pa.detachEvent("onpropertychange",Yo),fo=pa=null)}function Yo(e){if(e.propertyName==="value"&&Qo(fo)){var n=[];Fu(n,fo,e,hr(e)),wr(cf,n)}}function oc(e,n,i){e==="focusin"?(ac(),pa=n,fo=i,pa.attachEvent("onpropertychange",Yo)):e==="focusout"&&ac()}function Ds(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(fo)}function Ku(e,n){if(e==="click")return Qo(n)}function ya(e,n){if(e==="input"||e==="change")return Qo(n)}function ns(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ir=typeof Object.is=="function"?Object.is:ns;function c(e,n){if(ir(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!ln.call(n,f)||!ir(e[f],n[f]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var i=d(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=d(i)}}function _(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function A(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=me(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=me(e.document)}return n}function w(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I=yn&&"documentMode"in document&&11>=document.documentMode,N=null,L=null,z=null,Q=!1;function U(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Q||N==null||N!==me(o)||(o=N,"selectionStart"in o&&w(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),z&&c(z,o)||(z=o,o=Kc(L,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=N)))}function X(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var B={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionrun:X("Transition","TransitionRun"),transitionstart:X("Transition","TransitionStart"),transitioncancel:X("Transition","TransitionCancel"),transitionend:X("Transition","TransitionEnd")},F={},K={};yn&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Y(e){if(F[e])return F[e];if(!B[e])return e;var n=B[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in K)return F[e]=n[i];return e}var tt=Y("animationend"),rt=Y("animationiteration"),ot=Y("animationstart"),dt=Y("transitionrun"),Et=Y("transitionstart"),It=Y("transitioncancel"),_t=Y("transitionend"),bt=new Map,Rt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rt.push("scrollEnd");function vt(e,n){bt.set(e,n),Tr(n,[e])}var Mt=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Zt=0,ie=0;function jn(){for(var e=Zt,n=ie=Zt=0;n<e;){var i=Bt[n];Bt[n++]=null;var o=Bt[n];Bt[n++]=null;var f=Bt[n];Bt[n++]=null;var m=Bt[n];if(Bt[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}m!==0&&po(i,f,m)}}function Xt(e,n,i,o){Bt[Zt++]=e,Bt[Zt++]=n,Bt[Zt++]=i,Bt[Zt++]=o,ie|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function An(e,n,i,o){return Xt(e,n,i,o),wn(e)}function Ze(e,n){return Xt(e,null,null,n),wn(e)}function po(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var f=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Dt(i),e=m.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=i|536870912),m):null}function wn(e){if(50<ml)throw ml=0,vd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Nr={};function Gu(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,n,i,o){return new Gu(e,n,i,o)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Os(e,n){var i=e.alternate;return i===null?(i=ti(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Op(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uc(e,n,i,o,f,m){var v=0;if(o=e,typeof e=="function")hf(e)&&(v=1);else if(typeof e=="string")v=zb(e,i,Vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=ti(31,i,n,f),e.elementType=P,e.lanes=m,e;case Ct:return go(i.children,f,m,n);case yt:v=8,f|=24;break;case kt:return e=ti(12,i,n,f|2),e.elementType=kt,e.lanes=m,e;case Le:return e=ti(13,i,n,f),e.elementType=Le,e.lanes=m,e;case ne:return e=ti(19,i,n,f),e.elementType=ne,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qt:v=10;break t;case Gt:v=9;break t;case de:v=11;break t;case x:v=14;break t;case M:v=16,o=null;break t}v=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ti(v,i,n,f),n.elementType=e,n.type=o,n.lanes=m,n}function go(e,n,i,o){return e=ti(7,e,o,n),e.lanes=i,e}function ff(e,n,i){return e=ti(6,e,null,n),e.lanes=i,e}function Np(e){var n=ti(18,null,null,0);return n.stateNode=e,n}function df(e,n,i){return n=ti(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mp=new WeakMap;function Ei(e,n){if(typeof e=="object"&&e!==null){var i=Mp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:io(n)},Mp.set(e,n),n)}return{value:e,source:n,stack:io(n)}}var Xo=[],Zo=0,lc=null,Qu=0,Ti=[],bi=0,_a=null,rs=1,is="";function Ns(e,n){Xo[Zo++]=Qu,Xo[Zo++]=lc,lc=e,Qu=n}function Vp(e,n,i){Ti[bi++]=rs,Ti[bi++]=is,Ti[bi++]=_a,_a=e;var o=rs;e=is;var f=32-Dt(o)-1;o&=~(1<<f),i+=1;var m=32-Dt(n)+f;if(30<m){var v=f-f%5;m=(o&(1<<v)-1).toString(32),o>>=v,f-=v,rs=1<<32-Dt(n)+f|i<<f|o,is=m+e}else rs=1<<m|i<<f|o,is=e}function mf(e){e.return!==null&&(Ns(e,1),Vp(e,1,0))}function pf(e){for(;e===lc;)lc=Xo[--Zo],Xo[Zo]=null,Qu=Xo[--Zo],Xo[Zo]=null;for(;e===_a;)_a=Ti[--bi],Ti[bi]=null,is=Ti[--bi],Ti[bi]=null,rs=Ti[--bi],Ti[bi]=null}function xp(e,n){Ti[bi++]=rs,Ti[bi++]=is,Ti[bi++]=_a,rs=n.id,is=n.overflow,_a=e}var Qn=null,Ge=null,Ae=!1,va=null,Si=!1,gf=Error(s(519));function Ea(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yu(Ei(n,e)),gf}function kp(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Ve]=e,n[Fe]=o,i){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(i=0;i<gl.length;i++)ge(gl[i],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),ia(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),Xr(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||$y(n.textContent,i)?(o.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),o.onScroll!=null&&ge("scroll",n),o.onScrollEnd!=null&&ge("scrollend",n),o.onClick!=null&&(n.onclick=rr),n=!0):n=!1,n||Ea(e,!0)}function Pp(e){for(Qn=e.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Qn=Qn.return}}function Jo(e){if(e!==Qn)return!1;if(!Ae)return Pp(e),Ae=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||xd(e.type,e.memoizedProps)),i=!i),i&&Ge&&Ea(e),Pp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=o_(e)}else n===27?(n=Ge,xa(e.type)?(e=zd,zd=null,Ge=e):Ge=n):Ge=Qn?wi(e.stateNode.nextSibling):null;return!0}function yo(){Ge=Qn=null,Ae=!1}function yf(){var e=va;return e!==null&&(kr===null?kr=e:kr.push.apply(kr,e),va=null),e}function Yu(e){va===null?va=[e]:va.push(e)}var _f=H(null),_o=null,Ms=null;function Ta(e,n,i){wt(_f,n._currentValue),n._currentValue=i}function Vs(e){e._currentValue=_f.current,ft(_f)}function vf(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Ef(e,n,i,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var R=m;m=f;for(var k=0;k<n.length;k++)if(R.context===n[k]){m.lanes|=i,R=m.alternate,R!==null&&(R.lanes|=i),vf(m.return,i,e),o||(v=null);break t}m=R.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=i,m=v.alternate,m!==null&&(m.lanes|=i),vf(v,i,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function $o(e,n,i,o){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var R=f.type;ir(f.pendingProps.value,v.value)||(e!==null?e.push(R):e=[R])}}else if(f===ce.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}f=f.return}e!==null&&Ef(n,e,i,o),n.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!ir(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vo(e){_o=e,Ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yn(e){return Up(_o,e)}function hc(e,n){return _o===null&&vo(e),Up(e,n)}function Up(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Ms===null){if(e===null)throw Error(s(308));Ms=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ms=Ms.next=n;return i}var kT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},PT=a.unstable_scheduleCallback,UT=a.unstable_NormalPriority,Rn={$$typeof:qt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new kT,data:new Map,refCount:0}}function Xu(e){e.refCount--,e.refCount===0&&PT(UT,function(){e.controller.abort()})}var Zu=null,bf=0,Wo=0,tu=null;function LT(e,n){if(Zu===null){var i=Zu=[];bf=0,Wo=wd(),tu={status:"pending",value:void 0,then:function(o){i.push(o)}}}return bf++,n.then(Lp,Lp),n}function Lp(){if(--bf===0&&Zu!==null){tu!==null&&(tu.status="fulfilled");var e=Zu;Zu=null,Wo=0,tu=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zT(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var zp=ut.S;ut.S=function(e,n){by=Un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LT(e,n),zp!==null&&zp(e,n)};var Eo=H(null);function Sf(){var e=Eo.current;return e!==null?e:qe.pooledCache}function fc(e,n){n===null?wt(Eo,Eo.current):wt(Eo,n.pool)}function Bp(){var e=Sf();return e===null?null:{parent:Rn._currentValue,pool:e}}var eu=Error(s(460)),Af=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(rr,rr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e;default:if(typeof n.status=="string")n.then(rr,rr);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e}throw bo=n,eu}}function To(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(bo=i,eu):i}}var bo=null;function Hp(){if(bo===null)throw Error(s(459));var e=bo;return bo=null,e}function Fp(e){if(e===eu||e===dc)throw Error(s(483))}var nu=null,Ju=0;function pc(e){var n=Ju;return Ju+=1,nu===null&&(nu=[]),qp(nu,e,n)}function $u(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function gc(e,n){throw n.$$typeof===Z?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kp(e){function n(J,q){if(e){var et=J.deletions;et===null?(J.deletions=[q],J.flags|=16):et.push(q)}}function i(J,q){if(!e)return null;for(;q!==null;)n(J,q),q=q.sibling;return null}function o(J){for(var q=new Map;J!==null;)J.key!==null?q.set(J.key,J):q.set(J.index,J),J=J.sibling;return q}function f(J,q){return J=Os(J,q),J.index=0,J.sibling=null,J}function m(J,q,et){return J.index=et,e?(et=J.alternate,et!==null?(et=et.index,et<q?(J.flags|=67108866,q):et):(J.flags|=67108866,q)):(J.flags|=1048576,q)}function v(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function R(J,q,et,ct){return q===null||q.tag!==6?(q=ff(et,J.mode,ct),q.return=J,q):(q=f(q,et),q.return=J,q)}function k(J,q,et,ct){var jt=et.type;return jt===Ct?lt(J,q,et.props.children,ct,et.key):q!==null&&(q.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===M&&To(jt)===q.type)?(q=f(q,et.props),$u(q,et),q.return=J,q):(q=uc(et.type,et.key,et.props,null,J.mode,ct),$u(q,et),q.return=J,q)}function nt(J,q,et,ct){return q===null||q.tag!==4||q.stateNode.containerInfo!==et.containerInfo||q.stateNode.implementation!==et.implementation?(q=df(et,J.mode,ct),q.return=J,q):(q=f(q,et.children||[]),q.return=J,q)}function lt(J,q,et,ct,jt){return q===null||q.tag!==7?(q=go(et,J.mode,ct,jt),q.return=J,q):(q=f(q,et),q.return=J,q)}function mt(J,q,et){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ff(""+q,J.mode,et),q.return=J,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ht:return et=uc(q.type,q.key,q.props,null,J.mode,et),$u(et,q),et.return=J,et;case St:return q=df(q,J.mode,et),q.return=J,q;case M:return q=To(q),mt(J,q,et)}if($e(q)||$(q))return q=go(q,J.mode,et,null),q.return=J,q;if(typeof q.then=="function")return mt(J,pc(q),et);if(q.$$typeof===qt)return mt(J,hc(J,q),et);gc(J,q)}return null}function it(J,q,et,ct){var jt=q!==null?q.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return jt!==null?null:R(J,q,""+et,ct);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case ht:return et.key===jt?k(J,q,et,ct):null;case St:return et.key===jt?nt(J,q,et,ct):null;case M:return et=To(et),it(J,q,et,ct)}if($e(et)||$(et))return jt!==null?null:lt(J,q,et,ct,null);if(typeof et.then=="function")return it(J,q,pc(et),ct);if(et.$$typeof===qt)return it(J,q,hc(J,et),ct);gc(J,et)}return null}function at(J,q,et,ct,jt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return J=J.get(et)||null,R(q,J,""+ct,jt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case ht:return J=J.get(ct.key===null?et:ct.key)||null,k(q,J,ct,jt);case St:return J=J.get(ct.key===null?et:ct.key)||null,nt(q,J,ct,jt);case M:return ct=To(ct),at(J,q,et,ct,jt)}if($e(ct)||$(ct))return J=J.get(et)||null,lt(q,J,ct,jt,null);if(typeof ct.then=="function")return at(J,q,et,pc(ct),jt);if(ct.$$typeof===qt)return at(J,q,et,hc(q,ct),jt);gc(q,ct)}return null}function Pt(J,q,et,ct){for(var jt=null,Ie=null,Lt=q,ae=q=0,_e=null;Lt!==null&&ae<et.length;ae++){Lt.index>ae?(_e=Lt,Lt=null):_e=Lt.sibling;var De=it(J,Lt,et[ae],ct);if(De===null){Lt===null&&(Lt=_e);break}e&&Lt&&De.alternate===null&&n(J,Lt),q=m(De,q,ae),Ie===null?jt=De:Ie.sibling=De,Ie=De,Lt=_e}if(ae===et.length)return i(J,Lt),Ae&&Ns(J,ae),jt;if(Lt===null){for(;ae<et.length;ae++)Lt=mt(J,et[ae],ct),Lt!==null&&(q=m(Lt,q,ae),Ie===null?jt=Lt:Ie.sibling=Lt,Ie=Lt);return Ae&&Ns(J,ae),jt}for(Lt=o(Lt);ae<et.length;ae++)_e=at(Lt,J,ae,et[ae],ct),_e!==null&&(e&&_e.alternate!==null&&Lt.delete(_e.key===null?ae:_e.key),q=m(_e,q,ae),Ie===null?jt=_e:Ie.sibling=_e,Ie=_e);return e&&Lt.forEach(function(za){return n(J,za)}),Ae&&Ns(J,ae),jt}function Kt(J,q,et,ct){if(et==null)throw Error(s(151));for(var jt=null,Ie=null,Lt=q,ae=q=0,_e=null,De=et.next();Lt!==null&&!De.done;ae++,De=et.next()){Lt.index>ae?(_e=Lt,Lt=null):_e=Lt.sibling;var za=it(J,Lt,De.value,ct);if(za===null){Lt===null&&(Lt=_e);break}e&&Lt&&za.alternate===null&&n(J,Lt),q=m(za,q,ae),Ie===null?jt=za:Ie.sibling=za,Ie=za,Lt=_e}if(De.done)return i(J,Lt),Ae&&Ns(J,ae),jt;if(Lt===null){for(;!De.done;ae++,De=et.next())De=mt(J,De.value,ct),De!==null&&(q=m(De,q,ae),Ie===null?jt=De:Ie.sibling=De,Ie=De);return Ae&&Ns(J,ae),jt}for(Lt=o(Lt);!De.done;ae++,De=et.next())De=at(Lt,J,ae,De.value,ct),De!==null&&(e&&De.alternate!==null&&Lt.delete(De.key===null?ae:De.key),q=m(De,q,ae),Ie===null?jt=De:Ie.sibling=De,Ie=De);return e&&Lt.forEach(function(Zb){return n(J,Zb)}),Ae&&Ns(J,ae),jt}function je(J,q,et,ct){if(typeof et=="object"&&et!==null&&et.type===Ct&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case ht:t:{for(var jt=et.key;q!==null;){if(q.key===jt){if(jt=et.type,jt===Ct){if(q.tag===7){i(J,q.sibling),ct=f(q,et.props.children),ct.return=J,J=ct;break t}}else if(q.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===M&&To(jt)===q.type){i(J,q.sibling),ct=f(q,et.props),$u(ct,et),ct.return=J,J=ct;break t}i(J,q);break}else n(J,q);q=q.sibling}et.type===Ct?(ct=go(et.props.children,J.mode,ct,et.key),ct.return=J,J=ct):(ct=uc(et.type,et.key,et.props,null,J.mode,ct),$u(ct,et),ct.return=J,J=ct)}return v(J);case St:t:{for(jt=et.key;q!==null;){if(q.key===jt)if(q.tag===4&&q.stateNode.containerInfo===et.containerInfo&&q.stateNode.implementation===et.implementation){i(J,q.sibling),ct=f(q,et.children||[]),ct.return=J,J=ct;break t}else{i(J,q);break}else n(J,q);q=q.sibling}ct=df(et,J.mode,ct),ct.return=J,J=ct}return v(J);case M:return et=To(et),je(J,q,et,ct)}if($e(et))return Pt(J,q,et,ct);if($(et)){if(jt=$(et),typeof jt!="function")throw Error(s(150));return et=jt.call(et),Kt(J,q,et,ct)}if(typeof et.then=="function")return je(J,q,pc(et),ct);if(et.$$typeof===qt)return je(J,q,hc(J,et),ct);gc(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,q!==null&&q.tag===6?(i(J,q.sibling),ct=f(q,et),ct.return=J,J=ct):(i(J,q),ct=ff(et,J.mode,ct),ct.return=J,J=ct),v(J)):i(J,q)}return function(J,q,et,ct){try{Ju=0;var jt=je(J,q,et,ct);return nu=null,jt}catch(Lt){if(Lt===eu||Lt===dc)throw Lt;var Ie=ti(29,Lt,null,J.mode);return Ie.lanes=ct,Ie.return=J,Ie}finally{}}}var So=Kp(!0),Gp=Kp(!1),ba=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Oe&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=wn(e),po(e,null,i),n}return Xt(e,o,n,i),wn(e)}function Wu(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ne(e,i)}}function Cf(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?f=m=n:m=m.next=n}else f=m=n;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var If=!1;function tl(){if(If){var e=tu;if(e!==null)throw e}}function el(e,n,i,o){If=!1;var f=e.updateQueue;ba=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var k=R,nt=k.next;k.next=null,v===null?m=nt:v.next=nt,v=k;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,R=lt.lastBaseUpdate,R!==v&&(R===null?lt.firstBaseUpdate=nt:R.next=nt,lt.lastBaseUpdate=k))}if(m!==null){var mt=f.baseState;v=0,lt=nt=k=null,R=m;do{var it=R.lane&-536870913,at=it!==R.lane;if(at?(ye&it)===it:(o&it)===it){it!==0&&it===Wo&&(If=!0),lt!==null&&(lt=lt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Pt=e,Kt=R;it=n;var je=i;switch(Kt.tag){case 1:if(Pt=Kt.payload,typeof Pt=="function"){mt=Pt.call(je,mt,it);break t}mt=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Kt.payload,it=typeof Pt=="function"?Pt.call(je,mt,it):Pt,it==null)break t;mt=O({},mt,it);break t;case 2:ba=!0}}it=R.callback,it!==null&&(e.flags|=64,at&&(e.flags|=8192),at=f.callbacks,at===null?f.callbacks=[it]:at.push(it))}else at={lane:it,tag:R.tag,payload:R.payload,callback:R.callback,next:null},lt===null?(nt=lt=at,k=mt):lt=lt.next=at,v|=it;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;at=R,R=at.next,at.next=null,f.lastBaseUpdate=at,f.shared.pending=null}}while(!0);lt===null&&(k=mt),f.baseState=k,f.firstBaseUpdate=nt,f.lastBaseUpdate=lt,m===null&&(f.shared.lanes=0),Da|=v,e.lanes=v,e.memoizedState=mt}}function Qp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Yp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Qp(i[e],n)}var ru=H(null),yc=H(0);function Xp(e,n){e=qs,wt(yc,e),wt(ru,n),qs=e|n.baseLanes}function Df(){wt(yc,qs),wt(ru,ru.current)}function Of(){qs=yc.current,ft(ru),ft(yc)}var ei=H(null),Ai=null;function wa(e){var n=e.alternate;wt(vn,vn.current&1),wt(ei,e),Ai===null&&(n===null||ru.current!==null||n.memoizedState!==null)&&(Ai=e)}function Nf(e){wt(vn,vn.current),wt(ei,e),Ai===null&&(Ai=e)}function Zp(e){e.tag===22?(wt(vn,vn.current),wt(ei,e),Ai===null&&(Ai=e)):Ra()}function Ra(){wt(vn,vn.current),wt(ei,ei.current)}function ni(e){ft(ei),Ai===e&&(Ai=null),ft(vn)}var vn=H(0);function _c(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ud(i)||Ld(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xs=0,se=null,ze=null,Cn=null,vc=!1,iu=!1,Ao=!1,Ec=0,nl=0,su=null,BT=0;function hn(){throw Error(s(321))}function Mf(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!ir(e[i],n[i]))return!1;return!0}function Vf(e,n,i,o,f,m){return xs=m,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ut.H=e===null||e.memoizedState===null?Vg:Yf,Ao=!1,m=i(o,f),Ao=!1,iu&&(m=$p(n,i,o,f)),Jp(e),m}function Jp(e){ut.H=sl;var n=ze!==null&&ze.next!==null;if(xs=0,Cn=ze=se=null,vc=!1,nl=0,su=null,n)throw Error(s(300));e===null||In||(e=e.dependencies,e!==null&&cc(e)&&(In=!0))}function $p(e,n,i,o){se=e;var f=0;do{if(iu&&(su=null),nl=0,iu=!1,25<=f)throw Error(s(301));if(f+=1,Cn=ze=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ut.H=xg,m=n(i,o)}while(iu);return m}function jT(){var e=ut.H,n=e.useState()[0];return n=typeof n.then=="function"?rl(n):n,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(se.flags|=1024),n}function xf(){var e=Ec!==0;return Ec=0,e}function kf(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Pf(e){if(vc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}vc=!1}xs=0,Cn=ze=se=null,iu=!1,nl=Ec=0,su=null}function pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?se.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function En(){if(ze===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var n=Cn===null?se.memoizedState:Cn.next;if(n!==null)Cn=n,ze=e;else{if(e===null)throw se.alternate===null?Error(s(467)):Error(s(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Cn===null?se.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var n=nl;return nl+=1,su===null&&(su=[]),e=qp(su,e,n),n=se,(Cn===null?n.memoizedState:Cn.next)===null&&(n=n.alternate,ut.H=n===null||n.memoizedState===null?Vg:Yf),e}function bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===qt)return Yn(e)}throw Error(s(438,String(e)))}function Uf(e){var n=null,i=se.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Tc(),se.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=G;return n.index++,i}function ks(e,n){return typeof n=="function"?n(e):n}function Sc(e){var n=En();return Lf(n,ze,e)}function Lf(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var f=e.baseQueue,m=o.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}n.baseQueue=f=m,o.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var R=v=null,k=null,nt=n,lt=!1;do{var mt=nt.lane&-536870913;if(mt!==nt.lane?(ye&mt)===mt:(xs&mt)===mt){var it=nt.revertLane;if(it===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),mt===Wo&&(lt=!0);else if((xs&it)===it){nt=nt.next,it===Wo&&(lt=!0);continue}else mt={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(R=k=mt,v=m):k=k.next=mt,se.lanes|=it,Da|=it;mt=nt.action,Ao&&i(m,mt),m=nt.hasEagerState?nt.eagerState:i(m,mt)}else it={lane:mt,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(R=k=it,v=m):k=k.next=it,se.lanes|=mt,Da|=mt;nt=nt.next}while(nt!==null&&nt!==n);if(k===null?v=m:k.next=R,!ir(m,e.memoizedState)&&(In=!0,lt&&(i=tu,i!==null)))throw i;e.memoizedState=m,e.baseState=v,e.baseQueue=k,o.lastRenderedState=m}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function zf(e){var n=En(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,f=i.pending,m=n.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do m=e(m,v.action),v=v.next;while(v!==f);ir(m,n.memoizedState)||(In=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function Wp(e,n,i){var o=se,f=En(),m=Ae;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=n();var v=!ir((ze||f).memoizedState,i);if(v&&(f.memoizedState=i,In=!0),f=f.queue,qf(ng.bind(null,o,f,e),[e]),f.getSnapshot!==n||v||Cn!==null&&Cn.memoizedState.tag&1){if(o.flags|=2048,au(9,{destroy:void 0},eg.bind(null,o,f,i,n),null),qe===null)throw Error(s(349));m||(xs&127)!==0||tg(o,n,i)}return i}function tg(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=se.updateQueue,n===null?(n=Tc(),se.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function eg(e,n,i,o){n.value=i,n.getSnapshot=o,rg(n)&&ig(e)}function ng(e,n,i){return i(function(){rg(n)&&ig(e)})}function rg(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!ir(e,i)}catch{return!0}}function ig(e){var n=Ze(e,2);n!==null&&Pr(n,e,2)}function Bf(e){var n=pr();if(typeof e=="function"){var i=e;if(e=i(),Ao){pn(!0);try{i()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},n}function sg(e,n,i,o){return e.baseState=i,Lf(e,ze,typeof o=="function"?o:ks)}function qT(e,n,i,o,f){if(Rc(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};ut.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,ag(n,m)):(m.next=i.next,n.pending=i.next=m)}}function ag(e,n){var i=n.action,o=n.payload,f=e.state;if(n.isTransition){var m=ut.T,v={};ut.T=v;try{var R=i(f,o),k=ut.S;k!==null&&k(v,R),og(e,n,R)}catch(nt){jf(e,n,nt)}finally{m!==null&&v.types!==null&&(m.types=v.types),ut.T=m}}else try{m=i(f,o),og(e,n,m)}catch(nt){jf(e,n,nt)}}function og(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){ug(e,n,o)},function(o){return jf(e,n,o)}):ug(e,n,i)}function ug(e,n,i){n.status="fulfilled",n.value=i,lg(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,ag(e,i)))}function jf(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,lg(n),n=n.next;while(n!==o)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(Ae){var i=qe.formState;if(i!==null){t:{var o=se;if(Ae){if(Ge){e:{for(var f=Ge,m=Si;f.nodeType!==8;){if(!m){f=null;break e}if(f=wi(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ge=wi(f.nextSibling),o=f.data==="F!";break t}}Ea(o)}o=!1}o&&(n=i[0])}}return i=pr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},i.queue=o,i=Og.bind(null,se,o),o.dispatch=i,o=Bf(!1),m=Qf.bind(null,se,!1,o.queue),o=pr(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,i=qT.bind(null,se,f,m,i),f.dispatch=i,o.memoizedState=e,[n,i,!1]}function fg(e){var n=En();return dg(n,ze,e)}function dg(e,n,i){if(n=Lf(e,n,cg)[0],e=Sc(ks)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(v){throw v===eu?dc:v}else o=n;n=En();var f=n.queue,m=f.dispatch;return i!==n.memoizedState&&(se.flags|=2048,au(9,{destroy:void 0},HT.bind(null,f,i),null)),[o,m,e]}function HT(e,n){e.action=n}function mg(e){var n=En(),i=ze;if(i!==null)return dg(n,i,e);En(),n=n.memoizedState,i=En();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function au(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=se.updateQueue,n===null&&(n=Tc(),se.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function pg(){return En().memoizedState}function Ac(e,n,i,o){var f=pr();se.flags|=e,f.memoizedState=au(1|n,{destroy:void 0},i,o===void 0?null:o)}function wc(e,n,i,o){var f=En();o=o===void 0?null:o;var m=f.memoizedState.inst;ze!==null&&o!==null&&Mf(o,ze.memoizedState.deps)?f.memoizedState=au(n,m,i,o):(se.flags|=e,f.memoizedState=au(1|n,m,i,o))}function gg(e,n){Ac(8390656,8,e,n)}function qf(e,n){wc(2048,8,e,n)}function FT(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=Tc(),se.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function yg(e){var n=En().memoizedState;return FT({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function _g(e,n){return wc(4,2,e,n)}function vg(e,n){return wc(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,i){i=i!=null?i.concat([e]):null,wc(4,4,Eg.bind(null,n,e),i)}function Hf(){}function bg(e,n){var i=En();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Mf(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Sg(e,n){var i=En();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Mf(n,o[1]))return o[0];if(o=e(),Ao){pn(!0);try{e()}finally{pn(!1)}}return i.memoizedState=[o,n],o}function Ff(e,n,i){return i===void 0||(xs&1073741824)!==0&&(ye&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Ay(),se.lanes|=e,Da|=e,i)}function Ag(e,n,i,o){return ir(i,n)?i:ru.current!==null?(e=Ff(e,i,o),ir(e,n)||(In=!0),e):(xs&42)===0||(xs&1073741824)!==0&&(ye&261930)===0?(In=!0,e.memoizedState=i):(e=Ay(),se.lanes|=e,Da|=e,n)}function wg(e,n,i,o,f){var m=Nt.p;Nt.p=m!==0&&8>m?m:8;var v=ut.T,R={};ut.T=R,Qf(e,!1,n,i);try{var k=f(),nt=ut.S;if(nt!==null&&nt(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var lt=zT(k,o);il(e,n,lt,si(e))}else il(e,n,o,si(e))}catch(mt){il(e,n,{then:function(){},status:"rejected",reason:mt},si())}finally{Nt.p=m,v!==null&&R.types!==null&&(v.types=R.types),ut.T=v}}function KT(){}function Kf(e,n,i,o){if(e.tag!==5)throw Error(s(476));var f=Rg(e).queue;wg(e,f,n,Ut,i===null?KT:function(){return Cg(e),i(o)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ut,baseState:Ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:Ut},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},si())}function Gf(){return Yn(Tl)}function Ig(){return En().memoizedState}function Dg(){return En().memoizedState}function GT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=si();e=Sa(i);var o=Aa(n,e,i);o!==null&&(Pr(o,n,i),Wu(o,n,i)),n={cache:Tf()},e.payload=n;return}n=n.return}}function QT(e,n,i){var o=si();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Rc(e)?Ng(n,i):(i=An(e,n,i,o),i!==null&&(Pr(i,e,o),Mg(i,n,o)))}function Og(e,n,i){var o=si();il(e,n,i,o)}function il(e,n,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Ng(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var v=n.lastRenderedState,R=m(v,i);if(f.hasEagerState=!0,f.eagerState=R,ir(R,v))return Xt(e,n,f,0),qe===null&&jn(),!1}catch{}finally{}if(i=An(e,n,f,o),i!==null)return Pr(i,e,o),Mg(i,n,o),!0}return!1}function Qf(e,n,i,o){if(o={lane:2,revertLane:wd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rc(e)){if(n)throw Error(s(479))}else n=An(e,i,o,2),n!==null&&Pr(n,e,2)}function Rc(e){var n=e.alternate;return e===se||n!==null&&n===se}function Ng(e,n){iu=vc=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Mg(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ne(e,i)}}var sl={readContext:Yn,use:bc,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};sl.useEffectEvent=hn;var Vg={readContext:Yn,use:bc,useCallback:function(e,n){return pr().memoizedState=[e,n===void 0?null:n],e},useContext:Yn,useEffect:gg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Ac(4194308,4,Eg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ac(4194308,4,e,n)},useInsertionEffect:function(e,n){Ac(4,2,e,n)},useMemo:function(e,n){var i=pr();n=n===void 0?null:n;var o=e();if(Ao){pn(!0);try{e()}finally{pn(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=pr();if(i!==void 0){var f=i(n);if(Ao){pn(!0);try{i(n)}finally{pn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=QT.bind(null,se,e),[o.memoizedState,e]},useRef:function(e){var n=pr();return e={current:e},n.memoizedState=e},useState:function(e){e=Bf(e);var n=e.queue,i=Og.bind(null,se,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Hf,useDeferredValue:function(e,n){var i=pr();return Ff(i,e,n)},useTransition:function(){var e=Bf(!1);return e=wg.bind(null,se,e.queue,!0,!1),pr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=se,f=pr();if(Ae){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),qe===null)throw Error(s(349));(ye&127)!==0||tg(o,n,i)}f.memoizedState=i;var m={value:i,getSnapshot:n};return f.queue=m,gg(ng.bind(null,o,m,e),[e]),o.flags|=2048,au(9,{destroy:void 0},eg.bind(null,o,m,i,n),null),i},useId:function(){var e=pr(),n=qe.identifierPrefix;if(Ae){var i=is,o=rs;i=(o&~(1<<32-Dt(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ec++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=BT++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Gf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=pr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Qf.bind(null,se,!0,i),i.dispatch=n,[e,n]},useMemoCache:Uf,useCacheRefresh:function(){return pr().memoizedState=GT.bind(null,se)},useEffectEvent:function(e){var n=pr(),i={impl:e};return n.memoizedState=i,function(){if((Oe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Yf={readContext:Yn,use:bc,useCallback:bg,useContext:Yn,useEffect:qf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Sc,useRef:pg,useState:function(){return Sc(ks)},useDebugValue:Hf,useDeferredValue:function(e,n){var i=En();return Ag(i,ze.memoizedState,e,n)},useTransition:function(){var e=Sc(ks)[0],n=En().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Gf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var i=En();return sg(i,ze,e,n)},useMemoCache:Uf,useCacheRefresh:Dg};Yf.useEffectEvent=yg;var xg={readContext:Yn,use:bc,useCallback:bg,useContext:Yn,useEffect:qf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:zf,useRef:pg,useState:function(){return zf(ks)},useDebugValue:Hf,useDeferredValue:function(e,n){var i=En();return ze===null?Ff(i,e,n):Ag(i,ze.memoizedState,e,n)},useTransition:function(){var e=zf(ks)[0],n=En().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Gf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var i=En();return ze!==null?sg(i,ze,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:Dg};xg.useEffectEvent=yg;function Xf(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:O({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zf={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=si(),f=Sa(o);f.payload=n,i!=null&&(f.callback=i),n=Aa(e,f,o),n!==null&&(Pr(n,e,o),Wu(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=si(),f=Sa(o);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Aa(e,f,o),n!==null&&(Pr(n,e,o),Wu(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=si(),o=Sa(i);o.tag=2,n!=null&&(o.callback=n),n=Aa(e,o,i),n!==null&&(Pr(n,e,i),Wu(n,e,i))}};function kg(e,n,i,o,f,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,v):n.prototype&&n.prototype.isPureReactComponent?!c(i,o)||!c(f,m):!0}function Pg(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Zf.enqueueReplaceState(n,n.state,null)}function wo(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=O({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Ug(e){Mt(e)}function Lg(e){console.error(e)}function zg(e){Mt(e)}function Cc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bg(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Jf(e,n,i){return i=Sa(i),i.tag=3,i.payload={element:null},i.callback=function(){Cc(e,n)},i}function jg(e){return e=Sa(e),e.tag=3,e}function qg(e,n,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;e.payload=function(){return f(m)},e.callback=function(){Bg(n,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Bg(n,i,o),typeof f!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function YT(e,n,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&$o(n,i,f,!0),i=ei.current,i!==null){switch(i.tag){case 31:case 13:return Ai===null?zc():i.alternate===null&&fn===0&&(fn=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===mc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),bd(e,o,f)),!1;case 22:return i.flags|=65536,o===mc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),bd(e,o,f)),!1}throw Error(s(435,i.tag))}return bd(e,o,f),zc(),!1}if(Ae)return n=ei.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==gf&&(e=Error(s(422),{cause:o}),Yu(Ei(e,i)))):(o!==gf&&(n=Error(s(423),{cause:o}),Yu(Ei(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Ei(o,i),f=Jf(e.stateNode,o,f),Cf(e,f),fn!==4&&(fn=2)),!1;var m=Error(s(520),{cause:o});if(m=Ei(m,i),dl===null?dl=[m]:dl.push(m),fn!==4&&(fn=2),n===null)return!0;o=Ei(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Jf(i.stateNode,o,e),Cf(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Oa===null||!Oa.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=jg(f),qg(f,e,i,o),Cf(i,f),!1}i=i.return}while(i!==null);return!1}var $f=Error(s(461)),In=!1;function Xn(e,n,i,o){n.child=e===null?Gp(n,null,i,o):So(n,e.child,i,o)}function Hg(e,n,i,o,f){i=i.render;var m=n.ref;if("ref"in o){var v={};for(var R in o)R!=="ref"&&(v[R]=o[R])}else v=o;return vo(n),o=Vf(e,n,i,v,m,f),R=xf(),e!==null&&!In?(kf(e,n,f),Ps(e,n,f)):(Ae&&R&&mf(n),n.flags|=1,Xn(e,n,o,f),n.child)}function Fg(e,n,i,o,f){if(e===null){var m=i.type;return typeof m=="function"&&!hf(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,Kg(e,n,m,o,f)):(e=uc(i.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!ad(e,f)){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:c,i(v,o)&&e.ref===n.ref)return Ps(e,n,f)}return n.flags|=1,e=Os(m,o),e.ref=n.ref,e.return=n,n.child=e}function Kg(e,n,i,o,f){if(e!==null){var m=e.memoizedProps;if(c(m,o)&&e.ref===n.ref)if(In=!1,n.pendingProps=o=m,ad(e,f))(e.flags&131072)!==0&&(In=!0);else return n.lanes=e.lanes,Ps(e,n,f)}return Wf(e,n,i,o,f)}function Gg(e,n,i,o){var f=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return Qg(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fc(n,m!==null?m.cachePool:null),m!==null?Xp(n,m):Df(),Zp(n);else return o=n.lanes=536870912,Qg(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(fc(n,m.cachePool),Xp(n,m),Ra(),n.memoizedState=null):(e!==null&&fc(n,null),Df(),Ra());return Xn(e,n,f,i),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(e,n,i,o,f){var m=Sf();return m=m===null?null:{parent:Rn._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&fc(n,null),Df(),Zp(n),e!==null&&$o(e,n,o,!0),n.childLanes=f,null}function Ic(e,n){return n=Oc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yg(e,n,i){return So(n,e.child,null,i),e=Ic(n,n.pendingProps),e.flags|=2,ni(n),n.memoizedState=null,e}function XT(e,n,i){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(o.mode==="hidden")return e=Ic(n,o),n.lanes=536870912,al(null,e);if(Nf(n),(e=Ge)?(e=a_(e,Si),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_a!==null?{id:rs,overflow:is}:null,retryLane:536870912,hydrationErrors:null},i=Np(e),i.return=n,n.child=i,Qn=n,Ge=null)):e=null,e===null)throw Ea(n);return n.lanes=536870912,null}return Ic(n,o)}var m=e.memoizedState;if(m!==null){var v=m.dehydrated;if(Nf(n),f)if(n.flags&256)n.flags&=-257,n=Yg(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(In||$o(e,n,i,!1),f=(i&e.childLanes)!==0,In||f){if(o=qe,o!==null&&(v=Xe(o,i),v!==0&&v!==m.retryLane))throw m.retryLane=v,Ze(e,v),Pr(o,e,v),$f;zc(),n=Yg(e,n,i)}else e=m.treeContext,Ge=wi(v.nextSibling),Qn=n,Ae=!0,va=null,Si=!1,e!==null&&xp(n,e),n=Ic(n,o),n.flags|=4096;return n}return e=Os(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Dc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Wf(e,n,i,o,f){return vo(n),i=Vf(e,n,i,o,void 0,f),o=xf(),e!==null&&!In?(kf(e,n,f),Ps(e,n,f)):(Ae&&o&&mf(n),n.flags|=1,Xn(e,n,i,f),n.child)}function Xg(e,n,i,o,f,m){return vo(n),n.updateQueue=null,i=$p(n,o,i,f),Jp(e),o=xf(),e!==null&&!In?(kf(e,n,m),Ps(e,n,m)):(Ae&&o&&mf(n),n.flags|=1,Xn(e,n,i,m),n.child)}function Zg(e,n,i,o,f){if(vo(n),n.stateNode===null){var m=Nr,v=i.contextType;typeof v=="object"&&v!==null&&(m=Yn(v)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zf,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},wf(n),v=i.contextType,m.context=typeof v=="object"&&v!==null?Yn(v):Nr,m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Xf(n,i,v,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Zf.enqueueReplaceState(m,m.state,null),el(n,o,m,f),tl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var R=n.memoizedProps,k=wo(i,R);m.props=k;var nt=m.context,lt=i.contextType;v=Nr,typeof lt=="object"&&lt!==null&&(v=Yn(lt));var mt=i.getDerivedStateFromProps;lt=typeof mt=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,lt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||nt!==v)&&Pg(n,m,o,v),ba=!1;var it=n.memoizedState;m.state=it,el(n,o,m,f),tl(),nt=n.memoizedState,R||it!==nt||ba?(typeof mt=="function"&&(Xf(n,i,mt,o),nt=n.memoizedState),(k=ba||kg(n,i,k,o,it,nt,v))?(lt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=nt),m.props=o,m.state=nt,m.context=v,o=k):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Rf(e,n),v=n.memoizedProps,lt=wo(i,v),m.props=lt,mt=n.pendingProps,it=m.context,nt=i.contextType,k=Nr,typeof nt=="object"&&nt!==null&&(k=Yn(nt)),R=i.getDerivedStateFromProps,(nt=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==mt||it!==k)&&Pg(n,m,o,k),ba=!1,it=n.memoizedState,m.state=it,el(n,o,m,f),tl();var at=n.memoizedState;v!==mt||it!==at||ba||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof R=="function"&&(Xf(n,i,R,o),at=n.memoizedState),(lt=ba||kg(n,i,lt,o,it,at,k)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(nt||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,at,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,at,k)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&it===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&it===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=at),m.props=o,m.state=at,m.context=k,o=lt):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&it===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&it===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,Dc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=So(n,e.child,null,f),n.child=So(n,null,i,f)):Xn(e,n,i,f),n.memoizedState=m.state,e=n.child):e=Ps(e,n,f),e}function Jg(e,n,i,o){return yo(),n.flags|=256,Xn(e,n,i,o),n.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:Bp()}}function nd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ii),e}function $g(e,n,i){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(vn.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(f?wa(n):Ra(),(e=Ge)?(e=a_(e,Si),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_a!==null?{id:rs,overflow:is}:null,retryLane:536870912,hydrationErrors:null},i=Np(e),i.return=n,n.child=i,Qn=n,Ge=null)):e=null,e===null)throw Ea(n);return Ld(e)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,f?(Ra(),f=n.mode,R=Oc({mode:"hidden",children:R},f),o=go(o,f,i,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=ed(i),o.childLanes=nd(e,v,i),n.memoizedState=td,al(null,o)):(wa(n),rd(n,R))}var k=e.memoizedState;if(k!==null&&(R=k.dehydrated,R!==null)){if(m)n.flags&256?(wa(n),n.flags&=-257,n=id(e,n,i)):n.memoizedState!==null?(Ra(),n.child=e.child,n.flags|=128,n=null):(Ra(),R=o.fallback,f=n.mode,o=Oc({mode:"visible",children:o.children},f),R=go(R,f,i,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,So(n,e.child,null,i),o=n.child,o.memoizedState=ed(i),o.childLanes=nd(e,v,i),n.memoizedState=td,n=al(null,o));else if(wa(n),Ld(R)){if(v=R.nextSibling&&R.nextSibling.dataset,v)var nt=v.dgst;v=nt,o=Error(s(419)),o.stack="",o.digest=v,Yu({value:o,source:null,stack:null}),n=id(e,n,i)}else if(In||$o(e,n,i,!1),v=(i&e.childLanes)!==0,In||v){if(v=qe,v!==null&&(o=Xe(v,i),o!==0&&o!==k.retryLane))throw k.retryLane=o,Ze(e,o),Pr(v,e,o),$f;Ud(R)||zc(),n=id(e,n,i)}else Ud(R)?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,Ge=wi(R.nextSibling),Qn=n,Ae=!0,va=null,Si=!1,e!==null&&xp(n,e),n=rd(n,o.children),n.flags|=4096);return n}return f?(Ra(),R=o.fallback,f=n.mode,k=e.child,nt=k.sibling,o=Os(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,nt!==null?R=Os(nt,R):(R=go(R,f,i,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,al(null,o),o=n.child,R=e.child.memoizedState,R===null?R=ed(i):(f=R.cachePool,f!==null?(k=Rn._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=Bp(),R={baseLanes:R.baseLanes|i,cachePool:f}),o.memoizedState=R,o.childLanes=nd(e,v,i),n.memoizedState=td,al(e.child,o)):(wa(n),i=e.child,e=i.sibling,i=Os(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function rd(e,n){return n=Oc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Oc(e,n){return e=ti(22,e,null,n),e.lanes=0,e}function id(e,n,i){return So(n,e.child,null,i),e=rd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),vf(e.return,n,i)}function sd(e,n,i,o,f,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=f,v.treeForkCount=m)}function ty(e,n,i){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var v=vn.current,R=(v&2)!==0;if(R?(v=v&1|2,n.flags|=128):v&=1,wt(vn,v),Xn(e,n,o,i),o=Ae?Qu:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,i,n);else if(e.tag===19)Wg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&_c(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),sd(n,!1,f,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}sd(n,!0,i,null,m,o);break;case"together":sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ps(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Da|=n.lanes,(i&n.childLanes)===0)if(e!==null){if($o(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Os(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Os(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ad(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function ZT(e,n,i){switch(n.tag){case 3:dn(n,n.stateNode.containerInfo),Ta(n,Rn,e.memoizedState.cache),yo();break;case 27:case 5:Gi(n);break;case 4:dn(n,n.stateNode.containerInfo);break;case 10:Ta(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(wa(n),n.flags|=128,null):(i&n.child.childLanes)!==0?$g(e,n,i):(wa(n),e=Ps(e,n,i),e!==null?e.sibling:null);wa(n);break;case 19:var f=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||($o(e,n,i,!1),o=(i&n.childLanes)!==0),f){if(o)return ty(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),wt(vn,vn.current),o)break;return null;case 22:return n.lanes=0,Gg(e,n,i,n.pendingProps);case 24:Ta(n,Rn,e.memoizedState.cache)}return Ps(e,n,i)}function ey(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)In=!0;else{if(!ad(e,i)&&(n.flags&128)===0)return In=!1,ZT(e,n,i);In=(e.flags&131072)!==0}else In=!1,Ae&&(n.flags&1048576)!==0&&Vp(n,Qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=To(n.elementType),n.type=e,typeof e=="function")hf(e)?(o=wo(e,o),n.tag=1,n=Zg(null,n,e,o,i)):(n.tag=0,n=Wf(null,n,e,o,i));else{if(e!=null){var f=e.$$typeof;if(f===de){n.tag=11,n=Hg(null,n,e,o,i);break t}else if(f===x){n.tag=14,n=Fg(null,n,e,o,i);break t}}throw n=He(e)||e,Error(s(306,n,""))}}return n;case 0:return Wf(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,f=wo(o,n.pendingProps),Zg(e,n,o,f,i);case 3:t:{if(dn(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Rf(e,n),el(n,o,null,i);var v=n.memoizedState;if(o=v.cache,Ta(n,Rn,o),o!==m.cache&&Ef(n,[Rn],i,!0),tl(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Jg(e,n,o,i);break t}else if(o!==f){f=Ei(Error(s(424)),n),Yu(f),n=Jg(e,n,o,i);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=wi(e.firstChild),Qn=n,Ae=!0,va=null,Si=!0,i=Gp(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(yo(),o===f){n=Ps(e,n,i);break t}Xn(e,n,o,i)}n=n.child}return n;case 26:return Dc(e,n),e===null?(i=f_(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ae||(i=n.type,e=n.pendingProps,o=Gc(Yt.current).createElement(i),o[Ve]=n,o[Fe]=e,Zn(o,i,e),en(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gi(n),e===null&&Ae&&(o=n.stateNode=l_(n.type,n.pendingProps,Yt.current),Qn=n,Si=!0,f=Ge,xa(n.type)?(zd=f,Ge=wi(o.firstChild)):Ge=f),Xn(e,n,n.pendingProps.children,i),Dc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((f=o=Ge)&&(o=Rb(o,n.type,n.pendingProps,Si),o!==null?(n.stateNode=o,Qn=n,Ge=wi(o.firstChild),Si=!1,f=!0):f=!1),f||Ea(n)),Gi(n),f=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,o=m.children,xd(f,m)?o=null:v!==null&&xd(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Vf(e,n,jT,null,null,i),Tl._currentValue=f),Dc(e,n),Xn(e,n,o,i),n.child;case 6:return e===null&&Ae&&((e=i=Ge)&&(i=Cb(i,n.pendingProps,Si),i!==null?(n.stateNode=i,Qn=n,Ge=null,e=!0):e=!1),e||Ea(n)),null;case 13:return $g(e,n,i);case 4:return dn(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=So(n,null,o,i):Xn(e,n,o,i),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,i);case 7:return Xn(e,n,n.pendingProps,i),n.child;case 8:return Xn(e,n,n.pendingProps.children,i),n.child;case 12:return Xn(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ta(n,n.type,o.value),Xn(e,n,o.children,i),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,vo(n),f=Yn(f),o=o(f),n.flags|=1,Xn(e,n,o,i),n.child;case 14:return Fg(e,n,n.type,n.pendingProps,i);case 15:return Kg(e,n,n.type,n.pendingProps,i);case 19:return ty(e,n,i);case 31:return XT(e,n,i);case 22:return Gg(e,n,i,n.pendingProps);case 24:return vo(n),o=Yn(Rn),e===null?(f=Sf(),f===null&&(f=qe,m=Tf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),n.memoizedState={parent:o,cache:f},wf(n),Ta(n,Rn,f)):((e.lanes&i)!==0&&(Rf(e,n),el(n,null,null,i),tl()),f=e.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ta(n,Rn,o)):(o=m.cache,Ta(n,Rn,o),o!==f.cache&&Ef(n,[Rn],i,!0))),Xn(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Us(e){e.flags|=4}function od(e,n,i,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw bo=mc,Af}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw bo=mc,Af}function Nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ho():536870912,e.lanes|=n,cu|=n)}function ol(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function JT(e,n,i){var o=n.pendingProps;switch(pf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(n),null;case 1:return Qe(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Vs(Rn),Ot(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Jo(n)?Us(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yf())),Qe(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(Us(n),m!==null?(Qe(n),ny(n,m)):(Qe(n),od(n,f,null,o,i))):m?m!==e.memoizedState?(Us(n),Qe(n),ny(n,m)):(Qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Us(n),Qe(n),od(n,f,e,o,i)),null;case 27:if(Oi(n),i=Yt.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Us(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Qe(n),null}e=Vt.current,Jo(n)?kp(n):(e=l_(f,o,i),n.stateNode=e,Us(n))}return Qe(n),null;case 5:if(Oi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Us(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Qe(n),null}if(m=Vt.current,Jo(n))kp(n);else{var v=Gc(Yt.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}m[Ve]=n,m[Fe]=o;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=m;t:switch(Zn(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Us(n)}}return Qe(n),od(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Us(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Yt.current,Jo(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,f=Qn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,i)),e||Ea(n,!0)}else e=Gc(e).createTextNode(o),e[Ve]=n,n.stateNode=e}return Qe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Jo(n),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ve]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),e=!1}else i=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(ni(n),n):(ni(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Qe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Jo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ve]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),f=!1}else f=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ni(n),n):(ni(n),null)}return ni(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Nc(n,n.updateQueue),Qe(n),null);case 4:return Ot(),e===null&&Dd(n.stateNode.containerInfo),Qe(n),null;case 10:return Vs(n.type),Qe(n),null;case 19:if(ft(vn),o=n.memoizedState,o===null)return Qe(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)ol(o,!1);else{if(fn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=_c(e),m!==null){for(n.flags|=128,ol(o,!1),e=m.updateQueue,n.updateQueue=e,Nc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Op(i,e),i=i.sibling;return wt(vn,vn.current&1|2),Ae&&Ns(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Un()>Pc&&(n.flags|=128,f=!0,ol(o,!1),n.lanes=4194304)}else{if(!f)if(e=_c(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Nc(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Ae)return Qe(n),null}else 2*Un()-o.renderingStartTime>Pc&&i!==536870912&&(n.flags|=128,f=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Un(),e.sibling=null,i=vn.current,wt(vn,f?i&1|2:i&1),Ae&&Ns(n,o.treeForkCount),e):(Qe(n),null);case 22:case 23:return ni(n),Of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(Qe(n),n.subtreeFlags&6&&(n.flags|=8192)):Qe(n),i=n.updateQueue,i!==null&&Nc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ft(Eo),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Vs(Rn),Qe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function $T(e,n){switch(pf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vs(Rn),Ot(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Oi(n),null;case 31:if(n.memoizedState!==null){if(ni(n),n.alternate===null)throw Error(s(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ni(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ft(vn),null;case 4:return Ot(),null;case 10:return Vs(n.type),null;case 22:case 23:return ni(n),Of(),e!==null&&ft(Eo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vs(Rn),null;case 25:return null;default:return null}}function ry(e,n){switch(pf(n),n.tag){case 3:Vs(Rn),Ot();break;case 26:case 27:case 5:Oi(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&ni(n);break;case 13:ni(n);break;case 19:ft(vn);break;case 10:Vs(n.type);break;case 22:case 23:ni(n),Of(),e!==null&&ft(Eo);break;case 24:Vs(Rn)}}function ul(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){o=void 0;var m=i.create,v=i.inst;o=m(),v.destroy=o}i=i.next}while(i!==f)}}catch(R){Ue(n,n.return,R)}}function Ca(e,n,i){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&e)===e){var v=o.inst,R=v.destroy;if(R!==void 0){v.destroy=void 0,f=n;var k=i,nt=R;try{nt()}catch(lt){Ue(f,k,lt)}}}o=o.next}while(o!==m)}}catch(lt){Ue(n,n.return,lt)}}function iy(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Yp(n,i)}catch(o){Ue(e,e.return,o)}}}function sy(e,n,i){i.props=wo(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Ue(e,n,o)}}function ll(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(f){Ue(e,n,f)}}function ss(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){Ue(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Ue(e,n,f)}else i.current=null}function ay(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break t;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){Ue(e,e.return,f)}}function ud(e,n,i){try{var o=e.stateNode;Eb(o,e.type,i,n),o[Fe]=n}catch(f){Ue(e,e.return,f)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=rr));else if(o!==4&&(o===27&&xa(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(cd(e,n,i),e=e.sibling;e!==null;)cd(e,n,i),e=e.sibling}function Mc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&xa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Mc(e,n,i),e=e.sibling;e!==null;)Mc(e,n,i),e=e.sibling}function uy(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Zn(n,o,i),n[Ve]=e,n[Fe]=i}catch(m){Ue(e,e.return,m)}}var Ls=!1,Dn=!1,hd=!1,ly=typeof WeakSet=="function"?WeakSet:Set,qn=null;function WT(e,n){if(e=e.containerInfo,Md=Wc,e=A(e),w(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break t}var v=0,R=-1,k=-1,nt=0,lt=0,mt=e,it=null;e:for(;;){for(var at;mt!==i||f!==0&&mt.nodeType!==3||(R=v+f),mt!==m||o!==0&&mt.nodeType!==3||(k=v+o),mt.nodeType===3&&(v+=mt.nodeValue.length),(at=mt.firstChild)!==null;)it=mt,mt=at;for(;;){if(mt===e)break e;if(it===i&&++nt===f&&(R=v),it===m&&++lt===o&&(k=v),(at=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=at}i=R===-1||k===-1?null:{start:R,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(Vd={focusedElem:e,selectionRange:i},Wc=!1,qn=n;qn!==null;)if(n=qn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qn=e;else for(;qn!==null;){switch(n=qn,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,f=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Pt=wo(i.type,f);e=o.getSnapshotBeforeUpdate(Pt,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(Kt){Ue(i,i.return,Kt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Pd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,qn=e;break}qn=n.return}}function cy(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Bs(e,i),o&4&&ul(5,i);break;case 1:if(Bs(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){Ue(i,i.return,v)}else{var f=wo(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ue(i,i.return,v)}}o&64&&iy(i),o&512&&ll(i,i.return);break;case 3:if(Bs(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Yp(e,n)}catch(v){Ue(i,i.return,v)}}break;case 27:n===null&&o&4&&uy(i);case 26:case 5:Bs(e,i),n===null&&o&4&&ay(i),o&512&&ll(i,i.return);break;case 12:Bs(e,i);break;case 31:Bs(e,i),o&4&&dy(e,i);break;case 13:Bs(e,i),o&4&&my(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ub.bind(null,i),Ib(e,i))));break;case 22:if(o=i.memoizedState!==null||Ls,!o){n=n!==null&&n.memoizedState!==null||Dn,f=Ls;var m=Dn;Ls=o,(Dn=n)&&!m?js(e,i,(i.subtreeFlags&8772)!==0):Bs(e,i),Ls=f,Dn=m}break;case 30:break;default:Bs(e,i)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&bs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Mr=!1;function zs(e,n,i){for(i=i.child;i!==null;)fy(e,n,i),i=i.sibling}function fy(e,n,i){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(tr,i)}catch{}switch(i.tag){case 26:Dn||ss(i,n),zs(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Dn||ss(i,n);var o=Je,f=Mr;xa(i.type)&&(Je=i.stateNode,Mr=!1),zs(e,n,i),_l(i.stateNode),Je=o,Mr=f;break;case 5:Dn||ss(i,n);case 6:if(o=Je,f=Mr,Je=null,zs(e,n,i),Je=o,Mr=f,Je!==null)if(Mr)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(i.stateNode)}catch(m){Ue(i,n,m)}else try{Je.removeChild(i.stateNode)}catch(m){Ue(i,n,m)}break;case 18:Je!==null&&(Mr?(e=Je,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),_u(e)):i_(Je,i.stateNode));break;case 4:o=Je,f=Mr,Je=i.stateNode.containerInfo,Mr=!0,zs(e,n,i),Je=o,Mr=f;break;case 0:case 11:case 14:case 15:Ca(2,i,n),Dn||Ca(4,i,n),zs(e,n,i);break;case 1:Dn||(ss(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&sy(i,n,o)),zs(e,n,i);break;case 21:zs(e,n,i);break;case 22:Dn=(o=Dn)||i.memoizedState!==null,zs(e,n,i),Dn=o;break;default:zs(e,n,i)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_u(e)}catch(i){Ue(n,n.return,i)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_u(e)}catch(i){Ue(n,n.return,i)}}function tb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(s(435,e.tag))}}function Vc(e,n){var i=tb(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var f=lb.bind(null,e,o);o.then(f,f)}})}function Vr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],m=e,v=n,R=v;t:for(;R!==null;){switch(R.tag){case 27:if(xa(R.type)){Je=R.stateNode,Mr=!1;break t}break;case 5:Je=R.stateNode,Mr=!1;break t;case 3:case 4:Je=R.stateNode.containerInfo,Mr=!0;break t}R=R.return}if(Je===null)throw Error(s(160));fy(m,v,f),Je=null,Mr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Bi=null;function py(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vr(n,e),xr(e),o&4&&(Ca(3,e,e.return),ul(3,e),Ca(5,e,e.return));break;case 1:Vr(n,e),xr(e),o&512&&(Dn||i===null||ss(i,i.return)),o&64&&Ls&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Bi;if(Vr(n,e),xr(e),o&512&&(Dn||i===null||ss(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){t:{o=e.type,i=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ln]||m[Ve]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Zn(m,o,i),m[Ve]=e,en(m),o=m;break t;case"link":var v=p_("link","href",f).get(o+(i.href||""));if(v){for(var R=0;R<v.length;R++)if(m=v[R],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(R,1);break e}}m=f.createElement(o),Zn(m,o,i),f.head.appendChild(m);break;case"meta":if(v=p_("meta","content",f).get(o+(i.content||""))){for(R=0;R<v.length;R++)if(m=v[R],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(R,1);break e}}m=f.createElement(o),Zn(m,o,i),f.head.appendChild(m);break;default:throw Error(s(468,o))}m[Ve]=e,en(m),o=m}e.stateNode=o}else g_(f,e.type,e.stateNode);else e.stateNode=m_(f,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?g_(f,e.type,e.stateNode):m_(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ud(e,e.memoizedProps,i.memoizedProps)}break;case 27:Vr(n,e),xr(e),o&512&&(Dn||i===null||ss(i,i.return)),i!==null&&o&4&&ud(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Vr(n,e),xr(e),o&512&&(Dn||i===null||ss(i,i.return)),e.flags&32){f=e.stateNode;try{Gn(f,"")}catch(Pt){Ue(e,e.return,Pt)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,ud(e,f,i!==null?i.memoizedProps:f)),o&1024&&(hd=!0);break;case 6:if(Vr(n,e),xr(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Pt){Ue(e,e.return,Pt)}}break;case 3:if(Xc=null,f=Bi,Bi=Qc(n.containerInfo),Vr(n,e),Bi=f,xr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{_u(n.containerInfo)}catch(Pt){Ue(e,e.return,Pt)}hd&&(hd=!1,gy(e));break;case 4:o=Bi,Bi=Qc(e.stateNode.containerInfo),Vr(n,e),xr(e),Bi=o;break;case 12:Vr(n,e),xr(e);break;case 31:Vr(n,e),xr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 13:Vr(n,e),xr(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(kc=Un()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 22:f=e.memoizedState!==null;var k=i!==null&&i.memoizedState!==null,nt=Ls,lt=Dn;if(Ls=nt||f,Dn=lt||k,Vr(n,e),Dn=lt,Ls=nt,xr(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||k||Ls||Dn||Ro(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){k=i=n;try{if(m=k.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=k.stateNode;var mt=k.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;R.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Pt){Ue(k,k.return,Pt)}}}else if(n.tag===6){if(i===null){k=n;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Pt){Ue(k,k.return,Pt)}}}else if(n.tag===18){if(i===null){k=n;try{var at=k.stateNode;f?s_(at,!0):s_(k.stateNode,!1)}catch(Pt){Ue(k,k.return,Pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Vc(e,i))));break;case 19:Vr(n,e),xr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 30:break;case 21:break;default:Vr(n,e),xr(e)}}function xr(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(oy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,m=ld(e);Mc(e,m,f);break;case 5:var v=i.stateNode;i.flags&32&&(Gn(v,""),i.flags&=-33);var R=ld(e);Mc(e,R,v);break;case 3:case 4:var k=i.stateNode.containerInfo,nt=ld(e);cd(e,nt,k);break;default:throw Error(s(161))}}catch(lt){Ue(e,e.return,lt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Ro(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ca(4,n,n.return),Ro(n);break;case 1:ss(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&sy(n,n.return,i),Ro(n);break;case 27:_l(n.stateNode);case 26:case 5:ss(n,n.return),Ro(n);break;case 22:n.memoizedState===null&&Ro(n);break;case 30:Ro(n);break;default:Ro(n)}e=e.sibling}}function js(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,m=n,v=m.flags;switch(m.tag){case 0:case 11:case 15:js(f,m,i),ul(4,m);break;case 1:if(js(f,m,i),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(nt){Ue(o,o.return,nt)}if(o=m,f=o.updateQueue,f!==null){var R=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Qp(k[f],R)}catch(nt){Ue(o,o.return,nt)}}i&&v&64&&iy(m),ll(m,m.return);break;case 27:uy(m);case 26:case 5:js(f,m,i),i&&o===null&&v&4&&ay(m),ll(m,m.return);break;case 12:js(f,m,i);break;case 31:js(f,m,i),i&&v&4&&dy(f,m);break;case 13:js(f,m,i),i&&v&4&&my(f,m);break;case 22:m.memoizedState===null&&js(f,m,i),ll(m,m.return);break;case 30:break;default:js(f,m,i)}n=n.sibling}}function fd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Xu(i))}function dd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xu(e))}function ji(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,i,o),n=n.sibling}function yy(e,n,i,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ji(e,n,i,o),f&2048&&ul(9,n);break;case 1:ji(e,n,i,o);break;case 3:ji(e,n,i,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xu(e)));break;case 12:if(f&2048){ji(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,v=m.id,R=m.onPostCommit;typeof R=="function"&&R(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ue(n,n.return,k)}}else ji(e,n,i,o);break;case 31:ji(e,n,i,o);break;case 13:ji(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,v=n.alternate,n.memoizedState!==null?m._visibility&2?ji(e,n,i,o):cl(e,n):m._visibility&2?ji(e,n,i,o):(m._visibility|=2,ou(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&fd(v,n);break;case 24:ji(e,n,i,o),f&2048&&dd(n.alternate,n);break;default:ji(e,n,i,o)}}function ou(e,n,i,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,v=n,R=i,k=o,nt=v.flags;switch(v.tag){case 0:case 11:case 15:ou(m,v,R,k,f),ul(8,v);break;case 23:break;case 22:var lt=v.stateNode;v.memoizedState!==null?lt._visibility&2?ou(m,v,R,k,f):cl(m,v):(lt._visibility|=2,ou(m,v,R,k,f)),f&&nt&2048&&fd(v.alternate,v);break;case 24:ou(m,v,R,k,f),f&&nt&2048&&dd(v.alternate,v);break;default:ou(m,v,R,k,f)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,f=o.flags;switch(o.tag){case 22:cl(i,o),f&2048&&fd(o.alternate,o);break;case 24:cl(i,o),f&2048&&dd(o.alternate,o);break;default:cl(i,o)}n=n.sibling}}var hl=8192;function uu(e,n,i){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)_y(e,n,i),e=e.sibling}function _y(e,n,i){switch(e.tag){case 26:uu(e,n,i),e.flags&hl&&e.memoizedState!==null&&Bb(i,Bi,e.memoizedState,e.memoizedProps);break;case 5:uu(e,n,i);break;case 3:case 4:var o=Bi;Bi=Qc(e.stateNode.containerInfo),uu(e,n,i),Bi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,uu(e,n,i),hl=o):uu(e,n,i));break;default:uu(e,n,i)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Ca(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xc(e)):fl(e);break;default:fl(e)}}function xc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ca(8,n,n.return),xc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,xc(n));break;default:xc(n)}e=e.sibling}}function Ty(e,n){for(;qn!==null;){var i=qn;switch(i.tag){case 0:case 11:case 15:Ca(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xu(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,qn=o;else t:for(i=e;qn!==null;){o=qn;var f=o.sibling,m=o.return;if(hy(o),o===i){qn=null;break t}if(f!==null){f.return=m,qn=f;break t}qn=m}}}var eb={getCacheForType:function(e){var n=Yn(Rn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Yn(Rn).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,pe=null,ye=0,Pe=0,ri=null,Ia=!1,lu=!1,md=!1,qs=0,fn=0,Da=0,Co=0,pd=0,ii=0,cu=0,dl=null,kr=null,gd=!1,kc=0,by=0,Pc=1/0,Uc=null,Oa=null,xn=0,Na=null,hu=null,Hs=0,yd=0,_d=null,Sy=null,ml=0,vd=null;function si(){return(Oe&2)!==0&&ye!==0?ye&-ye:ut.T!==null?wd():Ts()}function Ay(){if(ii===0)if((ye&536870912)===0||Ae){var e=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),ii=e}else ii=536870912;return e=ei.current,e!==null&&(e.flags|=32),ii}function Pr(e,n,i){(e===qe&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(fu(e,0),Ma(e,ye,ii,!1)),_r(e,i),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(Co|=i),fn===4&&Ma(e,ye,ii,!1)),as(e))}function wy(e,n,i){if((Oe&6)!==0)throw Error(s(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||cr(e,n),f=o?sb(e,n):Td(e,n,!0),m=o;do{if(f===0){lu&&!o&&Ma(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!rb(i)){f=Td(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var R=e;f=dl;var k=R.current.memoizedState.isDehydrated;if(k&&(fu(R,v).flags|=256),v=Td(R,v,!1),v!==2){if(md&&!k){R.errorRecoveryDisabledLanes|=m,Co|=m,f=4;break t}m=kr,kr=f,m!==null&&(kr===null?kr=m:kr.push.apply(kr,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){fu(e,0),Ma(e,n,0,!0);break}t:{switch(o=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ma(o,n,ii,!Ia);break t;case 2:kr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=kc+300-Un(),10<f)){if(Ma(o,n,ii,!Ia),qr(o,0,!0)!==0)break t;Hs=n,o.timeoutHandle=n_(Ry.bind(null,o,i,kr,Uc,gd,n,ii,Co,cu,Ia,m,"Throttled",-0,0),f);break t}Ry(o,i,kr,Uc,gd,n,ii,Co,cu,Ia,m,null,-0,0)}}break}while(!0);as(e)}function Ry(e,n,i,o,f,m,v,R,k,nt,lt,mt,it,at){if(e.timeoutHandle=-1,mt=n.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rr},_y(n,m,mt);var Pt=(m&62914560)===m?kc-Un():(m&4194048)===m?by-Un():0;if(Pt=jb(mt,Pt),Pt!==null){Hs=m,e.cancelPendingCommit=Pt(xy.bind(null,e,n,m,i,o,f,v,R,k,lt,mt,null,it,at)),Ma(e,m,v,!nt);return}}xy(e,n,m,i,o,f,v,R,k)}function rb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],m=f.getSnapshot;f=f.value;try{if(!ir(m(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ma(e,n,i,o){n&=~pd,n&=~Co,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var m=31-Dt(f),v=1<<m;o[m]=-1,f&=~v}i!==0&&ci(e,i,n)}function Lc(){return(Oe&6)===0?(pl(0),!1):!0}function Ed(){if(pe!==null){if(Pe===0)var e=pe.return;else e=pe,Ms=_o=null,Pf(e),nu=null,Ju=0,e=pe;for(;e!==null;)ry(e.alternate,e),e=e.return;pe=null}}function fu(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Sb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Hs=0,Ed(),qe=e,pe=i=Os(e.current,null),ye=n,Pe=0,ri=null,Ia=!1,lu=cr(e,n),md=!1,cu=ii=pd=Co=Da=fn=0,kr=dl=null,gd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Dt(o),m=1<<f;n|=e[f],o&=~m}return qs=n,jn(),i}function Cy(e,n){se=null,ut.H=sl,n===eu||n===dc?(n=Hp(),Pe=3):n===Af?(n=Hp(),Pe=4):Pe=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ri=n,pe===null&&(fn=1,Cc(e,Ei(n,e.current)))}function Iy(){var e=ei.current;return e===null?!0:(ye&4194048)===ye?Ai===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Ai:!1}function Dy(){var e=ut.H;return ut.H=sl,e===null?sl:e}function Oy(){var e=ut.A;return ut.A=eb,e}function zc(){fn=4,Ia||(ye&4194048)!==ye&&ei.current!==null||(lu=!0),(Da&134217727)===0&&(Co&134217727)===0||qe===null||Ma(qe,ye,ii,!1)}function Td(e,n,i){var o=Oe;Oe|=2;var f=Dy(),m=Oy();(qe!==e||ye!==n)&&(Uc=null,fu(e,n)),n=!1;var v=fn;t:do try{if(Pe!==0&&pe!==null){var R=pe,k=ri;switch(Pe){case 8:Ed(),v=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(n=!0);var nt=Pe;if(Pe=0,ri=null,du(e,R,k,nt),i&&lu){v=0;break t}break;default:nt=Pe,Pe=0,ri=null,du(e,R,k,nt)}}ib(),v=fn;break}catch(lt){Cy(e,lt)}while(!0);return n&&e.shellSuspendCounter++,Ms=_o=null,Oe=o,ut.H=f,ut.A=m,pe===null&&(qe=null,ye=0,jn()),v}function ib(){for(;pe!==null;)Ny(pe)}function sb(e,n){var i=Oe;Oe|=2;var o=Dy(),f=Oy();qe!==e||ye!==n?(Uc=null,Pc=Un()+500,fu(e,n)):lu=cr(e,n);t:do try{if(Pe!==0&&pe!==null){n=pe;var m=ri;e:switch(Pe){case 1:Pe=0,ri=null,du(e,n,m,1);break;case 2:case 9:if(jp(m)){Pe=0,ri=null,My(n);break}n=function(){Pe!==2&&Pe!==9||qe!==e||(Pe=7),as(e)},m.then(n,n);break t;case 3:Pe=7;break t;case 4:Pe=5;break t;case 7:jp(m)?(Pe=0,ri=null,My(n)):(Pe=0,ri=null,du(e,n,m,7));break;case 5:var v=null;switch(pe.tag){case 26:v=pe.memoizedState;case 5:case 27:var R=pe;if(v?y_(v):R.stateNode.complete){Pe=0,ri=null;var k=R.sibling;if(k!==null)pe=k;else{var nt=R.return;nt!==null?(pe=nt,Bc(nt)):pe=null}break e}}Pe=0,ri=null,du(e,n,m,5);break;case 6:Pe=0,ri=null,du(e,n,m,6);break;case 8:Ed(),fn=6;break t;default:throw Error(s(462))}}ab();break}catch(lt){Cy(e,lt)}while(!0);return Ms=_o=null,ut.H=o,ut.A=f,Oe=i,pe!==null?0:(qe=null,ye=0,jn(),fn)}function ab(){for(;pe!==null&&!qo();)Ny(pe)}function Ny(e){var n=ey(e.alternate,e,qs);e.memoizedProps=e.pendingProps,n===null?Bc(e):pe=n}function My(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Xg(i,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=Xg(i,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:Pf(n);default:ry(i,n),n=pe=Op(n,qs),n=ey(i,n,qs)}e.memoizedProps=e.pendingProps,n===null?Bc(e):pe=n}function du(e,n,i,o){Ms=_o=null,Pf(n),nu=null,Ju=0;var f=n.return;try{if(YT(e,f,n,i,ye)){fn=1,Cc(e,Ei(i,e.current)),pe=null;return}}catch(m){if(f!==null)throw pe=f,m;fn=1,Cc(e,Ei(i,e.current)),pe=null;return}n.flags&32768?(Ae||o===1?e=!0:lu||(ye&536870912)!==0?e=!1:(Ia=e=!0,(o===2||o===9||o===3||o===6)&&(o=ei.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):Bc(n)}function Bc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Ia);return}e=n.return;var i=JT(n.alternate,n,qs);if(i!==null){pe=i;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=e}while(n!==null);fn===0&&(fn=5)}function Vy(e,n){do{var i=$T(e.alternate,e);if(i!==null){i.flags&=32767,pe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){pe=e;return}pe=e=i}while(e!==null);fn=6,pe=null}function xy(e,n,i,o,f,m,v,R,k){e.cancelPendingCommit=null;do jc();while(xn!==0);if((Oe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=ie,so(e,i,m,v,R,k),e===qe&&(pe=qe=null,ye=0),hu=n,Na=e,Hs=i,yd=m,_d=f,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cb(ui,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=ut.T,ut.T=null,f=Nt.p,Nt.p=2,v=Oe,Oe|=4;try{WT(e,n,i)}finally{Oe=v,Nt.p=f,ut.T=o}}xn=1,ky(),Py(),Uy()}}function ky(){if(xn===1){xn=0;var e=Na,n=hu,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=ut.T,ut.T=null;var o=Nt.p;Nt.p=2;var f=Oe;Oe|=4;try{py(n,e);var m=Vd,v=A(e.containerInfo),R=m.focusedElem,k=m.selectionRange;if(v!==R&&R&&R.ownerDocument&&_(R.ownerDocument.documentElement,R)){if(k!==null&&w(R)){var nt=k.start,lt=k.end;if(lt===void 0&&(lt=nt),"selectionStart"in R)R.selectionStart=nt,R.selectionEnd=Math.min(lt,R.value.length);else{var mt=R.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Pt=R.textContent.length,Kt=Math.min(k.start,Pt),je=k.end===void 0?Kt:Math.min(k.end,Pt);!at.extend&&Kt>je&&(v=je,je=Kt,Kt=v);var J=g(R,Kt),q=g(R,je);if(J&&q&&(at.rangeCount!==1||at.anchorNode!==J.node||at.anchorOffset!==J.offset||at.focusNode!==q.node||at.focusOffset!==q.offset)){var et=mt.createRange();et.setStart(J.node,J.offset),at.removeAllRanges(),Kt>je?(at.addRange(et),at.extend(q.node,q.offset)):(et.setEnd(q.node,q.offset),at.addRange(et))}}}}for(mt=[],at=R;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<mt.length;R++){var ct=mt[R];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Wc=!!Md,Vd=Md=null}finally{Oe=f,Nt.p=o,ut.T=i}}e.current=n,xn=2}}function Py(){if(xn===2){xn=0;var e=Na,n=hu,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=ut.T,ut.T=null;var o=Nt.p;Nt.p=2;var f=Oe;Oe|=4;try{cy(e,n.alternate,n)}finally{Oe=f,Nt.p=o,ut.T=i}}xn=3}}function Uy(){if(xn===4||xn===3){xn=0,Qi();var e=Na,n=hu,i=Hs,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xn=5:(xn=0,hu=Na=null,Ly(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Oa=null),vr(i),n=n.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(tr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=ut.T,f=Nt.p,Nt.p=2,ut.T=null;try{for(var m=e.onRecoverableError,v=0;v<o.length;v++){var R=o[v];m(R.value,{componentStack:R.stack})}}finally{ut.T=n,Nt.p=f}}(Hs&3)!==0&&jc(),as(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===vd?ml++:(ml=0,vd=e):ml=0,pl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xu(n)))}function jc(){return ky(),Py(),Uy(),zy()}function zy(){if(xn!==5)return!1;var e=Na,n=yd;yd=0;var i=vr(Hs),o=ut.T,f=Nt.p;try{Nt.p=32>i?32:i,ut.T=null,i=_d,_d=null;var m=Na,v=Hs;if(xn=0,hu=Na=null,Hs=0,(Oe&6)!==0)throw Error(s(331));var R=Oe;if(Oe|=4,Ey(m.current),yy(m,m.current,v,i),Oe=R,pl(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(tr,m)}catch{}return!0}finally{Nt.p=f,ut.T=o,Ly(e,n)}}function By(e,n,i){n=Ei(i,n),n=Jf(e.stateNode,n,2),e=Aa(e,n,2),e!==null&&(_r(e,2),as(e))}function Ue(e,n,i){if(e.tag===3)By(e,e,i);else for(;n!==null;){if(n.tag===3){By(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Oa===null||!Oa.has(o))){e=Ei(i,e),i=jg(2),o=Aa(n,i,2),o!==null&&(qg(i,o,n,e),_r(o,2),as(o));break}}n=n.return}}function bd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new nb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(i)||(md=!0,f.add(i),e=ob.bind(null,e,n,i),n.then(e,e))}function ob(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,qe===e&&(ye&i)===i&&(fn===4||fn===3&&(ye&62914560)===ye&&300>Un()-kc?(Oe&2)===0&&fu(e,0):pd|=i,cu===ye&&(cu=0)),as(e)}function jy(e,n){n===0&&(n=Ho()),e=Ze(e,n),e!==null&&(_r(e,n),as(e))}function ub(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),jy(e,i)}function lb(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),jy(e,i)}function cb(e,n){return We(e,n)}var qc=null,mu=null,Sd=!1,Hc=!1,Ad=!1,Va=0;function as(e){e!==mu&&e.next===null&&(mu===null?qc=mu=e:mu=mu.next=e),Hc=!0,Sd||(Sd=!0,fb())}function pl(e,n){if(!Ad&&Hc){Ad=!0;do for(var i=!1,o=qc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var v=o.suspendedLanes,R=o.pingedLanes;m=(1<<31-Dt(42|e)+1)-1,m&=f&~(v&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Ky(o,m))}else m=ye,m=qr(o,o===qe?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||cr(o,m)||(i=!0,Ky(o,m));o=o.next}while(i);Ad=!1}}function hb(){qy()}function qy(){Hc=Sd=!1;var e=0;Va!==0&&bb()&&(e=Va);for(var n=Un(),i=null,o=qc;o!==null;){var f=o.next,m=Hy(o,n);m===0?(o.next=null,i===null?qc=f:i.next=f,f===null&&(mu=i)):(i=o,(e!==0||(m&3)!==0)&&(Hc=!0)),o=f}xn!==0&&xn!==5||pl(e),Va!==0&&(Va=0)}function Hy(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-Dt(m),R=1<<v,k=f[v];k===-1?((R&i)===0||(R&o)!==0)&&(f[v]=qu(R,n)):k<=n&&(e.expiredLanes|=R),m&=~R}if(n=qe,i=ye,i=qr(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mn(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||cr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Mn(o),vr(i)){case 2:case 8:i=jr;break;case 32:i=ui;break;case 268435456:i=ea;break;default:i=ui}return o=Fy.bind(null,e),i=We(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Mn(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(xn!==0&&xn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(jc()&&e.callbackNode!==i)return null;var o=ye;return o=qr(e,e===qe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,Un()),e.callbackNode!=null&&e.callbackNode===i?Fy.bind(null,e):null)}function Ky(e,n){if(jc())return null;wy(e,n,!0)}function fb(){Ab(function(){(Oe&6)!==0?We(Br,hb):qy()})}function wd(){if(Va===0){var e=Wo;e===0&&(e=At,At<<=1,(At&261888)===0&&(At=256)),Va=e}return Va}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function Qy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function db(e,n,i,o,f){if(n==="submit"&&i&&i.stateNode===f){var m=Gy((f[Fe]||null).action),v=o.submitter;v&&(n=(n=v[Fe]||null)?Gy(n.formAction):v.getAttribute("formAction"),n!==null&&(m=n,v=null));var R=new mi("action","action",null,o,f);e.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Va!==0){var k=v?Qy(f,v):new FormData(f);Kf(i,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(R.preventDefault(),k=v?Qy(f,v):new FormData(f),Kf(i,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var Rd=0;Rd<Rt.length;Rd++){var Cd=Rt[Rd],mb=Cd.toLowerCase(),pb=Cd[0].toUpperCase()+Cd.slice(1);vt(mb,"on"+pb)}vt(tt,"onAnimationEnd"),vt(rt,"onAnimationIteration"),vt(ot,"onAnimationStart"),vt("dblclick","onDoubleClick"),vt("focusin","onFocus"),vt("focusout","onBlur"),vt(dt,"onTransitionRun"),vt(Et,"onTransitionStart"),vt(It,"onTransitionCancel"),vt(_t,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function Yy(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],f=o.event;o=o.listeners;t:{var m=void 0;if(n)for(var v=o.length-1;0<=v;v--){var R=o[v],k=R.instance,nt=R.currentTarget;if(R=R.listener,k!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=nt;try{m(f)}catch(lt){Mt(lt)}f.currentTarget=null,m=k}else for(v=0;v<o.length;v++){if(R=o[v],k=R.instance,nt=R.currentTarget,R=R.listener,k!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=nt;try{m(f)}catch(lt){Mt(lt)}f.currentTarget=null,m=k}}}}function ge(e,n){var i=n[Mi];i===void 0&&(i=n[Mi]=new Set);var o=e+"__bubble";i.has(o)||(Xy(n,e,2,!1),i.add(o))}function Id(e,n,i){var o=0;n&&(o|=4),Xy(i,e,o,n)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[Fc]){e[Fc]=!0,hi.forEach(function(i){i!=="selectionchange"&&(gb.has(i)||Id(i,!1,e),Id(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fc]||(n[Fc]=!0,Id("selectionchange",!1,n))}}function Xy(e,n,i,o){switch(A_(n)){case 2:var f=Fb;break;case 8:f=Kb;break;default:f=Fd}i=f.bind(null,n,i,e),f=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Od(e,n,i,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var R=o.stateNode.containerInfo;if(R===f)break;if(v===4)for(v=o.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;R!==null;){if(v=Er(R),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){o=m=v;continue t}R=R.parentNode}}o=o.return}wr(function(){var nt=m,lt=hr(i),mt=[];t:{var it=bt.get(e);if(it!==void 0){var at=mi,Pt=e;switch(e){case"keypress":if(Pi(i)===0)break t;case"keydown":case"keyup":at=Cs;break;case"focusin":Pt="focus",at=yi;break;case"focusout":Pt="blur",at=yi;break;case"beforeblur":case"afterblur":at=yi;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=y;break;case tt:case rt:case ot:at=co;break;case _t:at=C;break;case"scroll":case"scrollend":at=$i;break;case"wheel":at=st;break;case"copy":case"cut":case"paste":at=zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=_i;break;case"toggle":case"beforetoggle":at=$t}var Kt=(n&4)!==0,je=!Kt&&(e==="scroll"||e==="scrollend"),J=Kt?it!==null?it+"Capture":null:it;Kt=[];for(var q=nt,et;q!==null;){var ct=q;if(et=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||et===null||J===null||(ct=fr(q,J),ct!=null&&Kt.push(yl(q,ct,et))),je)break;q=q.return}0<Kt.length&&(it=new at(it,Pt,null,i,lt),mt.push({event:it,listeners:Kt}))}}if((n&7)===0){t:{if(it=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",it&&i!==Ar&&(Pt=i.relatedTarget||i.fromElement)&&(Er(Pt)||Pt[Vn]))break t;if((at||it)&&(it=lt.window===lt?lt:(it=lt.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Pt=i.relatedTarget||i.toElement,at=nt,Pt=Pt?Er(Pt):null,Pt!==null&&(je=h(Pt),Kt=Pt.tag,Pt!==je||Kt!==5&&Kt!==27&&Kt!==6)&&(Pt=null)):(at=null,Pt=nt),at!==Pt)){if(Kt=ws,ct="onMouseLeave",J="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Kt=_i,ct="onPointerLeave",J="onPointerEnter",q="pointer"),je=at==null?it:gn(at),et=Pt==null?it:gn(Pt),it=new Kt(ct,q+"leave",at,i,lt),it.target=je,it.relatedTarget=et,ct=null,Er(lt)===nt&&(Kt=new Kt(J,q+"enter",Pt,i,lt),Kt.target=et,Kt.relatedTarget=je,ct=Kt),je=ct,at&&Pt)e:{for(Kt=yb,J=at,q=Pt,et=0,ct=J;ct;ct=Kt(ct))et++;ct=0;for(var jt=q;jt;jt=Kt(jt))ct++;for(;0<et-ct;)J=Kt(J),et--;for(;0<ct-et;)q=Kt(q),ct--;for(;et--;){if(J===q||q!==null&&J===q.alternate){Kt=J;break e}J=Kt(J),q=Kt(q)}Kt=null}else Kt=null;at!==null&&Zy(mt,it,at,Kt,!1),Pt!==null&&je!==null&&Zy(mt,je,Pt,Kt,!0)}}t:{if(it=nt?gn(nt):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var Ie=mo;else if(Go(it))if(vi)Ie=ya;else{Ie=Ds;var Lt=oc}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&aa(nt.elementType)&&(Ie=mo):Ie=Ku;if(Ie&&(Ie=Ie(e,nt))){Fu(mt,Ie,i,lt);break t}Lt&&Lt(e,it,nt),e==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&Ss(it,"number",it.value)}switch(Lt=nt?gn(nt):window,e){case"focusin":(Go(Lt)||Lt.contentEditable==="true")&&(N=Lt,L=nt,z=null);break;case"focusout":z=L=N=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,U(mt,i,lt);break;case"selectionchange":if(I)break;case"keydown":case"keyup":U(mt,i,lt)}var ae;if(Se)t:{switch(e){case"compositionstart":var _e="onCompositionStart";break t;case"compositionend":_e="onCompositionEnd";break t;case"compositionupdate":_e="onCompositionUpdate";break t}_e=void 0}else Is?es(e,i)&&(_e="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(_e="onCompositionStart");_e&&(Or&&i.locale!=="ko"&&(Is||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Is&&(ae=ki()):(Rr=lt,oa="value"in Rr?Rr.value:Rr.textContent,Is=!0)),Lt=Kc(nt,_e),0<Lt.length&&(_e=new Cr(_e,e,null,i,lt),mt.push({event:_e,listeners:Lt}),ae?_e.data=ae:(ae=ma(i),ae!==null&&(_e.data=ae)))),(ae=Dr?ic(e,i):lf(e,i))&&(_e=Kc(nt,"onBeforeInput"),0<_e.length&&(Lt=new Cr("onBeforeInput","beforeinput",null,i,lt),mt.push({event:Lt,listeners:_e}),Lt.data=ae)),db(mt,e,nt,i,lt)}Yy(mt,n)})}function yl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Kc(e,n){for(var i=n+"Capture",o=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=fr(e,i),f!=null&&o.unshift(yl(e,f,m)),f=fr(e,n),f!=null&&o.push(yl(e,f,m))),e.tag===3)return o;e=e.return}return[]}function yb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,i,o,f){for(var m=n._reactName,v=[];i!==null&&i!==o;){var R=i,k=R.alternate,nt=R.stateNode;if(R=R.tag,k!==null&&k===o)break;R!==5&&R!==26&&R!==27||nt===null||(k=nt,f?(nt=fr(i,m),nt!=null&&v.unshift(yl(i,nt,k))):f||(nt=fr(i,m),nt!=null&&v.push(yl(i,nt,k)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var _b=/\r\n?/g,vb=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(vb,"")}function $y(e,n){return n=Jy(n),Jy(e)===n}function Be(e,n,i,o,f,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Gn(e,""+o);break;case"className":nr(e,"class",o);break;case"tabIndex":nr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,i,o);break;case"style":sa(e,o,m);break;case"data":if(n!=="object"){nr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Zr(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Be(e,n,"name",f.name,f,null),Be(e,n,"formEncType",f.formEncType,f,null),Be(e,n,"formMethod",f.formMethod,f,null),Be(e,n,"formTarget",f.formTarget,f,null)):(Be(e,n,"encType",f.encType,f,null),Be(e,n,"method",f.method,f,null),Be(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Zr(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=rr);break;case"onScroll":o!=null&&ge("scroll",e);break;case"onScrollEnd":o!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Zr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ge("beforetoggle",e),ge("toggle",e),re(e,"popover",o);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":re(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ko.get(i)||i,re(e,i,o))}}function Nd(e,n,i,o,f,m){switch(i){case"style":sa(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Gn(e,o):(typeof o=="number"||typeof o=="bigint")&&Gn(e,""+o);break;case"onScroll":o!=null&&ge("scroll",e);break;case"onScrollEnd":o!=null&&ge("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xi.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),m=e[Fe]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,f);break t}i in e?e[i]=o:o===!0?e.setAttribute(i,""):re(e,i,o)}}}function Zn(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var o=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var v=i[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,m,v,i,null)}}f&&Be(e,n,"srcSet",i.srcSet,i,null),o&&Be(e,n,"src",i.src,i,null);return;case"input":ge("invalid",e);var R=m=v=f=null,k=null,nt=null;for(o in i)if(i.hasOwnProperty(o)){var lt=i[o];if(lt!=null)switch(o){case"name":f=lt;break;case"type":v=lt;break;case"checked":k=lt;break;case"defaultChecked":nt=lt;break;case"value":m=lt;break;case"defaultValue":R=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,n));break;default:Be(e,n,o,lt,i,null)}}ia(e,m,R,k,nt,v,f,!1);return;case"select":ge("invalid",e),o=v=m=null;for(f in i)if(i.hasOwnProperty(f)&&(R=i[f],R!=null))switch(f){case"value":m=R;break;case"defaultValue":v=R;break;case"multiple":o=R;default:Be(e,n,f,R,i,null)}n=m,i=v,e.multiple=!!o,n!=null?Yr(e,!!o,n,!1):i!=null&&Yr(e,!!o,i,!0);return;case"textarea":ge("invalid",e),m=f=o=null;for(v in i)if(i.hasOwnProperty(v)&&(R=i[v],R!=null))switch(v){case"value":o=R;break;case"defaultValue":f=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Be(e,n,v,R,i,null)}Xr(e,o,f,m);return;case"option":for(k in i)if(i.hasOwnProperty(k)&&(o=i[k],o!=null))switch(k){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Be(e,n,k,o,i,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(o=0;o<gl.length;o++)ge(gl[o],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in i)if(i.hasOwnProperty(nt)&&(o=i[nt],o!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,nt,o,i,null)}return;default:if(aa(n)){for(lt in i)i.hasOwnProperty(lt)&&(o=i[lt],o!==void 0&&Nd(e,n,lt,o,i,void 0));return}}for(R in i)i.hasOwnProperty(R)&&(o=i[R],o!=null&&Be(e,n,R,o,i,null))}function Eb(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,R=null,k=null,nt=null,lt=null;for(at in i){var mt=i[at];if(i.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":k=mt;default:o.hasOwnProperty(at)||Be(e,n,at,null,o,mt)}}for(var it in o){var at=o[it];if(mt=i[it],o.hasOwnProperty(it)&&(at!=null||mt!=null))switch(it){case"type":m=at;break;case"name":f=at;break;case"checked":nt=at;break;case"defaultChecked":lt=at;break;case"value":v=at;break;case"defaultValue":R=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,n));break;default:at!==mt&&Be(e,n,it,at,o,mt)}}Qr(e,v,R,k,nt,lt,m,f);return;case"select":at=v=R=it=null;for(m in i)if(k=i[m],i.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":at=k;default:o.hasOwnProperty(m)||Be(e,n,m,null,o,k)}for(f in o)if(m=o[f],k=i[f],o.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":it=m;break;case"defaultValue":R=m;break;case"multiple":v=m;default:m!==k&&Be(e,n,f,m,o,k)}n=R,i=v,o=at,it!=null?Yr(e,!!i,it,!1):!!o!=!!i&&(n!=null?Yr(e,!!i,n,!0):Yr(e,!!i,i?[]:"",!1));return;case"textarea":at=it=null;for(R in i)if(f=i[R],i.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Be(e,n,R,null,o,f)}for(v in o)if(f=o[v],m=i[v],o.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":it=f;break;case"defaultValue":at=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Be(e,n,v,f,o,m)}uo(e,it,at);return;case"option":for(var Pt in i)if(it=i[Pt],i.hasOwnProperty(Pt)&&it!=null&&!o.hasOwnProperty(Pt))switch(Pt){case"selected":e.selected=!1;break;default:Be(e,n,Pt,null,o,it)}for(k in o)if(it=o[k],at=i[k],o.hasOwnProperty(k)&&it!==at&&(it!=null||at!=null))switch(k){case"selected":e.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Be(e,n,k,it,o,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in i)it=i[Kt],i.hasOwnProperty(Kt)&&it!=null&&!o.hasOwnProperty(Kt)&&Be(e,n,Kt,null,o,it);for(nt in o)if(it=o[nt],at=i[nt],o.hasOwnProperty(nt)&&it!==at&&(it!=null||at!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,n));break;default:Be(e,n,nt,it,o,at)}return;default:if(aa(n)){for(var je in i)it=i[je],i.hasOwnProperty(je)&&it!==void 0&&!o.hasOwnProperty(je)&&Nd(e,n,je,void 0,o,it);for(lt in o)it=o[lt],at=i[lt],!o.hasOwnProperty(lt)||it===at||it===void 0&&at===void 0||Nd(e,n,lt,it,o,at);return}}for(var J in i)it=i[J],i.hasOwnProperty(J)&&it!=null&&!o.hasOwnProperty(J)&&Be(e,n,J,null,o,it);for(mt in o)it=o[mt],at=i[mt],!o.hasOwnProperty(mt)||it===at||it==null&&at==null||Be(e,n,mt,it,o,at)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],m=f.transferSize,v=f.initiatorType,R=f.duration;if(m&&R&&Wy(v)){for(v=0,R=f.responseEnd,o+=1;o<i.length;o++){var k=i[o],nt=k.startTime;if(nt>R)break;var lt=k.transferSize,mt=k.initiatorType;lt&&Wy(mt)&&(k=k.responseEnd,v+=lt*(k<R?1:(R-nt)/(k-nt)))}if(--o,n+=8*(m+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Md=null,Vd=null;function Gc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function xd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kd=null;function bb(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(wb)}:n_;function wb(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function i_(e,n){var i=n,o=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(f),_u(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")_l(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,_l(i);for(var m=i.firstChild;m;){var v=m.nextSibling,R=m.nodeName;m[Ln]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=v}}else i==="body"&&_l(e.ownerDocument.body);i=f}while(i);_u(n)}function s_(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Pd(i),bs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Rb(e,n,i,o){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ln])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=wi(e.nextSibling),e===null)break}return null}function Cb(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=wi(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wi(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ib(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function wi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var zd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return wi(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,i){switch(n=Gc(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);bs(e)}var Ri=new Map,c_=new Set;function Qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fs=Nt.d;Nt.d={f:Db,r:Ob,D:Nb,C:Mb,L:Vb,m:xb,X:Pb,S:kb,M:Ub};function Db(){var e=Fs.f(),n=Lc();return e||n}function Ob(e){var n=we(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Fs.r(e)}var pu=typeof document>"u"?null:document;function h_(e,n,i){var o=pu;if(o&&typeof n=="string"&&n){var f=Sn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),c_.has(f)||(c_.add(f),e={rel:e,crossOrigin:i,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Zn(n,"link",e),en(n),o.head.appendChild(n)))}}function Nb(e){Fs.D(e),h_("dns-prefetch",e,null)}function Mb(e,n){Fs.C(e,n),h_("preconnect",e,n)}function Vb(e,n,i){Fs.L(e,n,i);var o=pu;if(o&&e&&n){var f='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Sn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Sn(i.imageSizes)+'"]')):f+='[href="'+Sn(e)+'"]';var m=f;switch(n){case"style":m=gu(e);break;case"script":m=yu(e)}Ri.has(m)||(e=O({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Ri.set(m,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(vl(m))||n==="script"&&o.querySelector(El(m))||(n=o.createElement("link"),Zn(n,"link",e),en(n),o.head.appendChild(n)))}}function xb(e,n){Fs.m(e,n);var i=pu;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(e)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yu(e)}if(!Ri.has(m)&&(e=O({rel:"modulepreload",href:e},n),Ri.set(m,e),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(El(m)))return}o=i.createElement("link"),Zn(o,"link",e),en(o),i.head.appendChild(o)}}}function kb(e,n,i){Fs.S(e,n,i);var o=pu;if(o&&e){var f=bn(o).hoistableStyles,m=gu(e);n=n||"default";var v=f.get(m);if(!v){var R={loading:0,preload:null};if(v=o.querySelector(vl(m)))R.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Ri.get(m))&&Bd(e,i);var k=v=o.createElement("link");en(k),Zn(k,"link",e),k._p=new Promise(function(nt,lt){k.onload=nt,k.onerror=lt}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Yc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:R},f.set(m,v)}}}function Pb(e,n){Fs.X(e,n);var i=pu;if(i&&e){var o=bn(i).hoistableScripts,f=yu(e),m=o.get(f);m||(m=i.querySelector(El(f)),m||(e=O({src:e,async:!0},n),(n=Ri.get(f))&&jd(e,n),m=i.createElement("script"),en(m),Zn(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Ub(e,n){Fs.M(e,n);var i=pu;if(i&&e){var o=bn(i).hoistableScripts,f=yu(e),m=o.get(f);m||(m=i.querySelector(El(f)),m||(e=O({src:e,async:!0,type:"module"},n),(n=Ri.get(f))&&jd(e,n),m=i.createElement("script"),en(m),Zn(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function f_(e,n,i,o){var f=(f=Yt.current)?Qc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=gu(i.href),i=bn(f).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=gu(i.href);var m=bn(f).hoistableStyles,v=m.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=f.querySelector(vl(e)))&&!m._p&&(v.instance=m,v.state.loading=5),Ri.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ri.set(e,i),m||Lb(f,e,i,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=yu(i),i=bn(f).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function gu(e){return'href="'+Sn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function Lb(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zn(n,"link",i),en(n),e.head.appendChild(n))}function yu(e){return'[src="'+Sn(e)+'"]'}function El(e){return"script[async]"+e}function m_(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Sn(i.href)+'"]');if(o)return n.instance=o,en(o),o;var f=O({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),en(o),Zn(o,"style",f),Yc(o,i.precedence,e),n.instance=o;case"stylesheet":f=gu(i.href);var m=e.querySelector(vl(f));if(m)return n.state.loading|=4,n.instance=m,en(m),m;o=d_(i),(f=Ri.get(f))&&Bd(o,f),m=(e.ownerDocument||e).createElement("link"),en(m);var v=m;return v._p=new Promise(function(R,k){v.onload=R,v.onerror=k}),Zn(m,"link",o),n.state.loading|=4,Yc(m,i.precedence,e),n.instance=m;case"script":return m=yu(i.src),(f=e.querySelector(El(m)))?(n.instance=f,en(f),f):(o=i,(f=Ri.get(m))&&(o=O({},i),jd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),en(f),Zn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Yc(o,i.precedence,e));return n.instance}function Yc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,v=0;v<o.length;v++){var R=o[v];if(R.dataset.precedence===n)m=R;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xc=null;function p_(e,n,i){if(Xc===null){var o=new Map,f=Xc=new Map;f.set(i,o)}else f=Xc,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var m=i[f];if(!(m[Ln]||m[Ve]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(n)||"";v=e+v;var R=o.get(v);R?R.push(m):o.set(v,[m])}}return o}function g_(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function zb(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bb(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=gu(o.href),m=n.querySelector(vl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Zc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,en(m);return}m=n.ownerDocument||n,o=d_(o),(f=Ri.get(f))&&Bd(o,f),m=m.createElement("link"),en(m);var v=m;v._p=new Promise(function(R,k){v.onload=R,v.onerror=k}),Zn(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Zc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var qd=0;function jb(e,n){return e.stylesheets&&e.count===0&&$c(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&qd===0&&(qd=62500*Tb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>qd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jc=null;function $c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jc=new Map,n.forEach(qb,e),Jc=null,Zc.call(e))}function qb(e,n){if(!(n.state.loading&4)){var i=Jc.get(e);if(i)var o=i.get(null);else{i=new Map,Jc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),m=i.get(v)||o,m===o&&i.set(null,f),i.set(v,f),this.count++,o=Zc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:qt,Provider:null,Consumer:null,_currentValue:Ut,_currentValue2:Ut,_threadCount:0};function Hb(e,n,i,o,f,m,v,R,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function __(e,n,i,o,f,m,v,R,k,nt,lt,mt){return e=new Hb(e,n,i,v,k,nt,lt,mt,R),n=1,m===!0&&(n|=24),m=ti(3,null,null,n),e.current=m,m.stateNode=e,n=Tf(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},wf(m),e}function v_(e){return e?(e=Nr,e):Nr}function E_(e,n,i,o,f,m){f=v_(f),o.context===null?o.context=f:o.pendingContext=f,o=Sa(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Aa(e,o,n),i!==null&&(Pr(i,e,n),Wu(i,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Hd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=Ze(e,67108864);n!==null&&Pr(n,e,67108864),Hd(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=si();n=Es(n);var i=Ze(e,n);i!==null&&Pr(i,e,n),Hd(e,n)}}var Wc=!0;function Fb(e,n,i,o){var f=ut.T;ut.T=null;var m=Nt.p;try{Nt.p=2,Fd(e,n,i,o)}finally{Nt.p=m,ut.T=f}}function Kb(e,n,i,o){var f=ut.T;ut.T=null;var m=Nt.p;try{Nt.p=8,Fd(e,n,i,o)}finally{Nt.p=m,ut.T=f}}function Fd(e,n,i,o){if(Wc){var f=Kd(o);if(f===null)Od(e,n,o,th,i),w_(e,o);else if(Qb(f,e,n,i,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<Gb.indexOf(e)){for(;f!==null;){var m=we(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=yr(m.pendingLanes);if(v!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;v;){var k=1<<31-Dt(v);R.entanglements[1]|=k,v&=~k}as(m),(Oe&6)===0&&(Pc=Un()+500,pl(0))}}break;case 31:case 13:R=Ze(m,2),R!==null&&Pr(R,m,2),Lc(),Hd(m,2)}if(m=Kd(o),m===null&&Od(e,n,o,th,i),m===f)break;f=m}f!==null&&o.stopPropagation()}else Od(e,n,o,null,i)}}function Kd(e){return e=hr(e),Gd(e)}var th=null;function Gd(e){if(th=null,e=Er(e),e!==null){var n=h(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=E(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return th=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zr()){case Br:return 2;case jr:return 8;case ui:case ys:return 32;case ea:return 268435456;default:return 32}default:return 32}}var Qd=!1,ka=null,Pa=null,Ua=null,bl=new Map,Sl=new Map,La=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Al(e,n,i,o,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=we(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Qb(e,n,i,o,f){switch(n){case"focusin":return ka=Al(ka,e,n,i,o,f),!0;case"dragenter":return Pa=Al(Pa,e,n,i,o,f),!0;case"mouseover":return Ua=Al(Ua,e,n,i,o,f),!0;case"pointerover":var m=f.pointerId;return bl.set(m,Al(bl.get(m)||null,e,n,i,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Sl.set(m,Al(Sl.get(m)||null,e,n,i,o,f)),!0}return!1}function R_(e){var n=Er(e.target);if(n!==null){var i=h(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,er(e.priority,function(){S_(i)});return}}else if(n===31){if(n=E(i),n!==null){e.blockedOn=n,er(e.priority,function(){S_(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eh(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Kd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ar=o,i.target.dispatchEvent(o),Ar=null}else return n=we(i),n!==null&&b_(n),e.blockedOn=i,!1;n.shift()}return!0}function C_(e,n,i){eh(e)&&i.delete(n)}function Yb(){Qd=!1,ka!==null&&eh(ka)&&(ka=null),Pa!==null&&eh(Pa)&&(Pa=null),Ua!==null&&eh(Ua)&&(Ua=null),bl.forEach(C_),Sl.forEach(C_)}function nh(e,n){e.blockedOn===n&&(e.blockedOn=null,Qd||(Qd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Yb)))}var rh=null;function I_(e){rh!==e&&(rh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){rh===e&&(rh=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Gd(o||i)===null)continue;break}var m=we(i);m!==null&&(e.splice(n,3),n-=3,Kf(m,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function _u(e){function n(k){return nh(k,e)}ka!==null&&nh(ka,e),Pa!==null&&nh(Pa,e),Ua!==null&&nh(Ua,e),bl.forEach(n),Sl.forEach(n);for(var i=0;i<La.length;i++){var o=La[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<La.length&&(i=La[0],i.blockedOn===null);)R_(i),i.blockedOn===null&&La.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],m=i[o+1],v=f[Fe]||null;if(typeof m=="function")v||I_(i);else if(v){var R=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Fe]||null)R=v.formAction;else if(Gd(f)!==null)continue}else R=v.action;typeof R=="function"?i[o+1]=R:(i.splice(o,3),o-=3),I_(i)}}}function D_(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Yd(e){this._internalRoot=e}ih.prototype.render=Yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=si();E_(i,o,e,n,null,null)},ih.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),Lc(),n[Vn]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ts();e={blockedOn:null,target:e,priority:n};for(var i=0;i<La.length&&n!==0&&n<La[i].priority;i++);La.splice(i,0,e),i===0&&R_(e)}};var O_=t.version;if(O_!=="19.2.0")throw Error(s(527,O_,"19.2.0"));Nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=S(n),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ut,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{tr=sh.inject(Xb),mn=sh}catch{}}return Rl.createRoot=function(e,n){if(!u(e))throw Error(s(299));var i=!1,o="",f=Ug,m=Lg,v=zg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=__(e,1,!1,null,null,i,o,null,f,m,v,D_),e[Vn]=n.current,Dd(e),new Yd(n)},Rl.hydrateRoot=function(e,n,i){if(!u(e))throw Error(s(299));var o=!1,f="",m=Ug,v=Lg,R=zg,k=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.formState!==void 0&&(k=i.formState)),n=__(e,1,!0,n,i??null,o,f,k,m,v,R,D_),n.context=v_(null),i=n.current,o=si(),o=Es(o),f=Sa(o),f.callback=null,Aa(i,f,o),i=o,n.current.lanes=i,_r(n,i),as(n),e[Vn]=n.current,Dd(e),new ih(n)},Rl.version="19.2.0",Rl}var B_;function oS(){if(B_)return Jd.exports;B_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Jd.exports=aS(),Jd.exports}var uS=oS();const lS=Lm(uS);var mh={exports:{}},cS=mh.exports,j_;function hS(){return j_||(j_=1,(function(a,t){(function(r,s){a.exports=s()})(cS,function(){var r=function(c,d){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(g[A]=_[A])})(c,d)},s=function(){return(s=Object.assign||function(c){for(var d,g=1,_=arguments.length;g<_;g++)for(var A in d=arguments[g])Object.prototype.hasOwnProperty.call(d,A)&&(c[A]=d[A]);return c}).apply(this,arguments)};function u(c,d,g){for(var _,A=0,w=d.length;A<w;A++)!_&&A in d||((_=_||Array.prototype.slice.call(d,0,A))[A]=d[A]);return c.concat(_||Array.prototype.slice.call(d))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Jb,p=Object.keys,E=Array.isArray;function b(c,d){return typeof d!="object"||p(d).forEach(function(g){c[g]=d[g]}),c}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var S=Object.getPrototypeOf,D={}.hasOwnProperty;function O(c,d){return D.call(c,d)}function Z(c,d){typeof d=="function"&&(d=d(S(c))),(typeof Reflect>"u"?p:Reflect.ownKeys)(d).forEach(function(g){St(c,g,d[g])})}var ht=Object.defineProperty;function St(c,d,g,_){ht(c,d,b(g&&O(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},_))}function Ct(c){return{from:function(d){return c.prototype=Object.create(d.prototype),St(c.prototype,"constructor",c),{extend:Z.bind(null,c.prototype)}}}}var yt=Object.getOwnPropertyDescriptor,kt=[].slice;function Gt(c,d,g){return kt.call(c,d,g)}function qt(c,d){return d(c)}function de(c){if(!c)throw new Error("Assertion Failed")}function Le(c){h.setImmediate?setImmediate(c):setTimeout(c,0)}function ne(c,d){if(typeof d=="string"&&O(c,d))return c[d];if(!d)return c;if(typeof d!="string"){for(var g=[],_=0,A=d.length;_<A;++_){var w=ne(c,d[_]);g.push(w)}return g}var I=d.indexOf(".");if(I!==-1){var N=c[d.substr(0,I)];return N==null?void 0:ne(N,d.substr(I+1))}}function x(c,d,g){if(c&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof d!="string"&&"length"in d){de(typeof g!="string"&&"length"in g);for(var _=0,A=d.length;_<A;++_)x(c,d[_],g[_])}else{var w,I,N=d.indexOf(".");N!==-1?(w=d.substr(0,N),(I=d.substr(N+1))===""?g===void 0?E(c)&&!isNaN(parseInt(w))?c.splice(w,1):delete c[w]:c[w]=g:x(N=!(N=c[w])||!O(c,w)?c[w]={}:N,I,g)):g===void 0?E(c)&&!isNaN(parseInt(d))?c.splice(d,1):delete c[d]:c[d]=g}}function M(c){var d,g={};for(d in c)O(c,d)&&(g[d]=c[d]);return g}var P=[].concat;function G(c){return P.apply([],c)}var Br="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(G([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(d){return d+c+"Array"})}))).filter(function(c){return h[c]}),j=new Set(Br.map(function(c){return h[c]})),$=null;function V(c){return $=new WeakMap,c=(function d(g){if(!g||typeof g!="object")return g;var _=$.get(g);if(_)return _;if(E(g)){_=[],$.set(g,_);for(var A=0,w=g.length;A<w;++A)_.push(d(g[A]))}else if(j.has(g.constructor))_=g;else{var I,N=S(g);for(I in _=N===Object.prototype?{}:Object.create(N),$.set(g,_),g)O(g,I)&&(_[I]=d(g[I]))}return _})(c),$=null,c}var He={}.toString;function $e(c){return He.call(c).slice(8,-1)}var ut=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Nt=typeof ut=="symbol"?function(c){var d;return c!=null&&(d=c[ut])&&d.apply(c)}:function(){return null};function Ut(c,d){return d=c.indexOf(d),0<=d&&c.splice(d,1),0<=d}var oe={};function ue(c){var d,g,_,A;if(arguments.length===1){if(E(c))return c.slice();if(this===oe&&typeof c=="string")return[c];if(A=Nt(c)){for(g=[];!(_=A.next()).done;)g.push(_.value);return g}if(c==null)return[c];if(typeof(d=c.length)!="number")return[c];for(g=new Array(d);d--;)g[d]=c[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var H=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},zr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zr),ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wt(c,d){this.name=c,this.message=d}function Vt(c,d){return c+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,_,A){return A.indexOf(g)===_}).join(`
`)}function Ft(c,d,g,_){this.failures=d,this.failedKeys=_,this.successCount=g,this.message=Vt(c,d)}function Yt(c,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=Vt(c,this.failures)}Ct(wt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Ct(Ft).from(wt),Ct(Yt).from(wt);var ce=mr.reduce(function(c,d){return c[d]=d+"Error",c},{}),dn=wt,Ot=mr.reduce(function(c,d){var g=d+"Error";function _(A,w){this.name=g,A?typeof A=="string"?(this.message="".concat(A).concat(w?`
 `+w:""),this.inner=w||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=ft[d]||g,this.inner=null)}return Ct(_).from(dn),c[d]=_,c},{});Ot.Syntax=SyntaxError,Ot.Type=TypeError,Ot.Range=RangeError;var Gi=zr.reduce(function(c,d){return c[d+"Error"]=Ot[d],c},{}),Oi=mr.reduce(function(c,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(c[d+"Error"]=Ot[d]),c},{});function be(){}function ai(c){return c}function oi(c,d){return c==null||c===ai?d:function(g){return d(c(g))}}function Lr(c,d){return function(){c.apply(this,arguments),d.apply(this,arguments)}}function gs(c,d){return c===be?d:function(){var g=c.apply(this,arguments);g!==void 0&&(arguments[0]=g);var _=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var w=d.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?Lr(_,this.onsuccess):_),A&&(this.onerror=this.onerror?Lr(A,this.onerror):A),w!==void 0?w:g}}function ro(c,d){return c===be?d:function(){c.apply(this,arguments);var g=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Lr(g,this.onsuccess):g),_&&(this.onerror=this.onerror?Lr(_,this.onerror):_)}}function io(c,d){return c===be?d:function(g){var _=c.apply(this,arguments);b(g,_);var A=this.onsuccess,w=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?Lr(A,this.onsuccess):A),w&&(this.onerror=this.onerror?Lr(w,this.onerror):w),_===void 0?g===void 0?void 0:g:b(_,g)}}function ln(c,d){return c===be?d:function(){return d.apply(this,arguments)!==!1&&c.apply(this,arguments)}}function We(c,d){return c===be?d:function(){var g=c.apply(this,arguments);if(g&&typeof g.then=="function"){for(var _=this,A=arguments.length,w=new Array(A);A--;)w[A]=arguments[A];return g.then(function(){return d.apply(_,w)})}return d.apply(this,arguments)}}Oi.ModifyError=Ft,Oi.DexieError=wt,Oi.BulkError=Yt;var Mn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qo(c){Mn=c}var Qi={},Un=100,Br=typeof Promise>"u"?[]:(function(){var c=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[c,S(c),c];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,S(d),c]})(),zr=Br[0],mr=Br[1],Br=Br[2],mr=mr&&mr.then,jr=zr&&zr.constructor,ui=!!Br,ys=function(c,d){Yi.push([c,d]),_s&&(queueMicrotask(Ho),_s=!1)},ea=!0,_s=!0,li=[],tr=[],mn=ai,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:be,pgp:!1,env:{},finalize:be},Dt=pn,Yi=[],gr=0,vs=[];function At(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Dt;if(typeof c!="function"){if(c!==Qi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&yr(this,this._value))}this._state=null,this._value=null,++d.ref,(function g(_,A){try{A(function(w){if(_._state===null){if(w===_)throw new TypeError("A promise cannot be resolved with itself.");var I=_._lib&&Kn();w&&typeof w.then=="function"?g(_,function(N,L){w instanceof At?w._then(N,L):w.then(N,L)}):(_._state=!0,_._value=w,qr(_)),I&&_r()}},yr.bind(null,_))}catch(w){yr(_,w)}})(this,c)}var Ni={get:function(){var c=Dt,d=er;function g(_,A){var w=this,I=!c.global&&(c!==Dt||d!==er),N=I&&!Vn(),L=new At(function(z,Q){cr(w,new tn(bs(_,c,I,N),bs(A,c,I,N),z,Q,c))});return this._consoleTask&&(L._consoleTask=this._consoleTask),L}return g.prototype=Qi,g},set:function(c){St(this,"then",c&&c.prototype===Qi?Ni:{get:function(){return c},set:Ni.set})}};function tn(c,d,g,_,A){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=_,this.psd=A}function yr(c,d){var g,_;tr.push(d),c._state===null&&(g=c._lib&&Kn(),d=mn(d),c._state=!1,c._value=d,_=c,li.some(function(A){return A._value===_._value})||li.push(_),qr(c),g&&_r())}function qr(c){var d=c._listeners;c._listeners=[];for(var g=0,_=d.length;g<_;++g)cr(c,d[g]);var A=c._PSD;--A.ref||A.finalize(),gr===0&&(++gr,ys(function(){--gr==0&&so()},[]))}function cr(c,d){if(c._state!==null){var g=c._state?d.onFulfilled:d.onRejected;if(g===null)return(c._state?d.resolve:d.reject)(c._value);++d.psd.ref,++gr,ys(qu,[g,c,d])}else c._listeners.push(d)}function qu(c,d,g){try{var _,A=d._value;!d._state&&tr.length&&(tr=[]),_=Mn&&d._consoleTask?d._consoleTask.run(function(){return c(A)}):c(A),d._state||tr.indexOf(A)!==-1||(function(w){for(var I=li.length;I;)if(li[--I]._value===w._value)return li.splice(I,1)})(d),g.resolve(_)}catch(w){g.reject(w)}finally{--gr==0&&so(),--g.psd.ref||g.psd.finalize()}}function Ho(){Ln(pn,function(){Kn()&&_r()})}function Kn(){var c=ea;return _s=ea=!1,c}function _r(){var c,d,g;do for(;0<Yi.length;)for(c=Yi,Yi=[],g=c.length,d=0;d<g;++d){var _=c[d];_[0].apply(null,_[1])}while(0<Yi.length);_s=ea=!0}function so(){var c=li;li=[],c.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var d=vs.slice(0),g=d.length;g;)d[--g]()}function ci(c){return new At(Qi,!1,c)}function Ne(c,d){var g=Dt;return function(){var _=Kn(),A=Dt;try{return Fr(g,!0),c.apply(this,arguments)}catch(w){d&&d(w)}finally{Fr(A,!1),_&&_r()}}}Z(At.prototype,{then:Ni,_then:function(c,d){cr(this,new tn(null,null,c,d,Dt))},catch:function(c){if(arguments.length===1)return this.then(null,c);var d=c,g=arguments[1];return typeof d=="function"?this.then(null,function(_){return(_ instanceof d?g:ci)(_)}):this.then(null,function(_){return(_&&_.name===d?g:ci)(_)})},finally:function(c){return this.then(function(d){return At.resolve(c()).then(function(){return d})},function(d){return At.resolve(c()).then(function(){return ci(d)})})},timeout:function(c,d){var g=this;return c<1/0?new At(function(_,A){var w=setTimeout(function(){return A(new Ot.Timeout(d))},c);g.then(_,A).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&St(At.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=ao(),Z(At,{all:function(){var c=ue.apply(null,arguments).map(Mi);return new At(function(d,g){c.length===0&&d([]);var _=c.length;c.forEach(function(A,w){return At.resolve(A).then(function(I){c[w]=I,--_||d(c)},g)})})},resolve:function(c){return c instanceof At?c:c&&typeof c.then=="function"?new At(function(d,g){c.then(d,g)}):new At(Qi,!0,c)},reject:ci,race:function(){var c=ue.apply(null,arguments).map(Mi);return new At(function(d,g){c.map(function(_){return At.resolve(_).then(d,g)})})},PSD:{get:function(){return Dt},set:function(c){return Dt=c}},totalEchoes:{get:function(){return er}},newPSD:Ve,usePSD:Ln,scheduler:{get:function(){return ys},set:function(c){ys=c}},rejectionMapper:{get:function(){return mn},set:function(c){mn=c}},follow:function(c,d){return new At(function(g,_){return Ve(function(A,w){var I=Dt;I.unhandleds=[],I.onunhandled=w,I.finalize=Lr(function(){var N,L=this;N=function(){L.unhandleds.length===0?A():w(L.unhandleds[0])},vs.push(function z(){N(),vs.splice(vs.indexOf(z),1)}),++gr,ys(function(){--gr==0&&so()},[])},I.finalize),c()},d,g,_)})}}),jr&&(jr.allSettled&&St(At,"allSettled",function(){var c=ue.apply(null,arguments).map(Mi);return new At(function(d){c.length===0&&d([]);var g=c.length,_=new Array(g);c.forEach(function(A,w){return At.resolve(A).then(function(I){return _[w]={status:"fulfilled",value:I}},function(I){return _[w]={status:"rejected",reason:I}}).then(function(){return--g||d(_)})})})}),jr.any&&typeof AggregateError<"u"&&St(At,"any",function(){var c=ue.apply(null,arguments).map(Mi);return new At(function(d,g){c.length===0&&g(new AggregateError([]));var _=c.length,A=new Array(_);c.forEach(function(w,I){return At.resolve(w).then(function(N){return d(N)},function(N){A[I]=N,--_||g(new AggregateError(A))})})})}),jr.withResolvers&&(At.withResolvers=jr.withResolvers));var Xe={awaits:0,echoes:0,id:0},Es=0,vr=[],Ts=0,er=0,Hr=0;function Ve(c,d,g,_){var A=Dt,w=Object.create(A);return w.parent=A,w.ref=0,w.global=!1,w.id=++Hr,pn.env,w.env=ui?{Promise:At,PromiseProp:{value:At,configurable:!0,writable:!0},all:At.all,race:At.race,allSettled:At.allSettled,any:At.any,resolve:At.resolve,reject:At.reject}:{},d&&b(w,d),++A.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Ln(w,c,g,_),w.ref===0&&w.finalize(),_}function Fe(){return Xe.id||(Xe.id=++Es),++Xe.awaits,Xe.echoes+=Un,Xe.id}function Vn(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*Un,!0)}function Mi(c){return Xe.echoes&&c&&c.constructor===jr?(Fe(),c.then(function(d){return Vn(),d},function(d){return Vn(),we(d)})):c}function Hu(){var c=vr[vr.length-1];vr.pop(),Fr(c,!1)}function Fr(c,d){var g,_=Dt;(d?!Xe.echoes||Ts++&&c===Dt:!Ts||--Ts&&c===Dt)||queueMicrotask(d?(function(A){++er,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.awaits=Xe.id=0),vr.push(Dt),Fr(A,!0)}).bind(null,c):Hu),c!==Dt&&(Dt=c,_===pn&&(pn.env=ao()),ui&&(g=pn.env.Promise,d=c.env,(_.global||c.global)&&(Object.defineProperty(h,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function ao(){var c=h.Promise;return ui?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function Ln(c,d,g,_,A){var w=Dt;try{return Fr(c,!0),d(g,_,A)}finally{Fr(w,!1)}}function bs(c,d,g,_){return typeof c!="function"?c:function(){var A=Dt;g&&Fe(),Fr(d,!0);try{return c.apply(this,arguments)}finally{Fr(A,!1),_&&queueMicrotask(Vn)}}}function Er(c){Promise===jr&&Xe.echoes===0?Ts===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}(""+mr).indexOf("[native code]")===-1&&(Fe=Vn=be);var we=At.reject,gn="",bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",hi=[],Xi="__dbnames",Tr="readonly",br="readwrite";function Kr(c,d){return c?d?function(){return c.apply(this,arguments)&&d.apply(this,arguments)}:c:d}var na={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zi(c){return typeof c!="string"||/\./.test(c)?function(d){return d}:function(d){return d[c]===void 0&&c in d&&delete(d=V(d))[c],d}}function oo(){throw Ot.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function re(c,d){try{var g=nr(c),_=nr(d);if(g!==_)return g==="Array"?1:_==="Array"?-1:g==="binary"?1:_==="binary"?-1:g==="string"?1:_==="string"?-1:g==="Date"?1:_!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<c?1:c<d?-1:0;case"binary":return(function(A,w){for(var I=A.length,N=w.length,L=I<N?I:N,z=0;z<L;++z)if(A[z]!==w[z])return A[z]<w[z]?-1:1;return I===N?0:I<N?-1:1})(nn(c),nn(d));case"Array":return(function(A,w){for(var I=A.length,N=w.length,L=I<N?I:N,z=0;z<L;++z){var Q=re(A[z],w[z]);if(Q!==0)return Q}return I===N?0:I<N?-1:1})(c,d)}}catch{}return NaN}function nr(c){var d=typeof c;return d!="object"?d:ArrayBuffer.isView(c)?"binary":(c=$e(c),c==="ArrayBuffer"?"binary":c)}function nn(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}function rn(c,d,g){var _=c.schema.yProps;return _?(d&&0<g.numFailures&&(d=d.filter(function(A,w){return!g.failures[w]})),Promise.all(_.map(function(A){return A=A.updatesTable,d?c.db.table(A).where("k").anyOf(d).delete():c.db.table(A).clear()})).then(function(){return g})):g}var Sr=(ra.prototype.execute=function(c){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(E(g))return u(u([],E(c)?c:[],!0),g).sort();if(typeof g=="number")return(Number(c)||0)+g;if(typeof g=="bigint")try{return BigInt(c)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var _=d.remove;if(E(_))return E(c)?c.filter(function(A){return!_.includes(A)}).sort():[];if(typeof _=="number")return Number(c)-_;if(typeof _=="bigint")try{return BigInt(c)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof c=="string"&&c.startsWith(g)?d.replacePrefix[1]+c.substring(g.length):c},ra);function ra(c){this["@@propmod"]=c}function Ce(c,d){for(var g=p(d),_=g.length,A=!1,w=0;w<_;++w){var I=g[w],N=d[I],L=ne(c,I);N instanceof Sr?(x(c,I,N.execute(L)),A=!0):L!==N&&(x(c,I,N),A=!0)}return A}var Ji=(me.prototype._trans=function(c,d,g){var _=this._tx||Dt.trans,A=this.name,w=Mn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function I(z,Q,U){if(!U.schema[A])throw new Ot.NotFound("Table "+A+" not part of transaction");return d(U.idbtrans,U)}var N=Kn();try{var L=_&&_.db._novip===this.db._novip?_===Dt.trans?_._promise(c,I,g):Ve(function(){return _._promise(c,I,g)},{trans:_,transless:Dt.transless||Dt}):(function z(Q,U,X,B){if(Q.idbdb&&(Q._state.openComplete||Dt.letThrough||Q._vip)){var F=Q._createTransaction(U,X,Q._dbSchema);try{F.create(),Q._state.PR1398_maxLoop=3}catch(K){return K.name===ce.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,X,B)})):we(K)}return F._promise(U,function(K,Y){return Ve(function(){return Dt.trans=F,B(K,Y,F)})}).then(function(K){if(U==="readwrite")try{F.idbtrans.commit()}catch{}return U==="readonly"?K:F._completion.then(function(){return K})})}if(Q._state.openComplete)return we(new Ot.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return we(new Ot.DatabaseClosed);Q.open().catch(be)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,X,B)})})(this.db,c,[this.name],I);return w&&(L._consoleTask=w,L=L.catch(function(z){return console.trace(z),we(z)})),L}finally{N&&_r()}},me.prototype.get=function(c,d){var g=this;return c&&c.constructor===Object?this.where(c).first(d):c==null?we(new Ot.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return g.core.get({trans:_,key:c}).then(function(A){return g.hook.reading.fire(A)})}).then(d)},me.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(E(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var d=p(c);if(d.length===1)return this.where(d[0]).equals(c[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&d.every(function(z){return 0<=N.keyPath.indexOf(z)})){for(var L=0;L<d.length;++L)if(d.indexOf(N.keyPath[L])===-1)return!1;return!0}return!1}).sort(function(N,L){return N.keyPath.length-L.keyPath.length})[0];if(g&&this.db._maxKey!==gn){var w=g.keyPath.slice(0,d.length);return this.where(w).equals(w.map(function(L){return c[L]}))}!g&&Mn&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var _=this.schema.idxByName;function A(N,L){return re(N,L)===0}var I=d.reduce(function(U,L){var z=U[0],Q=U[1],U=_[L],X=c[L];return[z||U,z||!U?Kr(Q,U&&U.multi?function(B){return B=ne(B,L),E(B)&&B.some(function(F){return A(X,F)})}:function(B){return A(X,ne(B,L))}):Q]},[null,null]),w=I[0],I=I[1];return w?this.where(w.name).equals(c[w.keyPath]).filter(I):g?this.filter(I):this.where(d).equals("")},me.prototype.filter=function(c){return this.toCollection().and(c)},me.prototype.count=function(c){return this.toCollection().count(c)},me.prototype.offset=function(c){return this.toCollection().offset(c)},me.prototype.limit=function(c){return this.toCollection().limit(c)},me.prototype.each=function(c){return this.toCollection().each(c)},me.prototype.toArray=function(c){return this.toCollection().toArray(c)},me.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},me.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,E(c)?"[".concat(c.join("+"),"]"):c))},me.prototype.reverse=function(){return this.toCollection().reverse()},me.prototype.mapToClass=function(c){var d,g=this.db,_=this.name;function A(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=c).prototype instanceof oo&&((function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=L}r(L,z),L.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)})(A,d=c),Object.defineProperty(A.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),A.prototype.table=function(){return _},c=A);for(var w=new Set,I=c.prototype;I;I=S(I))Object.getOwnPropertyNames(I).forEach(function(L){return w.add(L)});function N(L){if(!L)return L;var z,Q=Object.create(c.prototype);for(z in L)if(!w.has(z))try{Q[z]=L[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),c},me.prototype.defineClass=function(){return this.mapToClass(function(c){b(this,c)})},me.prototype.add=function(c,d){var g=this,_=this.schema.primKey,A=_.auto,w=_.keyPath,I=c;return w&&A&&(I=Zi(w)(c)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"add",keys:d!=null?[d]:null,values:[I]})}).then(function(N){return N.numFailures?At.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{x(c,w,N)}catch{}return N})},me.prototype.upsert=function(c,d){var g=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(A){return g.core.get({trans:A,key:c}).then(function(w){var I=w??{};return Ce(I,d),_&&x(I,_,c),g.core.mutate({trans:A,type:"put",values:[I],keys:[c],upsert:!0,updates:{keys:[c],changeSpecs:[d]}}).then(function(N){return N.numFailures?At.reject(N.failures[0]):!!w})})})},me.prototype.update=function(c,d){return typeof c!="object"||E(c)?this.where(":id").equals(c).modify(d):(c=ne(c,this.schema.primKey.keyPath),c===void 0?we(new Ot.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(d))},me.prototype.put=function(c,d){var g=this,_=this.schema.primKey,A=_.auto,w=_.keyPath,I=c;return w&&A&&(I=Zi(w)(c)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"put",values:[I],keys:d!=null?[d]:null})}).then(function(N){return N.numFailures?At.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{x(c,w,N)}catch{}return N})},me.prototype.delete=function(c){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[c]}).then(function(_){return rn(d,[c],_)}).then(function(_){return _.numFailures?At.reject(_.failures[0]):void 0})})},me.prototype.clear=function(){var c=this;return this._trans("readwrite",function(d){return c.core.mutate({trans:d,type:"deleteRange",range:na}).then(function(g){return rn(c,null,g)})}).then(function(d){return d.numFailures?At.reject(d.failures[0]):void 0})},me.prototype.bulkGet=function(c){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:c,trans:g}).then(function(_){return _.map(function(A){return d.hook.reading.fire(A)})})})},me.prototype.bulkAdd=function(c,d,g){var _=this,A=Array.isArray(d)?d:void 0,w=(g=g||(A?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(I){var z=_.schema.primKey,N=z.auto,z=z.keyPath;if(z&&A)throw new Ot.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==c.length)throw new Ot.InvalidArgument("Arguments objects and keys must have the same length");var L=c.length,z=z&&N?c.map(Zi(z)):c;return _.core.mutate({trans:I,type:"add",keys:A,values:z,wantResults:w}).then(function(F){var U=F.numFailures,X=F.results,B=F.lastResult,F=F.failures;if(U===0)return w?X:B;throw new Yt("".concat(_.name,".bulkAdd(): ").concat(U," of ").concat(L," operations failed"),F)})})},me.prototype.bulkPut=function(c,d,g){var _=this,A=Array.isArray(d)?d:void 0,w=(g=g||(A?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(I){var z=_.schema.primKey,N=z.auto,z=z.keyPath;if(z&&A)throw new Ot.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==c.length)throw new Ot.InvalidArgument("Arguments objects and keys must have the same length");var L=c.length,z=z&&N?c.map(Zi(z)):c;return _.core.mutate({trans:I,type:"put",keys:A,values:z,wantResults:w}).then(function(F){var U=F.numFailures,X=F.results,B=F.lastResult,F=F.failures;if(U===0)return w?X:B;throw new Yt("".concat(_.name,".bulkPut(): ").concat(U," of ").concat(L," operations failed"),F)})})},me.prototype.bulkUpdate=function(c){var d=this,g=this.core,_=c.map(function(I){return I.key}),A=c.map(function(I){return I.changes}),w=[];return this._trans("readwrite",function(I){return g.getMany({trans:I,keys:_,cache:"clone"}).then(function(N){var L=[],z=[];c.forEach(function(U,X){var B=U.key,F=U.changes,K=N[X];if(K){for(var Y=0,tt=Object.keys(F);Y<tt.length;Y++){var rt=tt[Y],ot=F[rt];if(rt===d.schema.primKey.keyPath){if(re(ot,B)!==0)throw new Ot.Constraint("Cannot update primary key in bulkUpdate()")}else x(K,rt,ot)}w.push(X),L.push(B),z.push(K)}});var Q=L.length;return g.mutate({trans:I,type:"put",keys:L,values:z,updates:{keys:_,changeSpecs:A}}).then(function(U){var X=U.numFailures,B=U.failures;if(X===0)return Q;for(var F=0,K=Object.keys(B);F<K.length;F++){var Y,tt=K[F],rt=w[Number(tt)];rt!=null&&(Y=B[tt],delete B[tt],B[rt]=Y)}throw new Yt("".concat(d.name,".bulkUpdate(): ").concat(X," of ").concat(Q," operations failed"),B)})})})},me.prototype.bulkDelete=function(c){var d=this,g=c.length;return this._trans("readwrite",function(_){return d.core.mutate({trans:_,type:"delete",keys:c}).then(function(A){return rn(d,c,A)})}).then(function(I){var A=I.numFailures,w=I.lastResult,I=I.failures;if(A===0)return w;throw new Yt("".concat(d.name,".bulkDelete(): ").concat(A," of ").concat(g," operations failed"),I)})},me);function me(){}function Gr(c){function d(I,N){if(N){for(var L=arguments.length,z=new Array(L-1);--L;)z[L-1]=arguments[L];return g[I].subscribe.apply(null,z),c}if(typeof I=="string")return g[I]}var g={};d.addEventType=w;for(var _=1,A=arguments.length;_<A;++_)w(arguments[_]);return d;function w(I,N,L){if(typeof I!="object"){var z;N=N||ln;var Q={subscribers:[],fire:L=L||be,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=N(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function(X){return X!==U}),Q.fire=Q.subscribers.reduce(N,L)}};return g[I]=d[I]=Q}p(z=I).forEach(function(U){var X=z[U];if(E(X))w(U,z[U][0],z[U][1]);else{if(X!=="asap")throw new Ot.InvalidArgument("Invalid event config");var B=w(U,ai,function(){for(var F=arguments.length,K=new Array(F);F--;)K[F]=arguments[F];B.subscribers.forEach(function(Y){Le(function(){Y.apply(null,K)})})})}})}}function Sn(c,d){return Ct(d).from({prototype:c}),d}function Qr(c,d){return!(c.filter||c.algorithm||c.or)&&(d?c.justLimit:!c.replayFilter)}function ia(c,d){c.filter=Kr(c.filter,d)}function Ss(c,d,g){var _=c.replayFilter;c.replayFilter=_?function(){return Kr(_(),d())}:d,c.justLimit=g&&!_}function Yr(c,d){if(c.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(c.index);if(!g)throw new Ot.Schema("KeyPath "+c.index+" on object store "+d.name+" is not indexed");return g}function uo(c,d,g){var _=Yr(c,d.schema);return d.openCursor({trans:g,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:_,range:c.range}})}function Xr(c,d,g,_){var A=c.replayFilter?Kr(c.filter,c.replayFilter()):c.filter;if(c.or){var w={},I=function(N,L,z){var Q,U;A&&!A(L,z,function(X){return L.stop(X)},function(X){return L.fail(X)})||((U=""+(Q=L.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),O(w,U)||(w[U]=!0,d(N,L,z)))};return Promise.all([c.or._iterate(I,g),Gn(uo(c,_,g),c.algorithm,I,!c.keysOnly&&c.valueMapper)])}return Gn(uo(c,_,g),Kr(c.algorithm,A),d,!c.keysOnly&&c.valueMapper)}function Gn(c,d,g,_){var A=Ne(_?function(w,I,N){return g(_(w),I,N)}:g);return c.then(function(w){if(w)return w.start(function(){var I=function(){return w.continue()};d&&!d(w,function(N){return I=N},function(N){w.stop(N),I=be},function(N){w.fail(N),I=be})||A(w.value,w,function(N){return I=N}),I()})})}var Fo=(he.prototype._read=function(c,d){var g=this._ctx;return g.error?g.table._trans(null,we.bind(null,g.error)):g.table._trans("readonly",c).then(d)},he.prototype._write=function(c){var d=this._ctx;return d.error?d.table._trans(null,we.bind(null,d.error)):d.table._trans("readwrite",c,"locked")},he.prototype._addAlgorithm=function(c){var d=this._ctx;d.algorithm=Kr(d.algorithm,c)},he.prototype._iterate=function(c,d){return Xr(this._ctx,c,d,this._ctx.table.core)},he.prototype.clone=function(c){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return c&&b(g,c),d._ctx=g,d},he.prototype.raw=function(){return this._ctx.valueMapper=null,this},he.prototype.each=function(c){var d=this._ctx;return this._read(function(g){return Xr(d,c,g,d.table.core)})},he.prototype.count=function(c){var d=this;return this._read(function(g){var _=d._ctx,A=_.table.core;if(Qr(_,!0))return A.count({trans:g,query:{index:Yr(_,A.schema),range:_.range}}).then(function(I){return Math.min(I,_.limit)});var w=0;return Xr(_,function(){return++w,!1},g,A).then(function(){return w})}).then(c)},he.prototype.sortBy=function(c,d){var g=c.split(".").reverse(),_=g[0],A=g.length-1;function w(L,z){return z?w(L[g[z]],z-1):L[_]}var I=this._ctx.dir==="next"?1:-1;function N(L,z){return re(w(L,A),w(z,A))*I}return this.toArray(function(L){return L.sort(N)}).then(d)},he.prototype.toArray=function(c){var d=this;return this._read(function(g){var _=d._ctx;if(_.dir==="next"&&Qr(_,!0)&&0<_.limit){var A=_.valueMapper,w=Yr(_,_.table.core.schema);return _.table.core.query({trans:g,limit:_.limit,values:!0,query:{index:w,range:_.range}}).then(function(N){return N=N.result,A?N.map(A):N})}var I=[];return Xr(_,function(N){return I.push(N)},g,_.table.core).then(function(){return I})},c)},he.prototype.offset=function(c){var d=this._ctx;return c<=0||(d.offset+=c,Qr(d)?Ss(d,function(){var g=c;return function(_,A){return g===0||(g===1?--g:A(function(){_.advance(g),g=0}),!1)}}):Ss(d,function(){var g=c;return function(){return--g<0}})),this},he.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),Ss(this._ctx,function(){var d=c;return function(g,_,A){return--d<=0&&_(A),0<=d}},!0),this},he.prototype.until=function(c,d){return ia(this._ctx,function(g,_,A){return!c(g.value)||(_(A),d)}),this},he.prototype.first=function(c){return this.limit(1).toArray(function(d){return d[0]}).then(c)},he.prototype.last=function(c){return this.reverse().first(c)},he.prototype.filter=function(c){var d;return ia(this._ctx,function(g){return c(g.value)}),(d=this._ctx).isMatch=Kr(d.isMatch,c),this},he.prototype.and=function(c){return this.filter(c)},he.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},he.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},he.prototype.desc=function(){return this.reverse()},he.prototype.eachKey=function(c){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){c(_.key,_)})},he.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},he.prototype.eachPrimaryKey=function(c){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,_){c(_.primaryKey,_)})},he.prototype.keys=function(c){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,A){g.push(A.key)}).then(function(){return g}).then(c)},he.prototype.primaryKeys=function(c){var d=this._ctx;if(d.dir==="next"&&Qr(d,!0)&&0<d.limit)return this._read(function(_){var A=Yr(d,d.table.core.schema);return d.table.core.query({trans:_,values:!1,limit:d.limit,query:{index:A,range:d.range}})}).then(function(_){return _.result}).then(c);d.keysOnly=!d.isMatch;var g=[];return this.each(function(_,A){g.push(A.primaryKey)}).then(function(){return g}).then(c)},he.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},he.prototype.firstKey=function(c){return this.limit(1).keys(function(d){return d[0]}).then(c)},he.prototype.lastKey=function(c){return this.reverse().firstKey(c)},he.prototype.distinct=function(){var c=this._ctx,c=c.index&&c.table.schema.idxByName[c.index];if(!c||!c.multi)return this;var d={};return ia(this._ctx,function(A){var _=A.primaryKey.toString(),A=O(d,_);return d[_]=!0,!A}),this},he.prototype.modify=function(c){var d=this,g=this._ctx;return this._write(function(_){var A=typeof c=="function"?c:function(K){return Ce(K,c)},w=g.table.core,z=w.schema.primaryKey,I=z.outbound,N=z.extractKey,L=200,z=d.db._options.modifyChunkSize;z&&(L=typeof z=="object"?z[w.name]||z["*"]||200:z);function Q(K,rt){var tt=rt.failures,rt=rt.numFailures;X+=K-rt;for(var ot=0,dt=p(tt);ot<dt.length;ot++){var Et=dt[ot];U.push(tt[Et])}}var U=[],X=0,B=[],F=c===sa;return d.clone().primaryKeys().then(function(K){function Y(rt){var ot=Math.min(L,K.length-rt),dt=K.slice(rt,rt+ot);return(F?Promise.resolve([]):w.getMany({trans:_,keys:dt,cache:"immutable"})).then(function(Et){var It=[],_t=[],bt=I?[]:null,Rt=F?dt:[];if(!F)for(var vt=0;vt<ot;++vt){var Mt=Et[vt],Bt={value:V(Mt),primKey:K[rt+vt]};A.call(Bt,Bt.value,Bt)!==!1&&(Bt.value==null?Rt.push(K[rt+vt]):I||re(N(Mt),N(Bt.value))===0?(_t.push(Bt.value),I&&bt.push(K[rt+vt])):(Rt.push(K[rt+vt]),It.push(Bt.value)))}return Promise.resolve(0<It.length&&w.mutate({trans:_,type:"add",values:It}).then(function(Zt){for(var ie in Zt.failures)Rt.splice(parseInt(ie),1);Q(It.length,Zt)})).then(function(){return(0<_t.length||tt&&typeof c=="object")&&w.mutate({trans:_,type:"put",keys:bt,values:_t,criteria:tt,changeSpec:typeof c!="function"&&c,isAdditionalChunk:0<rt}).then(function(Zt){return Q(_t.length,Zt)})}).then(function(){return(0<Rt.length||tt&&F)&&w.mutate({trans:_,type:"delete",keys:Rt,criteria:tt,isAdditionalChunk:0<rt}).then(function(Zt){return rn(g.table,Rt,Zt)}).then(function(Zt){return Q(Rt.length,Zt)})}).then(function(){return K.length>rt+ot&&Y(rt+L)})})}var tt=Qr(g)&&g.limit===1/0&&(typeof c!="function"||F)&&{index:g.index,range:g.range};return Y(0).then(function(){if(0<U.length)throw new Ft("Error modifying one or more objects",U,X,B);return K.length})})})},he.prototype.delete=function(){var c=this._ctx,d=c.range;return!Qr(c)||c.table.schema.yProps||!c.isPrimKey&&d.type!==3?this.modify(sa):this._write(function(g){var _=c.table.core.schema.primaryKey,A=d;return c.table.core.count({trans:g,query:{index:_,range:A}}).then(function(w){return c.table.core.mutate({trans:g,type:"deleteRange",range:A}).then(function(L){var N=L.failures,L=L.numFailures;if(L)throw new Ft("Could not delete some values",Object.keys(N).map(function(z){return N[z]}),w-L);return w-L})})})},he);function he(){}var sa=function(c,d){return d.value=null};function aa(c,d){return c<d?-1:c===d?0:1}function Ko(c,d){return d<c?-1:c===d?0:1}function cn(c,d,g){return c=c instanceof Vi?new c.Collection(c):c,c._ctx.error=new(g||TypeError)(d),c}function Zr(c){return new c.Collection(c,function(){return hr("")}).limit(0)}function rr(c,d,g,_){var A,w,I,N,L,z,Q,U=g.length;if(!g.every(function(F){return typeof F=="string"}))return cn(c,en);function X(F){A=F==="next"?function(Y){return Y.toUpperCase()}:function(Y){return Y.toLowerCase()},w=F==="next"?function(Y){return Y.toLowerCase()}:function(Y){return Y.toUpperCase()},I=F==="next"?aa:Ko;var K=g.map(function(Y){return{lower:w(Y),upper:A(Y)}}).sort(function(Y,tt){return I(Y.lower,tt.lower)});N=K.map(function(Y){return Y.upper}),L=K.map(function(Y){return Y.lower}),Q=(z=F)==="next"?"":_}X("next"),c=new c.Collection(c,function(){return Ar(N[0],L[U-1]+_)}),c._ondirectionchange=function(F){X(F)};var B=0;return c._addAlgorithm(function(F,K,Y){var tt=F.key;if(typeof tt!="string")return!1;var rt=w(tt);if(d(rt,L,B))return!0;for(var ot=null,dt=B;dt<U;++dt){var Et=(function(It,_t,bt,Rt,vt,Mt){for(var Bt=Math.min(It.length,Rt.length),Zt=-1,ie=0;ie<Bt;++ie){var jn=_t[ie];if(jn!==Rt[ie])return vt(It[ie],bt[ie])<0?It.substr(0,ie)+bt[ie]+bt.substr(ie+1):vt(It[ie],Rt[ie])<0?It.substr(0,ie)+Rt[ie]+bt.substr(ie+1):0<=Zt?It.substr(0,Zt)+_t[Zt]+bt.substr(Zt+1):null;vt(It[ie],jn)<0&&(Zt=ie)}return Bt<Rt.length&&Mt==="next"?It+bt.substr(It.length):Bt<It.length&&Mt==="prev"?It.substr(0,bt.length):Zt<0?null:It.substr(0,Zt)+Rt[Zt]+bt.substr(Zt+1)})(tt,rt,N[dt],L[dt],I,z);Et===null&&ot===null?B=dt+1:(ot===null||0<I(ot,Et))&&(ot=Et)}return K(ot!==null?function(){F.continue(ot+Q)}:Y),!1}),c}function Ar(c,d,g,_){return{type:2,lower:c,upper:d,lowerOpen:g,upperOpen:_}}function hr(c){return{type:1,lower:c,upper:c}}var Vi=(Object.defineProperty(xe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),xe.prototype.between=function(c,d,g,_){g=g!==!1,_=_===!0;try{return 0<this._cmp(c,d)||this._cmp(c,d)===0&&(g||_)&&(!g||!_)?Zr(this):new this.Collection(this,function(){return Ar(c,d,!g,!_)})}catch{return cn(this,bn)}},xe.prototype.equals=function(c){return c==null?cn(this,bn):new this.Collection(this,function(){return hr(c)})},xe.prototype.above=function(c){return c==null?cn(this,bn):new this.Collection(this,function(){return Ar(c,void 0,!0)})},xe.prototype.aboveOrEqual=function(c){return c==null?cn(this,bn):new this.Collection(this,function(){return Ar(c,void 0,!1)})},xe.prototype.below=function(c){return c==null?cn(this,bn):new this.Collection(this,function(){return Ar(void 0,c,!1,!0)})},xe.prototype.belowOrEqual=function(c){return c==null?cn(this,bn):new this.Collection(this,function(){return Ar(void 0,c)})},xe.prototype.startsWith=function(c){return typeof c!="string"?cn(this,en):this.between(c,c+gn,!0,!0)},xe.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):rr(this,function(d,g){return d.indexOf(g[0])===0},[c],gn)},xe.prototype.equalsIgnoreCase=function(c){return rr(this,function(d,g){return d===g[0]},[c],"")},xe.prototype.anyOfIgnoreCase=function(){var c=ue.apply(oe,arguments);return c.length===0?Zr(this):rr(this,function(d,g){return g.indexOf(d)!==-1},c,"")},xe.prototype.startsWithAnyOfIgnoreCase=function(){var c=ue.apply(oe,arguments);return c.length===0?Zr(this):rr(this,function(d,g){return g.some(function(_){return d.indexOf(_)===0})},c,gn)},xe.prototype.anyOf=function(){var c=this,d=ue.apply(oe,arguments),g=this._cmp;try{d.sort(g)}catch{return cn(this,bn)}if(d.length===0)return Zr(this);var _=new this.Collection(this,function(){return Ar(d[0],d[d.length-1])});_._ondirectionchange=function(w){g=w==="next"?c._ascending:c._descending,d.sort(g)};var A=0;return _._addAlgorithm(function(w,I,N){for(var L=w.key;0<g(L,d[A]);)if(++A===d.length)return I(N),!1;return g(L,d[A])===0||(I(function(){w.continue(d[A])}),!1)}),_},xe.prototype.notEqual=function(c){return this.inAnyRange([[-1/0,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},xe.prototype.noneOf=function(){var c=ue.apply(oe,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return cn(this,bn)}var d=c.reduce(function(g,_){return g?g.concat([[g[g.length-1][1],_]]):[[-1/0,_]]},null);return d.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},xe.prototype.inAnyRange=function(tt,d){var g=this,_=this._cmp,A=this._ascending,w=this._descending,I=this._min,N=this._max;if(tt.length===0)return Zr(this);if(!tt.every(function(rt){return rt[0]!==void 0&&rt[1]!==void 0&&A(rt[0],rt[1])<=0}))return cn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ot.InvalidArgument);var L=!d||d.includeLowers!==!1,z=d&&d.includeUppers===!0,Q,U=A;function X(rt,ot){return U(rt[0],ot[0])}try{(Q=tt.reduce(function(rt,ot){for(var dt=0,Et=rt.length;dt<Et;++dt){var It=rt[dt];if(_(ot[0],It[1])<0&&0<_(ot[1],It[0])){It[0]=I(It[0],ot[0]),It[1]=N(It[1],ot[1]);break}}return dt===Et&&rt.push(ot),rt},[])).sort(X)}catch{return cn(this,bn)}var B=0,F=z?function(rt){return 0<A(rt,Q[B][1])}:function(rt){return 0<=A(rt,Q[B][1])},K=L?function(rt){return 0<w(rt,Q[B][0])}:function(rt){return 0<=w(rt,Q[B][0])},Y=F,tt=new this.Collection(this,function(){return Ar(Q[0][0],Q[Q.length-1][1],!L,!z)});return tt._ondirectionchange=function(rt){U=rt==="next"?(Y=F,A):(Y=K,w),Q.sort(X)},tt._addAlgorithm(function(rt,ot,dt){for(var Et,It=rt.key;Y(It);)if(++B===Q.length)return ot(dt),!1;return!F(Et=It)&&!K(Et)||(g._cmp(It,Q[B][1])===0||g._cmp(It,Q[B][0])===0||ot(function(){U===A?rt.continue(Q[B][0]):rt.continue(Q[B][1])}),!1)}),tt},xe.prototype.startsWithAnyOf=function(){var c=ue.apply(oe,arguments);return c.every(function(d){return typeof d=="string"})?c.length===0?Zr(this):this.inAnyRange(c.map(function(d){return[d,d+gn]})):cn(this,"startsWithAnyOf() only works with strings")},xe);function xe(){}function zn(c){return Ne(function(d){return fi(d),c(d.target.error),!1})}function fi(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var wr="storagemutated",fr="x-storagemutated-1",yn=Gr(null,wr),As=(le.prototype._lock=function(){return de(!Dt.global),++this._reculock,this._reculock!==1||Dt.global||(Dt.lockOwnerFor=this),this},le.prototype._unlock=function(){if(de(!Dt.global),--this._reculock==0)for(Dt.global||(Dt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var c=this._blockedFuncs.shift();try{Ln(c[1],c[0])}catch{}}return this},le.prototype._locked=function(){return this._reculock&&Dt.lockOwnerFor!==this},le.prototype.create=function(c){var d=this;if(!this.mode)return this;var g=this.db.idbdb,_=this.db._state.dbOpenError;if(de(!this.idbtrans),!c&&!g)switch(_&&_.name){case"DatabaseClosedError":throw new Ot.DatabaseClosed(_);case"MissingAPIError":throw new Ot.MissingAPI(_.message,_);default:throw new Ot.OpenFailed(_)}if(!this.active)throw new Ot.TransactionInactive;return de(this._completion._state===null),(c=this.idbtrans=c||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ne(function(A){fi(A),d._reject(c.error)}),c.onabort=Ne(function(A){fi(A),d.active&&d._reject(new Ot.Abort(c.error)),d.active=!1,d.on("abort").fire(A)}),c.oncomplete=Ne(function(){d.active=!1,d._resolve(),"mutatedParts"in c&&yn.storagemutated.fire(c.mutatedParts)}),this},le.prototype._promise=function(c,d,g){var _=this;if(c==="readwrite"&&this.mode!=="readwrite")return we(new Ot.ReadOnly("Transaction is readonly"));if(!this.active)return we(new Ot.TransactionInactive);if(this._locked())return new At(function(w,I){_._blockedFuncs.push([function(){_._promise(c,d,g).then(w,I)},Dt])});if(g)return Ve(function(){var w=new At(function(I,N){_._lock();var L=d(I,N,_);L&&L.then&&L.then(I,N)});return w.finally(function(){return _._unlock()}),w._lib=!0,w});var A=new At(function(w,I){var N=d(w,I,_);N&&N.then&&N.then(w,I)});return A._lib=!0,A},le.prototype._root=function(){return this.parent?this.parent._root():this},le.prototype.waitFor=function(c){var d,g=this._root(),_=At.resolve(c);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return _}):(g._waitingFor=_,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),(function w(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=w)})());var A=g._waitingFor;return new At(function(w,I){_.then(function(N){return g._waitingQueue.push(Ne(w.bind(null,N)))},function(N){return g._waitingQueue.push(Ne(I.bind(null,N)))}).finally(function(){g._waitingFor===A&&(g._waitingFor=null)})})},le.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ot.Abort))},le.prototype.table=function(c){var d=this._memoizedTables||(this._memoizedTables={});if(O(d,c))return d[c];var g=this.schema[c];if(!g)throw new Ot.NotFound("Table "+c+" not part of transaction");return g=new this.db.Table(c,g,this),g.core=this.db.core.table(c),d[c]=g},le);function le(){}function Rr(c,d,g,_,A,w,I,N){return{name:c,keyPath:d,unique:g,multi:_,auto:A,compound:w,src:(g&&!I?"&":"")+(_?"*":"")+(A?"++":"")+oa(d),type:N}}function oa(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function xi(c,d,g){return{name:c,primKey:d,indexes:g,mappedClass:null,idxByName:(_=function(A){return[A.name,A]},g.reduce(function(A,w,I){return I=_(w,I),I&&(A[I[0]]=I[1]),A},{}))};var _}var ki=function(c){try{return c.only([[]]),ki=function(){return[[]]},[[]]}catch{return ki=function(){return gn},gn}};function Pi(c){return c==null?function(){}:typeof c=="string"?(d=c).split(".").length===1?function(g){return g[d]}:function(g){return ne(g,d)}:function(g){return ne(g,c)};var d}function di(c){return[].slice.call(c)}var Jr=0;function sn(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function Ui(c,d,L){function _(Y){if(Y.type===3)return null;if(Y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var B=Y.lower,F=Y.upper,K=Y.lowerOpen,Y=Y.upperOpen;return B===void 0?F===void 0?null:d.upperBound(F,!!Y):F===void 0?d.lowerBound(B,!!K):d.bound(B,F,!!K,!!Y)}function A(X){var B,F=X.name;return{name:F,schema:X,mutate:function(K){var Y=K.trans,tt=K.type,rt=K.keys,ot=K.values,dt=K.range;return new Promise(function(Et,It){Et=Ne(Et);var _t=Y.objectStore(F),bt=_t.keyPath==null,Rt=tt==="put"||tt==="add";if(!Rt&&tt!=="delete"&&tt!=="deleteRange")throw new Error("Invalid operation type: "+tt);var vt,Mt=(rt||ot||{length:1}).length;if(rt&&ot&&rt.length!==ot.length)throw new Error("Given keys array must have same length as given values array.");if(Mt===0)return Et({numFailures:0,failures:{},results:[],lastResult:void 0});function Bt(wn){++jn,fi(wn)}var Zt=[],ie=[],jn=0;if(tt==="deleteRange"){if(dt.type===4)return Et({numFailures:jn,failures:ie,results:[],lastResult:void 0});dt.type===3?Zt.push(vt=_t.clear()):Zt.push(vt=_t.delete(_(dt)))}else{var bt=Rt?bt?[ot,rt]:[ot,null]:[rt,null],Xt=bt[0],An=bt[1];if(Rt)for(var Ze=0;Ze<Mt;++Ze)Zt.push(vt=An&&An[Ze]!==void 0?_t[tt](Xt[Ze],An[Ze]):_t[tt](Xt[Ze])),vt.onerror=Bt;else for(Ze=0;Ze<Mt;++Ze)Zt.push(vt=_t[tt](Xt[Ze])),vt.onerror=Bt}function po(wn){wn=wn.target.result,Zt.forEach(function(Nr,Gu){return Nr.error!=null&&(ie[Gu]=Nr.error)}),Et({numFailures:jn,failures:ie,results:tt==="delete"?rt:Zt.map(function(Nr){return Nr.result}),lastResult:wn})}vt.onerror=function(wn){Bt(wn),po(wn)},vt.onsuccess=po})},getMany:function(K){var Y=K.trans,tt=K.keys;return new Promise(function(rt,ot){rt=Ne(rt);for(var dt,Et=Y.objectStore(F),It=tt.length,_t=new Array(It),bt=0,Rt=0,vt=function(Zt){Zt=Zt.target,_t[Zt._pos]=Zt.result,++Rt===bt&&rt(_t)},Mt=zn(ot),Bt=0;Bt<It;++Bt)tt[Bt]!=null&&((dt=Et.get(tt[Bt]))._pos=Bt,dt.onsuccess=vt,dt.onerror=Mt,++bt);bt===0&&rt(_t)})},get:function(K){var Y=K.trans,tt=K.key;return new Promise(function(rt,ot){rt=Ne(rt);var dt=Y.objectStore(F).get(tt);dt.onsuccess=function(Et){return rt(Et.target.result)},dt.onerror=zn(ot)})},query:(B=z,function(K){return new Promise(function(Y,tt){Y=Ne(Y);var rt,ot,dt,bt=K.trans,Et=K.values,It=K.limit,vt=K.query,_t=It===1/0?void 0:It,Rt=vt.index,vt=vt.range,bt=bt.objectStore(F),Rt=Rt.isPrimaryKey?bt:bt.index(Rt.name),vt=_(vt);if(It===0)return Y({result:[]});B?((_t=Et?Rt.getAll(vt,_t):Rt.getAllKeys(vt,_t)).onsuccess=function(Mt){return Y({result:Mt.target.result})},_t.onerror=zn(tt)):(rt=0,ot=!Et&&"openKeyCursor"in Rt?Rt.openKeyCursor(vt):Rt.openCursor(vt),dt=[],ot.onsuccess=function(Mt){var Bt=ot.result;return Bt?(dt.push(Et?Bt.value:Bt.primaryKey),++rt===It?Y({result:dt}):void Bt.continue()):Y({result:dt})},ot.onerror=zn(tt))})}),openCursor:function(K){var Y=K.trans,tt=K.values,rt=K.query,ot=K.reverse,dt=K.unique;return new Promise(function(Et,It){Et=Ne(Et);var Rt=rt.index,_t=rt.range,bt=Y.objectStore(F),bt=Rt.isPrimaryKey?bt:bt.index(Rt.name),Rt=ot?dt?"prevunique":"prev":dt?"nextunique":"next",vt=!tt&&"openKeyCursor"in bt?bt.openKeyCursor(_(_t),Rt):bt.openCursor(_(_t),Rt);vt.onerror=zn(It),vt.onsuccess=Ne(function(Mt){var Bt,Zt,ie,jn,Xt=vt.result;Xt?(Xt.___id=++Jr,Xt.done=!1,Bt=Xt.continue.bind(Xt),Zt=(Zt=Xt.continuePrimaryKey)&&Zt.bind(Xt),ie=Xt.advance.bind(Xt),jn=function(){throw new Error("Cursor not stopped")},Xt.trans=Y,Xt.stop=Xt.continue=Xt.continuePrimaryKey=Xt.advance=function(){throw new Error("Cursor not started")},Xt.fail=Ne(It),Xt.next=function(){var An=this,Ze=1;return this.start(function(){return Ze--?An.continue():An.stop()}).then(function(){return An})},Xt.start=function(An){function Ze(){if(vt.result)try{An()}catch(wn){Xt.fail(wn)}else Xt.done=!0,Xt.start=function(){throw new Error("Cursor behind last entry")},Xt.stop()}var po=new Promise(function(wn,Nr){wn=Ne(wn),vt.onerror=zn(Nr),Xt.fail=Nr,Xt.stop=function(Gu){Xt.stop=Xt.continue=Xt.continuePrimaryKey=Xt.advance=jn,wn(Gu)}});return vt.onsuccess=Ne(function(wn){vt.onsuccess=Ze,Ze()}),Xt.continue=Bt,Xt.continuePrimaryKey=Zt,Xt.advance=ie,Ze(),po},Et(Xt)):Et(null)},It)})},count:function(K){var Y=K.query,tt=K.trans,rt=Y.index,ot=Y.range;return new Promise(function(dt,Et){var It=tt.objectStore(F),_t=rt.isPrimaryKey?It:It.index(rt.name),It=_(ot),_t=It?_t.count(It):_t.count();_t.onsuccess=Ne(function(bt){return dt(bt.target.result)}),_t.onerror=zn(Et)})}}}var w,I,N,Q=(I=L,N=di((w=c).objectStoreNames),{schema:{name:w.name,tables:N.map(function(X){return I.objectStore(X)}).map(function(X){var B=X.keyPath,Y=X.autoIncrement,F=E(B),K={},Y={name:X.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B==null,compound:F,keyPath:B,autoIncrement:Y,unique:!0,extractKey:Pi(B)},indexes:di(X.indexNames).map(function(tt){return X.index(tt)}).map(function(dt){var rt=dt.name,ot=dt.unique,Et=dt.multiEntry,dt=dt.keyPath,Et={name:rt,compound:E(dt),keyPath:dt,unique:ot,multiEntry:Et,extractKey:Pi(dt)};return K[sn(dt)]=Et}),getIndexByKeyPath:function(tt){return K[sn(tt)]}};return K[":id"]=Y.primaryKey,B!=null&&(K[sn(B)]=Y.primaryKey),Y})},hasGetAll:0<N.length&&"getAll"in I.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),L=Q.schema,z=Q.hasGetAll,Q=L.tables.map(A),U={};return Q.forEach(function(X){return U[X.name]=X}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function(X){if(!U[X])throw new Error("Table '".concat(X,"' not found"));return U[X]},MIN_KEY:-1/0,MAX_KEY:ki(d),schema:L}}function mi(c,d,g,_){var A=g.IDBKeyRange;return g.indexedDB,{dbcore:(_=Ui(d,A,_),c.dbcore.reduce(function(w,I){return I=I.create,s(s({},w),I(w))},_))}}function $r(c,_){var g=_.db,_=mi(c._middlewares,g,c._deps,_);c.core=_.dbcore,c.tables.forEach(function(A){var w=A.name;c.core.schema.tables.some(function(I){return I.name===w})&&(A.core=c.core.table(w),c[w]instanceof c.Table&&(c[w].core=A.core))})}function $i(c,d,g,_){g.forEach(function(A){var w=_[A];d.forEach(function(I){var N=(function L(z,Q){return yt(z,Q)||(z=S(z))&&L(z,Q)})(I,A);(!N||"value"in N&&N.value===void 0)&&(I===c.Transaction.prototype||I instanceof c.Transaction?St(I,A,{get:function(){return this.table(A)},set:function(L){ht(this,A,{value:L,writable:!0,configurable:!0,enumerable:!0})}}):I[A]=new c.Table(A,w))})})}function pi(c,d){d.forEach(function(g){for(var _ in g)g[_]instanceof c.Table&&delete g[_]})}function ua(c,d){return c._cfg.version-d._cfg.version}function gi(c,d,g,_){var A=c._dbSchema;g.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=xi("$meta",co("")[0],[]),c._storeNames.push("$meta"));var w=c._createTransaction("readwrite",c._storeNames,A);w.create(g),w._completion.catch(_);var I=w._reject.bind(w),N=Dt.transless||Dt;Ve(function(){return Dt.trans=w,Dt.transless=N,d!==0?($r(c,g),z=d,((L=w).storeNames.includes("$meta")?L.table("$meta").get("version").then(function(Q){return Q??z}):At.resolve(z)).then(function(Q){return X=Q,B=w,F=g,K=[],Q=(U=c)._versions,Y=U._dbSchema=yi(0,U.idbdb,F),(Q=Q.filter(function(tt){return tt._cfg.version>=X})).length!==0?(Q.forEach(function(tt){K.push(function(){var rt=Y,ot=tt._cfg.dbschema;Wi(U,rt,F),Wi(U,ot,F),Y=U._dbSchema=ot;var dt=ws(rt,ot);dt.add.forEach(function(Rt){Li(F,Rt[0],Rt[1].primKey,Rt[1].indexes)}),dt.change.forEach(function(Rt){if(Rt.recreate)throw new Ot.Upgrade("Not yet support for changing primary key");var vt=F.objectStore(Rt.name);Rt.add.forEach(function(Mt){return Rs(vt,Mt)}),Rt.change.forEach(function(Mt){vt.deleteIndex(Mt.name),Rs(vt,Mt)}),Rt.del.forEach(function(Mt){return vt.deleteIndex(Mt)})});var Et=tt._cfg.contentUpgrade;if(Et&&tt._cfg.version>X){$r(U,F),B._memoizedTables={};var It=M(ot);dt.del.forEach(function(Rt){It[Rt]=rt[Rt]}),pi(U,[U.Transaction.prototype]),$i(U,[U.Transaction.prototype],p(It),It),B.schema=It;var _t,bt=H(Et);return bt&&Fe(),dt=At.follow(function(){var Rt;(_t=Et(B))&&bt&&(Rt=Vn.bind(null,null),_t.then(Rt,Rt))}),_t&&typeof _t.then=="function"?At.resolve(_t):dt.then(function(){return _t})}}),K.push(function(rt){var ot,dt,Et=tt._cfg.dbschema;ot=Et,dt=rt,[].slice.call(dt.db.objectStoreNames).forEach(function(It){return ot[It]==null&&dt.db.deleteObjectStore(It)}),pi(U,[U.Transaction.prototype]),$i(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),B.schema=U._dbSchema}),K.push(function(rt){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===tt._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ot){return ot!=="$meta"})):rt.objectStore("$meta").put(tt._cfg.version,"version"))})}),(function tt(){return K.length?At.resolve(K.shift()(B.idbtrans)).then(tt):At.resolve()})().then(function(){lo(Y,F)})):At.resolve();var U,X,B,F,K,Y}).catch(I)):(p(A).forEach(function(Q){Li(g,Q,A[Q].primKey,A[Q].indexes)}),$r(c,g),void At.follow(function(){return c.on.populate.fire(w)}).catch(I));var L,z})}function la(c,d){lo(c._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=yi(0,c.idbdb,d);Wi(c,c._dbSchema,d);for(var _=0,A=ws(g,c._dbSchema).change;_<A.length;_++){var w=(function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=d.objectStore(I.name);I.add.forEach(function(L){Mn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(L.src)),Rs(N,L)})})(A[_]);if(typeof w=="object")return w.value}}function ws(c,d){var g,_={del:[],add:[],change:[]};for(g in c)d[g]||_.del.push(g);for(g in d){var A=c[g],w=d[g];if(A){var I={name:g,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||A.primKey.auto!==w.primKey.auto)I.recreate=!0,_.change.push(I);else{var N=A.idxByName,L=w.idxByName,z=void 0;for(z in N)L[z]||I.del.push(z);for(z in L){var Q=N[z],U=L[z];Q?Q.src!==U.src&&I.change.push(U):I.add.push(U)}(0<I.del.length||0<I.add.length||0<I.change.length)&&_.change.push(I)}}else _.add.push([g,w])}return _}function Li(c,d,g,_){var A=c.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return _.forEach(function(w){return Rs(A,w)}),A}function lo(c,d){p(c).forEach(function(g){d.db.objectStoreNames.contains(g)||(Mn&&console.debug("Dexie: Creating missing table",g),Li(d,g,c[g].primKey,c[g].indexes))})}function Rs(c,d){c.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function yi(c,d,g){var _={};return Gt(d.objectStoreNames,0).forEach(function(A){for(var w=g.objectStore(A),I=Rr(oa(z=w.keyPath),z||"",!0,!1,!!w.autoIncrement,z&&typeof z!="string",!0),N=[],L=0;L<w.indexNames.length;++L){var Q=w.index(w.indexNames[L]),z=Q.keyPath,Q=Rr(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);N.push(Q)}_[A]=xi(A,I,N)}),_}function Wi(c,d,g){for(var _=g.db.objectStoreNames,A=0;A<_.length;++A){var w=_[A],I=g.objectStore(w);c._hasGetAll="getAll"in I;for(var N=0;N<I.indexNames.length;++N){var L=I.indexNames[N],z=I.index(L).keyPath,Q=typeof z=="string"?z:"["+Gt(z).join("+")+"]";!d[w]||(z=d[w].idxByName[Q])&&(z.name=L,delete d[w].idxByName[Q],d[w].idxByName[L]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function co(c){return c.split(",").map(function(d,g){var w=d.split(":"),_=(A=w[1])===null||A===void 0?void 0:A.trim(),A=(d=w[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return Rr(A,w||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),E(w),g===0,_)})}var ca=(zi.prototype._createTableSchema=xi,zi.prototype._parseIndexSyntax=co,zi.prototype._parseStoresSpec=function(c,d){var g=this;p(c).forEach(function(_){if(c[_]!==null){var A=g._parseIndexSyntax(c[_]),w=A.shift();if(!w)throw new Ot.Schema("Invalid schema for table "+_+": "+c[_]);if(w.unique=!0,w.multi)throw new Ot.Schema("Primary key cannot be multiEntry*");A.forEach(function(I){if(I.auto)throw new Ot.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new Ot.Schema("Index must have a name and cannot be an empty string")}),A=g._createTableSchema(_,w,A),d[_]=A}})},zi.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,g):g;var g=d._versions,_={},A={};return g.forEach(function(w){b(_,w._cfg.storesSource),A=w._cfg.dbschema={},w._parseStoresSpec(_,A)}),d._dbSchema=A,pi(d,[d._allTables,d,d.Transaction.prototype]),$i(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],p(A),A),d._storeNames=p(A),this},zi.prototype.upgrade=function(c){return this._cfg.contentUpgrade=We(this._cfg.contentUpgrade||be,c),this},zi);function zi(){}function ha(c,d){var g=c._dbNamesDB;return g||(g=c._dbNamesDB=new vi(Xi,{addons:[],indexedDB:c,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Cr(c){return c&&typeof c.databases=="function"}function fa(c){return Ve(function(){return Dt.letThrough=!0,c()})}function da(c){return!("from"in c)}var _n=function(c,d){if(!this){var g=new _n;return c&&"d"in c&&b(g,c),g}b(this,arguments.length?{d:1,from:c,to:1<arguments.length?d:c}:{d:0})};function ts(c,d,g){var _=re(d,g);if(!isNaN(_)){if(0<_)throw RangeError();if(da(c))return b(c,{from:d,to:g,d:1});var A=c.l,_=c.r;if(re(g,c.from)<0)return A?ts(A,d,g):c.l={from:d,to:g,d:1,l:null,r:null},ho(c);if(0<re(d,c.to))return _?ts(_,d,g):c.r={from:d,to:g,d:1,l:null,r:null},ho(c);re(d,c.from)<0&&(c.from=d,c.l=null,c.d=_?_.d+1:1),0<re(g,c.to)&&(c.to=g,c.r=null,c.d=c.l?c.l.d+1:1),g=!c.r,A&&!c.l&&Ir(c,A),_&&g&&Ir(c,_)}}function Ir(c,d){da(d)||(function g(_,L){var w=L.from,I=L.to,N=L.l,L=L.r;ts(_,w,I),N&&g(_,N),L&&g(_,L)})(c,d)}function Bn(c,d){var g=Cs(d),_=g.next();if(_.done)return!1;for(var A=_.value,w=Cs(c),I=w.next(A.from),N=I.value;!_.done&&!I.done;){if(re(N.from,A.to)<=0&&0<=re(N.to,A.from))return!0;re(A.from,N.from)<0?A=(_=g.next(N.from)).value:N=(I=w.next(A.from)).value}return!1}function Cs(c){var d=da(c)?null:{s:0,n:c};return{next:function(g){for(var _=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,_)for(;d.n.l&&re(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!_||re(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function ho(c){var d,g,_=(((d=c.r)===null||d===void 0?void 0:d.d)||0)-(((g=c.l)===null||g===void 0?void 0:g.d)||0),A=1<_?"r":_<-1?"l":"";A&&(d=A=="r"?"l":"r",g=s({},c),_=c[A],c.from=_.from,c.to=_.to,c[A]=_[A],g[A]=_[d],(c[d]=g).d=_i(g)),c.d=_i(c)}function _i(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function l(c,d){return p(d).forEach(function(g){c[g]?Ir(c[g],d[g]):c[g]=(function _(A){var w,I,N={};for(w in A)O(A,w)&&(I=A[w],N[w]=!I||typeof I!="object"||j.has(I.constructor)?I:_(I));return N})(d[g])}),c}function y(c,d){return c.all||d.all||Object.keys(c).some(function(g){return d[g]&&Bn(d[g],c[g])})}Z(_n.prototype,((mr={add:function(c){return Ir(this,c),this},addKey:function(c){return ts(this,c,c),this},addKeys:function(c){var d=this;return c.forEach(function(g){return ts(d,g,g)}),this},hasKey:function(c){var d=Cs(this).next(c).value;return d&&re(d.from,c)<=0&&0<=re(d.to,c)}})[ut]=function(){return Cs(this)},mr));var T={},C={},W=!1;function st(c){l(C,c),W||(W=!0,setTimeout(function(){W=!1,Tt(C,!(C={}))},0))}function Tt(c,d){d===void 0&&(d=!1);var g=new Set;if(c.all)for(var _=0,A=Object.values(T);_<A.length;_++)$t(I=A[_],c,g,d);else for(var w in c){var I,N=/^idb\:\/\/(.*)\/(.*)\//.exec(w);N&&(w=N[1],N=N[2],(I=T["idb://".concat(w,"/").concat(N)])&&$t(I,c,g,d))}g.forEach(function(L){return L()})}function $t(c,d,g,_){for(var A=[],w=0,I=Object.entries(c.queries.query);w<I.length;w++){for(var N=I[w],L=N[0],z=[],Q=0,U=N[1];Q<U.length;Q++){var X=U[Q];y(d,X.obsSet)?X.subscribers.forEach(function(Y){return g.add(Y)}):_&&z.push(X)}_&&A.push([L,z])}if(_)for(var B=0,F=A;B<F.length;B++){var K=F[B],L=K[0],z=K[1];c.queries.query[L]=z}}function an(c){var d=c._state,g=c._deps.indexedDB;if(d.isBeingOpened||c.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?we(d.dbOpenError):c});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var _=d.openCanceller,A=Math.round(10*c.verno),w=!1;function I(){if(d.openCanceller!==_)throw new Ot.DatabaseClosed("db.open() was cancelled")}function N(){return new At(function(X,B){if(I(),!g)throw new Ot.MissingAPI;var F=c.name,K=d.autoSchema||!A?g.open(F):g.open(F,A);if(!K)throw new Ot.MissingAPI;K.onerror=zn(B),K.onblocked=Ne(c._fireOnBlocked),K.onupgradeneeded=Ne(function(Y){var tt;Q=K.transaction,d.autoSchema&&!c._options.allowEmptyDB?(K.onerror=fi,Q.abort(),K.result.close(),(tt=g.deleteDatabase(F)).onsuccess=tt.onerror=Ne(function(){B(new Ot.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(Q.onerror=zn(B),Y=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,U=Y<1,c.idbdb=K.result,w&&la(c,Q),gi(c,Y/10,Q,B))},B),K.onsuccess=Ne(function(){Q=null;var Y,tt,rt,ot,dt,Et=c.idbdb=K.result,It=Gt(Et.objectStoreNames);if(0<It.length)try{var _t=Et.transaction((ot=It).length===1?ot[0]:ot,"readonly");if(d.autoSchema)tt=Et,rt=_t,(Y=c).verno=tt.version/10,rt=Y._dbSchema=yi(0,tt,rt),Y._storeNames=Gt(tt.objectStoreNames,0),$i(Y,[Y._allTables],p(rt),rt);else if(Wi(c,c._dbSchema,_t),((dt=ws(yi(0,(dt=c).idbdb,_t),dt._dbSchema)).add.length||dt.change.some(function(bt){return bt.add.length||bt.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Et.close(),A=Et.version+1,w=!0,X(N());$r(c,_t)}catch{}hi.push(c),Et.onversionchange=Ne(function(bt){d.vcFired=!0,c.on("versionchange").fire(bt)}),Et.onclose=Ne(function(){c.close({disableAutoOpen:!1})}),U&&(dt=c._deps,_t=F,Et=dt.indexedDB,dt=dt.IDBKeyRange,Cr(Et)||_t===Xi||ha(Et,dt).put({name:_t}).catch(be)),X()},B)}).catch(function(X){switch(X?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<A)return A=0,N()}return At.reject(X)})}var L,z=d.dbReadyResolve,Q=null,U=!1;return At.race([_,(typeof navigator>"u"?At.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(X){function B(){return indexedDB.databases().finally(X)}L=setInterval(B,100),B()}).finally(function(){return clearInterval(L)}):Promise.resolve()).then(N)]).then(function(){return I(),d.onReadyBeingFired=[],At.resolve(fa(function(){return c.on.ready.fire(c.vip)})).then(function X(){if(0<d.onReadyBeingFired.length){var B=d.onReadyBeingFired.reduce(We,be);return d.onReadyBeingFired=[],At.resolve(fa(function(){return B(c.vip)})).then(X)}})}).finally(function(){d.openCanceller===_&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(X){d.dbOpenError=X;try{Q&&Q.abort()}catch{}return _===d.openCanceller&&c._close(),we(X)}).finally(function(){d.openComplete=!0,z()}).then(function(){var X;return U&&(X={},c.tables.forEach(function(B){B.schema.indexes.forEach(function(F){F.name&&(X["idb://".concat(c.name,"/").concat(B.name,"/").concat(F.name)]=new _n(-1/0,[[[]]]))}),X["idb://".concat(c.name,"/").concat(B.name,"/")]=X["idb://".concat(c.name,"/").concat(B.name,"/:dels")]=new _n(-1/0,[[[]]])}),yn(wr).fire(X),Tt(X,!0)),c})}function Se(c){function d(w){return c.next(w)}var g=A(d),_=A(function(w){return c.throw(w)});function A(w){return function(L){var N=w(L),L=N.value;return N.done?L:L&&typeof L.then=="function"?L.then(g,_):E(L)?Promise.all(L).then(g,_):g(L)}}return A(d)()}function ke(c,d,g){for(var _=E(c)?c.slice():[c],A=0;A<g;++A)_.push(d);return _}var Dr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(c){return s(s({},c),{table:function(d){var g=c.table(d),_=g.schema,A={},w=[];function I(U,X,B){var F=sn(U),K=A[F]=A[F]||[],Y=U==null?0:typeof U=="string"?1:U.length,tt=0<X,tt=s(s({},B),{name:tt?"".concat(F,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:tt,keyTail:X,keyLength:Y,extractKey:Pi(U),unique:!tt&&B.unique});return K.push(tt),tt.isPrimaryKey||w.push(tt),1<Y&&I(Y===2?U[0]:U.slice(0,Y-1),X+1,B),K.sort(function(rt,ot){return rt.keyTail-ot.keyTail}),tt}d=I(_.primaryKey.keyPath,0,_.primaryKey),A[":id"]=[d];for(var N=0,L=_.indexes;N<L.length;N++){var z=L[N];I(z.keyPath,0,z)}function Q(U){var X,B=U.query.index;return B.isVirtual?s(s({},U),{query:{index:B.lowLevelIndex,range:(X=U.query.range,B=B.keyTail,{type:X.type===1?2:X.type,lower:ke(X.lower,X.lowerOpen?c.MAX_KEY:c.MIN_KEY,B),lowerOpen:!0,upper:ke(X.upper,X.upperOpen?c.MIN_KEY:c.MAX_KEY,B),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},_),{primaryKey:d,indexes:w,getIndexByKeyPath:function(U){return(U=A[sn(U)])&&U[0]}}),count:function(U){return g.count(Q(U))},query:function(U){return g.query(Q(U))},openCursor:function(U){var X=U.query.index,B=X.keyTail,F=X.isVirtual,K=X.keyLength;return F?g.openCursor(Q(U)).then(function(tt){return tt&&Y(tt)}):g.openCursor(U);function Y(tt){return Object.create(tt,{continue:{value:function(rt){rt!=null?tt.continue(ke(rt,U.reverse?c.MAX_KEY:c.MIN_KEY,B)):U.unique?tt.continue(tt.key.slice(0,K).concat(U.reverse?c.MIN_KEY:c.MAX_KEY,B)):tt.continue()}},continuePrimaryKey:{value:function(rt,ot){tt.continuePrimaryKey(ke(rt,c.MAX_KEY,B),ot)}},primaryKey:{get:function(){return tt.primaryKey}},key:{get:function(){var rt=tt.key;return K===1?rt[0]:rt.slice(0,K)}},value:{get:function(){return tt.value}}})}}})}})}};function Or(c,d,g,_){return g=g||{},_=_||"",p(c).forEach(function(A){var w,I,N;O(d,A)?(w=c[A],I=d[A],typeof w=="object"&&typeof I=="object"&&w&&I?(N=$e(w))!==$e(I)?g[_+A]=d[A]:N==="Object"?Or(w,I,g,_+A+"."):w!==I&&(g[_+A]=d[A]):w!==I&&(g[_+A]=d[A])):g[_+A]=void 0}),p(d).forEach(function(A){O(c,A)||(g[_+A]=d[A])}),g}function dr(c,d){return d.type==="delete"?d.keys:d.keys||d.values.map(c.extractKey)}var Wr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return s(s({},c),{table:function(d){var g=c.table(d),_=g.schema.primaryKey;return s(s({},g),{mutate:function(A){var w=Dt.trans,I=w.table(d).hook,N=I.deleting,L=I.creating,z=I.updating;switch(A.type){case"add":if(L.fire===be)break;return w._promise("readwrite",function(){return Q(A)},!0);case"put":if(L.fire===be&&z.fire===be)break;return w._promise("readwrite",function(){return Q(A)},!0);case"delete":if(N.fire===be)break;return w._promise("readwrite",function(){return Q(A)},!0);case"deleteRange":if(N.fire===be)break;return w._promise("readwrite",function(){return(function U(X,B,F){return g.query({trans:X,values:!1,query:{index:_,range:B},limit:F}).then(function(K){var Y=K.result;return Q({type:"delete",keys:Y,trans:X}).then(function(tt){return 0<tt.numFailures?Promise.reject(tt.failures[0]):Y.length<F?{failures:[],numFailures:0,lastResult:void 0}:U(X,s(s({},B),{lower:Y[Y.length-1],lowerOpen:!0}),F)})})})(A.trans,A.range,1e4)},!0)}return g.mutate(A);function Q(U){var X,B,F,K=Dt.trans,Y=U.keys||dr(_,U);if(!Y)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:Y}):s({},U)).type!=="delete"&&(U.values=u([],U.values)),U.keys&&(U.keys=u([],U.keys)),X=g,F=Y,((B=U).type==="add"?Promise.resolve([]):X.getMany({trans:B.trans,keys:F,cache:"immutable"})).then(function(tt){var rt=Y.map(function(ot,dt){var Et,It,_t,bt=tt[dt],Rt={onerror:null,onsuccess:null};return U.type==="delete"?N.fire.call(Rt,ot,bt,K):U.type==="add"||bt===void 0?(Et=L.fire.call(Rt,ot,U.values[dt],K),ot==null&&Et!=null&&(U.keys[dt]=ot=Et,_.outbound||x(U.values[dt],_.keyPath,ot))):(Et=Or(bt,U.values[dt]),(It=z.fire.call(Rt,Et,ot,bt,K))&&(_t=U.values[dt],Object.keys(It).forEach(function(vt){O(_t,vt)?_t[vt]=It[vt]:x(_t,vt,It[vt])}))),Rt});return g.mutate(U).then(function(ot){for(var dt=ot.failures,Et=ot.results,It=ot.numFailures,ot=ot.lastResult,_t=0;_t<Y.length;++_t){var bt=(Et||Y)[_t],Rt=rt[_t];bt==null?Rt.onerror&&Rt.onerror(dt[_t]):Rt.onsuccess&&Rt.onsuccess(U.type==="put"&&tt[_t]?U.values[_t]:bt)}return{failures:dt,results:Et,numFailures:It,lastResult:ot}}).catch(function(ot){return rt.forEach(function(dt){return dt.onerror&&dt.onerror(ot)}),Promise.reject(ot)})})}}})}})}};function es(c,d,g){try{if(!d||d.keys.length<c.length)return null;for(var _=[],A=0,w=0;A<d.keys.length&&w<c.length;++A)re(d.keys[A],c[w])===0&&(_.push(g?V(d.values[A]):d.values[A]),++w);return _.length===c.length?_:null}catch{return null}}var ma={stack:"dbcore",level:-1,create:function(c){return{table:function(d){var g=c.table(d);return s(s({},g),{getMany:function(_){if(!_.cache)return g.getMany(_);var A=es(_.keys,_.trans._cache,_.cache==="clone");return A?At.resolve(A):g.getMany(_).then(function(w){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?V(w):w},w})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),g.mutate(_)}})}}}};function Is(c,d){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function ic(c,d){switch(c){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var lf={stack:"dbcore",level:0,name:"Observability",create:function(c){var d=c.schema.name,g=new _n(c.MIN_KEY,c.MAX_KEY);return s(s({},c),{transaction:function(_,A,w){if(Dt.subscr&&A!=="readonly")throw new Ot.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Dt.querier));return c.transaction(_,A,w)},table:function(_){var A=c.table(_),w=A.schema,I=w.primaryKey,U=w.indexes,N=I.extractKey,L=I.outbound,z=I.autoIncrement&&U.filter(function(B){return B.compound&&B.keyPath.includes(I.keyPath)}),Q=s(s({},A),{mutate:function(B){function F(vt){return vt="idb://".concat(d,"/").concat(_,"/").concat(vt),ot[vt]||(ot[vt]=new _n)}var K,Y,tt,rt=B.trans,ot=B.mutatedParts||(B.mutatedParts={}),dt=F(""),Et=F(":dels"),It=B.type,Rt=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[dr(I,B).filter(function(vt){return vt}),B.values]:[],_t=Rt[0],bt=Rt[1],Rt=B.trans._cache;return E(_t)?(dt.addKeys(_t),(Rt=It==="delete"||_t.length===bt.length?es(_t,Rt):null)||Et.addKeys(_t),(Rt||bt)&&(K=F,Y=Rt,tt=bt,w.indexes.forEach(function(vt){var Mt=K(vt.name||"");function Bt(ie){return ie!=null?vt.extractKey(ie):null}function Zt(ie){return vt.multiEntry&&E(ie)?ie.forEach(function(jn){return Mt.addKey(jn)}):Mt.addKey(ie)}(Y||tt).forEach(function(ie,An){var Xt=Y&&Bt(Y[An]),An=tt&&Bt(tt[An]);re(Xt,An)!==0&&(Xt!=null&&Zt(Xt),An!=null&&Zt(An))})}))):_t?(bt={from:(bt=_t.lower)!==null&&bt!==void 0?bt:c.MIN_KEY,to:(bt=_t.upper)!==null&&bt!==void 0?bt:c.MAX_KEY},Et.add(bt),dt.add(bt)):(dt.add(g),Et.add(g),w.indexes.forEach(function(vt){return F(vt.name).add(g)})),A.mutate(B).then(function(vt){return!_t||B.type!=="add"&&B.type!=="put"||(dt.addKeys(vt.results),z&&z.forEach(function(Mt){for(var Bt=B.values.map(function(Xt){return Mt.extractKey(Xt)}),Zt=Mt.keyPath.findIndex(function(Xt){return Xt===I.keyPath}),ie=0,jn=vt.results.length;ie<jn;++ie)Bt[ie][Zt]=vt.results[ie];F(Mt.name).addKeys(Bt)})),rt.mutatedParts=l(rt.mutatedParts||{},ot),vt})}}),U=function(F){var K=F.query,F=K.index,K=K.range;return[F,new _n((F=K.lower)!==null&&F!==void 0?F:c.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:c.MAX_KEY)]},X={get:function(B){return[I,new _n(B.key)]},getMany:function(B){return[I,new _n().addKeys(B.keys)]},count:U,query:U,openCursor:U};return p(X).forEach(function(B){Q[B]=function(F){var K=Dt.subscr,Y=!!K,tt=Is(Dt,A)&&ic(B,F)?F.obsSet={}:K;if(Y){var rt=function(bt){return bt="idb://".concat(d,"/").concat(_,"/").concat(bt),tt[bt]||(tt[bt]=new _n)},ot=rt(""),dt=rt(":dels"),K=X[B](F),Y=K[0],K=K[1];if((B==="query"&&Y.isPrimaryKey&&!F.values?dt:rt(Y.name||"")).add(K),!Y.isPrimaryKey){if(B!=="count"){var Et=B==="query"&&L&&F.values&&A.query(s(s({},F),{values:!1}));return A[B].apply(this,arguments).then(function(bt){if(B==="query"){if(L&&F.values)return Et.then(function(Bt){return Bt=Bt.result,ot.addKeys(Bt),bt});var Rt=F.values?bt.result.map(N):bt.result;(F.values?ot:dt).addKeys(Rt)}else if(B==="openCursor"){var vt=bt,Mt=F.values;return vt&&Object.create(vt,{key:{get:function(){return dt.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var Bt=vt.primaryKey;return dt.addKey(Bt),Bt}},value:{get:function(){return Mt&&ot.addKey(vt.primaryKey),vt.value}}})}return bt})}dt.add(g)}}return A[B].apply(this,arguments)}}),Q}})}};function sc(c,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var _=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===_?null:(d=s({},d),E(d.keys)&&(d.keys=d.keys.filter(function(A,w){return!(w in g.failures)})),"values"in d&&E(d.values)&&(d.values=d.values.filter(function(A,w){return!(w in g.failures)})),d)}function Go(c,d){return g=c,((_=d).lower===void 0||(_.lowerOpen?0<re(g,_.lower):0<=re(g,_.lower)))&&(c=c,(d=d).upper===void 0||(d.upperOpen?re(c,d.upper)<0:re(c,d.upper)<=0));var g,_}function Fu(c,d,X,_,A,w){if(!X||X.length===0)return c;var I=d.query.index,N=I.multiEntry,L=d.query.range,z=_.schema.primaryKey.extractKey,Q=I.extractKey,U=(I.lowLevelIndex||I).extractKey,X=X.reduce(function(B,F){var K=B,Y=[];if(F.type==="add"||F.type==="put")for(var tt=new _n,rt=F.values.length-1;0<=rt;--rt){var ot,dt=F.values[rt],Et=z(dt);tt.hasKey(Et)||(ot=Q(dt),(N&&E(ot)?ot.some(function(vt){return Go(vt,L)}):Go(ot,L))&&(tt.addKey(Et),Y.push(dt)))}switch(F.type){case"add":var It=new _n().addKeys(d.values?B.map(function(Mt){return z(Mt)}):B),K=B.concat(d.values?Y.filter(function(Mt){return Mt=z(Mt),!It.hasKey(Mt)&&(It.addKey(Mt),!0)}):Y.map(function(Mt){return z(Mt)}).filter(function(Mt){return!It.hasKey(Mt)&&(It.addKey(Mt),!0)}));break;case"put":var _t=new _n().addKeys(F.values.map(function(Mt){return z(Mt)}));K=B.filter(function(Mt){return!_t.hasKey(d.values?z(Mt):Mt)}).concat(d.values?Y:Y.map(function(Mt){return z(Mt)}));break;case"delete":var bt=new _n().addKeys(F.keys);K=B.filter(function(Mt){return!bt.hasKey(d.values?z(Mt):Mt)});break;case"deleteRange":var Rt=F.range;K=B.filter(function(Mt){return!Go(z(Mt),Rt)})}return K},c);return X===c?c:(X.sort(function(B,F){return re(U(B),U(F))||re(z(B),z(F))}),d.limit&&d.limit<1/0&&(X.length>d.limit?X.length=d.limit:c.length===d.limit&&X.length<d.limit&&(A.dirty=!0)),w?Object.freeze(X):X)}function pa(c,d){return re(c.lower,d.lower)===0&&re(c.upper,d.upper)===0&&!!c.lowerOpen==!!d.lowerOpen&&!!c.upperOpen==!!d.upperOpen}function fo(c,d){return(function(g,_,A,w){if(g===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=re(g,_))===0){if(A&&w)return 0;if(A)return 1;if(w)return-1}return _})(c.lower,d.lower,c.lowerOpen,d.lowerOpen)<=0&&0<=(function(g,_,A,w){if(g===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=re(g,_))===0){if(A&&w)return 0;if(A)return-1;if(w)return 1}return _})(c.upper,d.upper,c.upperOpen,d.upperOpen)}function cf(c,d,g,_){c.subscribers.add(g),_.addEventListener("abort",function(){var A,w;c.subscribers.delete(g),c.subscribers.size===0&&(A=c,w=d,setTimeout(function(){A.subscribers.size===0&&Ut(w,A)},3e3))})}var Qo={stack:"dbcore",level:0,name:"Cache",create:function(c){var d=c.schema.name;return s(s({},c),{transaction:function(g,_,A){var w,I,N=c.transaction(g,_,A);return _==="readwrite"&&(I=(w=new AbortController).signal,A=function(L){return function(){if(w.abort(),_==="readwrite"){for(var z=new Set,Q=0,U=g;Q<U.length;Q++){var X=U[Q],B=T["idb://".concat(d,"/").concat(X)];if(B){var F=c.table(X),K=B.optimisticOps.filter(function(Mt){return Mt.trans===N});if(N._explicit&&L&&N.mutatedParts)for(var Y=0,tt=Object.values(B.queries.query);Y<tt.length;Y++)for(var rt=0,ot=(It=tt[Y]).slice();rt<ot.length;rt++)y((_t=ot[rt]).obsSet,N.mutatedParts)&&(Ut(It,_t),_t.subscribers.forEach(function(Mt){return z.add(Mt)}));else if(0<K.length){B.optimisticOps=B.optimisticOps.filter(function(Mt){return Mt.trans!==N});for(var dt=0,Et=Object.values(B.queries.query);dt<Et.length;dt++)for(var It,_t,bt,Rt=0,vt=(It=Et[dt]).slice();Rt<vt.length;Rt++)(_t=vt[Rt]).res!=null&&N.mutatedParts&&(L&&!_t.dirty?(bt=Object.isFrozen(_t.res),bt=Fu(_t.res,_t.req,K,F,_t,bt),_t.dirty?(Ut(It,_t),_t.subscribers.forEach(function(Mt){return z.add(Mt)})):bt!==_t.res&&(_t.res=bt,_t.promise=At.resolve({result:bt}))):(_t.dirty&&Ut(It,_t),_t.subscribers.forEach(function(Mt){return z.add(Mt)})))}}}z.forEach(function(Mt){return Mt()})}}},N.addEventListener("abort",A(!1),{signal:I}),N.addEventListener("error",A(!1),{signal:I}),N.addEventListener("complete",A(!0),{signal:I})),N},table:function(g){var _=c.table(g),A=_.schema.primaryKey;return s(s({},_),{mutate:function(w){var I=Dt.trans;if(A.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return _.mutate(w);var N=T["idb://".concat(d,"/").concat(g)];return N?(I=_.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||dr(A,w).some(function(L){return L==null}))?(N.optimisticOps.push(w),w.mutatedParts&&st(w.mutatedParts),I.then(function(L){0<L.numFailures&&(Ut(N.optimisticOps,w),(L=sc(0,w,L))&&N.optimisticOps.push(L),w.mutatedParts&&st(w.mutatedParts))}),I.catch(function(){Ut(N.optimisticOps,w),w.mutatedParts&&st(w.mutatedParts)})):I.then(function(L){var z=sc(0,s(s({},w),{values:w.values.map(function(Q,U){var X;return L.failures[U]?Q:(Q=(X=A.keyPath)!==null&&X!==void 0&&X.includes(".")?V(Q):s({},Q),x(Q,A.keyPath,L.results[U]),Q)})}),L);N.optimisticOps.push(z),queueMicrotask(function(){return w.mutatedParts&&st(w.mutatedParts)})}),I):_.mutate(w)},query:function(w){if(!Is(Dt,_)||!ic("query",w))return _.query(w);var I=((z=Dt.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=Dt,N=U.requery,L=U.signal,z=(function(F,K,Y,tt){var rt=T["idb://".concat(F,"/").concat(K)];if(!rt)return[];if(!(K=rt.queries[Y]))return[null,!1,rt,null];var ot=K[(tt.query?tt.query.index.name:null)||""];if(!ot)return[null,!1,rt,null];switch(Y){case"query":var dt=ot.find(function(Et){return Et.req.limit===tt.limit&&Et.req.values===tt.values&&pa(Et.req.query.range,tt.query.range)});return dt?[dt,!0,rt,ot]:[ot.find(function(Et){return("limit"in Et.req?Et.req.limit:1/0)>=tt.limit&&(!tt.values||Et.req.values)&&fo(Et.req.query.range,tt.query.range)}),!1,rt,ot];case"count":return dt=ot.find(function(Et){return pa(Et.req.query.range,tt.query.range)}),[dt,!!dt,rt,ot]}})(d,g,"query",w),Q=z[0],U=z[1],X=z[2],B=z[3];return Q&&U?Q.obsSet=w.obsSet:(U=_.query(w).then(function(F){var K=F.result;if(Q&&(Q.res=K),I){for(var Y=0,tt=K.length;Y<tt;++Y)Object.freeze(K[Y]);Object.freeze(K)}else F.result=V(K);return F}).catch(function(F){return B&&Q&&Ut(B,Q),Promise.reject(F)}),Q={obsSet:w.obsSet,promise:U,subscribers:new Set,type:"query",req:w,dirty:!1},B?B.push(Q):(B=[Q],(X=X||(T["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=B)),cf(Q,B,N,L),Q.promise.then(function(F){return{result:Fu(F.result,w,X?.optimisticOps,_,Q,I)}})}})}})}};function mo(c,d){return new Proxy(c,{get:function(g,_,A){return _==="db"?d:Reflect.get(g,_,A)}})}var vi=(Ke.prototype.version=function(c){if(isNaN(c)||c<.1)throw new Ot.Type("Given version is not a positive number");if(c=Math.round(10*c)/10,this.idbdb||this._state.isBeingOpened)throw new Ot.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var d=this._versions,g=d.filter(function(_){return _._cfg.version===c})[0];return g||(g=new this.Version(c),d.push(g),d.sort(ua),g.stores({}),this._state.autoSchema=!1,g)},Ke.prototype._whenReady=function(c){var d=this;return this.idbdb&&(this._state.openComplete||Dt.letThrough||this._vip)?c():new At(function(g,_){if(d._state.openComplete)return _(new Ot.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void _(new Ot.DatabaseClosed);d.open().catch(be)}d._state.dbReadyPromise.then(g,_)}).then(c)},Ke.prototype.use=function(c){var d=c.stack,g=c.create,_=c.level,A=c.name;return A&&this.unuse({stack:d,name:A}),c=this._middlewares[d]||(this._middlewares[d]=[]),c.push({stack:d,create:g,level:_??10,name:A}),c.sort(function(w,I){return w.level-I.level}),this},Ke.prototype.unuse=function(c){var d=c.stack,g=c.name,_=c.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(A){return _?A.create!==_:!!g&&A.name!==g})),this},Ke.prototype.open=function(){var c=this;return Ln(pn,function(){return an(c)})},Ke.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var c=this._state,d=hi.indexOf(this);if(0<=d&&hi.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new At(function(g){c.dbReadyResolve=g}),c.openCanceller=new At(function(g,_){c.cancelOpen=_}))},Ke.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Ot.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Ot.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Ke.prototype.delete=function(c){var d=this;c===void 0&&(c={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new At(function(A,w){function I(){d.close(c);var N=d._deps.indexedDB.deleteDatabase(d.name);N.onsuccess=Ne(function(){var L,z,Q;L=d._deps,z=d.name,Q=L.indexedDB,L=L.IDBKeyRange,Cr(Q)||z===Xi||ha(Q,L).delete(z).catch(be),A()}),N.onerror=zn(w),N.onblocked=d._fireOnBlocked}if(g)throw new Ot.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(I):I()})},Ke.prototype.backendDB=function(){return this.idbdb},Ke.prototype.isOpen=function(){return this.idbdb!==null},Ke.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},Ke.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ke.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ke.prototype,"tables",{get:function(){var c=this;return p(this._allTables).map(function(d){return c._allTables[d]})},enumerable:!1,configurable:!0}),Ke.prototype.transaction=function(){var c=(function(d,g,_){var A=arguments.length;if(A<2)throw new Ot.InvalidArgument("Too few arguments");for(var w=new Array(A-1);--A;)w[A-1]=arguments[A];return _=w.pop(),[d,G(w),_]}).apply(this,arguments);return this._transaction.apply(this,c)},Ke.prototype._transaction=function(c,d,g){var _=this,A=Dt.trans;A&&A.db===this&&c.indexOf("!")===-1||(A=null);var w,I,N=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");try{if(I=d.map(function(z){if(z=z instanceof _.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),c=="r"||c===Tr)w=Tr;else{if(c!="rw"&&c!=br)throw new Ot.InvalidArgument("Invalid transaction mode: "+c);w=br}if(A){if(A.mode===Tr&&w===br){if(!N)throw new Ot.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&I.forEach(function(z){if(A&&A.storeNames.indexOf(z)===-1){if(!N)throw new Ot.SubTransaction("Table "+z+" not included in parent transaction.");A=null}}),N&&A&&!A.active&&(A=null)}}catch(z){return A?A._promise(null,function(Q,U){U(z)}):we(z)}var L=(function z(Q,U,X,B,F){return At.resolve().then(function(){var K=Dt.transless||Dt,Y=Q._createTransaction(U,X,Q._dbSchema,B);if(Y.explicit=!0,K={trans:Y,transless:K},B)Y.idbtrans=B.idbtrans;else try{Y.create(),Y.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ot){return ot.name===ce.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,X,null,F)})):we(ot)}var tt,rt=H(F);return rt&&Fe(),K=At.follow(function(){var ot;(tt=F.call(Y,Y))&&(rt?(ot=Vn.bind(null,null),tt.then(ot,ot)):typeof tt.next=="function"&&typeof tt.throw=="function"&&(tt=Se(tt)))},K),(tt&&typeof tt.then=="function"?At.resolve(tt).then(function(ot){return Y.active?ot:we(new Ot.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return tt})).then(function(ot){return B&&Y._resolve(),Y._completion.then(function(){return ot})}).catch(function(ot){return Y._reject(ot),we(ot)})})}).bind(null,this,w,I,A,g);return A?A._promise(w,L,"lock"):Dt.trans?Ln(Dt.transless,function(){return _._whenReady(L)}):this._whenReady(L)},Ke.prototype.table=function(c){if(!O(this._allTables,c))throw new Ot.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},Ke);function Ke(c,d){var g=this;this._middlewares={},this.verno=0;var _=Ke.dependencies;this._options=d=s({addons:Ke.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},_=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,w,I,N,L,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:be,dbReadyPromise:null,cancelOpen:be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};z.dbReadyPromise=new At(function(U){z.dbReadyResolve=U}),z.openCanceller=new At(function(U,X){z.cancelOpen=X}),this._state=z,this.name=c,this.on=Gr(this,"populate","blocked","versionchange","close",{ready:[We,be]}),this.once=function(U,X){var B=function(){for(var F=[],K=0;K<arguments.length;K++)F[K]=arguments[K];g.on(U).unsubscribe(B),X.apply(g,F)};return g.on(U,B)},this.on.ready.subscribe=qt(this.on.ready.subscribe,function(U){return function(X,B){Ke.vip(function(){var F,K=g._state;K.openComplete?(K.dbOpenError||At.resolve().then(X),B&&U(X)):K.onReadyBeingFired?(K.onReadyBeingFired.push(X),B&&U(X)):(U(X),F=g,B||U(function Y(){F.on.ready.unsubscribe(X),F.on.ready.unsubscribe(Y)}))})}}),this.Collection=(A=this,Sn(Fo.prototype,function(tt,Y){this.db=A;var B=na,F=null;if(Y)try{B=Y()}catch(rt){F=rt}var K=tt._ctx,Y=K.table,tt=Y.hook.reading.fire;this._ctx={table:Y,index:K.index,isPrimKey:!K.index||Y.schema.primKey.keyPath&&K.index===Y.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:K.or,valueMapper:tt!==ai?tt:null}})),this.Table=(w=this,Sn(Ji.prototype,function(U,X,B){this.db=w,this._tx=B,this.name=U,this.schema=X,this.hook=w._allTables[U]?w._allTables[U].hook:Gr(null,{creating:[gs,be],reading:[oi,ai],updating:[io,be],deleting:[ro,be]})})),this.Transaction=(I=this,Sn(As.prototype,function(U,X,B,F,K){var Y=this;U!=="readonly"&&X.forEach(function(tt){tt=(tt=B[tt])===null||tt===void 0?void 0:tt.yProps,tt&&(X=X.concat(tt.map(function(rt){return rt.updatesTable})))}),this.db=I,this.mode=U,this.storeNames=X,this.schema=B,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=Gr(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new At(function(tt,rt){Y._resolve=tt,Y._reject=rt}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(tt){var rt=Y.active;return Y.active=!1,Y.on.error.fire(tt),Y.parent?Y.parent._reject(tt):rt&&Y.idbtrans&&Y.idbtrans.abort(),we(tt)})})),this.Version=(N=this,Sn(ca.prototype,function(U){this.db=N,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(L=this,Sn(Vi.prototype,function(U,X,B){if(this.db=L,this._ctx={table:U,index:X===":id"?null:X,or:B},this._cmp=this._ascending=re,this._descending=function(F,K){return re(K,F)},this._max=function(F,K){return 0<re(F,K)?F:K},this._min=function(F,K){return re(F,K)<0?F:K},this._IDBKeyRange=L._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ot.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=ki(d.IDBKeyRange),this._createTransaction=function(U,X,B,F){return new g.Transaction(U,X,B,g._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),hi.filter(function(X){return X.name===g.name&&X!==g&&!X._state.vcFired}).map(function(X){return X.on("versionchange").fire(U)})},this.use(ma),this.use(Qo),this.use(lf),this.use(Dr),this.use(Wr);var Q=new Proxy(this,{get:function(U,X,B){if(X==="_vip")return!0;if(X==="table")return function(K){return mo(g.table(K),Q)};var F=Reflect.get(U,X,B);return F instanceof Ji?mo(F,Q):X==="tables"?F.map(function(K){return mo(K,Q)}):X==="_createTransaction"?function(){return mo(F.apply(this,arguments),Q)}:F}});this.vip=Q,_.forEach(function(U){return U(g)})}var ga,mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ac=(Yo.prototype.subscribe=function(c,d,g){return this._subscribe(c&&typeof c!="function"?c:{next:c,error:d,complete:g})},Yo.prototype[mr]=function(){return this},Yo);function Yo(c){this._subscribe=c}try{ga={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{ga={indexedDB:null,IDBKeyRange:null}}function oc(c){var d,g=!1,_=new ac(function(A){var w=H(c),I,N=!1,L={},z={},Q={get closed(){return N},unsubscribe:function(){N||(N=!0,I&&I.abort(),U&&yn.storagemutated.unsubscribe(B))}};A.start&&A.start(Q);var U=!1,X=function(){return Er(F)},B=function(K){l(L,K),y(z,L)&&X()},F=function(){var K,Y,tt;!N&&ga.indexedDB&&(L={},K={},I&&I.abort(),I=new AbortController,tt=(function(rt){var ot=Kn();try{w&&Fe();var dt=Ve(c,rt);return dt=w?dt.finally(Vn):dt}finally{ot&&_r()}})(Y={subscr:K,signal:I.signal,requery:X,querier:c,trans:null}),Promise.resolve(tt).then(function(rt){g=!0,d=rt,N||Y.signal.aborted||(L={},(function(ot){for(var dt in ot)if(O(ot,dt))return;return 1})(z=K)||U||(yn(wr,B),U=!0),Er(function(){return!N&&A.next&&A.next(rt)}))},function(rt){g=!1,["DatabaseClosedError","AbortError"].includes(rt?.name)||N||Er(function(){N||A.error&&A.error(rt)})}))};return setTimeout(X,0),Q});return _.hasValue=function(){return g},_.getValue=function(){return d},_}var Ds=vi;function Ku(c){var d=ns;try{ns=!0,yn.storagemutated.fire(c),Tt(c,!0)}finally{ns=d}}Z(Ds,s(s({},Oi),{delete:function(c){return new Ds(c,{addons:[]}).delete()},exists:function(c){return new Ds(c,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return d=Ds.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(Cr(g)?Promise.resolve(g.databases()).then(function(_){return _.map(function(A){return A.name}).filter(function(A){return A!==Xi})}):ha(g,d).toCollection().primaryKeys()).then(c)}catch{return we(new Ot.MissingAPI)}var d,g},defineClass:function(){return function(c){b(this,c)}},ignoreTransaction:function(c){return Dt.trans?Ln(Dt.transless,c):c()},vip:fa,async:function(c){return function(){try{var d=Se(c.apply(this,arguments));return d&&typeof d.then=="function"?d:At.resolve(d)}catch(g){return we(g)}}},spawn:function(c,d,g){try{var _=Se(c.apply(g,d||[]));return _&&typeof _.then=="function"?_:At.resolve(_)}catch(A){return we(A)}},currentTransaction:{get:function(){return Dt.trans||null}},waitFor:function(c,d){return d=At.resolve(typeof c=="function"?Ds.ignoreTransaction(c):c).timeout(d||6e4),Dt.trans?Dt.trans.waitFor(d):d},Promise:At,debug:{get:function(){return Mn},set:function(c){qo(c)}},derive:Ct,extend:b,props:Z,override:qt,Events:Gr,on:yn,liveQuery:oc,extendObservabilitySet:l,getByKeyPath:ne,setByKeyPath:x,delByKeyPath:function(c,d){typeof d=="string"?x(c,d,void 0):"length"in d&&[].map.call(d,function(g){x(c,g,void 0)})},shallowClone:M,deepClone:V,getObjectDiff:Or,cmp:re,asap:Le,minKey:-1/0,addons:[],connections:hi,errnames:ce,dependencies:ga,cache:T,semVer:"4.2.1",version:"4.2.1".split(".").map(function(c){return parseInt(c)}).reduce(function(c,d,g){return c+d/Math.pow(10,2*g)})})),Ds.maxKey=ki(Ds.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(wr,function(c){ns||(c=new CustomEvent(fr,{detail:c}),ns=!0,dispatchEvent(c),ns=!1)}),addEventListener(fr,function(c){c=c.detail,ns||Ku(c)}));var ya,ns=!1,ir=function(){};return typeof BroadcastChannel<"u"&&((ir=function(){(ya=new BroadcastChannel(fr)).onmessage=function(c){return c.data&&Ku(c.data)}})(),typeof ya.unref=="function"&&ya.unref(),yn(wr,function(c){ns||ya.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!vi.disableBfCache&&c.persisted){Mn&&console.debug("Dexie: handling persisted pagehide"),ya?.close();for(var d=0,g=hi;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(c){!vi.disableBfCache&&c.persisted&&(Mn&&console.debug("Dexie: handling persisted pageshow"),ir(),Ku({all:new _n(-1/0,[[]])}))})),At.rejectionMapper=function(c,d){return!c||c instanceof wt||c instanceof TypeError||c instanceof SyntaxError||!c.name||!Gi[c.name]?c:(d=new Gi[c.name](d||c.message,c),"stack"in c&&St(d,"stack",{get:function(){return this.inner.stack}}),d)},qo(Mn),s(vi,Object.freeze({__proto__:null,Dexie:vi,liveQuery:oc,Entity:oo,cmp:re,PropModification:Sr,replacePrefix:function(c,d){return new Sr({replacePrefix:[c,d]})},add:function(c){return new Sr({add:c})},remove:function(c){return new Sr({remove:c})},default:vi,RangeSet:_n,mergeRanges:Ir,rangesOverlap:Bn}),{default:vi}),vi})})(mh)),mh.exports}var fS=hS();const dm=Lm(fS),q_=Symbol.for("Dexie"),wh=globalThis[q_]||(globalThis[q_]=dm);if(dm.semVer!==wh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${dm.semVer} and ${wh.semVer}`);const{liveQuery:C2,mergeRanges:I2,rangesOverlap:D2,RangeSet:O2,cmp:N2,Entity:M2,PropModification:V2,replacePrefix:x2,add:k2,remove:P2,DexieYProvider:U2}=wh,ja=new wh("GeminiPodcastFlashcards");ja.version(1).stores({vocab:"id, word, status, nextReview, reviewCount, updatedAt"});async function dS(){if(await ja.vocab.count()===0)try{const t=await fetch("/data.json");if(!t.ok)throw new Error("Failed to fetch data.json");const s=(await t.json()).map(u=>({...u,status:u.status||"new",reviewCount:u.reviewCount||0,nextReview:u.nextReview||Date.now(),updatedAt:Date.now()}));await ja.vocab.bulkAdd(s),console.log(`Initialized DB with ${s.length} cards.`)}catch(t){console.error("Error initializing database:",t)}}function mS(a,t){const r=Date.now(),s=60*1e3,h=24*(60*s);let p=a.status,E=r,b=a.reviewCount||0;if(t==="remember")p="review",E=r+h,b+=1;else if(t==="forget")p="learning",E=r+10*s;else throw new Error(`Unknown action: ${t}`);return{status:p,nextReview:E,reviewCount:b,updatedAt:r}}function pS({card:a,onUpdate:t}){const[r,s]=Ks.useState(!1),u=()=>{s(!r)},h=(p,E)=>{E.stopPropagation();try{const b=mS(a,p),S={...a,...b};t(S),s(!1)}catch(b){console.error("Error updating card:",b)}};return fe.jsxs("div",{className:"flashcard-container",onClick:u,style:{border:"1px solid #ccc",padding:"2rem",borderRadius:"8px",textAlign:"center",cursor:"pointer",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#2c2e33"},children:[!r&&fe.jsxs("div",{className:"front",children:[fe.jsx("h2",{style:{fontSize:"2rem",margin:0},children:a.word}),fe.jsx("p",{style:{color:"#888",marginTop:"1rem"},children:"()"})]}),r&&fe.jsxs("div",{className:"back",children:[fe.jsx("h2",{style:{fontSize:"1.5rem",color:"#aaa"},children:a.word}),fe.jsxs("div",{style:{margin:"1.5rem 0",textAlign:"left"},children:[fe.jsxs("p",{children:[fe.jsx("strong",{children:""})," ",a.definition]}),fe.jsxs("p",{children:[fe.jsx("strong",{children:""})," ",fe.jsx("em",{style:{color:"#4caf50"},children:a.context})]})]}),fe.jsxs("div",{className:"actions",style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[fe.jsx("button",{onClick:p=>h("forget",p),style:{padding:"0.5rem 1rem",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" (10m)"}),fe.jsx("button",{onClick:p=>h("remember",p),style:{padding:"0.5rem 1rem",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" (1d)"})]})]})]})}const gS=()=>{};var H_={};const m0=function(a){const t=[];let r=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},yS=function(a){const t=[];let r=0,s=0;for(;r<a.length;){const u=a[r++];if(u<128)t[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[r++];t[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[r++],p=a[r++],E=a[r++],b=((u&7)<<18|(h&63)<<12|(p&63)<<6|E&63)-65536;t[s++]=String.fromCharCode(55296+(b>>10)),t[s++]=String.fromCharCode(56320+(b&1023))}else{const h=a[r++],p=a[r++];t[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|p&63)}}return t.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],p=u+1<a.length,E=p?a[u+1]:0,b=u+2<a.length,S=b?a[u+2]:0,D=h>>2,O=(h&3)<<4|E>>4;let Z=(E&15)<<2|S>>6,ht=S&63;b||(ht=64,p||(Z=64)),s.push(r[D],r[O],r[Z],r[ht])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(m0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):yS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=r[a.charAt(u++)],E=u<a.length?r[a.charAt(u)]:0;++u;const S=u<a.length?r[a.charAt(u)]:64;++u;const O=u<a.length?r[a.charAt(u)]:64;if(++u,h==null||E==null||S==null||O==null)throw new _S;const Z=h<<2|E>>4;if(s.push(Z),S!==64){const ht=E<<4&240|S>>2;if(s.push(ht),O!==64){const St=S<<6&192|O;s.push(St)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(a){const t=m0(a);return p0.encodeByteArray(t,!0)},Rh=function(a){return vS(a).replace(/\./g,"")},g0=function(a){try{return p0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TS=()=>ES().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof H_>"u")return;const a=H_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&g0(a[1]);return t&&JSON.parse(t)},Gh=()=>{try{return gS()||TS()||bS()||SS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},y0=a=>Gh()?.emulatorHosts?.[a],AS=a=>{const t=y0(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},_0=()=>Gh()?.config,v0=a=>Gh()?.[`_${a}`];class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}function ku(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(a){return(await fetch(a,{credentials:"include"})).ok}function RS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Rh(JSON.stringify(r)),Rh(JSON.stringify(p)),""].join(".")}const Nl={};function CS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?a.emulator.push(t):a.prod.push(t);return a}function IS(a){let t=document.getElementById(a),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),r=!0),{created:r,element:t}}let F_=!1;function T0(a,t){if(typeof window>"u"||typeof document>"u"||!ku(window.location.host)||Nl[a]===t||Nl[a]||F_)return;Nl[a]=t;function r(Z){return`__firebase__banner__${Z}`}const s="__firebase__banner",h=CS().prod.length>0;function p(){const Z=document.getElementById(s);Z&&Z.remove()}function E(Z){Z.style.display="flex",Z.style.background="#7faaf0",Z.style.position="fixed",Z.style.bottom="5px",Z.style.left="5px",Z.style.padding=".5em",Z.style.borderRadius="5px",Z.style.alignItems="center"}function b(Z,ht){Z.setAttribute("width","24"),Z.setAttribute("id",ht),Z.setAttribute("height","24"),Z.setAttribute("viewBox","0 0 24 24"),Z.setAttribute("fill","none"),Z.style.marginLeft="-6px"}function S(){const Z=document.createElement("span");return Z.style.cursor="pointer",Z.style.marginLeft="16px",Z.style.fontSize="24px",Z.innerHTML=" &times;",Z.onclick=()=>{F_=!0,p()},Z}function D(Z,ht){Z.setAttribute("id",ht),Z.innerText="Learn more",Z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Z.setAttribute("target","__blank"),Z.style.paddingLeft="5px",Z.style.textDecoration="underline"}function O(){const Z=IS(s),ht=r("text"),St=document.getElementById(ht)||document.createElement("span"),Ct=r("learnmore"),yt=document.getElementById(Ct)||document.createElement("a"),kt=r("preprendIcon"),Gt=document.getElementById(kt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Z.created){const qt=Z.element;E(qt),D(yt,Ct);const de=S();b(Gt,kt),qt.append(Gt,St,yt,de),document.body.appendChild(qt)}h?(St.innerText="Preview backend disconnected.",Gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,St.innerText="Preview backend running in this workspace."),St.setAttribute("id",ht)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function OS(){const a=Gh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){const a=lr();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function kS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((a,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(r){t(r)}})}const LS="FirebaseError";class ta extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=LS,Object.setPrototypeOf(this,ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},u=`${this.service}/${t}`,h=this.errors[t],p=h?zS(h,s):"Error",E=`${this.serviceName}: ${p} (${u}).`;return new ta(u,E,s)}}function zS(a,t){return a.replace(BS,(r,s)=>{const u=t[s];return u!=null?String(u):`<${s}?>`})}const BS=/\{\$([^}]+)}/g;function jS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vo(a,t){if(a===t)return!0;const r=Object.keys(a),s=Object.keys(t);for(const u of r){if(!s.includes(u))return!1;const h=a[u],p=t[u];if(K_(h)&&K_(p)){if(!Vo(h,p))return!1}else if(h!==p)return!1}for(const u of s)if(!r.includes(u))return!1;return!0}function K_(a){return a!==null&&typeof a=="object"}function Xl(a){const t=[];for(const[r,s]of Object.entries(a))Array.isArray(s)?s.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function qS(a,t){const r=new HS(a,t);return r.subscribe.bind(r)}class HS{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let u;if(t===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");FS(t,["next","error","complete"])?u=t:u={next:t,error:r,complete:s},u.next===void 0&&(u.next=em),u.error===void 0&&(u.error=em),u.complete===void 0&&(u.complete=em);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(a,t){if(typeof a!="object"||a===null)return!1;for(const r of t)if(r in a&&typeof a[r]=="function")return!0;return!1}function em(){}function Di(a){return a&&a._delegate?a._delegate:a}class xo{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Io="[DEFAULT]";class KS{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new wS;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QS(t))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(t=Io){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Io){return this.instances.has(t)}getOptions(t=Io){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[h,p]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(h);s===E&&p.resolve(u)}return u}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),u=this.onInitCallbacks.get(s)??new Set;u.add(t),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&t(h,s),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const u of s)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Io){return this.component?this.component.multipleInstances?t:Io:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(a){return a===Io?void 0:a}function QS(a){return a.instantiationMode==="EAGER"}class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new KS(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ve;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ve||(ve={}));const XS={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},ZS=ve.INFO,JS={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},$S=(a,t,...r)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),u=JS[t];if(u)console[u](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bm{constructor(t){this.name=t,this._logLevel=ZS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const WS=(a,t)=>t.some(r=>a instanceof r);let G_,Q_;function tA(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eA(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,mm=new WeakMap,S0=new WeakMap,nm=new WeakMap,jm=new WeakMap;function nA(a){const t=new Promise((r,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",p)},h=()=>{r(Ga(a.result)),u()},p=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&b0.set(r,a)}).catch(()=>{}),jm.set(t,a),t}function rA(a){if(mm.has(a))return;const t=new Promise((r,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",p),a.removeEventListener("abort",p)},h=()=>{r(),u()},p=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",p),a.addEventListener("abort",p)});mm.set(a,t)}let pm={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return mm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||S0.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ga(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function iA(a){pm=a(pm)}function sA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=a.call(rm(this),t,...r);return S0.set(s,t.sort?t.sort():[t]),Ga(s)}:eA().includes(a)?function(...t){return a.apply(rm(this),t),Ga(b0.get(this))}:function(...t){return Ga(a.apply(rm(this),t))}}function aA(a){return typeof a=="function"?sA(a):(a instanceof IDBTransaction&&rA(a),WS(a,tA())?new Proxy(a,pm):a)}function Ga(a){if(a instanceof IDBRequest)return nA(a);if(nm.has(a))return nm.get(a);const t=aA(a);return t!==a&&(nm.set(a,t),jm.set(t,a)),t}const rm=a=>jm.get(a);function oA(a,t,{blocked:r,upgrade:s,blocking:u,terminated:h}={}){const p=indexedDB.open(a,t),E=Ga(p);return s&&p.addEventListener("upgradeneeded",b=>{s(Ga(p.result),b.oldVersion,b.newVersion,Ga(p.transaction),b)}),r&&p.addEventListener("blocked",b=>r(b.oldVersion,b.newVersion,b)),E.then(b=>{h&&b.addEventListener("close",()=>h()),u&&b.addEventListener("versionchange",S=>u(S.oldVersion,S.newVersion,S))}).catch(()=>{}),E}const uA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],im=new Map;function Y_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,u=lA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(u||uA.includes(r)))return;const h=async function(p,...E){const b=this.transaction(p,u?"readwrite":"readonly");let S=b.store;return s&&(S=S.index(E.shift())),(await Promise.all([S[r](...E),u&&b.done]))[0]};return im.set(t,h),h}iA(a=>({...a,get:(t,r,s)=>Y_(t,r)||a.get(t,r,s),has:(t,r)=>!!Y_(t,r)||a.has(t,r)}));class cA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function hA(a){return a.getComponent()?.type==="VERSION"}const gm="@firebase/app",X_="0.14.6";const Zs=new Bm("@firebase/app"),fA="@firebase/app-compat",dA="@firebase/analytics-compat",mA="@firebase/analytics",pA="@firebase/app-check-compat",gA="@firebase/app-check",yA="@firebase/auth",_A="@firebase/auth-compat",vA="@firebase/database",EA="@firebase/data-connect",TA="@firebase/database-compat",bA="@firebase/functions",SA="@firebase/functions-compat",AA="@firebase/installations",wA="@firebase/installations-compat",RA="@firebase/messaging",CA="@firebase/messaging-compat",IA="@firebase/performance",DA="@firebase/performance-compat",OA="@firebase/remote-config",NA="@firebase/remote-config-compat",MA="@firebase/storage",VA="@firebase/storage-compat",xA="@firebase/firestore",kA="@firebase/ai",PA="@firebase/firestore-compat",UA="firebase",LA="12.6.0";const ym="[DEFAULT]",zA={[gm]:"fire-core",[fA]:"fire-core-compat",[mA]:"fire-analytics",[dA]:"fire-analytics-compat",[gA]:"fire-app-check",[pA]:"fire-app-check-compat",[yA]:"fire-auth",[_A]:"fire-auth-compat",[vA]:"fire-rtdb",[EA]:"fire-data-connect",[TA]:"fire-rtdb-compat",[bA]:"fire-fn",[SA]:"fire-fn-compat",[AA]:"fire-iid",[wA]:"fire-iid-compat",[RA]:"fire-fcm",[CA]:"fire-fcm-compat",[IA]:"fire-perf",[DA]:"fire-perf-compat",[OA]:"fire-rc",[NA]:"fire-rc-compat",[MA]:"fire-gcs",[VA]:"fire-gcs-compat",[xA]:"fire-fst",[PA]:"fire-fst-compat",[kA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};const Ch=new Map,BA=new Map,_m=new Map;function Z_(a,t){try{a.container.addComponent(t)}catch(r){Zs.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function Cu(a){const t=a.name;if(_m.has(t))return Zs.debug(`There were multiple attempts to register component ${t}.`),!1;_m.set(t,a);for(const r of Ch.values())Z_(r,a);for(const r of BA.values())Z_(r,a);return!0}function qm(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function qi(a){return a==null?!1:a.settings!==void 0}const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Yl("app","Firebase",jA);class qA{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}const Pu=LA;function A0(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const s={name:ym,automaticDataCollectionEnabled:!0,...t},u=s.name;if(typeof u!="string"||!u)throw Qa.create("bad-app-name",{appName:String(u)});if(r||(r=_0()),!r)throw Qa.create("no-options");const h=Ch.get(u);if(h){if(Vo(r,h.options)&&Vo(s,h.config))return h;throw Qa.create("duplicate-app",{appName:u})}const p=new YS(u);for(const b of _m.values())p.addComponent(b);const E=new qA(r,s,p);return Ch.set(u,E),E}function w0(a=ym){const t=Ch.get(a);if(!t&&a===ym&&_0())return A0();if(!t)throw Qa.create("no-app",{appName:a});return t}function Ya(a,t,r){let s=zA[a]??a;r&&(s+=`-${r}`);const u=s.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const p=[`Unable to register library "${s}" with version "${t}":`];u&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zs.warn(p.join(" "));return}Cu(new xo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const HA="firebase-heartbeat-database",FA=1,Ll="firebase-heartbeat-store";let sm=null;function R0(){return sm||(sm=oA(HA,FA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ll)}catch(r){console.warn(r)}}}}).catch(a=>{throw Qa.create("idb-open",{originalErrorMessage:a.message})})),sm}async function KA(a){try{const r=(await R0()).transaction(Ll),s=await r.objectStore(Ll).get(C0(a));return await r.done,s}catch(t){if(t instanceof ta)Zs.warn(t.message);else{const r=Qa.create("idb-get",{originalErrorMessage:t?.message});Zs.warn(r.message)}}}async function J_(a,t){try{const s=(await R0()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(t,C0(a)),await s.done}catch(r){if(r instanceof ta)Zs.warn(r.message);else{const s=Qa.create("idb-set",{originalErrorMessage:r?.message});Zs.warn(s.message)}}}function C0(a){return`${a.name}!${a.options.appId}`}const GA=1024,QA=30;class YA{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ZA(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>QA){const u=JA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:r,unsentEntries:s}=XA(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Zs.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function XA(a,t=GA){const r=[];let s=a.slice();for(const u of a){const h=r.find(p=>p.agent===u.agent);if(h){if(h.dates.push(u.date),W_(r)>t){h.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),W_(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class ZA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await KA(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function W_(a){return Rh(JSON.stringify({version:2,heartbeats:a})).length}function JA(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,t=s);return t}function $A(a){Cu(new xo("platform-logger",t=>new cA(t),"PRIVATE")),Cu(new xo("heartbeat",t=>new YA(t),"PRIVATE")),Ya(gm,X_,a),Ya(gm,X_,"esm2020"),Ya("fire-js","")}$A("");var WA="firebase",tw="12.6.0";Ya(WA,tw,"app");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ew=I0,D0=new Yl("auth","Firebase",I0());const Ih=new Bm("@firebase/auth");function nw(a,...t){Ih.logLevel<=ve.WARN&&Ih.warn(`Auth (${Pu}): ${a}`,...t)}function ph(a,...t){Ih.logLevel<=ve.ERROR&&Ih.error(`Auth (${Pu}): ${a}`,...t)}function ds(a,...t){throw Fm(a,...t)}function Ki(a,...t){return Fm(a,...t)}function Hm(a,t,r){const s={...ew(),[t]:r};return new Yl("auth","Firebase",s).create(t,{appName:a.name})}function No(a){return Hm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(a,t,r){const s=r;if(!(t instanceof s))throw s.name!==t.constructor.name&&ds(a,"argument-error"),Hm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(a,...t){if(typeof a!="string"){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(r,...s)}return D0.create(a,...t)}function Jt(a,t,...r){if(!a)throw Fm(t,...r)}function Qs(a){const t="INTERNAL ASSERTION FAILED: "+a;throw ph(t),new Error(t)}function Js(a,t){a||Qs(t)}function vm(){return typeof self<"u"&&self.location?.href||""}function iw(){return tv()==="http:"||tv()==="https:"}function tv(){return typeof self<"u"&&self.location?.protocol||null}function sw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iw()||MS()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Zl{constructor(t,r){this.shortDelay=t,this.longDelay=r,Js(r>t,"Short delay should be less than long delay!"),this.isMobile=DS()||VS()}get(){return sw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Km(a,t){Js(a.emulator,"Emulator should always be set here");const{url:r}=a.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class O0{static initialize(t,r,s){this.fetchImpl=t,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lw=new Zl(3e4,6e4);function Gm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Uu(a,t,r,s,u={}){return N0(a,u,async()=>{let h={},p={};s&&(t==="GET"?p=s:h={body:JSON.stringify(s)});const E=Xl({key:a.config.apiKey,...p}).slice(1),b=await a._getAdditionalHeaders();b["Content-Type"]="application/json",a.languageCode&&(b["X-Firebase-Locale"]=a.languageCode);const S={method:t,headers:b,...h};return NS()||(S.referrerPolicy="no-referrer"),a.emulatorConfig&&ku(a.emulatorConfig.host)&&(S.credentials="include"),O0.fetch()(await M0(a,a.config.apiHost,r,E),S)})}async function N0(a,t,r){a._canInitEmulator=!1;const s={...ow,...t};try{const u=new hw(a),h=await Promise.race([r(),u.promise]);u.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw ah(a,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const E=h.ok?p.errorMessage:p.error.message,[b,S]=E.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(a,"credential-already-in-use",p);if(b==="EMAIL_EXISTS")throw ah(a,"email-already-in-use",p);if(b==="USER_DISABLED")throw ah(a,"user-disabled",p);const D=s[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(S)throw Hm(a,D,S);ds(a,D)}}catch(u){if(u instanceof ta)throw u;ds(a,"network-request-failed",{message:String(u)})}}async function cw(a,t,r,s,u={}){const h=await Uu(a,t,r,s,u);return"mfaPendingCredential"in h&&ds(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function M0(a,t,r,s){const u=`${t}${r}?${s}`,h=a,p=h.config.emulator?Km(a.config,u):`${a.config.apiScheme}://${u}`;return uw.includes(r)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),lw.get())})}}function ah(a,t,r){const s={appName:a.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const u=Ki(a,t,s);return u.customData._tokenResponse=r,u}async function fw(a,t){return Uu(a,"POST","/v1/accounts:delete",t)}async function Dh(a,t){return Uu(a,"POST","/v1/accounts:lookup",t)}function Ml(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dw(a,t=!1){const r=Di(a),s=await r.getIdToken(t),u=Qm(s);Jt(u&&u.exp&&u.auth_time&&u.iat,r.auth,"internal-error");const h=typeof u.firebase=="object"?u.firebase:void 0,p=h?.sign_in_provider;return{claims:u,token:s,authTime:Ml(am(u.auth_time)),issuedAtTime:Ml(am(u.iat)),expirationTime:Ml(am(u.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function am(a){return Number(a)*1e3}function Qm(a){const[t,r,s]=a.split(".");if(t===void 0||r===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const u=g0(r);return u?JSON.parse(u):(ph("Failed to decode base64 JWT payload"),null)}catch(u){return ph("Caught error parsing JWT payload as JSON",u?.toString()),null}}function ev(a){const t=Qm(a);return Jt(t,"internal-error"),Jt(typeof t.exp<"u","internal-error"),Jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(a,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof ta&&mw(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function mw({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class pw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Em{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(a){const t=a.auth,r=await a.getIdToken(),s=await zl(a,Dh(t,{idToken:r}));Jt(s?.users.length,t,"internal-error");const u=s.users[0];a._notifyReloadListener(u);const h=u.providerUserInfo?.length?V0(u.providerUserInfo):[],p=yw(a.providerData,h),E=a.isAnonymous,b=!(a.email&&u.passwordHash)&&!p?.length,S=E?b:!1,D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Em(u.createdAt,u.lastLoginAt),isAnonymous:S};Object.assign(a,D)}async function gw(a){const t=Di(a);await Oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yw(a,t){return[...a.filter(s=>!t.some(u=>u.providerId===s.providerId)),...t]}function V0(a){return a.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function _w(a,t){const r=await N0(a,{},async()=>{const s=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:u,apiKey:h}=a.config,p=await M0(a,u,"/v1/token",`key=${h}`),E=await a._getAdditionalHeaders();E["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:E,body:s};return a.emulatorConfig&&ku(a.emulatorConfig.host)&&(b.credentials="include"),O0.fetch()(p,b)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function vw(a,t){return Uu(a,"POST","/v2/accounts:revokeToken",Gm(a,t))}class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(typeof t.idToken<"u","internal-error"),Jt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Jt(t.length!==0,"internal-error");const r=ev(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:s,refreshToken:u,expiresIn:h}=await _w(t,r);this.updateTokensAndExpiration(s,u,Number(h))}updateTokensAndExpiration(t,r,s){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,r){const{refreshToken:s,accessToken:u,expirationTime:h}=r,p=new Su;return s&&(Jt(typeof s=="string","internal-error",{appName:t}),p.refreshToken=s),u&&(Jt(typeof u=="string","internal-error",{appName:t}),p.accessToken=u),h&&(Jt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Qs("not implemented")}}function Ba(a,t){Jt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Hi{constructor({uid:t,auth:r,stsTokenManager:s,...u}){this.providerId="firebase",this.proactiveRefresh=new pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Em(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const r=await zl(this,this.stsTokenManager.getToken(this.auth,t));return Jt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return dw(this,t)}reload(){return gw(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),r&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(No(this.auth));const t=await this.getIdToken();return await zl(this,fw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const s=r.displayName??void 0,u=r.email??void 0,h=r.phoneNumber??void 0,p=r.photoURL??void 0,E=r.tenantId??void 0,b=r._redirectEventId??void 0,S=r.createdAt??void 0,D=r.lastLoginAt??void 0,{uid:O,emailVerified:Z,isAnonymous:ht,providerData:St,stsTokenManager:Ct}=r;Jt(O&&Ct,t,"internal-error");const yt=Su.fromJSON(this.name,Ct);Jt(typeof O=="string",t,"internal-error"),Ba(s,t.name),Ba(u,t.name),Jt(typeof Z=="boolean",t,"internal-error"),Jt(typeof ht=="boolean",t,"internal-error"),Ba(h,t.name),Ba(p,t.name),Ba(E,t.name),Ba(b,t.name),Ba(S,t.name),Ba(D,t.name);const kt=new Hi({uid:O,auth:t,email:u,emailVerified:Z,displayName:s,isAnonymous:ht,photoURL:p,phoneNumber:h,tenantId:E,stsTokenManager:yt,createdAt:S,lastLoginAt:D});return St&&Array.isArray(St)&&(kt.providerData=St.map(Gt=>({...Gt}))),b&&(kt._redirectEventId=b),kt}static async _fromIdTokenResponse(t,r,s=!1){const u=new Su;u.updateFromServerResponse(r);const h=new Hi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:s});return await Oh(h),h}static async _fromGetAccountInfoResponse(t,r,s){const u=r.users[0];Jt(u.localId!==void 0,"internal-error");const h=u.providerUserInfo!==void 0?V0(u.providerUserInfo):[],p=!(u.email&&u.passwordHash)&&!h?.length,E=new Su;E.updateFromIdToken(s);const b=new Hi({uid:u.localId,auth:t,stsTokenManager:E,isAnonymous:p}),S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Em(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!h?.length};return Object.assign(b,S),b}}const nv=new Map;function Ys(a){Js(a instanceof Function,"Expected a class definition");let t=nv.get(a);return t?(Js(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,nv.set(a,t),t)}class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}x0.type="NONE";const rv=x0;function gh(a,t,r){return`firebase:${a}:${t}:${r}`}class Au{constructor(t,r,s){this.persistence=t,this.auth=r,this.userKey=s;const{config:u,name:h}=this.auth;this.fullUserKey=gh(this.userKey,u.apiKey,h),this.fullPersistenceKey=gh("persistence",u.apiKey,h),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Dh(this.auth,{idToken:t}).catch(()=>{});return r?Hi._fromGetAccountInfoResponse(this.auth,r,t):null}return Hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,s="authUser"){if(!r.length)return new Au(Ys(rv),t,s);const u=(await Promise.all(r.map(async S=>{if(await S._isAvailable())return S}))).filter(S=>S);let h=u[0]||Ys(rv);const p=gh(s,t.config.apiKey,t.name);let E=null;for(const S of r)try{const D=await S._get(p);if(D){let O;if(typeof D=="string"){const Z=await Dh(t,{idToken:D}).catch(()=>{});if(!Z)break;O=await Hi._fromGetAccountInfoResponse(t,Z,D)}else O=Hi._fromJSON(t,D);S!==h&&(E=O),h=S;break}}catch{}const b=u.filter(S=>S._shouldAllowMigration);return!h._shouldAllowMigration||!b.length?new Au(h,t,s):(h=b[0],E&&await h._set(p,E.toJSON()),await Promise.all(r.map(async S=>{if(S!==h)try{await S._remove(p)}catch{}})),new Au(h,t,s))}}function iv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(L0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(j0(t))return"Webos";if(P0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(r);if(s?.length===2)return s[1]}return"Other"}function k0(a=lr()){return/firefox\//i.test(a)}function P0(a=lr()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(a=lr()){return/crios\//i.test(a)}function L0(a=lr()){return/iemobile/i.test(a)}function z0(a=lr()){return/android/i.test(a)}function B0(a=lr()){return/blackberry/i.test(a)}function j0(a=lr()){return/webos/i.test(a)}function Ym(a=lr()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ew(a=lr()){return Ym(a)&&!!window.navigator?.standalone}function Tw(){return xS()&&document.documentMode===10}function q0(a=lr()){return Ym(a)||z0(a)||j0(a)||B0(a)||/windows phone/i.test(a)||L0(a)}function H0(a,t=[]){let r;switch(a){case"Browser":r=iv(lr());break;case"Worker":r=`${iv(lr())}-${a}`;break;default:r=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Pu}/${s}`}class bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const s=h=>new Promise((p,E)=>{try{const b=t(h);p(b)}catch(b){E(b)}});s.onAbort=r,this.queue.push(s);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const u of r)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Sw(a,t={}){return Uu(a,"GET","/v2/passwordPolicy",Gm(a,t))}const Aw=6;class ww{constructor(t){const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Aw,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const s=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=t.length>=s),u&&(r.meetsMaxPasswordLength=t.length<=u)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let u=0;u<t.length;u++)s=t.charAt(u),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,r,s,u,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class Rw{constructor(t,r,s,u){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ys(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Au.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Dh(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=s?._redirectEventId,E=await this.tryRedirectSignIn(t);(!h||h===p)&&E?.user&&(s=E.user,u=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Oh(t)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qi(this.app))return Promise.reject(No(this));const r=t?Di(t):null;return r&&Jt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(No(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qi(this.app)?Promise.reject(No(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Sw(this),r=new ww(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,r,s){return this.registerStateListener(this.authStateSubscription,t,r,s)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,s){return this.registerStateListener(this.idTokenSubscription,t,r,s)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await vw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,r){const s=await this.getOrInitRedirectPersistenceManager(r);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ys(t)||this._popupRedirectResolver;Jt(r,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[Ys(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,s,u){if(this._deleted)return()=>{};const h=typeof r=="function"?r:r.next.bind(r);let p=!1;const E=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(E,this,"internal-error"),E.then(()=>{p||h(this.currentUser)}),typeof r=="function"){const b=t.addObserver(r,s,u);return()=>{p=!0,b()}}else{const b=t.addObserver(r);return()=>{p=!0,b()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qh(a){return Di(a)}class sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(r=>this.observer=r)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cw(a){Xm=a}function Iw(a){return Xm.loadJS(a)}function Dw(){return Xm.gapiScript}function Ow(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Nw(a,t){const r=qm(a,"auth");if(r.isInitialized()){const u=r.getImmediate(),h=r.getOptions();if(Vo(h,t??{}))return u;ds(u,"already-initialized")}return r.initialize({options:t})}function Mw(a,t){const r=t?.persistence||[],s=(Array.isArray(r)?r:[r]).map(Ys);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function Vw(a,t,r){const s=Qh(a);Jt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const u=!1,h=F0(t),{host:p,port:E}=xw(t),b=E===null?"":`:${E}`,S={url:`${h}//${p}${b}/`},D=Object.freeze({host:p,port:E,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!s._canInitEmulator){Jt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Jt(Vo(S,s.config.emulator)&&Vo(D,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=S,s.emulatorConfig=D,s.settings.appVerificationDisabledForTesting=!0,ku(p)?(E0(`${h}//${p}${b}`),T0("Auth",!0)):kw()}function F0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function xw(a){const t=F0(a),r=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(s);if(u){const h=u[1];return{host:h,port:av(s.substr(h.length+1))}}else{const[h,p]=s.split(":");return{host:h,port:av(p)}}}function av(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function kw(){function a(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class K0{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Qs("not implemented")}_getIdTokenResponse(t){return Qs("not implemented")}_linkToIdToken(t,r){return Qs("not implemented")}_getReauthenticationResolver(t){return Qs("not implemented")}}async function wu(a,t){return cw(a,"POST","/v1/accounts:signInWithIdp",Gm(a,t))}const Pw="http://localhost";class ko extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ko(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):ds("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:u,...h}=r;if(!s||!u)return null;const p=new ko(s,u);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const r=this.buildRequest();return wu(t,r)}_linkToIdToken(t,r){const s=this.buildRequest();return s.idToken=r,wu(t,s)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,wu(t,r)}buildRequest(){const t={requestUri:Pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Xl(r)}return t}}class Zm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qa extends Jl{constructor(){super("facebook.com")}static credential(t){return ko._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qa.credential(t.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class Gs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ko._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return Gs.credential(r,s)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class Ha extends Jl{constructor(){super("github.com")}static credential(t){return ko._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ha.credential(t.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";class Fa extends Jl{constructor(){super("twitter.com")}static credential(t,r){return ko._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return Fa.credential(r,s)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";class Iu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,s,u=!1){const h=await Hi._fromIdTokenResponse(t,s,u),p=ov(s);return new Iu({user:h,providerId:p,_tokenResponse:s,operationType:r})}static async _forOperation(t,r,s){await t._updateTokensIfNecessary(s,!0);const u=ov(s);return new Iu({user:t,providerId:u,_tokenResponse:s,operationType:r})}}function ov(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Nh extends ta{constructor(t,r,s,u){super(r.code,r.message),this.operationType=s,this.user=u,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,r,s,u){return new Nh(t,r,s,u)}}function G0(a,t,r,s){return(t==="reauthenticate"?r._getReauthenticationResolver(a):r._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(a,h,t,s):h})}async function Uw(a,t,r=!1){const s=await zl(a,t._linkToIdToken(a.auth,await a.getIdToken()),r);return Iu._forOperation(a,"link",s)}async function Lw(a,t,r=!1){const{auth:s}=a;if(qi(s.app))return Promise.reject(No(s));const u="reauthenticate";try{const h=await zl(a,G0(s,u,t,a),r);Jt(h.idToken,s,"internal-error");const p=Qm(h.idToken);Jt(p,s,"internal-error");const{sub:E}=p;return Jt(a.uid===E,s,"user-mismatch"),Iu._forOperation(a,u,h)}catch(h){throw h?.code==="auth/user-not-found"&&ds(s,"user-mismatch"),h}}async function zw(a,t,r=!1){if(qi(a.app))return Promise.reject(No(a));const s="signIn",u=await G0(a,s,t),h=await Iu._fromIdTokenResponse(a,s,u);return r||await a._updateCurrentUser(h.user),h}function Bw(a,t,r,s){return Di(a).onIdTokenChanged(t,r,s)}function jw(a,t,r){return Di(a).beforeAuthStateChanged(t,r)}function qw(a,t,r,s){return Di(a).onAuthStateChanged(t,r,s)}function uv(a){return Di(a).signOut()}const Mh="__sak";class Q0{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hw=1e3,Fw=10;class Y0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),u=this.localCache[r];s!==u&&t(r,u,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((p,E,b)=>{this.notifyListeners(p,b)});return}const s=t.key;r?this.detachListener():this.stopPolling();const u=()=>{const p=this.storage.getItem(s);!r&&this.localCache[s]===p||this.notifyListeners(s,p)},h=this.storage.getItem(s);Tw()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,Fw):u()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y0.type="LOCAL";const Kw=Y0;class X0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}X0.type="SESSION";const Z0=X0;function Gw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}class Yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const s=new Yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:s,eventType:u,data:h}=r.data,p=this.handlersMap[u];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:u});const E=Array.from(p).map(async S=>S(r.origin,h)),b=await Gw(E);r.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:b})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Jm(a="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(Math.random()*10);return a+r}class Qw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,s=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let h,p;return new Promise((E,b)=>{const S=Jm("",20);u.port1.start();const D=setTimeout(()=>{b(new Error("unsupported_event"))},s);p={messageChannel:u,onMessage(O){const Z=O;if(Z.data.eventId===S)switch(Z.data.status){case"ack":clearTimeout(D),h=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),E(Z.data.response);break;default:clearTimeout(D),clearTimeout(h),b(new Error("invalid_response"));break}}},this.handlers.add(p),u.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:S,data:r},[u.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function us(){return window}function Yw(a){us().location.href=a}function J0(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function Xw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zw(){return navigator?.serviceWorker?.controller||null}function Jw(){return J0()?self:null}const $0="firebaseLocalStorageDb",$w=1,Vh="firebaseLocalStorage",W0="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Xh(a,t){return a.transaction([Vh],t?"readwrite":"readonly").objectStore(Vh)}function Ww(){const a=indexedDB.deleteDatabase($0);return new $l(a).toPromise()}function Tm(){const a=indexedDB.open($0,$w);return new Promise((t,r)=>{a.addEventListener("error",()=>{r(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Vh,{keyPath:W0})}catch(u){r(u)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Vh)?t(s):(s.close(),await Ww(),t(await Tm()))})})}async function lv(a,t,r){const s=Xh(a,!0).put({[W0]:t,value:r});return new $l(s).toPromise()}async function t1(a,t){const r=Xh(a,!1).get(t),s=await new $l(r).toPromise();return s===void 0?null:s.value}function cv(a,t){const r=Xh(a,!0).delete(t);return new $l(r).toPromise()}const e1=800,n1=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let r=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(r++>n1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Jw()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Xw(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await lv(t,Mh,"1"),await cv(t,Mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>lv(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(s=>t1(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>cv(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(u=>{const h=Xh(u,!1).getAll();return new $l(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(t.length!==0)for(const{fbase_key:u,value:h}of t)s.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(h)&&(this.notifyListeners(u,h),r.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!s.has(u)&&(this.notifyListeners(u,null),r.push(u));return r}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const r1=tE;new Zl(3e4,6e4);function eE(a,t){return t?Ys(t):(Jt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class $m extends K0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wu(t,this._buildIdpRequest())}_linkToIdToken(t,r){return wu(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return wu(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function i1(a){return zw(a.auth,new $m(a),a.bypassAuthState)}function s1(a){const{auth:t,user:r}=a;return Jt(r,t,"internal-error"),Lw(r,new $m(a),a.bypassAuthState)}async function a1(a){const{auth:t,user:r}=a;return Jt(r,t,"internal-error"),Uw(r,new $m(a),a.bypassAuthState)}class nE{constructor(t,r,s,u,h=!1){this.auth=t,this.resolver=s,this.user=u,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:s,postBody:u,tenantId:h,error:p,type:E}=t;if(p){this.reject(p);return}const b={auth:this.auth,requestUri:r,sessionId:s,tenantId:h||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(E)(b))}catch(S){this.reject(S)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i1;case"linkViaPopup":case"linkViaRedirect":return a1;case"reauthViaPopup":case"reauthViaRedirect":return s1;default:ds(this.auth,"internal-error")}}resolve(t){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const o1=new Zl(2e3,1e4);async function u1(a,t,r){if(qi(a.app))return Promise.reject(Ki(a,"operation-not-supported-in-this-environment"));const s=Qh(a);rw(a,t,Zm);const u=eE(s,r);return new Do(s,"signInViaPopup",t,u).executeNotNull()}class Do extends nE{constructor(t,r,s,u,h){super(t,r,u,h),this.provider=s,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,o1.get())};t()}}Do.currentPopupAction=null;const l1="pendingRedirect",yh=new Map;class c1 extends nE{constructor(t,r,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let t=yh.get(this.auth._key());if(!t){try{const s=await h1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(r){t=()=>Promise.reject(r)}yh.set(this.auth._key(),t)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h1(a,t){const r=m1(t),s=d1(a);if(!await s._isAvailable())return!1;const u=await s._get(r)==="true";return await s._remove(r),u}function f1(a,t){yh.set(a._key(),t)}function d1(a){return Ys(a._redirectPersistence)}function m1(a){return gh(l1,a.config.apiKey,a.name)}async function p1(a,t,r=!1){if(qi(a.app))return Promise.reject(No(a));const s=Qh(a),u=eE(s,t),p=await new c1(s,u,r).execute();return p&&!r&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,t)),p}const g1=600*1e3;class y1{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(r=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_1(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){if(t.error&&!rE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";r.onError(Ki(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const s=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g1&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function rE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function _1(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(a);default:return!1}}async function v1(a,t={}){return Uu(a,"GET","/v1/projects",t)}const E1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T1=/^https?/;async function b1(a){if(a.config.emulator)return;const{authorizedDomains:t}=await v1(a);for(const r of t)try{if(S1(r))return}catch{}ds(a,"unauthorized-domain")}function S1(a){const t=vm(),{protocol:r,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const p=new URL(a);return p.hostname===""&&s===""?r==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===s}if(!T1.test(r))return!1;if(E1.test(a))return s===a;const u=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(s)}const A1=new Zl(3e4,6e4);function fv(){const a=us().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let r=0;r<a.CP.length;r++)a.CP[r]=null}}function w1(a){return new Promise((t,r)=>{function s(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),r(Ki(a,"network-request-failed"))},timeout:A1.get()})}if(us().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(us().gapi?.load)s();else{const u=Ow("iframefcb");return us()[u]=()=>{gapi.load?s():r(Ki(a,"network-request-failed"))},Iw(`${Dw()}?onload=${u}`).catch(h=>r(h))}}).catch(t=>{throw _h=null,t})}let _h=null;function R1(a){return _h=_h||w1(a),_h}const C1=new Zl(5e3,15e3),I1="__/auth/iframe",D1="emulator/auth/iframe",O1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M1(a){const t=a.config;Jt(t.authDomain,a,"auth-domain-config-required");const r=t.emulator?Km(t,D1):`https://${a.config.authDomain}/${I1}`,s={apiKey:t.apiKey,appName:a.name,v:Pu},u=N1.get(a.config.apiHost);u&&(s.eid=u);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${r}?${Xl(s).slice(1)}`}async function V1(a){const t=await R1(a),r=us().gapi;return Jt(r,a,"internal-error"),t.open({where:document.body,url:M1(a),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O1,dontclear:!0},s=>new Promise(async(u,h)=>{await s.restyle({setHideOnLeave:!1});const p=Ki(a,"network-request-failed"),E=us().setTimeout(()=>{h(p)},C1.get());function b(){us().clearTimeout(E),u(s)}s.ping(b).then(b,()=>{h(p)})}))}const x1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k1=500,P1=600,U1="_blank",L1="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z1(a,t,r,s=k1,u=P1){const h=Math.max((window.screen.availHeight-u)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let E="";const b={...x1,width:s.toString(),height:u.toString(),top:h,left:p},S=lr().toLowerCase();r&&(E=U0(S)?U1:r),k0(S)&&(t=t||L1,b.scrollbars="yes");const D=Object.entries(b).reduce((Z,[ht,St])=>`${Z}${ht}=${St},`,"");if(Ew(S)&&E!=="_self")return B1(t||"",E),new dv(null);const O=window.open(t||"",E,D);Jt(O,a,"popup-blocked");try{O.focus()}catch{}return new dv(O)}function B1(a,t){const r=document.createElement("a");r.href=a,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}const j1="__/auth/handler",q1="emulator/auth/handler",H1=encodeURIComponent("fac");async function mv(a,t,r,s,u,h){Jt(a.config.authDomain,a,"auth-domain-config-required"),Jt(a.config.apiKey,a,"invalid-api-key");const p={apiKey:a.config.apiKey,appName:a.name,authType:r,redirectUrl:s,v:Pu,eventId:u};if(t instanceof Zm){t.setDefaultLanguage(a.languageCode),p.providerId=t.providerId||"",jS(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[D,O]of Object.entries({}))p[D]=O}if(t instanceof Jl){const D=t.getScopes().filter(O=>O!=="");D.length>0&&(p.scopes=D.join(","))}a.tenantId&&(p.tid=a.tenantId);const E=p;for(const D of Object.keys(E))E[D]===void 0&&delete E[D];const b=await a._getAppCheckToken(),S=b?`#${H1}=${encodeURIComponent(b)}`:"";return`${F1(a)}?${Xl(E).slice(1)}${S}`}function F1({config:a}){return a.emulator?Km(a,q1):`https://${a.authDomain}/${j1}`}const om="webStorageSupport";class K1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=p1,this._overrideRedirectResult=f1}async _openPopup(t,r,s,u){Js(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await mv(t,r,s,vm(),u);return z1(t,h,Jm())}async _openRedirect(t,r,s,u){await this._originValidation(t);const h=await mv(t,r,s,vm(),u);return Yw(h),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:u,promise:h}=this.eventManagers[r];return u?Promise.resolve(u):(Js(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(t){const r=await V1(t),s=new y1(t);return r.register("authEvent",u=>(Jt(u?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=r,s}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(om,{type:om},u=>{const h=u?.[0]?.[om];h!==void 0&&r(!!h),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=b1(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return q0()||P0()||Ym()}}const G1=K1;var pv="@firebase/auth",gv="1.11.1";class Q1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y1(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X1(a){Cu(new xo("auth",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:E}=s.options;Jt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const b={apiKey:p,authDomain:E,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(a)},S=new Rw(s,u,h,b);return Mw(S,r),S},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,s)=>{t.getProvider("auth-internal").initialize()})),Cu(new xo("auth-internal",t=>{const r=Qh(t.getProvider("auth").getImmediate());return(s=>new Q1(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ya(pv,gv,Y1(a)),Ya(pv,gv,"esm2020")}const Z1=300,J1=v0("authIdTokenMaxAge")||Z1;let yv=null;const $1=a=>async t=>{const r=t&&await t.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>J1)return;const u=r?.token;yv!==u&&(yv=u,await fetch(a,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function W1(a=w0()){const t=qm(a,"auth");if(t.isInitialized())return t.getImmediate();const r=Nw(a,{popupRedirectResolver:G1,persistence:[r1,Kw,Z0]}),s=v0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const p=$1(h.toString());jw(r,p,()=>p(r.currentUser)),Bw(r,E=>p(E))}}const u=y0("auth");return u&&Vw(r,`http://${u}`),r}function tR(){return document.getElementsByTagName("head")?.[0]??document}Cw({loadJS(a){return new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=u=>{const h=Ki("internal-error");h.customData=u,r(h)},s.type="text/javascript",s.charset="UTF-8",tR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X1("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xa,iE;(function(){var a;function t(x,M){function P(){}P.prototype=M.prototype,x.F=M.prototype,x.prototype=new P,x.prototype.constructor=x,x.D=function(G,j,$){for(var V=Array(arguments.length-2),He=2;He<arguments.length;He++)V[He-2]=arguments[He];return M.prototype[j].apply(G,V)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,M,P){P||(P=0);const G=Array(16);if(typeof M=="string")for(var j=0;j<16;++j)G[j]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(j=0;j<16;++j)G[j]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=x.g[0],P=x.g[1],j=x.g[2];let $=x.g[3],V;V=M+($^P&(j^$))+G[0]+3614090360&4294967295,M=P+(V<<7&4294967295|V>>>25),V=$+(j^M&(P^j))+G[1]+3905402710&4294967295,$=M+(V<<12&4294967295|V>>>20),V=j+(P^$&(M^P))+G[2]+606105819&4294967295,j=$+(V<<17&4294967295|V>>>15),V=P+(M^j&($^M))+G[3]+3250441966&4294967295,P=j+(V<<22&4294967295|V>>>10),V=M+($^P&(j^$))+G[4]+4118548399&4294967295,M=P+(V<<7&4294967295|V>>>25),V=$+(j^M&(P^j))+G[5]+1200080426&4294967295,$=M+(V<<12&4294967295|V>>>20),V=j+(P^$&(M^P))+G[6]+2821735955&4294967295,j=$+(V<<17&4294967295|V>>>15),V=P+(M^j&($^M))+G[7]+4249261313&4294967295,P=j+(V<<22&4294967295|V>>>10),V=M+($^P&(j^$))+G[8]+1770035416&4294967295,M=P+(V<<7&4294967295|V>>>25),V=$+(j^M&(P^j))+G[9]+2336552879&4294967295,$=M+(V<<12&4294967295|V>>>20),V=j+(P^$&(M^P))+G[10]+4294925233&4294967295,j=$+(V<<17&4294967295|V>>>15),V=P+(M^j&($^M))+G[11]+2304563134&4294967295,P=j+(V<<22&4294967295|V>>>10),V=M+($^P&(j^$))+G[12]+1804603682&4294967295,M=P+(V<<7&4294967295|V>>>25),V=$+(j^M&(P^j))+G[13]+4254626195&4294967295,$=M+(V<<12&4294967295|V>>>20),V=j+(P^$&(M^P))+G[14]+2792965006&4294967295,j=$+(V<<17&4294967295|V>>>15),V=P+(M^j&($^M))+G[15]+1236535329&4294967295,P=j+(V<<22&4294967295|V>>>10),V=M+(j^$&(P^j))+G[1]+4129170786&4294967295,M=P+(V<<5&4294967295|V>>>27),V=$+(P^j&(M^P))+G[6]+3225465664&4294967295,$=M+(V<<9&4294967295|V>>>23),V=j+(M^P&($^M))+G[11]+643717713&4294967295,j=$+(V<<14&4294967295|V>>>18),V=P+($^M&(j^$))+G[0]+3921069994&4294967295,P=j+(V<<20&4294967295|V>>>12),V=M+(j^$&(P^j))+G[5]+3593408605&4294967295,M=P+(V<<5&4294967295|V>>>27),V=$+(P^j&(M^P))+G[10]+38016083&4294967295,$=M+(V<<9&4294967295|V>>>23),V=j+(M^P&($^M))+G[15]+3634488961&4294967295,j=$+(V<<14&4294967295|V>>>18),V=P+($^M&(j^$))+G[4]+3889429448&4294967295,P=j+(V<<20&4294967295|V>>>12),V=M+(j^$&(P^j))+G[9]+568446438&4294967295,M=P+(V<<5&4294967295|V>>>27),V=$+(P^j&(M^P))+G[14]+3275163606&4294967295,$=M+(V<<9&4294967295|V>>>23),V=j+(M^P&($^M))+G[3]+4107603335&4294967295,j=$+(V<<14&4294967295|V>>>18),V=P+($^M&(j^$))+G[8]+1163531501&4294967295,P=j+(V<<20&4294967295|V>>>12),V=M+(j^$&(P^j))+G[13]+2850285829&4294967295,M=P+(V<<5&4294967295|V>>>27),V=$+(P^j&(M^P))+G[2]+4243563512&4294967295,$=M+(V<<9&4294967295|V>>>23),V=j+(M^P&($^M))+G[7]+1735328473&4294967295,j=$+(V<<14&4294967295|V>>>18),V=P+($^M&(j^$))+G[12]+2368359562&4294967295,P=j+(V<<20&4294967295|V>>>12),V=M+(P^j^$)+G[5]+4294588738&4294967295,M=P+(V<<4&4294967295|V>>>28),V=$+(M^P^j)+G[8]+2272392833&4294967295,$=M+(V<<11&4294967295|V>>>21),V=j+($^M^P)+G[11]+1839030562&4294967295,j=$+(V<<16&4294967295|V>>>16),V=P+(j^$^M)+G[14]+4259657740&4294967295,P=j+(V<<23&4294967295|V>>>9),V=M+(P^j^$)+G[1]+2763975236&4294967295,M=P+(V<<4&4294967295|V>>>28),V=$+(M^P^j)+G[4]+1272893353&4294967295,$=M+(V<<11&4294967295|V>>>21),V=j+($^M^P)+G[7]+4139469664&4294967295,j=$+(V<<16&4294967295|V>>>16),V=P+(j^$^M)+G[10]+3200236656&4294967295,P=j+(V<<23&4294967295|V>>>9),V=M+(P^j^$)+G[13]+681279174&4294967295,M=P+(V<<4&4294967295|V>>>28),V=$+(M^P^j)+G[0]+3936430074&4294967295,$=M+(V<<11&4294967295|V>>>21),V=j+($^M^P)+G[3]+3572445317&4294967295,j=$+(V<<16&4294967295|V>>>16),V=P+(j^$^M)+G[6]+76029189&4294967295,P=j+(V<<23&4294967295|V>>>9),V=M+(P^j^$)+G[9]+3654602809&4294967295,M=P+(V<<4&4294967295|V>>>28),V=$+(M^P^j)+G[12]+3873151461&4294967295,$=M+(V<<11&4294967295|V>>>21),V=j+($^M^P)+G[15]+530742520&4294967295,j=$+(V<<16&4294967295|V>>>16),V=P+(j^$^M)+G[2]+3299628645&4294967295,P=j+(V<<23&4294967295|V>>>9),V=M+(j^(P|~$))+G[0]+4096336452&4294967295,M=P+(V<<6&4294967295|V>>>26),V=$+(P^(M|~j))+G[7]+1126891415&4294967295,$=M+(V<<10&4294967295|V>>>22),V=j+(M^($|~P))+G[14]+2878612391&4294967295,j=$+(V<<15&4294967295|V>>>17),V=P+($^(j|~M))+G[5]+4237533241&4294967295,P=j+(V<<21&4294967295|V>>>11),V=M+(j^(P|~$))+G[12]+1700485571&4294967295,M=P+(V<<6&4294967295|V>>>26),V=$+(P^(M|~j))+G[3]+2399980690&4294967295,$=M+(V<<10&4294967295|V>>>22),V=j+(M^($|~P))+G[10]+4293915773&4294967295,j=$+(V<<15&4294967295|V>>>17),V=P+($^(j|~M))+G[1]+2240044497&4294967295,P=j+(V<<21&4294967295|V>>>11),V=M+(j^(P|~$))+G[8]+1873313359&4294967295,M=P+(V<<6&4294967295|V>>>26),V=$+(P^(M|~j))+G[15]+4264355552&4294967295,$=M+(V<<10&4294967295|V>>>22),V=j+(M^($|~P))+G[6]+2734768916&4294967295,j=$+(V<<15&4294967295|V>>>17),V=P+($^(j|~M))+G[13]+1309151649&4294967295,P=j+(V<<21&4294967295|V>>>11),V=M+(j^(P|~$))+G[4]+4149444226&4294967295,M=P+(V<<6&4294967295|V>>>26),V=$+(P^(M|~j))+G[11]+3174756917&4294967295,$=M+(V<<10&4294967295|V>>>22),V=j+(M^($|~P))+G[2]+718787259&4294967295,j=$+(V<<15&4294967295|V>>>17),V=P+($^(j|~M))+G[9]+3951481745&4294967295,x.g[0]=x.g[0]+M&4294967295,x.g[1]=x.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+$&4294967295}s.prototype.v=function(x,M){M===void 0&&(M=x.length);const P=M-this.blockSize,G=this.C;let j=this.h,$=0;for(;$<M;){if(j==0)for(;$<=P;)u(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<M;)if(G[j++]=x.charCodeAt($++),j==this.blockSize){u(this,G),j=0;break}}else for(;$<M;)if(G[j++]=x[$++],j==this.blockSize){u(this,G),j=0;break}}this.h=j,this.o+=M},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var M=1;M<x.length-8;++M)x[M]=0;M=this.o*8;for(var P=x.length-8;P<x.length;++P)x[P]=M&255,M/=256;for(this.v(x),x=Array(16),M=0,P=0;P<4;++P)for(let G=0;G<32;G+=8)x[M++]=this.g[P]>>>G&255;return x};function h(x,M){var P=E;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=M(x)}function p(x,M){this.h=M;const P=[];let G=!0;for(let j=x.length-1;j>=0;j--){const $=x[j]|0;G&&$==M||(P[j]=$,G=!1)}this.g=P}var E={};function b(x){return-128<=x&&x<128?h(x,function(M){return new p([M|0],M<0?-1:0)}):new p([x|0],x<0?-1:0)}function S(x){if(isNaN(x)||!isFinite(x))return O;if(x<0)return yt(S(-x));const M=[];let P=1;for(let G=0;x>=P;G++)M[G]=x/P|0,P*=4294967296;return new p(M,0)}function D(x,M){if(x.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(x.charAt(0)=="-")return yt(D(x.substring(1),M));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=S(Math.pow(M,8));let G=O;for(let $=0;$<x.length;$+=8){var j=Math.min(8,x.length-$);const V=parseInt(x.substring($,$+j),M);j<8?(j=S(Math.pow(M,j)),G=G.j(j).add(S(V))):(G=G.j(P),G=G.add(S(V)))}return G}var O=b(0),Z=b(1),ht=b(16777216);a=p.prototype,a.m=function(){if(Ct(this))return-yt(this).m();let x=0,M=1;for(let P=0;P<this.g.length;P++){const G=this.i(P);x+=(G>=0?G:4294967296+G)*M,M*=4294967296}return x},a.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(St(this))return"0";if(Ct(this))return"-"+yt(this).toString(x);const M=S(Math.pow(x,6));var P=this;let G="";for(;;){const j=de(P,M).g;P=kt(P,j.j(M));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(x);if(P=j,St(P))return $+G;for(;$.length<6;)$="0"+$;G=$+G}},a.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function St(x){if(x.h!=0)return!1;for(let M=0;M<x.g.length;M++)if(x.g[M]!=0)return!1;return!0}function Ct(x){return x.h==-1}a.l=function(x){return x=kt(this,x),Ct(x)?-1:St(x)?0:1};function yt(x){const M=x.g.length,P=[];for(let G=0;G<M;G++)P[G]=~x.g[G];return new p(P,~x.h).add(Z)}a.abs=function(){return Ct(this)?yt(this):this},a.add=function(x){const M=Math.max(this.g.length,x.g.length),P=[];let G=0;for(let j=0;j<=M;j++){let $=G+(this.i(j)&65535)+(x.i(j)&65535),V=($>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);G=V>>>16,$&=65535,V&=65535,P[j]=V<<16|$}return new p(P,P[P.length-1]&-2147483648?-1:0)};function kt(x,M){return x.add(yt(M))}a.j=function(x){if(St(this)||St(x))return O;if(Ct(this))return Ct(x)?yt(this).j(yt(x)):yt(yt(this).j(x));if(Ct(x))return yt(this.j(yt(x)));if(this.l(ht)<0&&x.l(ht)<0)return S(this.m()*x.m());const M=this.g.length+x.g.length,P=[];for(var G=0;G<2*M;G++)P[G]=0;for(G=0;G<this.g.length;G++)for(let j=0;j<x.g.length;j++){const $=this.i(G)>>>16,V=this.i(G)&65535,He=x.i(j)>>>16,$e=x.i(j)&65535;P[2*G+2*j]+=V*$e,Gt(P,2*G+2*j),P[2*G+2*j+1]+=$*$e,Gt(P,2*G+2*j+1),P[2*G+2*j+1]+=V*He,Gt(P,2*G+2*j+1),P[2*G+2*j+2]+=$*He,Gt(P,2*G+2*j+2)}for(x=0;x<M;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=M;x<2*M;x++)P[x]=0;return new p(P,0)};function Gt(x,M){for(;(x[M]&65535)!=x[M];)x[M+1]+=x[M]>>>16,x[M]&=65535,M++}function qt(x,M){this.g=x,this.h=M}function de(x,M){if(St(M))throw Error("division by zero");if(St(x))return new qt(O,O);if(Ct(x))return M=de(yt(x),M),new qt(yt(M.g),yt(M.h));if(Ct(M))return M=de(x,yt(M)),new qt(yt(M.g),M.h);if(x.g.length>30){if(Ct(x)||Ct(M))throw Error("slowDivide_ only works with positive integers.");for(var P=Z,G=M;G.l(x)<=0;)P=Le(P),G=Le(G);var j=ne(P,1),$=ne(G,1);for(G=ne(G,2),P=ne(P,2);!St(G);){var V=$.add(G);V.l(x)<=0&&(j=j.add(P),$=V),G=ne(G,1),P=ne(P,1)}return M=kt(x,j.j(M)),new qt(j,M)}for(j=O;x.l(M)>=0;){for(P=Math.max(1,Math.floor(x.m()/M.m())),G=Math.ceil(Math.log(P)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),$=S(P),V=$.j(M);Ct(V)||V.l(x)>0;)P-=G,$=S(P),V=$.j(M);St($)&&($=Z),j=j.add($),x=kt(x,V)}return new qt(j,x)}a.B=function(x){return de(this,x).h},a.and=function(x){const M=Math.max(this.g.length,x.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)&x.i(G);return new p(P,this.h&x.h)},a.or=function(x){const M=Math.max(this.g.length,x.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)|x.i(G);return new p(P,this.h|x.h)},a.xor=function(x){const M=Math.max(this.g.length,x.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)^x.i(G);return new p(P,this.h^x.h)};function Le(x){const M=x.g.length+1,P=[];for(let G=0;G<M;G++)P[G]=x.i(G)<<1|x.i(G-1)>>>31;return new p(P,x.h)}function ne(x,M){const P=M>>5;M%=32;const G=x.g.length-P,j=[];for(let $=0;$<G;$++)j[$]=M>0?x.i($+P)>>>M|x.i($+P+1)<<32-M:x.i($+P);return new p(j,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,iE=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=S,p.fromString=D,Xa=p}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Cl,aE,vh,bm,oE,uE,lE;(function(){var a,t=Object.defineProperty;function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<l.length;++y){var T=l[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=r(this);function u(l,y){if(y)t:{var T=s;l=l.split(".");for(var C=0;C<l.length-1;C++){var W=l[C];if(!(W in T))break t;T=T[W]}l=l[l.length-1],C=T[l],y=y(C),y!=C&&y!=null&&t(T,l,{configurable:!0,writable:!0,value:y})}}u("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(l){return l||function(y){var T=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&T.push([C,y[C]]);return T}});var h=h||{},p=this||self;function E(l){var y=typeof l;return y=="object"&&l!=null||y=="function"}function b(l,y,T){return l.call.apply(l.bind,arguments)}function S(l,y,T){return S=b,S.apply(null,arguments)}function D(l,y){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function O(l,y){function T(){}T.prototype=y.prototype,l.Z=y.prototype,l.prototype=new T,l.prototype.constructor=l,l.Ob=function(C,W,st){for(var Tt=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)Tt[$t-2]=arguments[$t];return y.prototype[W].apply(C,Tt)}}var Z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function ht(l){const y=l.length;if(y>0){const T=Array(y);for(let C=0;C<y;C++)T[C]=l[C];return T}return[]}function St(l,y){for(let C=1;C<arguments.length;C++){const W=arguments[C];var T=typeof W;if(T=T!="object"?T:W?Array.isArray(W)?"array":T:"null",T=="array"||T=="object"&&typeof W.length=="number"){T=l.length||0;const st=W.length||0;l.length=T+st;for(let Tt=0;Tt<st;Tt++)l[T+Tt]=W[Tt]}else l.push(W)}}class Ct{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function yt(l){p.setTimeout(()=>{throw l},0)}function kt(){var l=x;let y=null;return l.g&&(y=l.g,l.g=l.g.next,l.g||(l.h=null),y.next=null),y}class Gt{constructor(){this.h=this.g=null}add(y,T){const C=qt.get();C.set(y,T),this.h?this.h.next=C:this.g=C,this.h=C}}var qt=new Ct(()=>new de,l=>l.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,ne=!1,x=new Gt,M=()=>{const l=Promise.resolve(void 0);Le=()=>{l.then(P)}};function P(){for(var l;l=kt();){try{l.h.call(l.g)}catch(T){yt(T)}var y=qt;y.j(l),y.h<100&&(y.h++,l.next=y.g,y.g=l)}ne=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(l,y){this.type=l,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,y=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const T=()=>{};p.addEventListener("test",T,y),p.removeEventListener("test",T,y)}catch{}return l})();function V(l){return/^[\s\xa0]*$/.test(l)}function He(l,y){j.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,y)}O(He,j),He.prototype.init=function(l,y){const T=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=y,y=l.relatedTarget,y||(T=="mouseover"?y=l.fromElement:T=="mouseout"&&(y=l.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),ut=0;function Nt(l,y,T,C,W){this.listener=l,this.proxy=null,this.src=y,this.type=T,this.capture=!!C,this.ha=W,this.key=++ut,this.da=this.fa=!1}function Ut(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function oe(l,y,T){for(const C in l)y.call(T,l[C],C,l)}function ue(l,y){for(const T in l)y.call(void 0,l[T],T,l)}function H(l){const y={};for(const T in l)y[T]=l[T];return y}const ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(l,y){let T,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(T in C)l[T]=C[T];for(let st=0;st<ft.length;st++)T=ft[st],Object.prototype.hasOwnProperty.call(C,T)&&(l[T]=C[T])}}function Vt(l){this.src=l,this.g={},this.h=0}Vt.prototype.add=function(l,y,T,C,W){const st=l.toString();l=this.g[st],l||(l=this.g[st]=[],this.h++);const Tt=Yt(l,y,C,W);return Tt>-1?(y=l[Tt],T||(y.fa=!1)):(y=new Nt(y,this.src,st,!!C,W),y.fa=T,l.push(y)),y};function Ft(l,y){const T=y.type;if(T in l.g){var C=l.g[T],W=Array.prototype.indexOf.call(C,y,void 0),st;(st=W>=0)&&Array.prototype.splice.call(C,W,1),st&&(Ut(y),l.g[T].length==0&&(delete l.g[T],l.h--))}}function Yt(l,y,T,C){for(let W=0;W<l.length;++W){const st=l[W];if(!st.da&&st.listener==y&&st.capture==!!T&&st.ha==C)return W}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),dn={};function Ot(l,y,T,C,W){if(Array.isArray(y)){for(let st=0;st<y.length;st++)Ot(l,y[st],T,C,W);return null}return T=io(T),l&&l[$e]?l.J(y,T,E(C)?!!C.capture:!1,W):Gi(l,y,T,!1,C,W)}function Gi(l,y,T,C,W,st){if(!y)throw Error("Invalid event type");const Tt=E(W)?!!W.capture:!!W;let $t=gs(l);if($t||(l[ce]=$t=new Vt(l)),T=$t.add(y,T,C,Tt,st),T.proxy)return T;if(C=Oi(),T.proxy=C,C.src=l,C.listener=T,l.addEventListener)$||(W=Tt),W===void 0&&(W=!1),l.addEventListener(y.toString(),C,W);else if(l.attachEvent)l.attachEvent(oi(y.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Oi(){function l(T){return y.call(l.src,l.listener,T)}const y=Lr;return l}function be(l,y,T,C,W){if(Array.isArray(y))for(var st=0;st<y.length;st++)be(l,y[st],T,C,W);else C=E(C)?!!C.capture:!!C,T=io(T),l&&l[$e]?(l=l.i,st=String(y).toString(),st in l.g&&(y=l.g[st],T=Yt(y,T,C,W),T>-1&&(Ut(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete l.g[st],l.h--)))):l&&(l=gs(l))&&(y=l.g[y.toString()],l=-1,y&&(l=Yt(y,T,C,W)),(T=l>-1?y[l]:null)&&ai(T))}function ai(l){if(typeof l!="number"&&l&&!l.da){var y=l.src;if(y&&y[$e])Ft(y.i,l);else{var T=l.type,C=l.proxy;y.removeEventListener?y.removeEventListener(T,C,l.capture):y.detachEvent?y.detachEvent(oi(T),C):y.addListener&&y.removeListener&&y.removeListener(C),(T=gs(y))?(Ft(T,l),T.h==0&&(T.src=null,y[ce]=null)):Ut(l)}}}function oi(l){return l in dn?dn[l]:dn[l]="on"+l}function Lr(l,y){if(l.da)l=!0;else{y=new He(y,this);const T=l.listener,C=l.ha||l.src;l.fa&&ai(l),l=T.call(C,y)}return l}function gs(l){return l=l[ce],l instanceof Vt?l:null}var ro="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(l){return typeof l=="function"?l:(l[ro]||(l[ro]=function(y){return l.handleEvent(y)}),l[ro])}function ln(){G.call(this),this.i=new Vt(this),this.M=this,this.G=null}O(ln,G),ln.prototype[$e]=!0,ln.prototype.removeEventListener=function(l,y,T,C){be(this,l,y,T,C)};function We(l,y){var T,C=l.G;if(C)for(T=[];C;C=C.G)T.push(C);if(l=l.M,C=y.type||y,typeof y=="string")y=new j(y,l);else if(y instanceof j)y.target=y.target||l;else{var W=y;y=new j(C,l),wt(y,W)}W=!0;let st,Tt;if(T)for(Tt=T.length-1;Tt>=0;Tt--)st=y.g=T[Tt],W=Mn(st,C,!0,y)&&W;if(st=y.g=l,W=Mn(st,C,!0,y)&&W,W=Mn(st,C,!1,y)&&W,T)for(Tt=0;Tt<T.length;Tt++)st=y.g=T[Tt],W=Mn(st,C,!1,y)&&W}ln.prototype.N=function(){if(ln.Z.N.call(this),this.i){var l=this.i;for(const y in l.g){const T=l.g[y];for(let C=0;C<T.length;C++)Ut(T[C]);delete l.g[y],l.h--}}this.G=null},ln.prototype.J=function(l,y,T,C){return this.i.add(String(l),y,!1,T,C)},ln.prototype.K=function(l,y,T,C){return this.i.add(String(l),y,!0,T,C)};function Mn(l,y,T,C){if(y=l.i.g[String(y)],!y)return!0;y=y.concat();let W=!0;for(let st=0;st<y.length;++st){const Tt=y[st];if(Tt&&!Tt.da&&Tt.capture==T){const $t=Tt.listener,an=Tt.ha||Tt.src;Tt.fa&&Ft(l.i,Tt),W=$t.call(an,C)!==!1&&W}}return W&&!C.defaultPrevented}function qo(l,y){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(l,y||0)}function Qi(l){l.g=qo(()=>{l.g=null,l.i&&(l.i=!1,Qi(l))},l.l);const y=l.h;l.h=null,l.m.apply(null,y)}class Un extends G{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(l){G.call(this),this.h=l,this.g={}}O(zr,G);var Br=[];function jr(l){oe(l.g,function(y,T){this.g.hasOwnProperty(T)&&ai(y)},l),l.g={}}zr.prototype.N=function(){zr.Z.N.call(this),jr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=p.JSON.stringify,ys=p.JSON.parse,ea=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function _s(){}function li(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){j.call(this,"d")}O(mn,j);function pn(){j.call(this,"c")}O(pn,j);var Dt={},Yi=null;function gr(){return Yi=Yi||new ln}Dt.Ia="serverreachability";function vs(l){j.call(this,Dt.Ia,l)}O(vs,j);function At(l){const y=gr();We(y,new vs(y))}Dt.STAT_EVENT="statevent";function Ni(l,y){j.call(this,Dt.STAT_EVENT,l),this.stat=y}O(Ni,j);function tn(l){const y=gr();We(y,new Ni(y,l))}Dt.Ja="timingevent";function yr(l,y){j.call(this,Dt.Ja,l),this.size=y}O(yr,j);function qr(l,y){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},y)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function qu(l,y,T,C,W,st){l.info(function(){if(l.g)if(st){var Tt="",$t=st.split("&");for(let Se=0;Se<$t.length;Se++){var an=$t[Se].split("=");if(an.length>1){const ke=an[0];an=an[1];const Dr=ke.split("_");Tt=Dr.length>=2&&Dr[1]=="type"?Tt+(ke+"="+an+"&"):Tt+(ke+"=redacted&")}}}else Tt=null;else Tt=st;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+y+`
`+T+`
`+Tt})}function Ho(l,y,T,C,W,st,Tt){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+y+`
`+T+`
`+st+" "+Tt})}function Kn(l,y,T,C){l.info(function(){return"XMLHTTP TEXT ("+y+"): "+so(l,T)+(C?" "+C:"")})}function _r(l,y){l.info(function(){return"TIMEOUT: "+y})}cr.prototype.info=function(){};function so(l,y){if(!l.g)return y;if(!y)return null;try{const st=JSON.parse(y);if(st){for(l=0;l<st.length;l++)if(Array.isArray(st[l])){var T=st[l];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var W=C[0];if(W!="noop"&&W!="stop"&&W!="close")for(let Tt=1;Tt<C.length;Tt++)C[Tt]=""}}}}return ui(st)}catch{return y}}var ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xe;function Es(){}O(Es,_s),Es.prototype.g=function(){return new XMLHttpRequest},Xe=new Es;function vr(l){return encodeURIComponent(String(l))}function Ts(l){var y=1;l=l.split(":");const T=[];for(;y>0&&l.length;)T.push(l.shift()),y--;return l.length&&T.push(l.join(":")),T}function er(l,y,T,C){this.j=l,this.i=y,this.l=T,this.S=C||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hr}function Hr(){this.i=null,this.g="",this.h=!1}var Ve={},Fe={};function Vn(l,y,T){l.M=1,l.A=Ji(nn(y)),l.u=T,l.R=!0,Mi(l,null)}function Mi(l,y){l.F=Date.now(),Ln(l),l.B=nn(l.A);var T=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),aa(T.i,"t",C),l.C=0,T=l.j.L,l.h=new Hr,l.g=_n(l.j,T?y:null,!l.u),l.P>0&&(l.O=new Un(S(l.Y,l,l.g),l.P)),y=l.V,T=l.g,C=l.ba;var W="readystatechange";Array.isArray(W)||(W&&(Br[0]=W.toString()),W=Br);for(let st=0;st<W.length;st++){const Tt=Ot(T,W[st],C||y.handleEvent,!1,y.h||y);if(!Tt)break;y.g[Tt.key]=Tt}y=l.J?H(l.J):{},l.u?(l.v||(l.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,y)):(l.v="GET",l.g.ea(l.B,l.v,null,y)),At(),qu(l.i,l.v,l.B,l.l,l.S,l.u)}er.prototype.ba=function(l){l=l.target;const y=this.O;y&&Jr(l)==3?y.j():this.Y(l)},er.prototype.Y=function(l){try{if(l==this.g)t:{const $t=Jr(this.g),an=this.g.ya(),Se=this.g.ca();if(!($t<3)&&($t!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||$t!=4||an==7||(an==8||Se<=0?At(3):At(2)),Er(this);var y=this.g.ca();this.X=y;var T=Hu(this);if(this.o=y==200,Ho(this.i,this.v,this.B,this.l,this.S,$t,y),this.o){if(this.U&&!this.L){e:{if(this.g){var C,W=this.g;if((C=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(C)){var st=C;break e}}st=null}if(l=st)Kn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bn(this,l);else{this.o=!1,this.m=3,tn(12),gn(this),we(this);break t}}if(this.R){l=!0;let ke;for(;!this.K&&this.C<T.length;)if(ke=ao(this,T),ke==Fe){$t==4&&(this.m=4,tn(14),l=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Ve){this.m=4,tn(15),Kn(this.i,this.l,T,"[Invalid Chunk]"),l=!1;break}else Kn(this.i,this.l,ke,null),bn(this,ke);if(Fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||T.length!=0||this.h.h||(this.m=1,tn(16),l=!1),this.o=this.o&&l,!l)Kn(this.i,this.l,T,"[Invalid Chunked Response]"),gn(this),we(this);else if(T.length>0&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.aa&&!Tt.P&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Wi(Tt),Tt.P=!0,tn(11))}}else Kn(this.i,this.l,T,null),bn(this,T);$t==4&&gn(this),this.o&&!this.K&&($t==4?zi(this.j,this):(this.o=!1,Ln(this)))}else Ui(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),gn(this),we(this)}}}catch{}finally{}};function Hu(l){if(!Fr(l))return l.g.la();const y=sn(l.g);if(y==="")return"";let T="";const C=y.length,W=Jr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return gn(l),we(l),"";l.h.i=new p.TextDecoder}for(let st=0;st<C;st++)l.h.h=!0,T+=l.h.i.decode(y[st],{stream:!(W&&st==C-1)});return y.length=0,l.h.g+=T,l.C=0,l.h.g}function Fr(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function ao(l,y){var T=l.C,C=y.indexOf(`
`,T);return C==-1?Fe:(T=Number(y.substring(T,C)),isNaN(T)?Ve:(C+=1,C+T>y.length?Fe:(y=y.slice(C,C+T),l.C=C+T,y)))}er.prototype.cancel=function(){this.K=!0,gn(this)};function Ln(l){l.T=Date.now()+l.H,bs(l,l.H)}function bs(l,y){if(l.D!=null)throw Error("WatchDog timer not null");l.D=qr(S(l.aa,l),y)}function Er(l){l.D&&(p.clearTimeout(l.D),l.D=null)}er.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(_r(this.i,this.B),this.M!=2&&(At(),tn(17)),gn(this),this.m=2,we(this)):bs(this,this.T-l)};function we(l){l.j.I==0||l.K||zi(l.j,l)}function gn(l){Er(l);var y=l.O;y&&typeof y.dispose=="function"&&y.dispose(),l.O=null,jr(l.V),l.g&&(y=l.g,l.g=null,y.abort(),y.dispose())}function bn(l,y){try{var T=l.j;if(T.I!=0&&(T.g==l||br(T.h,l))){if(!l.L&&br(T.h,l)&&T.I==3){try{var C=T.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<l.F)ca(T),pi(T);else break t;yi(T),tn(18)}}else T.xa=W[1],0<T.xa-T.K&&W[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qr(S(T.Va,T),6e3));Tr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Cr(T,11)}else if((l.L||T.g==l)&&ca(T),!V(y))for(W=T.Ba.g.parse(y),y=0;y<W.length;y++){let Se=W[y];const ke=Se[0];if(!(ke<=T.K))if(T.K=ke,Se=Se[1],T.I==2)if(Se[0]=="c"){T.M=Se[1],T.ba=Se[2];const Dr=Se[3];Dr!=null&&(T.ka=Dr,T.j.info("VER="+T.ka));const Or=Se[4];Or!=null&&(T.za=Or,T.j.info("SVER="+T.za));const dr=Se[5];dr!=null&&typeof dr=="number"&&dr>0&&(C=1.5*dr,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Wr=l.g;if(Wr){const es=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var st=C.h;st.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(Kr(st,st.h),st.h=null))}if(C.G){const ma=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(C.wa=ma,Ce(C.J,C.G,ma))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-l.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var Tt=l;if(C.na=da(C,C.L?C.ba:null,C.W),Tt.L){na(C.h,Tt);var $t=Tt,an=C.O;an&&($t.H=an),$t.D&&(Er($t),Ln($t)),C.g=Tt}else Rs(C);T.i.length>0&&gi(T)}else Se[0]!="stop"&&Se[0]!="close"||Cr(T,7);else T.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Cr(T,7):$i(T):Se[0]!="noop"&&T.l&&T.l.qa(Se),T.A=0)}}At(4)}catch{}}var en=class{constructor(l,y){this.g=l,this.map=y}};function hi(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xi(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tr(l){return l.h?1:l.g?l.g.size:0}function br(l,y){return l.h?l.h==y:l.g?l.g.has(y):!1}function Kr(l,y){l.g?l.g.add(y):l.h=y}function na(l,y){l.h&&l.h==y?l.h=null:l.g&&l.g.has(y)&&l.g.delete(y)}hi.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Zi(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let y=l.i;for(const T of l.g.values())y=y.concat(T.G);return y}return ht(l.i)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(l,y){if(l){l=l.split("&");for(let T=0;T<l.length;T++){const C=l[T].indexOf("=");let W,st=null;C>=0?(W=l[T].substring(0,C),st=l[T].substring(C+1)):W=l[T],y(W,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function nr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;l instanceof nr?(this.l=l.l,rn(this,l.j),this.o=l.o,this.g=l.g,Sr(this,l.u),this.h=l.h,ra(this,Ko(l.i)),this.m=l.m):l&&(y=String(l).match(oo))?(this.l=!1,rn(this,y[1]||"",!0),this.o=me(y[2]||""),this.g=me(y[3]||"",!0),Sr(this,y[4]),this.h=me(y[5]||"",!0),ra(this,y[6]||"",!0),this.m=me(y[7]||"")):(this.l=!1,this.i=new Xr(null,this.l))}nr.prototype.toString=function(){const l=[];var y=this.j;y&&l.push(Gr(y,Qr,!0),":");var T=this.g;return(T||y=="file")&&(l.push("//"),(y=this.o)&&l.push(Gr(y,Qr,!0),"@"),l.push(vr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&l.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&l.push("/"),l.push(Gr(T,T.charAt(0)=="/"?Ss:ia,!0))),(T=this.i.toString())&&l.push("?",T),(T=this.m)&&l.push("#",Gr(T,uo)),l.join("")},nr.prototype.resolve=function(l){const y=nn(this);let T=!!l.j;T?rn(y,l.j):T=!!l.o,T?y.o=l.o:T=!!l.g,T?y.g=l.g:T=l.u!=null;var C=l.h;if(T)Sr(y,l.u);else if(T=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var W=y.h.lastIndexOf("/");W!=-1&&(C=y.h.slice(0,W+1)+C)}if(W=C,W==".."||W==".")C="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){C=W.lastIndexOf("/",0)==0,W=W.split("/");const st=[];for(let Tt=0;Tt<W.length;){const $t=W[Tt++];$t=="."?C&&Tt==W.length&&st.push(""):$t==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),C&&Tt==W.length&&st.push("")):(st.push($t),C=!0)}C=st.join("/")}else C=W}return T?y.h=C:T=l.i.toString()!=="",T?ra(y,Ko(l.i)):T=!!l.m,T&&(y.m=l.m),y};function nn(l){return new nr(l)}function rn(l,y,T){l.j=T?me(y,!0):y,l.j&&(l.j=l.j.replace(/:$/,""))}function Sr(l,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);l.u=y}else l.u=null}function ra(l,y,T){y instanceof Xr?(l.i=y,Zr(l.i,l.l)):(T||(y=Gr(y,Yr)),l.i=new Xr(y,l.l))}function Ce(l,y,T){l.i.set(y,T)}function Ji(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function me(l,y){return l?y?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Gr(l,y,T){return typeof l=="string"?(l=encodeURI(l).replace(y,Sn),T&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Sn(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qr=/[#\/\?@]/g,ia=/[#\?:]/g,Ss=/[#\?]/g,Yr=/[#\?@]/g,uo=/#/g;function Xr(l,y){this.h=this.g=null,this.i=l||null,this.j=!!y}function Gn(l){l.g||(l.g=new Map,l.h=0,l.i&&re(l.i,function(y,T){l.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}a=Xr.prototype,a.add=function(l,y){Gn(this),this.i=null,l=cn(this,l);let T=this.g.get(l);return T||this.g.set(l,T=[]),T.push(y),this.h+=1,this};function Fo(l,y){Gn(l),y=cn(l,y),l.g.has(y)&&(l.i=null,l.h-=l.g.get(y).length,l.g.delete(y))}function he(l,y){return Gn(l),y=cn(l,y),l.g.has(y)}a.forEach=function(l,y){Gn(this),this.g.forEach(function(T,C){T.forEach(function(W){l.call(y,W,C,this)},this)},this)};function sa(l,y){Gn(l);let T=[];if(typeof y=="string")he(l,y)&&(T=T.concat(l.g.get(cn(l,y))));else for(l=Array.from(l.g.values()),y=0;y<l.length;y++)T=T.concat(l[y]);return T}a.set=function(l,y){return Gn(this),this.i=null,l=cn(this,l),he(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[y]),this.h+=1,this},a.get=function(l,y){return l?(l=sa(this,l),l.length>0?String(l[0]):y):y};function aa(l,y,T){Fo(l,y),T.length>0&&(l.i=null,l.g.set(cn(l,y),ht(T)),l.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var T=y[C];const W=vr(T);T=sa(this,T);for(let st=0;st<T.length;st++){let Tt=W;T[st]!==""&&(Tt+="="+vr(T[st])),l.push(Tt)}}return this.i=l.join("&")};function Ko(l){const y=new Xr;return y.i=l.i,l.g&&(y.g=new Map(l.g),y.h=l.h),y}function cn(l,y){return y=String(y),l.j&&(y=y.toLowerCase()),y}function Zr(l,y){y&&!l.j&&(Gn(l),l.i=null,l.g.forEach(function(T,C){const W=C.toLowerCase();C!=W&&(Fo(this,C),aa(this,W,T))},l)),l.j=y}function rr(l,y){const T=new cr;if(p.Image){const C=new Image;C.onload=D(hr,T,"TestLoadImage: loaded",!0,y,C),C.onerror=D(hr,T,"TestLoadImage: error",!1,y,C),C.onabort=D(hr,T,"TestLoadImage: abort",!1,y,C),C.ontimeout=D(hr,T,"TestLoadImage: timeout",!1,y,C),p.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else y(!1)}function Ar(l,y){const T=new cr,C=new AbortController,W=setTimeout(()=>{C.abort(),hr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(l,{signal:C.signal}).then(st=>{clearTimeout(W),st.ok?hr(T,"TestPingServer: ok",!0,y):hr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),hr(T,"TestPingServer: error",!1,y)})}function hr(l,y,T,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(T)}catch{}}function Vi(){this.g=new ea}function xe(l){this.i=l.Sb||null,this.h=l.ab||!1}O(xe,_s),xe.prototype.g=function(){return new zn(this.i,this.h)};function zn(l,y){ln.call(this),this.H=l,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(zn,ln),a=zn.prototype,a.open=function(l,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=y,this.readyState=1,fr(this)},a.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(y.body=l),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},a.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fi(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function fi(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}a.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var y=l.value?l.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!l.done}))&&(this.response=this.responseText+=y)}l.done?wr(this):fr(this),this.readyState==3&&fi(this)}},a.Oa=function(l){this.g&&(this.response=this.responseText=l,wr(this))},a.Na=function(l){this.g&&(this.response=l,wr(this))},a.ga=function(){this.g&&wr(this)};function wr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,fr(l)}a.setRequestHeader=function(l,y){this.A.append(l,y)},a.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,l.push(T[0]+": "+T[1]),T=y.next();return l.join(`\r
`)};function fr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function yn(l){let y="";return oe(l,function(T,C){y+=C,y+=":",y+=T,y+=`\r
`}),y}function As(l,y,T){t:{for(C in T){var C=!1;break t}C=!0}C||(T=yn(T),typeof l=="string"?T!=null&&vr(T):Ce(l,y,T))}function le(l){ln.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(le,ln);var Rr=/^https?$/i,oa=["POST","PUT"];a=le.prototype,a.Fa=function(l){this.H=l},a.ea=function(l,y,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);y=y?y.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xe.g(),this.g.onreadystatechange=Z(S(this.Ca,this));try{this.B=!0,this.g.open(y,String(l),!0),this.B=!1}catch(st){xi(this,st);return}if(l=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)T.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const st of C.keys())T.set(st,C.get(st));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(st=>st.toLowerCase()=="content-type"),W=p.FormData&&l instanceof p.FormData,!(Array.prototype.indexOf.call(oa,y,void 0)>=0)||C||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,Tt]of T)this.g.setRequestHeader(st,Tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(st){xi(this,st)}};function xi(l,y){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=y,l.o=5,ki(l),di(l)}function ki(l){l.A||(l.A=!0,We(l,"complete"),We(l,"error"))}a.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,We(this,"complete"),We(this,"abort"),di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),le.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Pi(this):this.Xa())},a.Xa=function(){Pi(this)};function Pi(l){if(l.h&&typeof h<"u"){if(l.v&&Jr(l)==4)setTimeout(l.Ca.bind(l),0);else if(We(l,"readystatechange"),Jr(l)==4){l.h=!1;try{const st=l.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var C;if(C=st===0){let Tt=String(l.D).match(oo)[1]||null;!Tt&&p.self&&p.self.location&&(Tt=p.self.location.protocol.slice(0,-1)),C=!Rr.test(Tt?Tt.toLowerCase():"")}T=C}if(T)We(l,"complete"),We(l,"success");else{l.o=6;try{var W=Jr(l)>2?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.ca()+"]",ki(l)}}finally{di(l)}}}}function di(l,y){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const T=l.g;l.g=null,y||We(l,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Jr(l){return l.g?l.g.readyState:0}a.ca=function(){try{return Jr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(l){if(this.g){var y=this.g.responseText;return l&&y.indexOf(l)==0&&(y=y.substring(l.length)),ys(y)}};function sn(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(l){const y={};l=(l.g&&Jr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(V(l[C]))continue;var T=Ts(l[C]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const st=y[W]||[];y[W]=st,st.push(T)}ue(y,function(C){return C.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(l,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[l]||y}function $r(l){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,l),this.Za=mi("retryDelaySeedMs",1e4,l),this.Ta=mi("forwardChannelMaxRetries",2,l),this.va=mi("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new hi(l&&l.concurrentRequestLimit),this.Ba=new Vi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=$r.prototype,a.ka=8,a.I=1,a.connect=function(l,y,T,C){tn(0),this.W=l,this.H=y||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=da(this,null,this.W),gi(this)};function $i(l){if(ua(l),l.I==3){var y=l.V++,T=nn(l.J);if(Ce(T,"SID",l.M),Ce(T,"RID",y),Ce(T,"TYPE","terminate"),Li(l,T),y=new er(l,l.j,y),y.M=2,y.A=Ji(nn(T)),T=!1,p.navigator&&p.navigator.sendBeacon)try{T=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&p.Image&&(new Image().src=y.A,T=!0),T||(y.g=_n(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ln(y)}fa(l)}function pi(l){l.g&&(Wi(l),l.g.cancel(),l.g=null)}function ua(l){pi(l),l.v&&(p.clearTimeout(l.v),l.v=null),ca(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&p.clearTimeout(l.m),l.m=null)}function gi(l){if(!Xi(l.h)&&!l.m){l.m=!0;var y=l.Ea;Le||M(),ne||(Le(),ne=!0),x.add(y,l),l.D=0}}function la(l,y){return Tr(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=y.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=qr(S(l.Ea,l,y),ha(l,l.D)),l.D++,!0)}a.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const W=new er(this,this.j,l);let st=this.o;if(this.U&&(st?(st=H(st),wt(st,this.U)):st=this.U),this.u!==null||this.R||(W.J=st,st=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=lo(this,W,y),T=nn(this.J),Ce(T,"RID",l),Ce(T,"CVER",22),this.G&&Ce(T,"X-HTTP-Session-Id",this.G),Li(this,T),st&&(this.R?y="headers="+vr(yn(st))+"&"+y:this.u&&As(T,this.u,st)),Kr(this.h,W),this.Ra&&Ce(T,"TYPE","init"),this.S?(Ce(T,"$req",y),Ce(T,"SID","null"),W.U=!0,Vn(W,T,null)):Vn(W,T,y),this.I=2}}else this.I==3&&(l?ws(this,l):this.i.length==0||Xi(this.h)||ws(this))};function ws(l,y){var T;y?T=y.l:T=l.V++;const C=nn(l.J);Ce(C,"SID",l.M),Ce(C,"RID",T),Ce(C,"AID",l.K),Li(l,C),l.u&&l.o&&As(C,l.u,l.o),T=new er(l,l.j,T,l.D+1),l.u===null&&(T.J=l.o),y&&(l.i=y.G.concat(l.i)),y=lo(l,T,1e3),T.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Kr(l.h,T),Vn(T,C,y)}function Li(l,y){l.H&&oe(l.H,function(T,C){Ce(y,C,T)}),l.l&&oe({},function(T,C){Ce(y,C,T)})}function lo(l,y,T){T=Math.min(l.i.length,T);const C=l.l?S(l.l.Ka,l.l,l):null;t:{var W=l.i;let $t=-1;for(;;){const an=["count="+T];$t==-1?T>0?($t=W[0].g,an.push("ofs="+$t)):$t=0:an.push("ofs="+$t);let Se=!0;for(let ke=0;ke<T;ke++){var st=W[ke].g;const Dr=W[ke].map;if(st-=$t,st<0)$t=Math.max(0,W[ke].g-100),Se=!1;else try{st="req"+st+"_"||"";try{var Tt=Dr instanceof Map?Dr:Object.entries(Dr);for(const[Or,dr]of Tt){let Wr=dr;E(dr)&&(Wr=ui(dr)),an.push(st+Or+"="+encodeURIComponent(Wr))}}catch(Or){throw an.push(st+"type="+encodeURIComponent("_badmap")),Or}}catch{C&&C(Dr)}}if(Se){Tt=an.join("&");break t}}Tt=void 0}return l=l.i.splice(0,T),y.G=l,Tt}function Rs(l){if(!l.g&&!l.v){l.Y=1;var y=l.Da;Le||M(),ne||(Le(),ne=!0),x.add(y,l),l.A=0}}function yi(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=qr(S(l.Da,l),ha(l,l.A)),l.A++,!0)}a.Da=function(){if(this.v=null,co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=qr(S(this.Wa,this),l)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),pi(this),co(this))};function Wi(l){l.B!=null&&(p.clearTimeout(l.B),l.B=null)}function co(l){l.g=new er(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var y=nn(l.na);Ce(y,"RID","rpc"),Ce(y,"SID",l.M),Ce(y,"AID",l.K),Ce(y,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(y,"TO",l.ia),Ce(y,"TYPE","xmlhttp"),Li(l,y),l.u&&l.o&&As(y,l.u,l.o),l.O&&(l.g.H=l.O);var T=l.g;l=l.ba,T.M=1,T.A=Ji(nn(y)),T.u=null,T.R=!0,Mi(T,l)}a.Va=function(){this.C!=null&&(this.C=null,pi(this),yi(this),tn(19))};function ca(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function zi(l,y){var T=null;if(l.g==y){ca(l),Wi(l),l.g=null;var C=2}else if(br(l.h,y))T=y.G,na(l.h,y),C=1;else return;if(l.I!=0){if(y.o)if(C==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var W=l.D;C=gr(),We(C,new yr(C,T)),gi(l)}else Rs(l);else if(W=y.m,W==3||W==0&&y.X>0||!(C==1&&la(l,y)||C==2&&yi(l)))switch(T&&T.length>0&&(y=l.h,y.i=y.i.concat(T)),W){case 1:Cr(l,5);break;case 4:Cr(l,10);break;case 3:Cr(l,6);break;default:Cr(l,2)}}}function ha(l,y){let T=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(T*=2),T*y}function Cr(l,y){if(l.j.info("Error code "+y),y==2){var T=S(l.bb,l),C=l.Ua;const W=!C;C=new nr(C||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||rn(C,"https"),Ji(C),W?rr(C.toString(),T):Ar(C.toString(),T)}else tn(2);l.I=0,l.l&&l.l.pa(y),fa(l),ua(l)}a.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function fa(l){if(l.I=0,l.ja=[],l.l){const y=Zi(l.h);(y.length!=0||l.i.length!=0)&&(St(l.ja,y),St(l.ja,l.i),l.h.i.length=0,ht(l.i),l.i.length=0),l.l.oa()}}function da(l,y,T){var C=T instanceof nr?nn(T):new nr(T);if(C.g!="")y&&(C.g=y+"."+C.g),Sr(C,C.u);else{var W=p.location;C=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;const st=new nr(null);C&&rn(st,C),y&&(st.g=y),W&&Sr(st,W),T&&(st.h=T),C=st}return T=l.G,y=l.wa,T&&y&&Ce(C,T,y),Ce(C,"VER",l.ka),Li(l,C),C}function _n(l,y,T){if(y&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=l.Aa&&!l.ma?new le(new xe({ab:T})):new le(l.ma),y.Fa(l.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ts(){}a=ts.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ir(){}Ir.prototype.g=function(l,y){return new Bn(l,y)};function Bn(l,y){ln.call(this),this.g=new $r(y),this.l=l,this.h=y&&y.messageUrlParams||null,l=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(l?l["X-WebChannel-Content-Type"]=y.messageContentType:l={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(l?l["X-WebChannel-Client-Profile"]=y.sa:l={"X-WebChannel-Client-Profile":y.sa}),this.g.U=l,(l=y&&y.Qb)&&!V(l)&&(this.g.u=l),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.G=y,l=this.h,l!==null&&y in l&&(l=this.h,y in l&&delete l[y])),this.j=new _i(this)}O(Bn,ln),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){$i(this.g)},Bn.prototype.o=function(l){var y=this.g;if(typeof l=="string"){var T={};T.__data__=l,l=T}else this.v&&(T={},T.__data__=ui(l),l=T);y.i.push(new en(y.Ya++,l)),y.I==3&&gi(y)},Bn.prototype.N=function(){this.g.l=null,delete this.j,$i(this.g),delete this.g,Bn.Z.N.call(this)};function Cs(l){mn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var y=l.__sm__;if(y){t:{for(const T in y){l=T;break t}l=void 0}(this.i=l)&&(l=this.i,y=y!==null&&l in y?y[l]:void 0),this.data=y}else this.data=l}O(Cs,mn);function ho(){pn.call(this),this.status=1}O(ho,pn);function _i(l){this.g=l}O(_i,ts),_i.prototype.ra=function(){We(this.g,"a")},_i.prototype.qa=function(l){We(this.g,new Cs(l))},_i.prototype.pa=function(l){We(this.g,new ho)},_i.prototype.oa=function(){We(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,lE=function(){return new Ir},uE=function(){return gr()},oE=Dt,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,vh=ci,Ne.COMPLETE="complete",aE=Ne,li.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",ln.prototype.listen=ln.prototype.J,Cl=li,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,sE=le}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",Ev="4.9.2";class or{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let Lu="12.3.0";const Po=new Bm("@firebase/firestore");function vu(){return Po.logLevel}function xt(a,...t){if(Po.logLevel<=ve.DEBUG){const r=t.map(Wm);Po.debug(`Firestore (${Lu}): ${a}`,...r)}}function $s(a,...t){if(Po.logLevel<=ve.ERROR){const r=t.map(Wm);Po.error(`Firestore (${Lu}): ${a}`,...r)}}function Du(a,...t){if(Po.logLevel<=ve.WARN){const r=t.map(Wm);Po.warn(`Firestore (${Lu}): ${a}`,...r)}}function Wm(a){if(typeof a=="string")return a;try{return(function(r){return JSON.stringify(r)})(a)}catch{return a}}function Qt(a,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,cE(a,s,r)}function cE(a,t,r){let s=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw $s(s),new Error(s)}function Me(a,t,r,s){let u="Unexpected state";typeof r=="string"?u=r:s=r,a||cE(t,u,s)}function ee(a,t){return a}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ta{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Za{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class hE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(or.UNAUTHENTICATED)))}shutdown(){}}class nR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class rR{constructor(t){this.t=t,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Me(this.o===void 0,42304);let s=this.i;const u=b=>this.i!==s?(s=this.i,r(b)):Promise.resolve();let h=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Za,t.enqueueRetryable((()=>u(this.currentUser)))};const p=()=>{const b=h;t.enqueueRetryable((async()=>{await b.promise,await u(this.currentUser)}))},E=b=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((b=>E(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Za)}}),0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Me(typeof s.accessToken=="string",31837,{l:s}),new hE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string",2055,{h:t}),new or(t)}}class iR{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new iR(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Me(this.o===void 0,3512);const s=h=>{h.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,xt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const u=h=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Me(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Tv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=oR(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<r&&(s+=t.charAt(u[h]%62))}return s}}function Ee(a,t){return a<t?-1:a>t?1:0}function Sm(a,t){const r=Math.min(a.length,t.length);for(let s=0;s<r;s++){const u=a.charAt(s),h=t.charAt(s);if(u!==h)return um(u)===um(h)?Ee(u,h):um(u)?1:-1}return Ee(a.length,t.length)}const uR=55296,lR=57343;function um(a){const t=a.charCodeAt(0);return t>=uR&&t<=lR}function Ou(a,t,r){return a.length===t.length&&a.every(((s,u)=>r(s,t[u])))}const bv="__name__";class os{constructor(t,r,s){r===void 0?r=0:r>t.length&&Qt(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&Qt(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const h=os.compareSegments(t.get(u),r.get(u));if(h!==0)return h}return Ee(t.length,r.length)}static compareSegments(t,r){const s=os.isNumericId(t),u=os.isNumericId(r);return s&&!u?-1:!s&&u?1:s&&u?os.extractNumericId(t).compare(os.extractNumericId(r)):Sm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xa.fromString(t.substring(4,t.length-2))}}class on extends os{construct(t,r,s){return new on(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new zt(gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((u=>u.length>0)))}return new on(r)}static emptyPath(){return new on([])}}const cR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends os{construct(t,r,s){return new $n(t,r,s)}static isValidIdentifier(t){return cR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new $n([bv])}static fromServerFormat(t){const r=[];let s="",u=0;const h=()=>{if(s.length===0)throw new zt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;u<t.length;){const E=t[u];if(E==="\\"){if(u+1===t.length)throw new zt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[u+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new zt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,u+=2}else E==="`"?(p=!p,u++):E!=="."||p?(s+=E,u++):(h(),u++)}if(h(),p)throw new zt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $n(r)}static emptyPath(){return new $n([])}}class Ht{constructor(t){this.path=t}static fromPath(t){return new Ht(on.fromString(t))}static fromName(t){return new Ht(on.fromString(t).popFirst(5))}static empty(){return new Ht(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&on.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return on.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ht(new on(t.slice()))}}function hR(a,t,r){if(!r)throw new zt(gt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function fR(a,t,r,s){if(t===!0&&s===!0)throw new zt(gt.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Sv(a){if(!Ht.isDocumentKey(a))throw new zt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function fE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ep(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Qt(12329,{type:typeof a})}function Bl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new zt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ep(a);throw new zt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function Nn(a,t){const r={typeString:a};return t&&(r.value=t),r}function Wl(a,t){if(!fE(a))throw new zt(gt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const u=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const p=a[s];if(u&&typeof p!==u){r=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&p!==h.value){r=`Expected '${s}' field to equal '${h.value}'`;break}}if(r)throw new zt(gt.INVALID_ARGUMENT,r);return!0}const Av=-62135596800,wv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*wv);return new Ye(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Av)throw new zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,Ye._jsonSchema))return new Ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Nn("string",Ye._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};class Wt{static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new Ye(0,0))}static max(){return new Wt(new Ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function dR(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Wt.fromTimestamp(s===1e9?new Ye(r+1,0):new Ye(r,s));return new Ja(u,Ht.empty(),t)}function mR(a){return new Ja(a.readTime,a.key,jl)}class Ja{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Ja(Wt.min(),Ht.empty(),jl)}static max(){return new Ja(Wt.max(),Ht.empty(),jl)}}function pR(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=Ht.comparator(a.documentKey,t.documentKey),r!==0?r:Ee(a.largestBatchId,t.largestBatchId))}const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function zu(a){if(a.code!==gt.FAILED_PRECONDITION||a.message!==gR)throw a;xt("LocalStore","Unexpectedly lost primary lease")}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new pt(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,u)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof pt?r:pt.resolve(r)}catch(r){return pt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):pt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):pt.reject(r)}static resolve(t){return new pt(((r,s)=>{r(t)}))}static reject(t){return new pt(((r,s)=>{s(t)}))}static waitFor(t){return new pt(((r,s)=>{let u=0,h=0,p=!1;t.forEach((E=>{++u,E.next((()=>{++h,p&&h===u&&r()}),(b=>s(b)))})),p=!0,h===u&&r()}))}static or(t){let r=pt.resolve(!1);for(const s of t)r=r.next((u=>u?pt.resolve(u):s()));return r}static forEach(t,r){const s=[];return t.forEach(((u,h)=>{s.push(r.call(this,u,h))})),this.waitFor(s)}static mapArray(t,r){return new pt(((s,u)=>{const h=t.length,p=new Array(h);let E=0;for(let b=0;b<h;b++){const S=b;r(t[S]).next((D=>{p[S]=D,++E,E===h&&s(p)}),(D=>u(D)))}}))}static doWhile(t,r){return new pt(((s,u)=>{const h=()=>{t()===!0?r().next((()=>{h()}),u):s()};h()}))}}function _R(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Bu(a){return a.name==="IndexedDbTransactionError"}class Zh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Zh.ce=-1;const np=-1;function Jh(a){return a==null}function xh(a){return a===0&&1/a==-1/0}function vR(a){return typeof a=="number"&&Number.isInteger(a)&&!xh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const dE="";function ER(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=Rv(t)),t=TR(a.get(r),t);return Rv(t)}function TR(a,t){let r=t;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":r+="";break;case dE:r+="";break;default:r+=h}}return r}function Rv(a){return a+dE+""}function Cv(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function Lo(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function mE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class un{constructor(t,r){this.comparator=t,this.root=r||Jn.EMPTY}insert(t,r){return new un(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(u===0)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,s)=>(t(r,s),!1)))}toString(){const t=[];return this.inorderTraversal(((r,s)=>(t.push(`${r}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uh(this.root,t,this.comparator,!0)}}class uh{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?s(t.key,r):1,r&&u&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jn{constructor(t,r,s,u,h){this.key=t,this.value=r,this.color=s??Jn.RED,this.left=u??Jn.EMPTY,this.right=h??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,h){return new Jn(t??this.key,r??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const h=s(t,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(t,r,s),null):h===0?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),r(t,u.key)===0){if(u.right.isEmpty())return Jn.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Qt(27949);return t+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(t,r,s,u,h){return this}insert(t,r,s){return new Jn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(t){this.comparator=t,this.data=new un(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,s)=>(t(r),!1)))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((s=>{r=r.add(s)})),r}isEqual(t){if(!(t instanceof Pn)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Pn(this.comparator);return r.data=t,r}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fi{constructor(t){this.fields=t,t.sort($n.comparator)}static empty(){return new Fi([])}unionWith(t){let r=new Pn($n.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Fi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ou(this.fields,t.fields,((r,s)=>r.isEqual(s)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new pE("Invalid base64 string: "+h):h}})(t);return new Wn(r)}static fromUint8Array(t){const r=(function(u){let h="";for(let p=0;p<u.length;++p)h+=String.fromCharCode(u[p]);return h})(t);return new Wn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const bR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(a){if(Me(!!a,39018),typeof a=="string"){let t=0;const r=bR.exec(a);if(Me(!!r,46558,{timestamp:a}),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Tn(a.seconds),nanos:Tn(a.nanos)}}function Tn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Wa(a){return typeof a=="string"?Wn.fromBase64String(a):Wn.fromUint8Array(a)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function rp(a){return(a?.mapValue?.fields||{})[yE]?.stringValue===gE}function $h(a){const t=a.mapValue.fields[_E];return rp(t)?$h(t):t}function ql(a){const t=$a(a.mapValue.fields[vE].timestampValue);return new Ye(t.seconds,t.nanos)}class SR{constructor(t,r,s,u,h,p,E,b,S,D){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.longPollingOptions=b,this.useFetchStreams=S,this.isUsingEmulator=D}}const kh="(default)";class Hl{constructor(t,r){this.projectId=t,this.database=r||kh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",AR="__max__",lh={mapValue:{}},TE="__vector__",Ph="value";function to(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?rp(a)?4:RR(a)?9007199254740991:wR(a)?10:11:Qt(28295,{value:a})}function ms(a,t){if(a===t)return!0;const r=to(a);if(r!==to(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ql(a).isEqual(ql(t));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const p=$a(u.timestampValue),E=$a(h.timestampValue);return p.seconds===E.seconds&&p.nanos===E.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(u,h){return Wa(u.bytesValue).isEqual(Wa(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(u,h){return Tn(u.geoPointValue.latitude)===Tn(h.geoPointValue.latitude)&&Tn(u.geoPointValue.longitude)===Tn(h.geoPointValue.longitude)})(a,t);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return Tn(u.integerValue)===Tn(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const p=Tn(u.doubleValue),E=Tn(h.doubleValue);return p===E?xh(p)===xh(E):isNaN(p)&&isNaN(E)}return!1})(a,t);case 9:return Ou(a.arrayValue.values||[],t.arrayValue.values||[],ms);case 10:case 11:return(function(u,h){const p=u.mapValue.fields||{},E=h.mapValue.fields||{};if(Cv(p)!==Cv(E))return!1;for(const b in p)if(p.hasOwnProperty(b)&&(E[b]===void 0||!ms(p[b],E[b])))return!1;return!0})(a,t);default:return Qt(52216,{left:a})}}function Fl(a,t){return(a.values||[]).find((r=>ms(r,t)))!==void 0}function Nu(a,t){if(a===t)return 0;const r=to(a),s=to(t);if(r!==s)return Ee(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ee(a.booleanValue,t.booleanValue);case 2:return(function(h,p){const E=Tn(h.integerValue||h.doubleValue),b=Tn(p.integerValue||p.doubleValue);return E<b?-1:E>b?1:E===b?0:isNaN(E)?isNaN(b)?0:-1:1})(a,t);case 3:return Dv(a.timestampValue,t.timestampValue);case 4:return Dv(ql(a),ql(t));case 5:return Sm(a.stringValue,t.stringValue);case 6:return(function(h,p){const E=Wa(h),b=Wa(p);return E.compareTo(b)})(a.bytesValue,t.bytesValue);case 7:return(function(h,p){const E=h.split("/"),b=p.split("/");for(let S=0;S<E.length&&S<b.length;S++){const D=Ee(E[S],b[S]);if(D!==0)return D}return Ee(E.length,b.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,p){const E=Ee(Tn(h.latitude),Tn(p.latitude));return E!==0?E:Ee(Tn(h.longitude),Tn(p.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Ov(a.arrayValue,t.arrayValue);case 10:return(function(h,p){const E=h.fields||{},b=p.fields||{},S=E[Ph]?.arrayValue,D=b[Ph]?.arrayValue,O=Ee(S?.values?.length||0,D?.values?.length||0);return O!==0?O:Ov(S,D)})(a.mapValue,t.mapValue);case 11:return(function(h,p){if(h===lh.mapValue&&p===lh.mapValue)return 0;if(h===lh.mapValue)return 1;if(p===lh.mapValue)return-1;const E=h.fields||{},b=Object.keys(E),S=p.fields||{},D=Object.keys(S);b.sort(),D.sort();for(let O=0;O<b.length&&O<D.length;++O){const Z=Sm(b[O],D[O]);if(Z!==0)return Z;const ht=Nu(E[b[O]],S[D[O]]);if(ht!==0)return ht}return Ee(b.length,D.length)})(a.mapValue,t.mapValue);default:throw Qt(23264,{he:r})}}function Dv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ee(a,t);const r=$a(a),s=$a(t),u=Ee(r.seconds,s.seconds);return u!==0?u:Ee(r.nanos,s.nanos)}function Ov(a,t){const r=a.values||[],s=t.values||[];for(let u=0;u<r.length&&u<s.length;++u){const h=Nu(r[u],s[u]);if(h)return h}return Ee(r.length,s.length)}function Mu(a){return Am(a)}function Am(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=$a(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return Wa(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Ht.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=Am(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const p of s)h?h=!1:u+=",",u+=`${p}:${Am(r.fields[p])}`;return u+"}"})(a.mapValue):Qt(61005,{value:a})}function Eh(a){switch(to(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(a);return t?16+Eh(t):16;case 5:return 2*a.stringValue.length;case 6:return Wa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Eh(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let u=0;return Lo(s.fields,((h,p)=>{u+=h.length+Eh(p)})),u})(a.mapValue);default:throw Qt(13486,{value:a})}}function wm(a){return!!a&&"integerValue"in a}function ip(a){return!!a&&"arrayValue"in a}function Nv(a){return!!a&&"nullValue"in a}function Mv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Th(a){return!!a&&"mapValue"in a}function wR(a){return(a?.mapValue?.fields||{})[EE]?.stringValue===TE}function Vl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Lo(a.mapValue.fields,((r,s)=>t.mapValue.fields[r]=Vl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Vl(a.arrayValue.values[r]);return t}return{...a}}function RR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===AR}class Ci{constructor(t){this.value=t}static empty(){return new Ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!Th(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(r)}setAll(t){let r=$n.emptyPath(),s={},u=[];t.forEach(((p,E)=>{if(!r.isImmediateParentOf(E)){const b=this.getFieldsMap(r);this.applyChanges(b,s,u),s={},u=[],r=E.popLast()}p?s[E.lastSegment()]=Vl(p):u.push(E.lastSegment())}));const h=this.getFieldsMap(r);this.applyChanges(h,s,u)}delete(t){const r=this.field(t.popLast());Th(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ms(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=r.mapValue.fields[t.get(s)];Th(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,s){Lo(r,((u,h)=>t[u]=h));for(const u of s)delete t[u]}clone(){return new Ci(Vl(this.value))}}function bE(a){const t=[];return Lo(a.fields,((r,s)=>{const u=new $n([r]);if(Th(s)){const h=bE(s.mapValue).fields;if(h.length===0)t.push(u);else for(const p of h)t.push(u.child(p))}else t.push(u)})),new Fi(t)}class ur{constructor(t,r,s,u,h,p,E){this.key=t,this.documentType=r,this.version=s,this.readTime=u,this.createTime=h,this.data=p,this.documentState=E}static newInvalidDocument(t){return new ur(t,0,Wt.min(),Wt.min(),Wt.min(),Ci.empty(),0)}static newFoundDocument(t,r,s,u){return new ur(t,1,r,Wt.min(),s,u,0)}static newNoDocument(t,r){return new ur(t,2,r,Wt.min(),Wt.min(),Ci.empty(),0)}static newUnknownDocument(t,r){return new ur(t,3,r,Wt.min(),Wt.min(),Ci.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ur&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(t,r){this.position=t,this.inclusive=r}}function Vv(a,t,r){let s=0;for(let u=0;u<a.position.length;u++){const h=t[u],p=a.position[u];if(h.field.isKeyField()?s=Ht.comparator(Ht.fromName(p.referenceValue),r.key):s=Nu(p,r.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function xv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!ms(a.position[r],t.position[r]))return!1;return!0}class Lh{constructor(t,r="asc"){this.field=t,this.dir=r}}function CR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class SE{}class kn extends SE{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new DR(t,r,s):r==="array-contains"?new MR(t,s):r==="in"?new VR(t,s):r==="not-in"?new xR(t,s):r==="array-contains-any"?new kR(t,s):new kn(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new OR(t,s):new NR(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Nu(r,this.value)):r!==null&&to(this.value)===to(r)&&this.matchesComparison(Nu(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends SE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new ps(t,r)}matches(t){return AE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(a){return a.op==="and"}function wE(a){return IR(a)&&AE(a)}function IR(a){for(const t of a.filters)if(t instanceof ps)return!1;return!0}function Rm(a){if(a instanceof kn)return a.field.canonicalString()+a.op.toString()+Mu(a.value);if(wE(a))return a.filters.map((t=>Rm(t))).join(",");{const t=a.filters.map((r=>Rm(r))).join(",");return`${a.op}(${t})`}}function RE(a,t){return a instanceof kn?(function(s,u){return u instanceof kn&&s.op===u.op&&s.field.isEqual(u.field)&&ms(s.value,u.value)})(a,t):a instanceof ps?(function(s,u){return u instanceof ps&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,p,E)=>h&&RE(p,u.filters[E])),!0):!1})(a,t):void Qt(19439)}function CE(a){return a instanceof kn?(function(r){return`${r.field.canonicalString()} ${r.op} ${Mu(r.value)}`})(a):a instanceof ps?(function(r){return r.op.toString()+" {"+r.getFilters().map(CE).join(" ,")+"}"})(a):"Filter"}class DR extends kn{constructor(t,r,s){super(t,r,s),this.key=Ht.fromName(s.referenceValue)}matches(t){const r=Ht.comparator(t.key,this.key);return this.matchesComparison(r)}}class OR extends kn{constructor(t,r){super(t,"in",r),this.keys=IE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class NR extends kn{constructor(t,r){super(t,"not-in",r),this.keys=IE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function IE(a,t){return(t.arrayValue?.values||[]).map((r=>Ht.fromName(r.referenceValue)))}class MR extends kn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ip(r)&&Fl(r.arrayValue,this.value)}}class VR extends kn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Fl(this.value.arrayValue,r)}}class xR extends kn{constructor(t,r){super(t,"not-in",r)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Fl(this.value.arrayValue,r)}}class kR extends kn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ip(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}class PR{constructor(t,r=null,s=[],u=[],h=null,p=null,E=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=p,this.endAt=E,this.Te=null}}function kv(a,t=null,r=[],s=[],u=null,h=null,p=null){return new PR(a,t,r,s,u,h,p)}function sp(a){const t=ee(a);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((s=>Rm(s))).join(","),r+="|ob:",r+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Jh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Mu(s))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Mu(s))).join(",")),t.Te=r}return t.Te}function ap(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!CR(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!RE(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!xv(a.startAt,t.startAt)&&xv(a.endAt,t.endAt)}function Cm(a){return Ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Wh{constructor(t,r=null,s=[],u=[],h=null,p="F",E=null,b=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=p,this.startAt=E,this.endAt=b,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UR(a,t,r,s,u,h,p,E){return new Wh(a,t,r,s,u,h,p,E)}function op(a){return new Wh(a)}function Pv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function LR(a){return a.collectionGroup!==null}function xl(a){const t=ee(a);if(t.Ie===null){t.Ie=[];const r=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),r.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let E=new Pn($n.comparator);return p.filters.forEach((b=>{b.getFlattenedFilters().forEach((S=>{S.isInequality()&&(E=E.add(S.field))}))})),E})(t).forEach((h=>{r.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Lh(h,s))})),r.has($n.keyField().canonicalString())||t.Ie.push(new Lh($n.keyField(),s))}return t.Ie}function ls(a){const t=ee(a);return t.Ee||(t.Ee=zR(t,xl(a))),t.Ee}function zR(a,t){if(a.limitType==="F")return kv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Lh(u.field,h)}));const r=a.endAt?new Uh(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Uh(a.startAt.position,a.startAt.inclusive):null;return kv(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}function Im(a,t,r){return new Wh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function tf(a,t){return ap(ls(a),ls(t))&&a.limitType===t.limitType}function DE(a){return`${sp(ls(a))}|lt:${a.limitType}`}function Eu(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((u=>CE(u))).join(", ")}]`),Jh(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((u=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(u))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((u=>Mu(u))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((u=>Mu(u))).join(",")),`Target(${s})`})(ls(a))}; limitType=${a.limitType})`}function ef(a,t){return t.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,t)&&(function(s,u){for(const h of xl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(a,t)&&(function(s,u){return!(s.startAt&&!(function(p,E,b){const S=Vv(p,E,b);return p.inclusive?S<=0:S<0})(s.startAt,xl(s),u)||s.endAt&&!(function(p,E,b){const S=Vv(p,E,b);return p.inclusive?S>=0:S>0})(s.endAt,xl(s),u))})(a,t)}function BR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function OE(a){return(t,r)=>{let s=!1;for(const u of xl(a)){const h=jR(u,t,r);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function jR(a,t,r){const s=a.field.isKeyField()?Ht.comparator(t.key,r.key):(function(h,p,E){const b=p.data.field(h),S=E.data.field(h);return b!==null&&S!==null?Nu(b,S):Qt(42886)})(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Qt(19790,{direction:a.dir})}}class zo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,t))return h}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),u=this.inner[s];if(u===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],t))return void(u[h]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return s.length===1?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Lo(this.inner,((r,s)=>{for(const[u,h]of s)t(u,h)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const qR=new un(Ht.comparator);function Ws(){return qR}const NE=new un(Ht.comparator);function Il(...a){let t=NE;for(const r of a)t=t.insert(r.key,r);return t}function ME(a){let t=NE;return a.forEach(((r,s)=>t=t.insert(r,s.overlayedDocument))),t}function Oo(){return kl()}function VE(){return kl()}function kl(){return new zo((a=>a.toString()),((a,t)=>a.isEqual(t)))}const HR=new un(Ht.comparator),FR=new Pn(Ht.comparator);function Te(...a){let t=FR;for(const r of a)t=t.add(r);return t}const KR=new Pn(Ee);function GR(){return KR}function up(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function xE(a){return{integerValue:""+a}}function QR(a,t){return vR(t)?xE(t):up(a,t)}class nf{constructor(){this._=void 0}}function YR(a,t,r){return a instanceof zh?(function(u,h){const p={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&rp(h)&&(h=$h(h)),h&&(p.fields[_E]=h),{mapValue:p}})(r,t):a instanceof Kl?PE(a,t):a instanceof Gl?UE(a,t):(function(u,h){const p=kE(u,h),E=Uv(p)+Uv(u.Ae);return wm(p)&&wm(u.Ae)?xE(E):up(u.serializer,E)})(a,t)}function XR(a,t,r){return a instanceof Kl?PE(a,t):a instanceof Gl?UE(a,t):r}function kE(a,t){return a instanceof Bh?(function(s){return wm(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class zh extends nf{}class Kl extends nf{constructor(t){super(),this.elements=t}}function PE(a,t){const r=LE(t);for(const s of a.elements)r.some((u=>ms(u,s)))||r.push(s);return{arrayValue:{values:r}}}class Gl extends nf{constructor(t){super(),this.elements=t}}function UE(a,t){let r=LE(t);for(const s of a.elements)r=r.filter((u=>!ms(u,s)));return{arrayValue:{values:r}}}class Bh extends nf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function Uv(a){return Tn(a.integerValue||a.doubleValue)}function LE(a){return ip(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function ZR(a,t){return a.field.isEqual(t.field)&&(function(s,u){return s instanceof Kl&&u instanceof Kl||s instanceof Gl&&u instanceof Gl?Ou(s.elements,u.elements,ms):s instanceof Bh&&u instanceof Bh?ms(s.Ae,u.Ae):s instanceof zh&&u instanceof zh})(a.transform,t.transform)}class JR{constructor(t,r){this.version=t,this.transformResults=r}}class Xs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Xs}static exists(t){return new Xs(void 0,t)}static updateTime(t){return new Xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rf{}function zE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new jE(a.key,Xs.none()):new tc(a.key,a.data,Xs.none());{const r=a.data,s=Ci.empty();let u=new Pn($n.comparator);for(let h of t.fields)if(!u.has(h)){let p=r.field(h);p===null&&h.length>1&&(h=h.popLast(),p=r.field(h)),p===null?s.delete(h):s.set(h,p),u=u.add(h)}return new Bo(a.key,s,new Fi(u.toArray()),Xs.none())}}function $R(a,t,r){a instanceof tc?(function(u,h,p){const E=u.value.clone(),b=zv(u.fieldTransforms,h,p.transformResults);E.setAll(b),h.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(a,t,r):a instanceof Bo?(function(u,h,p){if(!bh(u.precondition,h))return void h.convertToUnknownDocument(p.version);const E=zv(u.fieldTransforms,h,p.transformResults),b=h.data;b.setAll(BE(u)),b.setAll(E),h.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(a,t,r):(function(u,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,r)}function Pl(a,t,r,s){return a instanceof tc?(function(h,p,E,b){if(!bh(h.precondition,p))return E;const S=h.value.clone(),D=Bv(h.fieldTransforms,b,p);return S.setAll(D),p.convertToFoundDocument(p.version,S).setHasLocalMutations(),null})(a,t,r,s):a instanceof Bo?(function(h,p,E,b){if(!bh(h.precondition,p))return E;const S=Bv(h.fieldTransforms,b,p),D=p.data;return D.setAll(BE(h)),D.setAll(S),p.convertToFoundDocument(p.version,D).setHasLocalMutations(),E===null?null:E.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(a,t,r,s):(function(h,p,E){return bh(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):E})(a,t,r)}function WR(a,t){let r=null;for(const s of a.fieldTransforms){const u=t.data.field(s.field),h=kE(s.transform,u||null);h!=null&&(r===null&&(r=Ci.empty()),r.set(s.field,h))}return r||null}function Lv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ou(s,u,((h,p)=>ZR(h,p)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class tc extends rf{constructor(t,r,s,u=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Bo extends rf{constructor(t,r,s,u,h=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function BE(a){const t=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}})),t}function zv(a,t,r){const s=new Map;Me(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let u=0;u<r.length;u++){const h=a[u],p=h.transform,E=t.data.field(h.field);s.set(h.field,XR(p,E,r[u]))}return s}function Bv(a,t,r){const s=new Map;for(const u of a){const h=u.transform,p=r.data.field(u.field);s.set(u.field,YR(h,p,t))}return s}class jE extends rf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tC extends rf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eC{constructor(t,r,s,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(t.key)&&$R(h,t,s[u])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=Pl(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=Pl(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=VE();return this.mutations.forEach((u=>{const h=t.get(u.key),p=h.overlayedDocument;let E=this.applyToLocalView(p,h.mutatedFields);E=r.has(u.key)?null:E;const b=zE(p,E);b!==null&&s.set(u.key,b),p.isValidDocument()||p.convertToNoDocument(Wt.min())})),s}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Te())}isEqual(t){return this.batchId===t.batchId&&Ou(this.mutations,t.mutations,((r,s)=>Lv(r,s)))&&Ou(this.baseMutations,t.baseMutations,((r,s)=>Lv(r,s)))}}class lp{constructor(t,r,s,u){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(t,r,s){Me(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let u=(function(){return HR})();const h=t.mutations;for(let p=0;p<h.length;p++)u=u.insert(h[p].key,s[p].version);return new lp(t,r,s,u)}}class nC{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rC{constructor(t,r){this.count=t,this.unchangedNames=r}}var On,Re;function iC(a){switch(a){case gt.OK:return Qt(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Qt(15467,{code:a})}}function qE(a){if(a===void 0)return $s("GRPC error has no .code"),gt.UNKNOWN;switch(a){case On.OK:return gt.OK;case On.CANCELLED:return gt.CANCELLED;case On.UNKNOWN:return gt.UNKNOWN;case On.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case On.INTERNAL:return gt.INTERNAL;case On.UNAVAILABLE:return gt.UNAVAILABLE;case On.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case On.NOT_FOUND:return gt.NOT_FOUND;case On.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case On.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case On.ABORTED:return gt.ABORTED;case On.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case On.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case On.DATA_LOSS:return gt.DATA_LOSS;default:return Qt(39323,{code:a})}}(Re=On||(On={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";function sC(){return new TextEncoder}const aC=new Xa([4294967295,4294967295],0);function jv(a){const t=sC().encode(a),r=new iE;return r.update(t),new Uint8Array(r.digest())}function qv(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Xa([r,s],0),new Xa([u,h],0)]}class cp{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Dl(`Invalid padding: ${r}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Xa.fromNumber(this.ge)}ye(t,r,s){let u=t.add(r.multiply(Xa.fromNumber(s)));return u.compare(aC)===1&&(u=new Xa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=jv(t),[s,u]=qv(r);for(let h=0;h<this.hashCount;h++){const p=this.ye(s,u,h);if(!this.we(p))return!1}return!0}static create(t,r,s){const u=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new cp(h,u,r);return s.forEach((E=>p.insert(E))),p}insert(t){if(this.ge===0)return;const r=jv(t),[s,u]=qv(r);for(let h=0;h<this.hashCount;h++){const p=this.ye(s,u,h);this.Se(p)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sf{constructor(t,r,s,u,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const u=new Map;return u.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new sf(Wt.min(),u,new un(Ee),Ws(),Te())}}class ec{constructor(t,r,s,u,h){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new ec(s,r,Te(),Te(),Te())}}class Sh{constructor(t,r,s,u){this.be=t,this.removedTargetIds=r,this.key=s,this.De=u}}class HE{constructor(t,r){this.targetId=t,this.Ce=r}}class FE{constructor(t,r,s=Wn.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Hv{constructor(){this.ve=0,this.Fe=Fv(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Te(),r=Te(),s=Te();return this.Fe.forEach(((u,h)=>{switch(h){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Qt(38017,{changeType:h})}})),new ec(this.Me,this.xe,t,r,s)}qe(){this.Oe=!1,this.Fe=Fv()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ws(),this.Je=ch(),this.He=ch(),this.Ye=new un(Ee)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const s=this.nt(r);switch(t.state){case 0:this.rt(r)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(t.resumeToken));break;default:Qt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((s,u)=>{this.rt(u)&&r(u)}))}st(t){const r=t.targetId,s=t.Ce.count,u=this.ot(r);if(u){const h=u.target;if(Cm(h))if(s===0){const p=new Ht(h.path);this.et(r,p,ur.newNoDocument(p,Wt.min()))}else Me(s===1,20013,{expectedCount:s});else{const p=this._t(r);if(p!==s){const E=this.ut(t),b=E?this.ct(E,t,p):1;if(b!==0){this.it(r);const S=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,S)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=r;let p,E;try{p=Wa(s).toUint8Array()}catch(b){if(b instanceof pE)return Du("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{E=new cp(p,u,h)}catch(b){return Du(b instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return E.ge===0?null:E}ct(t,r,s){return r.Ce.count===s-this.Pt(t,r.targetId)?0:2}Pt(t,r){const s=this.Ge.getRemoteKeysForTarget(r);let u=0;return s.forEach((h=>{const p=this.Ge.ht(),E=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(E)||(this.et(r,h,null),u++)})),u}Tt(t){const r=new Map;this.ze.forEach(((h,p)=>{const E=this.ot(p);if(E){if(h.current&&Cm(E.target)){const b=new Ht(E.target.path);this.It(b).has(p)||this.Et(p,b)||this.et(p,b,ur.newNoDocument(b,t))}h.Be&&(r.set(p,h.ke()),h.qe())}}));let s=Te();this.He.forEach(((h,p)=>{let E=!0;p.forEachWhile((b=>{const S=this.ot(b);return!S||S.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)})),E&&(s=s.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const u=new sf(t,r,this.Ye,this.je,s);return this.je=Ws(),this.Je=ch(),this.He=ch(),this.Ye=new un(Ee),u}Xe(t,r){if(!this.rt(t))return;const s=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,s){if(!this.rt(t))return;const u=this.nt(t);this.Et(t,r)?u.Qe(r,1):u.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),s&&(this.je=this.je.insert(r,s))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new Hv,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Pn(Ee),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Pn(Ee),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||xt("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hv),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function ch(){return new un(Ht.comparator)}function Fv(){return new un(Ht.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},lC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cC={and:"AND",or:"OR"};class hC{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Dm(a,t){return a.useProto3Json||Jh(t)?t:{value:t}}function jh(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function fC(a,t){return jh(a,t.toTimestamp())}function cs(a){return Me(!!a,49232),Wt.fromTimestamp((function(r){const s=$a(r);return new Ye(s.seconds,s.nanos)})(a))}function hp(a,t){return Om(a,t).canonicalString()}function Om(a,t){const r=(function(u){return new on(["projects",u.projectId,"databases",u.database])})(a).child("documents");return t===void 0?r:r.child(t)}function GE(a){const t=on.fromString(a);return Me(JE(t),10190,{key:t.toString()}),t}function Nm(a,t){return hp(a.databaseId,t.path)}function lm(a,t){const r=GE(t);if(r.get(1)!==a.databaseId.projectId)throw new zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ht(YE(r))}function QE(a,t){return hp(a.databaseId,t)}function dC(a){const t=GE(a);return t.length===4?on.emptyPath():YE(t)}function Mm(a){return new on(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function YE(a){return Me(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Kv(a,t,r){return{name:Nm(a,t),fields:r.value.mapValue.fields}}function mC(a,t){let r;if("targetChange"in t){t.targetChange;const s=(function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Qt(39313,{state:S})})(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],h=(function(S,D){return S.useProto3Json?(Me(D===void 0||typeof D=="string",58123),Wn.fromBase64String(D||"")):(Me(D===void 0||D instanceof Buffer||D instanceof Uint8Array,16193),Wn.fromUint8Array(D||new Uint8Array))})(a,t.targetChange.resumeToken),p=t.targetChange.cause,E=p&&(function(S){const D=S.code===void 0?gt.UNKNOWN:qE(S.code);return new zt(D,S.message||"")})(p);r=new FE(s,u,h,E||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const u=lm(a,s.document.name),h=cs(s.document.updateTime),p=s.document.createTime?cs(s.document.createTime):Wt.min(),E=new Ci({mapValue:{fields:s.document.fields}}),b=ur.newFoundDocument(u,h,p,E),S=s.targetIds||[],D=s.removedTargetIds||[];r=new Sh(S,D,b.key,b)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const u=lm(a,s.document),h=s.readTime?cs(s.readTime):Wt.min(),p=ur.newNoDocument(u,h),E=s.removedTargetIds||[];r=new Sh([],E,p.key,p)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const u=lm(a,s.document),h=s.removedTargetIds||[];r=new Sh([],h,u,null)}else{if(!("filter"in t))return Qt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,p=new rC(u,h),E=s.targetId;r=new HE(E,p)}}return r}function pC(a,t){let r;if(t instanceof tc)r={update:Kv(a,t.key,t.value)};else if(t instanceof jE)r={delete:Nm(a,t.key)};else if(t instanceof Bo)r={update:Kv(a,t.key,t.data),updateMask:AC(t.fieldMask)};else{if(!(t instanceof tC))return Qt(16599,{Vt:t.type});r={verify:Nm(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((s=>(function(h,p){const E=p.transform;if(E instanceof zh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Kl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Gl)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Bh)return{fieldPath:p.field.canonicalString(),increment:E.Ae};throw Qt(20930,{transform:p.transform})})(0,s)))),t.precondition.isNone||(r.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:fC(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Qt(27497)})(a,t.precondition)),r}function gC(a,t){return a&&a.length>0?(Me(t!==void 0,14353),a.map((r=>(function(u,h){let p=u.updateTime?cs(u.updateTime):cs(h);return p.isEqual(Wt.min())&&(p=cs(h)),new JR(p,u.transformResults||[])})(r,t)))):[]}function yC(a,t){return{documents:[QE(a,t.path)]}}function _C(a,t){const r={structuredQuery:{}},s=t.path;let u;t.collectionGroup!==null?(u=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=QE(a,u);const h=(function(S){if(S.length!==0)return ZE(ps.create(S,"and"))})(t.filters);h&&(r.structuredQuery.where=h);const p=(function(S){if(S.length!==0)return S.map((D=>(function(Z){return{field:Tu(Z.field),direction:TC(Z.dir)}})(D)))})(t.orderBy);p&&(r.structuredQuery.orderBy=p);const E=Dm(a,t.limit);return E!==null&&(r.structuredQuery.limit=E),t.startAt&&(r.structuredQuery.startAt=(function(S){return{before:S.inclusive,values:S.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(S){return{before:!S.inclusive,values:S.position}})(t.endAt)),{ft:r,parent:u}}function vC(a){let t=dC(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Me(s===1,65062);const D=r.from[0];D.allDescendants?u=D.collectionId:t=t.child(D.collectionId)}let h=[];r.where&&(h=(function(O){const Z=XE(O);return Z instanceof ps&&wE(Z)?Z.getFilters():[Z]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((Z=>(function(St){return new Lh(bu(St.field),(function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(St.direction))})(Z)))})(r.orderBy));let E=null;r.limit&&(E=(function(O){let Z;return Z=typeof O=="object"?O.value:O,Jh(Z)?null:Z})(r.limit));let b=null;r.startAt&&(b=(function(O){const Z=!!O.before,ht=O.values||[];return new Uh(ht,Z)})(r.startAt));let S=null;return r.endAt&&(S=(function(O){const Z=!O.before,ht=O.values||[];return new Uh(ht,Z)})(r.endAt)),UR(t,u,p,h,E,"F",b,S)}function EC(a,t){const r=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt(28987,{purpose:u})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function XE(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=bu(r.unaryFilter.field);return kn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=bu(r.unaryFilter.field);return kn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=bu(r.unaryFilter.field);return kn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=bu(r.unaryFilter.field);return kn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qt(61313);default:return Qt(60726)}})(a):a.fieldFilter!==void 0?(function(r){return kn.create(bu(r.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qt(58110);default:return Qt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return ps.create(r.compositeFilter.filters.map((s=>XE(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Qt(1026)}})(r.compositeFilter.op))})(a):Qt(30097,{filter:a})}function TC(a){return uC[a]}function bC(a){return lC[a]}function SC(a){return cC[a]}function Tu(a){return{fieldPath:a.canonicalString()}}function bu(a){return $n.fromServerFormat(a.fieldPath)}function ZE(a){return a instanceof kn?(function(r){if(r.op==="=="){if(Mv(r.value))return{unaryFilter:{field:Tu(r.field),op:"IS_NAN"}};if(Nv(r.value))return{unaryFilter:{field:Tu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Mv(r.value))return{unaryFilter:{field:Tu(r.field),op:"IS_NOT_NAN"}};if(Nv(r.value))return{unaryFilter:{field:Tu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(r.field),op:bC(r.op),value:r.value}}})(a):a instanceof ps?(function(r){const s=r.getFilters().map((u=>ZE(u)));return s.length===1?s[0]:{compositeFilter:{op:SC(r.op),filters:s}}})(a):Qt(54877,{filter:a})}function AC(a){const t=[];return a.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function JE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ka{constructor(t,r,s,u,h=Wt.min(),p=Wt.min(),E=Wn.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E,this.expectedCount=b}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wC{constructor(t){this.yt=t}}function RC(a){const t=vC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Im(t,t.limit,"L"):t}class CC{constructor(){this.Cn=new IC}addToCollectionParentIndex(t,r){return this.Cn.add(r),pt.resolve()}getCollectionParents(t,r){return pt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return pt.resolve()}deleteFieldIndex(t,r){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,r){return pt.resolve()}getDocumentsMatchingTarget(t,r){return pt.resolve(null)}getIndexType(t,r){return pt.resolve(0)}getFieldIndexes(t,r){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,r){return pt.resolve(Ja.min())}getMinOffsetFromCollectionGroup(t,r){return pt.resolve(Ja.min())}updateCollectionGroup(t,r,s){return pt.resolve()}updateIndexEntries(t,r){return pt.resolve()}}class IC{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r]||new Pn(on.comparator),h=!u.has(s);return this.index[r]=u.add(s),h}has(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Pn(on.comparator)).toArray()}}const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class Ur{static withCacheSize(t){return new Ur(t,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur($E,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);class Vu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Vu(0)}static cr(){return new Vu(-1)}}const Qv="LruGarbageCollector",DC=1048576;function Yv([a,t],[r,s]){const u=Ee(a,r);return u===0?Ee(t,s):u}class OC{constructor(t){this.Ir=t,this.buffer=new Pn(Yv),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Yv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class NC{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){xt(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Bu(r)?xt(Qv,"Ignoring IndexedDB error during garbage collection: ",r):await zu(r)}await this.Vr(3e5)}))}}class MC{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(t,r){if(r===0)return pt.resolve(Zh.ce);const s=new OC(r);return this.mr.forEachTarget(t,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(t,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(t,r,s){return this.mr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(Gv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let s,u,h,p,E,b,S;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,p=Date.now(),this.nthSequenceNumber(t,u)))).next((O=>(s=O,E=Date.now(),this.removeTargets(t,s,r)))).next((O=>(h=O,b=Date.now(),this.removeOrphanedDocuments(t,s)))).next((O=>(S=Date.now(),vu()<=ve.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-D}ms
	Determined least recently used ${u} in `+(E-p)+`ms
	Removed ${h} targets in `+(b-E)+`ms
	Removed ${O} documents in `+(S-b)+`ms
Total Duration: ${S-D}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O}))))}}function VC(a,t){return new MC(a,t)}class xC{constructor(){this.changes=new zo((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ur.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?pt.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kC{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class PC{constructor(t,r,s,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next((u=>(s=u,this.remoteDocumentCache.getEntry(t,r)))).next((u=>(s!==null&&Pl(s.mutation,u,Fi.empty(),Ye.now()),u)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.getLocalViewOfDocuments(t,s,Te()).next((()=>s))))}getLocalViewOfDocuments(t,r,s=Te()){const u=Oo();return this.populateOverlays(t,u,r).next((()=>this.computeViews(t,r,u,s).next((h=>{let p=Il();return h.forEach(((E,b)=>{p=p.insert(E,b.overlayedDocument)})),p}))))}getOverlayedDocuments(t,r){const s=Oo();return this.populateOverlays(t,s,r).next((()=>this.computeViews(t,r,s,Te())))}populateOverlays(t,r,s){const u=[];return s.forEach((h=>{r.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(t,u).next((h=>{h.forEach(((p,E)=>{r.set(p,E)}))}))}computeViews(t,r,s,u){let h=Ws();const p=kl(),E=(function(){return kl()})();return r.forEach(((b,S)=>{const D=s.get(S.key);u.has(S.key)&&(D===void 0||D.mutation instanceof Bo)?h=h.insert(S.key,S):D!==void 0?(p.set(S.key,D.mutation.getFieldMask()),Pl(D.mutation,S,D.mutation.getFieldMask(),Ye.now())):p.set(S.key,Fi.empty())})),this.recalculateAndSaveOverlays(t,h).next((b=>(b.forEach(((S,D)=>p.set(S,D))),r.forEach(((S,D)=>E.set(S,new kC(D,p.get(S)??null)))),E)))}recalculateAndSaveOverlays(t,r){const s=kl();let u=new un(((p,E)=>p-E)),h=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((p=>{for(const E of p)E.keys().forEach((b=>{const S=r.get(b);if(S===null)return;let D=s.get(b)||Fi.empty();D=E.applyToLocalView(S,D),s.set(b,D);const O=(u.get(E.batchId)||Te()).add(b);u=u.insert(E.batchId,O)}))})).next((()=>{const p=[],E=u.getReverseIterator();for(;E.hasNext();){const b=E.getNext(),S=b.key,D=b.value,O=VE();D.forEach((Z=>{if(!h.has(Z)){const ht=zE(r.get(Z),s.get(Z));ht!==null&&O.set(Z,ht),h=h.add(Z)}})),p.push(this.documentOverlayCache.saveOverlays(t,S,O))}return pt.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,r,s,u){return(function(p){return Ht.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):LR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,u):this.getDocumentsMatchingCollectionQuery(t,r,s,u)}getNextDocuments(t,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,u).next((h=>{const p=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,u-h.size):pt.resolve(Oo());let E=jl,b=h;return p.next((S=>pt.forEach(S,((D,O)=>(E<O.largestBatchId&&(E=O.largestBatchId),h.get(D)?pt.resolve():this.remoteDocumentCache.getEntry(t,D).next((Z=>{b=b.insert(D,Z)}))))).next((()=>this.populateOverlays(t,S,h))).next((()=>this.computeViews(t,b,S,Te()))).next((D=>({batchId:E,changes:ME(D)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ht(r)).next((s=>{let u=Il();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(t,r,s,u){const h=r.collectionGroup;let p=Il();return this.indexManager.getCollectionParents(t,h).next((E=>pt.forEach(E,(b=>{const S=(function(O,Z){return new Wh(Z,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,b.child(h));return this.getDocumentsMatchingCollectionQuery(t,S,s,u).next((D=>{D.forEach(((O,Z)=>{p=p.insert(O,Z)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,r,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,h,u)))).next((p=>{h.forEach(((b,S)=>{const D=S.getKey();p.get(D)===null&&(p=p.insert(D,ur.newInvalidDocument(D)))}));let E=Il();return p.forEach(((b,S)=>{const D=h.get(b);D!==void 0&&Pl(D.mutation,S,Fi.empty(),Ye.now()),ef(r,S)&&(E=E.insert(b,S))})),E}))}}class UC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return pt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(u){return{id:u.id,version:u.version,createTime:cs(u.createTime)}})(r)),pt.resolve()}getNamedQuery(t,r){return pt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(u){return{name:u.name,query:RC(u.bundledQuery),readTime:cs(u.readTime)}})(r)),pt.resolve()}}class LC{constructor(){this.overlays=new un(Ht.comparator),this.qr=new Map}getOverlay(t,r){return pt.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Oo();return pt.forEach(r,(u=>this.getOverlay(t,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(t,r,s){return s.forEach(((u,h)=>{this.St(t,r,h)})),pt.resolve()}removeOverlaysForBatchId(t,r,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),pt.resolve()}getOverlaysForCollection(t,r,s){const u=Oo(),h=r.length+1,p=new Ht(r.child("")),E=this.overlays.getIteratorFrom(p);for(;E.hasNext();){const b=E.getNext().value,S=b.getKey();if(!r.isPrefixOf(S.path))break;S.path.length===h&&b.largestBatchId>s&&u.set(b.getKey(),b)}return pt.resolve(u)}getOverlaysForCollectionGroup(t,r,s,u){let h=new un(((S,D)=>S-D));const p=this.overlays.getIterator();for(;p.hasNext();){const S=p.getNext().value;if(S.getKey().getCollectionGroup()===r&&S.largestBatchId>s){let D=h.get(S.largestBatchId);D===null&&(D=Oo(),h=h.insert(S.largestBatchId,D)),D.set(S.getKey(),S)}}const E=Oo(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((S,D)=>E.set(S,D))),!(E.size()>=u)););return pt.resolve(E)}St(t,r,s){const u=this.overlays.get(s.key);if(u!==null){const p=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new nC(r,s));let h=this.qr.get(r);h===void 0&&(h=Te(),this.qr.set(r,h)),this.qr.set(r,h.add(s.key))}}class zC{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,pt.resolve()}}class fp{constructor(){this.Qr=new Pn(Hn.$r),this.Ur=new Pn(Hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const s=new Hn(t,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,r){t.forEach((s=>this.addReference(s,r)))}removeReference(t,r){this.Gr(new Hn(t,r))}zr(t,r){t.forEach((s=>this.removeReference(s,r)))}jr(t){const r=new Ht(new on([])),s=new Hn(r,t),u=new Hn(r,t+1),h=[];return this.Ur.forEachInRange([s,u],(p=>{this.Gr(p),h.push(p.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Ht(new on([])),s=new Hn(r,t),u=new Hn(r,t+1);let h=Te();return this.Ur.forEachInRange([s,u],(p=>{h=h.add(p.key)})),h}containsKey(t){const r=new Hn(t,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class Hn{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Ht.comparator(t.key,r.key)||Ee(t.Yr,r.Yr)}static Kr(t,r){return Ee(t.Yr,r.Yr)||Ht.comparator(t.key,r.key)}}class BC{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Pn(Hn.$r)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new eC(h,r,s,u);this.mutationQueue.push(p);for(const E of u)this.Zr=this.Zr.add(new Hn(E.key,h)),this.indexManager.addToCollectionParentIndex(t,E.key.path.popLast());return pt.resolve(p)}lookupMutationBatch(t,r){return pt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,u=this.ei(s),h=u<0?0:u;return pt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new Hn(r,0),u=new Hn(r,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(p=>{const E=this.Xr(p.Yr);h.push(E)})),pt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Pn(Ee);return r.forEach((u=>{const h=new Hn(u,0),p=new Hn(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],(E=>{s=s.add(E.Yr)}))})),pt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1;let h=s;Ht.isDocumentKey(h)||(h=h.child(""));const p=new Hn(new Ht(h),0);let E=new Pn(Ee);return this.Zr.forEachWhile((b=>{const S=b.key.path;return!!s.isPrefixOf(S)&&(S.length===u&&(E=E.add(b.Yr)),!0)}),p),pt.resolve(this.ti(E))}ti(t){const r=[];return t.forEach((s=>{const u=this.Xr(s);u!==null&&r.push(u)})),r}removeMutationBatch(t,r){Me(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return pt.forEach(r.mutations,(u=>{const h=new Hn(u.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,r){const s=new Hn(r,0),u=this.Zr.firstAfterOrEqual(s);return pt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class jC{constructor(t){this.ri=t,this.docs=(function(){return new un(Ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,u=this.docs.get(s),h=u?u.size:0,p=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return pt.resolve(s?s.document.mutableCopy():ur.newInvalidDocument(r))}getEntries(t,r){let s=Ws();return r.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():ur.newInvalidDocument(u))})),pt.resolve(s)}getDocumentsMatchingQuery(t,r,s,u){let h=Ws();const p=r.path,E=new Ht(p.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(E);for(;b.hasNext();){const{key:S,value:{document:D}}=b.getNext();if(!p.isPrefixOf(S.path))break;S.path.length>p.length+1||pR(mR(D),s)<=0||(u.has(D.key)||ef(r,D))&&(h=h.insert(D.key,D.mutableCopy()))}return pt.resolve(h)}getAllFromCollectionGroup(t,r,s,u){Qt(9500)}ii(t,r){return pt.forEach(this.docs,(s=>r(s)))}newChangeBuffer(t){return new qC(this)}getSize(t){return pt.resolve(this.size)}}class qC extends xC{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?r.push(this.Nr.addEntry(t,u)):this.Nr.removeEntry(s)})),pt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class HC{constructor(t){this.persistence=t,this.si=new zo((r=>sp(r)),ap),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=Vu.ur()}forEachTarget(t,r){return this.si.forEach(((s,u)=>r(u))),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),pt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Vu(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,pt.resolve()}updateTargetData(t,r){return this.Pr(r),pt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,r,s){let u=0;const h=[];return this.si.forEach(((p,E)=>{E.sequenceNumber<=r&&s.get(E.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,E.targetId)),u++)})),pt.waitFor(h).next((()=>u))}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,r){const s=this.si.get(r)||null;return pt.resolve(s)}addMatchingKeys(t,r,s){return this._i.Wr(r,s),pt.resolve()}removeMatchingKeys(t,r,s){this._i.zr(r,s);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach((p=>{h.push(u.markPotentiallyOrphaned(t,p))})),pt.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),pt.resolve()}getMatchingKeysForTargetId(t,r){const s=this._i.Hr(r);return pt.resolve(s)}containsKey(t,r){return pt.resolve(this._i.containsKey(r))}}class WE{constructor(t,r){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new zC,this.referenceDelegate=t(this),this.Pi=new HC(this),this.indexManager=new CC,this.remoteDocumentCache=(function(u){return new jC(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wC(r),this.Ii=new UC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new LC,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ui[t.toKey()];return s||(s=new BC(r,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,s){xt("MemoryPersistence","Starting transaction:",t);const u=new FC(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(t,r){return pt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,r))))}}class FC extends yR{constructor(t){super(),this.currentSequenceNumber=t}}class dp{constructor(t){this.persistence=t,this.Ri=new fp,this.Vi=null}static mi(t){return new dp(t)}get fi(){if(this.Vi)return this.Vi;throw Qt(60996)}addReference(t,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),pt.resolve()}removeReference(t,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),pt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),pt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(s=>{const u=Ht.fromPath(s);return this.gi(t,u).next((h=>{h||r.removeEntry(u,Wt.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return pt.or([()=>pt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class qh{constructor(t,r){this.persistence=t,this.pi=new zo((s=>ER(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=VC(this,r)}static mi(t,r){return new qh(t,r)}Ei(){}di(t){return pt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>r.next((u=>s+u))))}wr(t){let r=0;return this.pr(t,(s=>{r++})).next((()=>r))}pr(t,r){return pt.forEach(this.pi,((s,u)=>this.br(t,s,u).next((h=>h?pt.resolve():r(u)))))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(t,(p=>this.br(t,p,r).next((E=>{E||(s++,h.removeEntry(p,Wt.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),pt.resolve()}removeReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Eh(t.data.value)),r}br(t,r,s){return pt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const u=this.pi.get(r);return pt.resolve(u!==void 0&&u>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class mp{constructor(t,r,s,u){this.targetId=t,this.fromCache=r,this.Es=s,this.ds=u}static As(t,r){let s=Te(),u=Te();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new mp(t,r.fromCache,s,u)}}class KC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kS()?8:_R(lr())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,s,u){const h={result:null};return this.ys(t,r).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ws(t,r,u,s).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new KC;return this.Ss(t,r,p).next((E=>{if(h.result=E,this.Vs)return this.bs(t,r,p,E.size)}))})).next((()=>h.result))}bs(t,r,s,u){return s.documentReadCount<this.fs?(vu()<=ve.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Eu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(vu()<=ve.DEBUG&&xt("QueryEngine","Query:",Eu(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(vu()<=ve.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Eu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ls(r))):pt.resolve())}ys(t,r){if(Pv(r))return pt.resolve(null);let s=ls(r);return this.indexManager.getIndexType(t,s).next((u=>u===0?null:(r.limit!==null&&u===1&&(r=Im(r,null,"F"),s=ls(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const p=Te(...h);return this.ps.getDocuments(t,p).next((E=>this.indexManager.getMinOffset(t,s).next((b=>{const S=this.Ds(r,E);return this.Cs(r,S,p,b.readTime)?this.ys(t,Im(r,null,"F")):this.vs(t,S,r,b)}))))})))))}ws(t,r,s,u){return Pv(r)||u.isEqual(Wt.min())?pt.resolve(null):this.ps.getDocuments(t,s).next((h=>{const p=this.Ds(r,h);return this.Cs(r,p,s,u)?pt.resolve(null):(vu()<=ve.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Eu(r)),this.vs(t,p,r,dR(u,jl)).next((E=>E)))}))}Ds(t,r){let s=new Pn(OE(t));return r.forEach(((u,h)=>{ef(t,h)&&(s=s.add(h))})),s}Cs(t,r,s,u){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const h=t.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(t,r,s){return vu()<=ve.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Eu(r)),this.ps.getDocumentsMatchingQuery(t,r,Ja.min(),s)}vs(t,r,s,u){return this.ps.getDocumentsMatchingQuery(t,s,u).next((h=>(r.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const pp="LocalStore",QC=3e8;class YC{constructor(t,r,s,u){this.persistence=t,this.Fs=r,this.serializer=u,this.Ms=new un(Ee),this.xs=new zo((h=>sp(h)),ap),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function XC(a,t,r,s){return new YC(a,t,r,s)}async function tT(a,t){const r=ee(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,r.Bs(t),r.mutationQueue.getAllMutationBatches(s)))).next((h=>{const p=[],E=[];let b=Te();for(const S of u){p.push(S.batchId);for(const D of S.mutations)b=b.add(D.key)}for(const S of h){E.push(S.batchId);for(const D of S.mutations)b=b.add(D.key)}return r.localDocuments.getDocuments(s,b).next((S=>({Ls:S,removedBatchIds:p,addedBatchIds:E})))}))}))}function ZC(a,t){const r=ee(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=t.batch.keys(),h=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(E,b,S,D){const O=S.batch,Z=O.keys();let ht=pt.resolve();return Z.forEach((St=>{ht=ht.next((()=>D.getEntry(b,St))).next((Ct=>{const yt=S.docVersions.get(St);Me(yt!==null,48541),Ct.version.compareTo(yt)<0&&(O.applyToRemoteDocument(Ct,S),Ct.isValidDocument()&&(Ct.setReadTime(S.commitVersion),D.addEntry(Ct)))}))})),ht.next((()=>E.mutationQueue.removeMutationBatch(b,O)))})(r,s,t,h).next((()=>h.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(E){let b=Te();for(let S=0;S<E.mutationResults.length;++S)E.mutationResults[S].transformResults.length>0&&(b=b.add(E.batch.mutations[S].key));return b})(t)))).next((()=>r.localDocuments.getDocuments(s,u)))}))}function eT(a){const t=ee(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function JC(a,t){const r=ee(a),s=t.snapshotVersion;let u=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});u=r.Ms;const E=[];t.targetChanges.forEach(((D,O)=>{const Z=u.get(O);if(!Z)return;E.push(r.Pi.removeMatchingKeys(h,D.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(h,D.addedDocuments,O))));let ht=Z.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(O)!==null?ht=ht.withResumeToken(Wn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):D.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(D.resumeToken,s)),u=u.insert(O,ht),(function(Ct,yt,kt){return Ct.resumeToken.approximateByteSize()===0||yt.snapshotVersion.toMicroseconds()-Ct.snapshotVersion.toMicroseconds()>=QC?!0:kt.addedDocuments.size+kt.modifiedDocuments.size+kt.removedDocuments.size>0})(Z,ht,D)&&E.push(r.Pi.updateTargetData(h,ht))}));let b=Ws(),S=Te();if(t.documentUpdates.forEach((D=>{t.resolvedLimboDocuments.has(D)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(h,D))})),E.push($C(h,p,t.documentUpdates).next((D=>{b=D.ks,S=D.qs}))),!s.isEqual(Wt.min())){const D=r.Pi.getLastRemoteSnapshotVersion(h).next((O=>r.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));E.push(D)}return pt.waitFor(E).next((()=>p.apply(h))).next((()=>r.localDocuments.getLocalViewOfDocuments(h,b,S))).next((()=>b))})).then((h=>(r.Ms=u,h)))}function $C(a,t,r){let s=Te(),u=Te();return r.forEach((h=>s=s.add(h))),t.getEntries(a,s).next((h=>{let p=Ws();return r.forEach(((E,b)=>{const S=h.get(E);b.isFoundDocument()!==S.isFoundDocument()&&(u=u.add(E)),b.isNoDocument()&&b.version.isEqual(Wt.min())?(t.removeEntry(E,b.readTime),p=p.insert(E,b)):!S.isValidDocument()||b.version.compareTo(S.version)>0||b.version.compareTo(S.version)===0&&S.hasPendingWrites?(t.addEntry(b),p=p.insert(E,b)):xt(pp,"Ignoring outdated watch update for ",E,". Current version:",S.version," Watch version:",b.version)})),{ks:p,qs:u}}))}function WC(a,t){const r=ee(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=np),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function tI(a,t){const r=ee(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return r.Pi.getTargetData(s,t).next((h=>h?(u=h,pt.resolve(u)):r.Pi.allocateTargetId(s).next((p=>(u=new Ka(t,p,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=r.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(t,s.targetId)),s}))}async function Vm(a,t,r){const s=ee(a),u=s.Ms.get(t),h=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",h,(p=>s.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Bu(p))throw p;xt(pp,`Failed to update sequence numbers for target ${t}: ${p}`)}s.Ms=s.Ms.remove(t),s.xs.delete(u.target)}function Xv(a,t,r){const s=ee(a);let u=Wt.min(),h=Te();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(b,S,D){const O=ee(b),Z=O.xs.get(D);return Z!==void 0?pt.resolve(O.Ms.get(Z)):O.Pi.getTargetData(S,D)})(s,p,ls(t)).next((E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,E.targetId).next((b=>{h=b}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,t,r?u:Wt.min(),r?h:Te()))).next((E=>(eI(s,BR(t),E),{documents:E,Qs:h})))))}function eI(a,t,r){let s=a.Os.get(t)||Wt.min();r.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(t,s)}class Zv{constructor(){this.activeTargetIds=GR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nI{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,s){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rI{Oo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class $v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xt(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){xt(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function xm(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const cm="RestConnection",iI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(t,r,s,u,h){const p=xm(),E=this.zo(t,r.toUriEncodedString());xt(cm,`Sending RPC '${t}' ${p}:`,E,s);const b={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(b,u,h);const{host:S}=new URL(E),D=ku(S);return this.Jo(t,E,b,s,D).then((O=>(xt(cm,`Received RPC '${t}' ${p}: `,O),O)),(O=>{throw Du(cm,`RPC '${t}' ${p} failed with error: `,O,"url: ",E,"request:",s),O}))}Ho(t,r,s,u,h,p){return this.Go(t,r,s,u,h)}jo(t,r,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((u,h)=>t[h]=u)),s&&s.headers.forEach(((u,h)=>t[h]=u))}zo(t,r){const s=iI[t];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}class aI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ar="WebChannelConnection";class oI extends sI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,s,u,h){const p=xm();return new Promise(((E,b)=>{const S=new sE;S.setWithCredentials(!0),S.listenOnce(aE.COMPLETE,(()=>{try{switch(S.getLastErrorCode()){case vh.NO_ERROR:const O=S.getResponseJson();xt(ar,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(O)),E(O);break;case vh.TIMEOUT:xt(ar,`RPC '${t}' ${p} timed out`),b(new zt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const Z=S.getStatus();if(xt(ar,`RPC '${t}' ${p} failed with status:`,Z,"response text:",S.getResponseText()),Z>0){let ht=S.getResponseJson();Array.isArray(ht)&&(ht=ht[0]);const St=ht?.error;if(St&&St.status&&St.message){const Ct=(function(kt){const Gt=kt.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(Gt)>=0?Gt:gt.UNKNOWN})(St.status);b(new zt(Ct,St.message))}else b(new zt(gt.UNKNOWN,"Server responded with status "+S.getStatus()))}else b(new zt(gt.UNAVAILABLE,"Connection failed."));break;default:Qt(9055,{l_:t,streamId:p,h_:S.getLastErrorCode(),P_:S.getLastError()})}}finally{xt(ar,`RPC '${t}' ${p} completed.`)}}));const D=JSON.stringify(u);xt(ar,`RPC '${t}' ${p} sending request:`,u),S.send(r,"POST",D,s,15)}))}T_(t,r,s){const u=xm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=lE(),E=uE(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;S!==void 0&&(b.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(b.useFetchStreams=!0),this.jo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const D=h.join("");xt(ar,`Creating RPC '${t}' stream ${u}: ${D}`,b);const O=p.createWebChannel(D,b);this.I_(O);let Z=!1,ht=!1;const St=new aI({Yo:yt=>{ht?xt(ar,`Not sending because RPC '${t}' stream ${u} is closed:`,yt):(Z||(xt(ar,`Opening RPC '${t}' stream ${u} transport.`),O.open(),Z=!0),xt(ar,`RPC '${t}' stream ${u} sending:`,yt),O.send(yt))},Zo:()=>O.close()}),Ct=(yt,kt,Gt)=>{yt.listen(kt,(qt=>{try{Gt(qt)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Ct(O,Cl.EventType.OPEN,(()=>{ht||(xt(ar,`RPC '${t}' stream ${u} transport opened.`),St.o_())})),Ct(O,Cl.EventType.CLOSE,(()=>{ht||(ht=!0,xt(ar,`RPC '${t}' stream ${u} transport closed`),St.a_(),this.E_(O))})),Ct(O,Cl.EventType.ERROR,(yt=>{ht||(ht=!0,Du(ar,`RPC '${t}' stream ${u} transport errored. Name:`,yt.name,"Message:",yt.message),St.a_(new zt(gt.UNAVAILABLE,"The operation could not be completed")))})),Ct(O,Cl.EventType.MESSAGE,(yt=>{if(!ht){const kt=yt.data[0];Me(!!kt,16349);const Gt=kt,qt=Gt?.error||Gt[0]?.error;if(qt){xt(ar,`RPC '${t}' stream ${u} received error:`,qt);const de=qt.status;let Le=(function(M){const P=On[M];if(P!==void 0)return qE(P)})(de),ne=qt.message;Le===void 0&&(Le=gt.INTERNAL,ne="Unknown error status: "+de+" with message "+qt.message),ht=!0,St.a_(new zt(Le,ne)),O.close()}else xt(ar,`RPC '${t}' stream ${u} received:`,kt),St.u_(kt)}})),Ct(E,oE.STAT_EVENT,(yt=>{yt.stat===bm.PROXY?xt(ar,`RPC '${t}' stream ${u} detected buffering proxy`):yt.stat===bm.NOPROXY&&xt(ar,`RPC '${t}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{St.__()}),0),St}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function hm(){return typeof document<"u"?document:null}function af(a){return new hC(a,!0)}class nT{constructor(t,r,s=1e3,u=1.5,h=6e4){this.Mi=t,this.timerId=r,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,r-s);u>0&&xt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Wv="PersistentStream";class rT{constructor(t,r,s,u,h,p,E,b){this.Mi=t,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=E,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?($s(r.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===r&&this.G_(s,u)}),(s=>{t((()=>{const u=new zt(gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(t,r){const s=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return xt(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(xt(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uI extends rT{constructor(t,r,s,u,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,p),this.serializer=h}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=mC(this.serializer,t),s=(function(h){if(!("targetChange"in h))return Wt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Wt.min():p.readTime?cs(p.readTime):Wt.min()})(t);return this.listener.H_(r,s)}Y_(t){const r={};r.database=Mm(this.serializer),r.addTarget=(function(h,p){let E;const b=p.target;if(E=Cm(b)?{documents:yC(h,b)}:{query:_C(h,b).ft},E.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){E.resumeToken=KE(h,p.resumeToken);const S=Dm(h,p.expectedCount);S!==null&&(E.expectedCount=S)}else if(p.snapshotVersion.compareTo(Wt.min())>0){E.readTime=jh(h,p.snapshotVersion.toTimestamp());const S=Dm(h,p.expectedCount);S!==null&&(E.expectedCount=S)}return E})(this.serializer,t);const s=EC(this.serializer,t);s&&(r.labels=s),this.q_(r)}Z_(t){const r={};r.database=Mm(this.serializer),r.removeTarget=t,this.q_(r)}}class lI extends rT{constructor(t,r,s,u,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=gC(t.writeResults,t.commitTime),s=cs(t.commitTime);return this.listener.na(s,r)}ra(){const t={};t.database=Mm(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((s=>pC(this.serializer,s)))};this.q_(r)}}class cI{}class hI extends cI{constructor(t,r,s,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new zt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Go(t,Om(r,s),u,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new zt(gt.UNKNOWN,h.toString())}))}Ho(t,r,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,E])=>this.connection.Ho(t,Om(r,s),u,p,E,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new zt(gt.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fI{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(r),this.aa=!1):xt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Uo="RemoteStore";class dI{constructor(t,r,s,u,h){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{jo(this)&&(xt(Uo,"Restarting streams for network reachability change."),await(async function(b){const S=ee(b);S.Ea.add(4),await nc(S),S.Ra.set("Unknown"),S.Ea.delete(4),await of(S)})(this))}))})),this.Ra=new fI(s,u)}}async function of(a){if(jo(a))for(const t of a.da)await t(!0)}async function nc(a){for(const t of a.da)await t(!1)}function iT(a,t){const r=ee(a);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),vp(r)?_p(r):ju(r).O_()&&yp(r,t))}function gp(a,t){const r=ee(a),s=ju(r);r.Ia.delete(t),s.O_()&&sT(r,t),r.Ia.size===0&&(s.O_()?s.L_():jo(r)&&r.Ra.set("Unknown"))}function yp(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ju(a).Y_(t)}function sT(a,t){a.Va.Ue(t),ju(a).Z_(t)}function _p(a){a.Va=new oC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ju(a).start(),a.Ra.ua()}function vp(a){return jo(a)&&!ju(a).x_()&&a.Ia.size>0}function jo(a){return ee(a).Ea.size===0}function aT(a){a.Va=void 0}async function mI(a){a.Ra.set("Online")}async function pI(a){a.Ia.forEach(((t,r)=>{yp(a,t)}))}async function gI(a,t){aT(a),vp(a)?(a.Ra.ha(t),_p(a)):a.Ra.set("Unknown")}async function yI(a,t,r){if(a.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(u,h){const p=h.cause;for(const E of h.targetIds)u.Ia.has(E)&&(await u.remoteSyncer.rejectListen(E,p),u.Ia.delete(E),u.Va.removeTarget(E))})(a,t)}catch(s){xt(Uo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hh(a,s)}else if(t instanceof Sh?a.Va.Ze(t):t instanceof HE?a.Va.st(t):a.Va.tt(t),!r.isEqual(Wt.min()))try{const s=await eT(a.localStore);r.compareTo(s)>=0&&await(function(h,p){const E=h.Va.Tt(p);return E.targetChanges.forEach(((b,S)=>{if(b.resumeToken.approximateByteSize()>0){const D=h.Ia.get(S);D&&h.Ia.set(S,D.withResumeToken(b.resumeToken,p))}})),E.targetMismatches.forEach(((b,S)=>{const D=h.Ia.get(b);if(!D)return;h.Ia.set(b,D.withResumeToken(Wn.EMPTY_BYTE_STRING,D.snapshotVersion)),sT(h,b);const O=new Ka(D.target,b,S,D.sequenceNumber);yp(h,O)})),h.remoteSyncer.applyRemoteEvent(E)})(a,r)}catch(s){xt(Uo,"Failed to raise snapshot:",s),await Hh(a,s)}}async function Hh(a,t,r){if(!Bu(t))throw t;a.Ea.add(1),await nc(a),a.Ra.set("Offline"),r||(r=()=>eT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{xt(Uo,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await of(a)}))}function oT(a,t){return t().catch((r=>Hh(a,r,t)))}async function uf(a){const t=ee(a),r=eo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:np;for(;_I(t);)try{const u=await WC(t.localStore,s);if(u===null){t.Ta.length===0&&r.L_();break}s=u.batchId,vI(t,u)}catch(u){await Hh(t,u)}uT(t)&&lT(t)}function _I(a){return jo(a)&&a.Ta.length<10}function vI(a,t){a.Ta.push(t);const r=eo(a);r.O_()&&r.X_&&r.ea(t.mutations)}function uT(a){return jo(a)&&!eo(a).x_()&&a.Ta.length>0}function lT(a){eo(a).start()}async function EI(a){eo(a).ra()}async function TI(a){const t=eo(a);for(const r of a.Ta)t.ea(r.mutations)}async function bI(a,t,r){const s=a.Ta.shift(),u=lp.from(s,t,r);await oT(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await uf(a)}async function SI(a,t){t&&eo(a).X_&&await(async function(s,u){if((function(p){return iC(p)&&p!==gt.ABORTED})(u.code)){const h=s.Ta.shift();eo(s).B_(),await oT(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await uf(s)}})(a,t),uT(a)&&lT(a)}async function t0(a,t){const r=ee(a);r.asyncQueue.verifyOperationInProgress(),xt(Uo,"RemoteStore received new credentials");const s=jo(r);r.Ea.add(3),await nc(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await of(r)}async function AI(a,t){const r=ee(a);t?(r.Ea.delete(2),await of(r)):t||(r.Ea.add(2),await nc(r),r.Ra.set("Unknown"))}function ju(a){return a.ma||(a.ma=(function(r,s,u){const h=ee(r);return h.sa(),new uI(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:mI.bind(null,a),t_:pI.bind(null,a),r_:gI.bind(null,a),H_:yI.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),vp(a)?_p(a):a.Ra.set("Unknown")):(await a.ma.stop(),aT(a))}))),a.ma}function eo(a){return a.fa||(a.fa=(function(r,s,u){const h=ee(r);return h.sa(),new lI(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:EI.bind(null,a),r_:SI.bind(null,a),ta:TI.bind(null,a),na:bI.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await uf(a)):(await a.fa.stop(),a.Ta.length>0&&(xt(Uo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Ep{constructor(t,r,s,u,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,u,h){const p=Date.now()+s,E=new Ep(t,r,p,u,h);return E.start(s),E}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(a,t){if($s("AsyncQueue",`${t}: ${a}`),Bu(a))return new zt(gt.UNAVAILABLE,`${t}: ${a}`);throw a}class Ru{static emptySet(t){return new Ru(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Ht.comparator(r.key,s.key):(r,s)=>Ht.comparator(r.key,s.key),this.keyedMap=Il(),this.sortedSet=new un(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,s)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ru)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new Ru;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class e0{constructor(){this.ga=new un(Ht.comparator)}track(t){const r=t.doc.key,s=this.ga.get(r);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(r,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(r):t.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Qt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,s)=>{t.push(s)})),t}}class xu{constructor(t,r,s,u,h,p,E,b,S){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=b,this.hasCachedResults=S}static fromInitialDocuments(t,r,s,u,h){const p=[];return r.forEach((E=>{p.push({type:0,doc:E})})),new xu(t,r,Ru.emptySet(r),p,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class wI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class RI{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const u=ee(r),h=u.queries;u.queries=n0(),h.forEach(((p,E)=>{for(const b of E.Sa)b.onError(s)}))})(this,new zt(gt.ABORTED,"Firestore shutting down"))}}function n0(){return new zo((a=>DE(a)),tf)}async function CI(a,t){const r=ee(a);let s=3;const u=t.query;let h=r.queries.get(u);h?!h.ba()&&t.Da()&&(s=2):(h=new wI,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await r.onListen(u,!0);break;case 1:h.wa=await r.onListen(u,!1);break;case 2:await r.onFirstRemoteStoreListen(u)}}catch(p){const E=Tp(p,`Initialization of query '${Eu(t.query)}' failed`);return void t.onError(E)}r.queries.set(u,h),h.Sa.push(t),t.va(r.onlineState),h.wa&&t.Fa(h.wa)&&bp(r)}async function II(a,t){const r=ee(a),s=t.query;let u=3;const h=r.queries.get(s);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?u=t.Da()?0:1:!h.ba()&&t.Da()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function DI(a,t){const r=ee(a);let s=!1;for(const u of t){const h=u.query,p=r.queries.get(h);if(p){for(const E of p.Sa)E.Fa(u)&&(s=!0);p.wa=u}}s&&bp(r)}function OI(a,t,r){const s=ee(a),u=s.queries.get(t);if(u)for(const h of u.Sa)h.onError(r);s.queries.delete(t)}function bp(a){a.Ca.forEach((t=>{t.next()}))}var km,r0;(r0=km||(km={})).Ma="default",r0.Cache="cache";class NI{constructor(t,r,s){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)u.type!==3&&s.push(u);t=new xu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=xu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==km.Cache}}class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class MI{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Te(),this.mutatedKeys=Te(),this.eu=OE(t),this.tu=new Ru(this.eu)}get nu(){return this.Ya}ru(t,r){const s=r?r.iu:new e0,u=r?r.tu:this.tu;let h=r?r.mutatedKeys:this.mutatedKeys,p=u,E=!1;const b=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,S=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(((D,O)=>{const Z=u.get(D),ht=ef(this.query,O)?O:null,St=!!Z&&this.mutatedKeys.has(Z.key),Ct=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let yt=!1;Z&&ht?Z.data.isEqual(ht.data)?St!==Ct&&(s.track({type:3,doc:ht}),yt=!0):this.su(Z,ht)||(s.track({type:2,doc:ht}),yt=!0,(b&&this.eu(ht,b)>0||S&&this.eu(ht,S)<0)&&(E=!0)):!Z&&ht?(s.track({type:0,doc:ht}),yt=!0):Z&&!ht&&(s.track({type:1,doc:Z}),yt=!0,(b||S)&&(E=!0)),yt&&(ht?(p=p.add(ht),h=Ct?h.add(D):h.delete(D)):(p=p.delete(D),h=h.delete(D)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const D=this.query.limitType==="F"?p.last():p.first();p=p.delete(D.key),h=h.delete(D.key),s.track({type:1,doc:D})}return{tu:p,iu:s,Cs:E,mutatedKeys:h}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,u){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((D,O)=>(function(ht,St){const Ct=yt=>{switch(yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt(20277,{Rt:yt})}};return Ct(ht)-Ct(St)})(D.type,O.type)||this.eu(D.doc,O.doc))),this.ou(s),u=u??!1;const E=r&&!u?this._u():[],b=this.Xa.size===0&&this.current&&!u?1:0,S=b!==this.Za;return this.Za=b,p.length!==0||S?{snapshot:new xu(this.query,t.tu,h,p,t.mutatedKeys,b===0,S,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:E}:{au:E}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Te(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return t.forEach((s=>{this.Xa.has(s)||r.push(new hT(s))})),this.Xa.forEach((s=>{t.has(s)||r.push(new cT(s))})),r}cu(t){this.Ya=t.Qs,this.Xa=Te();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sp="SyncEngine";class VI{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class xI{constructor(t){this.key=t,this.hu=!1}}class kI{constructor(t,r,s,u,h,p){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new zo((E=>DE(E)),tf),this.Iu=new Map,this.Eu=new Set,this.du=new un(Ht.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=Vu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PI(a,t,r=!0){const s=yT(a);let u;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await fT(s,t,r,!0),u}async function UI(a,t){const r=yT(a);await fT(r,t,!0,!1)}async function fT(a,t,r,s){const u=await tI(a.localStore,ls(t)),h=u.targetId,p=a.sharedClientState.addLocalQueryTarget(h,r);let E;return s&&(E=await LI(a,t,h,p==="current",u.resumeToken)),a.isPrimaryClient&&r&&iT(a.remoteStore,u),E}async function LI(a,t,r,s,u){a.pu=(O,Z,ht)=>(async function(Ct,yt,kt,Gt){let qt=yt.view.ru(kt);qt.Cs&&(qt=await Xv(Ct.localStore,yt.query,!1).then((({documents:x})=>yt.view.ru(x,qt))));const de=Gt&&Gt.targetChanges.get(yt.targetId),Le=Gt&&Gt.targetMismatches.get(yt.targetId)!=null,ne=yt.view.applyChanges(qt,Ct.isPrimaryClient,de,Le);return s0(Ct,yt.targetId,ne.au),ne.snapshot})(a,O,Z,ht);const h=await Xv(a.localStore,t,!0),p=new MI(t,h.Qs),E=p.ru(h.documents),b=ec.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",u),S=p.applyChanges(E,a.isPrimaryClient,b);s0(a,r,S.au);const D=new VI(t,r,p);return a.Tu.set(t,D),a.Iu.has(r)?a.Iu.get(r).push(t):a.Iu.set(r,[t]),S.snapshot}async function zI(a,t,r){const s=ee(a),u=s.Tu.get(t),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((p=>!tf(p,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Vm(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),r&&gp(s.remoteStore,u.targetId),Pm(s,u.targetId)})).catch(zu)):(Pm(s,u.targetId),await Vm(s.localStore,u.targetId,!0))}async function BI(a,t){const r=ee(a),s=r.Tu.get(t),u=r.Iu.get(s.targetId);r.isPrimaryClient&&u.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),gp(r.remoteStore,s.targetId))}async function jI(a,t,r){const s=YI(a);try{const u=await(function(p,E){const b=ee(p),S=Ye.now(),D=E.reduce(((ht,St)=>ht.add(St.key)),Te());let O,Z;return b.persistence.runTransaction("Locally write mutations","readwrite",(ht=>{let St=Ws(),Ct=Te();return b.Ns.getEntries(ht,D).next((yt=>{St=yt,St.forEach(((kt,Gt)=>{Gt.isValidDocument()||(Ct=Ct.add(kt))}))})).next((()=>b.localDocuments.getOverlayedDocuments(ht,St))).next((yt=>{O=yt;const kt=[];for(const Gt of E){const qt=WR(Gt,O.get(Gt.key).overlayedDocument);qt!=null&&kt.push(new Bo(Gt.key,qt,bE(qt.value.mapValue),Xs.exists(!0)))}return b.mutationQueue.addMutationBatch(ht,S,kt,E)})).next((yt=>{Z=yt;const kt=yt.applyToLocalDocumentSet(O,Ct);return b.documentOverlayCache.saveOverlays(ht,yt.batchId,kt)}))})).then((()=>({batchId:Z.batchId,changes:ME(O)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),(function(p,E,b){let S=p.Vu[p.currentUser.toKey()];S||(S=new un(Ee)),S=S.insert(E,b),p.Vu[p.currentUser.toKey()]=S})(s,u.batchId,r),await rc(s,u.changes),await uf(s.remoteStore)}catch(u){const h=Tp(u,"Failed to persist write");r.reject(h)}}async function dT(a,t){const r=ee(a);try{const s=await JC(r.localStore,t);t.targetChanges.forEach(((u,h)=>{const p=r.Au.get(h);p&&(Me(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?p.hu=!0:u.modifiedDocuments.size>0?Me(p.hu,14607):u.removedDocuments.size>0&&(Me(p.hu,42227),p.hu=!1))})),await rc(r,s,t)}catch(s){await zu(s)}}function i0(a,t,r){const s=ee(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const u=[];s.Tu.forEach(((h,p)=>{const E=p.view.va(t);E.snapshot&&u.push(E.snapshot)})),(function(p,E){const b=ee(p);b.onlineState=E;let S=!1;b.queries.forEach(((D,O)=>{for(const Z of O.Sa)Z.va(E)&&(S=!0)})),S&&bp(b)})(s.eventManager,t),u.length&&s.Pu.H_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function qI(a,t,r){const s=ee(a);s.sharedClientState.updateQueryState(t,"rejected",r);const u=s.Au.get(t),h=u&&u.key;if(h){let p=new un(Ht.comparator);p=p.insert(h,ur.newNoDocument(h,Wt.min()));const E=Te().add(h),b=new sf(Wt.min(),new Map,new un(Ee),p,E);await dT(s,b),s.du=s.du.remove(h),s.Au.delete(t),Ap(s)}else await Vm(s.localStore,t,!1).then((()=>Pm(s,t,r))).catch(zu)}async function HI(a,t){const r=ee(a),s=t.batch.batchId;try{const u=await ZC(r.localStore,t);pT(r,s,null),mT(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await rc(r,u)}catch(u){await zu(u)}}async function FI(a,t,r){const s=ee(a);try{const u=await(function(p,E){const b=ee(p);return b.persistence.runTransaction("Reject batch","readwrite-primary",(S=>{let D;return b.mutationQueue.lookupMutationBatch(S,E).next((O=>(Me(O!==null,37113),D=O.keys(),b.mutationQueue.removeMutationBatch(S,O)))).next((()=>b.mutationQueue.performConsistencyCheck(S))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(S,D,E))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,D))).next((()=>b.localDocuments.getDocuments(S,D)))}))})(s.localStore,t);pT(s,t,r),mT(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await rc(s,u)}catch(u){await zu(u)}}function mT(a,t){(a.mu.get(t)||[]).forEach((r=>{r.resolve()})),a.mu.delete(t)}function pT(a,t,r){const s=ee(a);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(t);h&&(r?h.reject(r):h.resolve(),u=u.remove(t)),s.Vu[s.currentUser.toKey()]=u}}function Pm(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||gT(a,s)}))}function gT(a,t){a.Eu.delete(t.path.canonicalString());const r=a.du.get(t);r!==null&&(gp(a.remoteStore,r),a.du=a.du.remove(t),a.Au.delete(r),Ap(a))}function s0(a,t,r){for(const s of r)s instanceof cT?(a.Ru.addReference(s.key,t),KI(a,s)):s instanceof hT?(xt(Sp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||gT(a,s.key)):Qt(19791,{wu:s})}function KI(a,t){const r=t.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(xt(Sp,"New document in limbo: "+r),a.Eu.add(s),Ap(a))}function Ap(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const r=new Ht(on.fromString(t)),s=a.fu.next();a.Au.set(s,new xI(r)),a.du=a.du.insert(r,s),iT(a.remoteStore,new Ka(ls(op(r.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function rc(a,t,r){const s=ee(a),u=[],h=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((E,b)=>{p.push(s.pu(b,t,r).then((S=>{if((S||r)&&s.isPrimaryClient){const D=S?!S.fromCache:r?.targetChanges.get(b.targetId)?.current;s.sharedClientState.updateQueryState(b.targetId,D?"current":"not-current")}if(S){u.push(S);const D=mp.As(b.targetId,S);h.push(D)}})))})),await Promise.all(p),s.Pu.H_(u),await(async function(b,S){const D=ee(b);try{await D.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>pt.forEach(S,(Z=>pt.forEach(Z.Es,(ht=>D.persistence.referenceDelegate.addReference(O,Z.targetId,ht))).next((()=>pt.forEach(Z.ds,(ht=>D.persistence.referenceDelegate.removeReference(O,Z.targetId,ht)))))))))}catch(O){if(!Bu(O))throw O;xt(pp,"Failed to update sequence numbers: "+O)}for(const O of S){const Z=O.targetId;if(!O.fromCache){const ht=D.Ms.get(Z),St=ht.snapshotVersion,Ct=ht.withLastLimboFreeSnapshotVersion(St);D.Ms=D.Ms.insert(Z,Ct)}}})(s.localStore,h))}async function GI(a,t){const r=ee(a);if(!r.currentUser.isEqual(t)){xt(Sp,"User change. New user:",t.toKey());const s=await tT(r.localStore,t);r.currentUser=t,(function(h,p){h.mu.forEach((E=>{E.forEach((b=>{b.reject(new zt(gt.CANCELLED,p))}))})),h.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rc(r,s.Ls)}}function QI(a,t){const r=ee(a),s=r.Au.get(t);if(s&&s.hu)return Te().add(s.key);{let u=Te();const h=r.Iu.get(t);if(!h)return u;for(const p of h){const E=r.Tu.get(p);u=u.unionWith(E.view.nu)}return u}}function yT(a){const t=ee(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qI.bind(null,t),t.Pu.H_=DI.bind(null,t.eventManager),t.Pu.yu=OI.bind(null,t.eventManager),t}function YI(a){const t=ee(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FI.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return XC(this.persistence,new GC,t.initialUser,this.serializer)}Cu(t){return new WE(dp.mi,this.serializer)}Du(t){return new nI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class XI extends Fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Me(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NC(s,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new WE((s=>qh.mi(s,r)),this.serializer)}}class Um{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>i0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GI.bind(null,this.syncEngine),await AI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RI})()}createDatastore(t){const r=af(t.databaseInfo.databaseId),s=(function(h){return new oI(h)})(t.databaseInfo);return(function(h,p,E,b){return new hI(h,p,E,b)})(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return(function(s,u,h,p,E){return new dI(s,u,h,p,E)})(this.localStore,this.datastore,t.asyncQueue,(r=>i0(this.syncEngine,r,0)),(function(){return $v.v()?new $v:new rI})())}createSyncEngine(t,r){return(function(u,h,p,E,b,S,D){const O=new kI(u,h,p,E,b,S);return D&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ee(r);xt(Uo,"RemoteStore shutting down."),s.Ea.add(5),await nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class ZI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const no="FirestoreClient";class JI{constructor(t,r,s,u,h){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=or.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async p=>{xt(no,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(xt(no,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Tp(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function fm(a,t){a.asyncQueue.verifyOperationInProgress(),xt(no,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async u=>{s.isEqual(u)||(await tT(t.localStore,u),s=u)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function a0(a,t){a.asyncQueue.verifyOperationInProgress();const r=await $I(a);xt(no,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener((s=>t0(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,u)=>t0(t.remoteStore,u))),a._onlineComponents=t}async function $I(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){xt(no,"Using user provided OfflineComponentProvider");try{await fm(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(u){return u.name==="FirebaseError"?u.code===gt.FAILED_PRECONDITION||u.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(r))throw r;Du("Error using user provided cache. Falling back to memory cache: "+r),await fm(a,new Fh)}}else xt(no,"Using default OfflineComponentProvider"),await fm(a,new XI(void 0));return a._offlineComponents}async function _T(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(xt(no,"Using user provided OnlineComponentProvider"),await a0(a,a._uninitializedComponentsProvider._online)):(xt(no,"Using default OnlineComponentProvider"),await a0(a,new Um))),a._onlineComponents}function WI(a){return _T(a).then((t=>t.syncEngine))}async function t2(a){const t=await _T(a),r=t.eventManager;return r.onListen=PI.bind(null,t.syncEngine),r.onUnlisten=zI.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=UI.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=BI.bind(null,t.syncEngine),r}function e2(a,t,r={}){const s=new Za;return a.asyncQueue.enqueueAndForget((async()=>(function(h,p,E,b,S){const D=new ZI({next:Z=>{D.Nu(),p.enqueueAndForget((()=>II(h,O)));const ht=Z.docs.has(E);!ht&&Z.fromCache?S.reject(new zt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):ht&&Z.fromCache&&b&&b.source==="server"?S.reject(new zt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(Z)},error:Z=>S.reject(Z)}),O=new NI(op(E.path),D,{includeMetadataChanges:!0,qa:!0});return CI(h,O)})(await t2(a),a.asyncQueue,t,r,s))),s.promise}function vT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const o0=new Map;const ET="firestore.googleapis.com",u0=!0;class l0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new zt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=u0}else this.host=t.host,this.ssl=t.ssl??u0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DC)throw new zt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wp{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new zt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eR;switch(s.type){case"firstParty":return new sR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new zt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=o0.get(r);s&&(xt("ComponentProvider","Removing Datastore"),o0.delete(r),s.terminate())})(this),Promise.resolve()}}function n2(a,t,r,s={}){a=Bl(a,wp);const u=ku(t),h=a._getSettings(),p={...h,emulatorOptions:a._getEmulatorOptions()},E=`${t}:${r}`;u&&(E0(`https://${E}`),T0("Firestore",!0)),h.host!==ET&&h.host!==E&&Du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...h,host:E,ssl:u,emulatorOptions:s};if(!Vo(b,p)&&(a._setSettings(b),s.mockUserToken)){let S,D;if(typeof s.mockUserToken=="string")S=s.mockUserToken,D=or.MOCK_USER;else{S=RS(s.mockUserToken,a._app?.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new zt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new or(O)}a._authCredentials=new nR(new hE(S,D))}}class Rp{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rp(this.firestore,t,this._query)}}class Fn{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(Wl(r,Fn._jsonSchema))return new Fn(t,s||null,new Ht(on.fromString(r.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:Nn("string",Fn._jsonSchemaVersion),referencePath:Nn("string")};class Ql extends Rp{constructor(t,r,s){super(t,r,op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new Ht(t))}withConverter(t){return new Ql(this.firestore,t,this._path)}}function TT(a,t,...r){if(a=Di(a),arguments.length===1&&(t=tp.newId()),hR("doc","path",t),a instanceof wp){const s=on.fromString(t,...r);return Sv(s),new Fn(a,null,new Ht(s))}{if(!(a instanceof Fn||a instanceof Ql))throw new zt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(on.fromString(t,...r));return Sv(s),new Fn(a.firestore,a instanceof Ql?a.converter:null,new Ht(s))}}const c0="AsyncQueue";class h0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&xt(c0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=hm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=hm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Bu(t))throw t;xt(c0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",f0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const u=Ep.createAndSchedule(this,t,r,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&Qt(47125,{Pc:f0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function f0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Cp extends wp{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=new h0,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h0(t),this._firestoreClient=void 0,await t}}}function r2(a,t){const r=typeof a=="object"?a:w0(),s=typeof a=="string"?a:kh,u=qm(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=AS("firestore");h&&n2(u,...h)}return u}function bT(a){if(a._terminated)throw new zt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||i2(a),a._firestoreClient}function i2(a){const t=a._freezeSettings(),r=(function(u,h,p,E){return new SR(u,h,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new JI(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(a._componentsProvider))}class Ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ii(Wn.fromBase64String(t))}catch(r){throw new zt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ii(Wn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Ii._jsonSchema))return Ii.fromBase64String(t.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:Nn("string",Ii._jsonSchemaVersion),bytes:Nn("string")};class Ip{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new zt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ST{constructor(t){this._methodName=t}}class hs{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new zt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new zt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Nn("string",hs._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};class fs{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,fs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new fs(t.vectorValues);throw new zt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Nn("string",fs._jsonSchemaVersion),vectorValues:Nn("object")};const s2=/^__.*__$/;class a2{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Bo(t,this.data,this.fieldMask,r,this.fieldTransforms):new tc(t,this.data,r,this.fieldTransforms)}}function AT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt(40011,{Ac:a})}}class Dp{constructor(t,r,s,u,h,p){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.gc(t),s}yc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AT(this.Ac)&&s2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class o2{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||af(t)}Cc(t,r,s,u=!1){return new Dp({Ac:t,methodName:r,Dc:s,path:$n.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u2(a){const t=a._freezeSettings(),r=af(a._databaseId);return new o2(a._databaseId,!!t.ignoreUndefinedProperties,r)}function l2(a,t,r,s,u,h={}){const p=a.Cc(h.merge||h.mergeFields?2:0,t,r,u);IT("Data must be an object, but it was:",p,s);const E=RT(s,p);let b,S;if(h.merge)b=new Fi(p.fieldMask),S=p.fieldTransforms;else if(h.mergeFields){const D=[];for(const O of h.mergeFields){const Z=c2(t,O,r);if(!p.contains(Z))throw new zt(gt.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);f2(D,Z)||D.push(Z)}b=new Fi(D),S=p.fieldTransforms.filter((O=>b.covers(O.field)))}else b=null,S=p.fieldTransforms;return new a2(new Ci(E),b,S)}function wT(a,t){if(CT(a=Di(a)))return IT("Unsupported field value:",t,a),RT(a,t);if(a instanceof ST)return(function(s,u){if(!AT(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let p=0;for(const E of s){let b=wT(E,u.wc(p));b==null&&(b={nullValue:"NULL_VALUE"}),h.push(b),p++}return{arrayValue:{values:h}}})(a,t)}return(function(s,u){if((s=Di(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QR(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ye.fromDate(s);return{timestampValue:jh(u.serializer,h)}}if(s instanceof Ye){const h=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(u.serializer,h)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ii)return{bytesValue:KE(u.serializer,s._byteString)};if(s instanceof Fn){const h=u.databaseId,p=s.firestore._databaseId;if(!p.isEqual(h))throw u.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:hp(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof fs)return(function(p,E){return{mapValue:{fields:{[EE]:{stringValue:TE},[Ph]:{arrayValue:{values:p.toArray().map((S=>{if(typeof S!="number")throw E.Sc("VectorValues must only contain numeric values.");return up(E.serializer,S)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${ep(s)}`)})(a,t)}function RT(a,t){const r={};return mE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lo(a,((s,u)=>{const h=wT(u,t.mc(s));h!=null&&(r[s]=h)})),{mapValue:{fields:r}}}function CT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Ye||a instanceof hs||a instanceof Ii||a instanceof Fn||a instanceof ST||a instanceof fs)}function IT(a,t,r){if(!CT(r)||!fE(r)){const s=ep(r);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function c2(a,t,r){if((t=Di(t))instanceof Ip)return t._internalPath;if(typeof t=="string")return DT(a,t);throw Kh("Field path arguments must be of type string or ",a,!1,void 0,r)}const h2=new RegExp("[~\\*/\\[\\]]");function DT(a,t,r){if(t.search(h2)>=0)throw Kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Ip(...t.split("."))._internalPath}catch{throw Kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Kh(a,t,r,s,u){const h=s&&!s.isEmpty(),p=u!==void 0;let E=`Function ${t}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let b="";return(h||p)&&(b+=" (found",h&&(b+=` in field ${s}`),p&&(b+=` in document ${u}`),b+=")"),new zt(gt.INVALID_ARGUMENT,E+a+b)}function f2(a,t){return a.some((r=>r.isEqual(t)))}class OT{constructor(t,r,s,u,h){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(NT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class d2 extends OT{data(){return super.data()}}function NT(a,t){return typeof t=="string"?DT(a,t):t instanceof Ip?t._internalPath:t._delegate._internalPath}class m2{convertValue(t,r="none"){switch(to(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Qt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return Lo(t,((u,h)=>{s[u]=this.convertValue(h,r)})),s}convertVectorValue(t){const r=t.fields?.[Ph].arrayValue?.values?.map((s=>Tn(s.doubleValue)));return new fs(r)}convertGeoPoint(t){return new hs(Tn(t.latitude),Tn(t.longitude))}convertArray(t,r){return(t.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const s=$h(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const r=$a(t);return new Ye(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=on.fromString(t);Me(JE(s),9688,{name:t});const u=new Hl(s.get(1),s.get(3)),h=new Ht(s.popFirst(5));return u.isEqual(r)||$s(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function p2(a,t,r){let s;return s=a?a.toFirestore(t):t,s}class Ol{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mo extends OT{constructor(t,r,s,u,h,p){super(t,r,s,u,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(NT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Mo._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Nn("string",Mo._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Ah extends Mo{data(t={}){return super.data(t)}}class Ul{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new Ol(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new Ah(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new zt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map((E=>{const b=new Ah(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Ol(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);return E.doc,{type:"added",doc:b,oldIndex:-1,newIndex:p++}}))}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((E=>h||E.type!==3)).map((E=>{const b=new Ah(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Ol(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);let S=-1,D=-1;return E.type!==0&&(S=p.indexOf(E.doc.key),p=p.delete(E.doc.key)),E.type!==1&&(p=p.add(E.doc),D=p.indexOf(E.doc.key)),{type:g2(E.type),doc:b,oldIndex:S,newIndex:D}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ul._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(r.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function g2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:a})}}function y2(a){a=Bl(a,Fn);const t=Bl(a.firestore,Cp);return e2(bT(t),a._key).then((r=>T2(t,a,r)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Nn("string",Ul._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class _2 extends m2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ii(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,r)}}function v2(a,t,r){a=Bl(a,Fn);const s=Bl(a.firestore,Cp),u=p2(a.converter,t);return E2(s,[l2(u2(s),"setDoc",a._key,u,a.converter!==null,r).toMutation(a._key,Xs.none())])}function E2(a,t){return(function(s,u){const h=new Za;return s.asyncQueue.enqueueAndForget((async()=>jI(await WI(s),u,h))),h.promise})(bT(a),t)}function T2(a,t,r){const s=r.docs.get(t._key),u=new _2(a);return new Mo(a,u,t._key,s,new Ol(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(u){Lu=u})(Pu),Cu(new xo("firestore",((s,{instanceIdentifier:u,options:h})=>{const p=s.getProvider("app").getImmediate(),E=new Cp(new rR(s.getProvider("auth-internal")),new aR(p,s.getProvider("app-check-internal")),(function(S,D){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new zt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(S.options.projectId,D)})(p,u),p);return h={useFetchStreams:r,...h},E._setSettings(h),E}),"PUBLIC").setMultipleInstances(!0)),Ya(vv,Ev,t),Ya(vv,Ev,"esm2020")})();const b2={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},MT=A0(b2),fh=W1(MT),S2=new Gs,VT=r2(MT),xT="users";async function A2(a,t){if(!a)throw new Error("User ID is required");try{const r=JSON.stringify(t),s=TT(VT,xT,a);await v2(s,{vocab_data:r,last_synced:Date.now()}),console.log(`Successfully synced ${t.length} cards for user ${a}`)}catch(r){throw console.error("Sync upload failed:",r),r}}async function w2(a){if(!a)throw new Error("User ID is required");try{const t=TT(VT,xT,a),r=await y2(t);if(r.exists()){const s=r.data();if(s.vocab_data)return JSON.parse(s.vocab_data)}return null}catch(t){throw console.error("Sync download failed:",t),t}}const d0="".split(",").map(a=>a.trim()).filter(a=>a!=="");function R2(){const[a,t]=Ks.useState([]),[r,s]=Ks.useState(!0),[u,h]=Ks.useState(0),[p,E]=Ks.useState(null),[b,S]=Ks.useState(!1);Ks.useEffect(()=>{const yt=qw(fh,async kt=>{kt?d0.length===0||d0.includes(kt.email)?E(kt):(console.warn(`Unauthorized access attempt: ${kt.email}`),alert(` (${kt.email}) `),await uv(fh),E(null)):E(null)});return()=>yt()},[]),Ks.useEffect(()=>{(async()=>{try{s(!0),await dS();const kt=await ja.vocab.toArray(),Gt=Date.now(),qt=kt.filter(de=>de.nextReview<=Gt||de.status==="new");t(qt)}catch(kt){console.error("Failed to load cards:",kt)}finally{s(!1)}})()},[]);const D=async yt=>{try{await ja.vocab.put(yt),h(kt=>kt+1)}catch(kt){console.error("Failed to update card:",kt)}},O=async()=>{try{await u1(fh,S2)}catch(yt){console.error("Login failed:",yt),alert(" Console")}},Z=async()=>{await uv(fh),window.location.reload()},ht=async()=>{if(p){S(!0);try{const yt=await ja.vocab.toArray();await A2(p.uid,yt),alert(" ")}catch(yt){console.error(yt),alert(" ")}finally{S(!1)}}},St=async()=>{if(p&&confirm(" ")){S(!0);try{const yt=await w2(p.uid);yt?(await ja.vocab.clear(),await ja.vocab.bulkAdd(yt),alert(" ..."),window.location.reload()):alert(" ")}catch(yt){console.error(yt),alert(" ")}finally{S(!1)}}};if(r)return fe.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1b1e",color:"#fff"},children:"Loading..."});const Ct=a[u];return fe.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",minHeight:"100vh",backgroundColor:"#1a1b1e",color:"#ffffff",fontFamily:"sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[fe.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0.5rem",borderBottom:"1px solid #333"},children:[fe.jsx("div",{style:{fontWeight:"bold"},children:"GPF"}),fe.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:p?fe.jsxs(fe.Fragment,{children:[fe.jsx("span",{style:{fontSize:"0.8rem",alignSelf:"center",marginRight:"0.5rem"},children:p.displayName}),fe.jsx("button",{disabled:b,onClick:ht,style:dh,children:" "}),fe.jsx("button",{disabled:b,onClick:St,style:dh,children:" "}),fe.jsx("button",{onClick:Z,style:{...dh,backgroundColor:"#555"},children:""})]}):fe.jsx("button",{onClick:O,style:{...dh,backgroundColor:"#4285F4"},children:"Google "})})]}),fe.jsxs("header",{style:{marginBottom:"2rem",width:"100%",textAlign:"center"},children:[fe.jsx("h1",{children:"Gemini Flashcards"}),fe.jsx("p",{style:{color:"#888"},children:a.length>0?`Session Progress: ${u} / ${a.length}`:"No cards due"})]}),fe.jsx("main",{style:{width:"100%"},children:Ct?fe.jsx(pS,{card:Ct,onUpdate:D},Ct.id):fe.jsxs("div",{style:{textAlign:"center",padding:"3rem",border:"1px dashed #555",borderRadius:"8px"},children:[fe.jsx("h2",{children:" All caught up!"}),fe.jsx("p",{children:"You've reviewed all pending cards for now."}),fe.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer"},children:"Refresh"})]})})]})}const dh={padding:"0.4rem 0.8rem",fontSize:"0.8rem",borderRadius:"4px",border:"none",cursor:"pointer",backgroundColor:"#333",color:"white"};lS.createRoot(document.getElementById("root")).render(fe.jsx(eS.StrictMode,{children:fe.jsx(R2,{})}));
