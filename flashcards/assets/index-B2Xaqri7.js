(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cm={exports:{}},Fu={};var h_;function hS(){if(h_)return Fu;h_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var d_;function dS(){return d_||(d_=1,Cm.exports=hS()),Cm.exports}var le=dS(),Rm={exports:{}},rt={};var m_;function mS(){if(m_)return rt;m_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.iterator;function W(K){return K===null||typeof K!="object"?null:(K=k&&K[k]||K["@@iterator"],typeof K=="function"?K:null)}var ce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},me=Object.assign,be={};function qe(K,pe,Ie){this.props=K,this.context=pe,this.refs=be,this.updater=Ie||ce}qe.prototype.isReactComponent={},qe.prototype.setState=function(K,pe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,pe,"setState")},qe.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function Fe(){}Fe.prototype=qe.prototype;function Pe(K,pe,Ie){this.props=K,this.context=pe,this.refs=be,this.updater=Ie||ce}var ct=Pe.prototype=new Fe;ct.constructor=Pe,me(ct,qe.prototype),ct.isPureReactComponent=!0;var Nt=Array.isArray;function $e(){}var V={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function P(K,pe,Ie){var Ve=Ie.ref;return{$$typeof:i,type:K,key:pe,ref:Ve!==void 0?Ve:null,props:Ie}}function Y(K,pe){return P(K.type,pe,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function J(K){var pe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Ie){return pe[Ie]})}var M=/\/+/g;function Bt(K,pe){return typeof K=="object"&&K!==null&&K.key!=null?J(""+K.key):pe.toString(36)}function Ft(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then($e,$e):(K.status="pending",K.then(function(pe){K.status==="pending"&&(K.status="fulfilled",K.value=pe)},function(pe){K.status==="pending"&&(K.status="rejected",K.reason=pe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ae(K,pe,Ie,Ve,Ye){var Je=typeof K;(Je==="undefined"||Je==="boolean")&&(K=null);var mt=!1;if(K===null)mt=!0;else switch(Je){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(K.$$typeof){case i:case e:mt=!0;break;case R:return mt=K._init,ae(mt(K._payload),pe,Ie,Ve,Ye)}}if(mt)return Ye=Ye(K),mt=Ve===""?"."+Bt(K,0):Ve,Nt(Ye)?(Ie="",mt!=null&&(Ie=mt.replace(M,"$&/")+"/"),ae(Ye,pe,Ie,"",function(ns){return ns})):Ye!=null&&(q(Ye)&&(Ye=Y(Ye,Ie+(Ye.key==null||K&&K.key===Ye.key?"":(""+Ye.key).replace(M,"$&/")+"/")+mt)),pe.push(Ye)),1;mt=0;var pn=Ve===""?".":Ve+":";if(Nt(K))for(var Ne=0;Ne<K.length;Ne++)Ve=K[Ne],Je=pn+Bt(Ve,Ne),mt+=ae(Ve,pe,Ie,Je,Ye);else if(Ne=W(K),typeof Ne=="function")for(K=Ne.call(K),Ne=0;!(Ve=K.next()).done;)Ve=Ve.value,Je=pn+Bt(Ve,Ne++),mt+=ae(Ve,pe,Ie,Je,Ye);else if(Je==="object"){if(typeof K.then=="function")return ae(Ft(K),pe,Ie,Ve,Ye);throw pe=String(K),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return mt}function _e(K,pe,Ie){if(K==null)return K;var Ve=[],Ye=0;return ae(K,Ve,"","",function(Je){return pe.call(Ie,Je,Ye++)}),Ve}function Ue(K){if(K._status===-1){var pe=K._result;pe=pe(),pe.then(function(Ie){(K._status===0||K._status===-1)&&(K._status=1,K._result=Ie)},function(Ie){(K._status===0||K._status===-1)&&(K._status=2,K._result=Ie)}),K._status===-1&&(K._status=0,K._result=pe)}if(K._status===1)return K._result.default;throw K._result}var st=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ft={map:_e,forEach:function(K,pe,Ie){_e(K,function(){pe.apply(this,arguments)},Ie)},count:function(K){var pe=0;return _e(K,function(){pe++}),pe},toArray:function(K){return _e(K,function(pe){return pe})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return rt.Activity=O,rt.Children=ft,rt.Component=qe,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=Pe,rt.StrictMode=s,rt.Suspense=_,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,rt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return V.H.useMemoCache(K)}},rt.cache=function(K){return function(){return K.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(K,pe,Ie){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Ve=me({},K.props),Ye=K.key;if(pe!=null)for(Je in pe.key!==void 0&&(Ye=""+pe.key),pe)!N.call(pe,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&pe.ref===void 0||(Ve[Je]=pe[Je]);var Je=arguments.length-2;if(Je===1)Ve.children=Ie;else if(1<Je){for(var mt=Array(Je),pn=0;pn<Je;pn++)mt[pn]=arguments[pn+2];Ve.children=mt}return P(K.type,Ye,Ve)},rt.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:u,_context:K},K},rt.createElement=function(K,pe,Ie){var Ve,Ye={},Je=null;if(pe!=null)for(Ve in pe.key!==void 0&&(Je=""+pe.key),pe)N.call(pe,Ve)&&Ve!=="key"&&Ve!=="__self"&&Ve!=="__source"&&(Ye[Ve]=pe[Ve]);var mt=arguments.length-2;if(mt===1)Ye.children=Ie;else if(1<mt){for(var pn=Array(mt),Ne=0;Ne<mt;Ne++)pn[Ne]=arguments[Ne+2];Ye.children=pn}if(K&&K.defaultProps)for(Ve in mt=K.defaultProps,mt)Ye[Ve]===void 0&&(Ye[Ve]=mt[Ve]);return P(K,Je,Ye)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(K){return{$$typeof:y,render:K}},rt.isValidElement=q,rt.lazy=function(K){return{$$typeof:R,_payload:{_status:-1,_result:K},_init:Ue}},rt.memo=function(K,pe){return{$$typeof:E,type:K,compare:pe===void 0?null:pe}},rt.startTransition=function(K){var pe=V.T,Ie={};V.T=Ie;try{var Ve=K(),Ye=V.S;Ye!==null&&Ye(Ie,Ve),typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"&&Ve.then($e,st)}catch(Je){st(Je)}finally{pe!==null&&Ie.types!==null&&(pe.types=Ie.types),V.T=pe}},rt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},rt.use=function(K){return V.H.use(K)},rt.useActionState=function(K,pe,Ie){return V.H.useActionState(K,pe,Ie)},rt.useCallback=function(K,pe){return V.H.useCallback(K,pe)},rt.useContext=function(K){return V.H.useContext(K)},rt.useDebugValue=function(){},rt.useDeferredValue=function(K,pe){return V.H.useDeferredValue(K,pe)},rt.useEffect=function(K,pe){return V.H.useEffect(K,pe)},rt.useEffectEvent=function(K){return V.H.useEffectEvent(K)},rt.useId=function(){return V.H.useId()},rt.useImperativeHandle=function(K,pe,Ie){return V.H.useImperativeHandle(K,pe,Ie)},rt.useInsertionEffect=function(K,pe){return V.H.useInsertionEffect(K,pe)},rt.useLayoutEffect=function(K,pe){return V.H.useLayoutEffect(K,pe)},rt.useMemo=function(K,pe){return V.H.useMemo(K,pe)},rt.useOptimistic=function(K,pe){return V.H.useOptimistic(K,pe)},rt.useReducer=function(K,pe,Ie){return V.H.useReducer(K,pe,Ie)},rt.useRef=function(K){return V.H.useRef(K)},rt.useState=function(K){return V.H.useState(K)},rt.useSyncExternalStore=function(K,pe,Ie){return V.H.useSyncExternalStore(K,pe,Ie)},rt.useTransition=function(){return V.H.useTransition()},rt.version="19.2.0",rt}var p_;function vp(){return p_||(p_=1,Rm.exports=mS()),Rm.exports}var ke=vp();const pS=yp(ke);var Im={exports:{}},Gu={},Om={exports:{}},xm={};var g_;function gS(){return g_||(g_=1,(function(i){function e(ae,_e){var Ue=ae.length;ae.push(_e);e:for(;0<Ue;){var st=Ue-1>>>1,ft=ae[st];if(0<o(ft,_e))ae[st]=_e,ae[Ue]=ft,Ue=st;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var _e=ae[0],Ue=ae.pop();if(Ue!==_e){ae[0]=Ue;e:for(var st=0,ft=ae.length,K=ft>>>1;st<K;){var pe=2*(st+1)-1,Ie=ae[pe],Ve=pe+1,Ye=ae[Ve];if(0>o(Ie,Ue))Ve<ft&&0>o(Ye,Ie)?(ae[st]=Ye,ae[Ve]=Ue,st=Ve):(ae[st]=Ie,ae[pe]=Ue,st=pe);else if(Ve<ft&&0>o(Ye,Ue))ae[st]=Ye,ae[Ve]=Ue,st=Ve;else break e}}return _e}function o(ae,_e){var Ue=ae.sortIndex-_e.sortIndex;return Ue!==0?Ue:ae.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var _=[],E=[],R=1,O=null,k=3,W=!1,ce=!1,me=!1,be=!1,qe=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function ct(ae){for(var _e=n(E);_e!==null;){if(_e.callback===null)s(E);else if(_e.startTime<=ae)s(E),_e.sortIndex=_e.expirationTime,e(_,_e);else break;_e=n(E)}}function Nt(ae){if(me=!1,ct(ae),!ce)if(n(_)!==null)ce=!0,$e||($e=!0,J());else{var _e=n(E);_e!==null&&Ft(Nt,_e.startTime-ae)}}var $e=!1,V=-1,N=5,P=-1;function Y(){return be?!0:!(i.unstable_now()-P<N)}function q(){if(be=!1,$e){var ae=i.unstable_now();P=ae;var _e=!0;try{e:{ce=!1,me&&(me=!1,Fe(V),V=-1),W=!0;var Ue=k;try{t:{for(ct(ae),O=n(_);O!==null&&!(O.expirationTime>ae&&Y());){var st=O.callback;if(typeof st=="function"){O.callback=null,k=O.priorityLevel;var ft=st(O.expirationTime<=ae);if(ae=i.unstable_now(),typeof ft=="function"){O.callback=ft,ct(ae),_e=!0;break t}O===n(_)&&s(_),ct(ae)}else s(_);O=n(_)}if(O!==null)_e=!0;else{var K=n(E);K!==null&&Ft(Nt,K.startTime-ae),_e=!1}}break e}finally{O=null,k=Ue,W=!1}_e=void 0}}finally{_e?J():$e=!1}}}var J;if(typeof Pe=="function")J=function(){Pe(q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Bt=M.port2;M.port1.onmessage=q,J=function(){Bt.postMessage(null)}}else J=function(){qe(q,0)};function Ft(ae,_e){V=qe(function(){ae(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(ae){switch(k){case 1:case 2:case 3:var _e=3;break;default:_e=k}var Ue=k;k=_e;try{return ae()}finally{k=Ue}},i.unstable_requestPaint=function(){be=!0},i.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ue=k;k=ae;try{return _e()}finally{k=Ue}},i.unstable_scheduleCallback=function(ae,_e,Ue){var st=i.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?st+Ue:st):Ue=st,ae){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=Ue+ft,ae={id:R++,callback:_e,priorityLevel:ae,startTime:Ue,expirationTime:ft,sortIndex:-1},Ue>st?(ae.sortIndex=Ue,e(E,ae),n(_)===null&&ae===n(E)&&(me?(Fe(V),V=-1):me=!0,Ft(Nt,Ue-st))):(ae.sortIndex=ft,e(_,ae),ce||W||(ce=!0,$e||($e=!0,J()))),ae},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(ae){var _e=k;return function(){var Ue=k;k=_e;try{return ae.apply(this,arguments)}finally{k=Ue}}}})(xm)),xm}var y_;function yS(){return y_||(y_=1,Om.exports=gS()),Om.exports}var Dm={exports:{}},cr={};var v_;function vS(){if(v_)return cr;v_=1;var i=vp();function e(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,E,R){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:_,containerInfo:E,implementation:R}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cr.createPortal=function(_,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return u(_,E,null,R)},cr.flushSync=function(_){var E=d.T,R=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=E,s.p=R,s.d.f()}},cr.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(_,E))},cr.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},cr.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var R=E.as,O=y(R,E.crossOrigin),k=typeof E.integrity=="string"?E.integrity:void 0,W=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?s.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:k,fetchPriority:W}):R==="script"&&s.d.X(_,{crossOrigin:O,integrity:k,fetchPriority:W,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},cr.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=y(E.as,E.crossOrigin);s.d.M(_,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(_)},cr.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,O=y(R,E.crossOrigin);s.d.L(_,R,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},cr.preloadModule=function(_,E){if(typeof _=="string")if(E){var R=y(E.as,E.crossOrigin);s.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(_)},cr.requestFormReset=function(_){s.d.r(_)},cr.unstable_batchedUpdates=function(_,E){return _(E)},cr.useFormState=function(_,E,R){return d.H.useFormState(_,E,R)},cr.useFormStatus=function(){return d.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var __;function _S(){if(__)return Dm.exports;__=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dm.exports=vS(),Dm.exports}var b_;function bS(){if(b_)return Gu;b_=1;var i=yS(),e=vp(),n=_S();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function E(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return _(h),t;if(p===l)return _(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var T=!1,C=h.child;C;){if(C===a){T=!0,a=h,l=p;break}if(C===l){T=!0,l=h,a=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===a){T=!0,a=p,l=h;break}if(C===l){T=!0,l=p,a=h;break}C=C.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function R(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=R(t),r!==null)return r;t=t.sibling}return null}var O=Object.assign,k=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),ce=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),Pe=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case me:return"Fragment";case qe:return"Profiler";case be:return"StrictMode";case Nt:return"Suspense";case $e:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ce:return"Portal";case Pe:return t.displayName||"Context";case Fe:return(t._context.displayName||"Context")+".Consumer";case ct:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:Bt(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return Bt(t(r))}catch{}}return null}var Ft=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue={pending:!1,data:null,method:null,action:null},st=[],ft=-1;function K(t){return{current:t}}function pe(t){0>ft||(t.current=st[ft],st[ft]=null,ft--)}function Ie(t,r){ft++,st[ft]=t.current,t.current=r}var Ve=K(null),Ye=K(null),Je=K(null),mt=K(null);function pn(t,r){switch(Ie(Je,r),Ie(Ye,t),Ie(Ve,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Vv(r),t=Pv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(Ve),Ie(Ve,t)}function Ne(){pe(Ve),pe(Ye),pe(Je)}function ns(t){t.memoizedState!==null&&Ie(mt,t);var r=Ve.current,a=Pv(r,t.type);r!==a&&(Ie(Ye,t),Ie(Ve,a))}function zi(t){Ye.current===t&&(pe(Ve),pe(Ye)),mt.current===t&&(pe(mt),Bu._currentValue=Ue)}var St,di;function mi(t){if(St===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);St=r&&r[1]||"",di=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+t+di}var Fr=!1;function Is(t,r){if(!t||Fr)return"";Fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ue){var se=ue}Reflect.construct(t,[],ye)}else{try{ye.call()}catch(ue){se=ue}t.call(ye.prototype)}}else{try{throw Error()}catch(ue){se=ue}(ye=t())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var L=T.split(`
`),re=C.split(`
`);for(h=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;h<re.length&&!re[h].includes("DetermineComponentFrameRoot");)h++;if(l===L.length||h===re.length)for(l=L.length-1,h=re.length-1;1<=l&&0<=h&&L[l]!==re[h];)h--;for(;1<=l&&0<=h;l--,h--)if(L[l]!==re[h]){if(l!==1||h!==1)do if(l--,h--,0>h||L[l]!==re[h]){var he=`
`+L[l].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=l&&0<=h);break}}}finally{Fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Eo(t,r){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==r&&r!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Is(t.type,!1);case 11:return Is(t.type.render,!1);case 1:return Is(t.type,!0);case 31:return mi("Activity");default:return""}}function To(t){try{var r="",a=null;do r+=Eo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fn=Object.prototype.hasOwnProperty,tn=i.unstable_scheduleCallback,kn=i.unstable_cancelCallback,al=i.unstable_shouldYield,rs=i.unstable_requestPaint,zn=i.unstable_now,Gr=i.unstable_getCurrentPriorityLevel,Yr=i.unstable_ImmediatePriority,Qr=i.unstable_UserBlockingPriority,pi=i.unstable_NormalPriority,Os=i.unstable_LowPriority,pa=i.unstable_IdlePriority,xs=i.log,gi=i.unstable_setDisableYieldValue,sr=null,gn=null;function yn(t){if(typeof xs=="function"&&gi(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(sr,t)}catch{}}var De=Math.clz32?Math.clz32:Ds,is=Math.log,Tr=Math.LN2;function Ds(t){return t>>>=0,t===0?32:31-(is(t)/Tr|0)|0}var Re=256,Bi=262144,nn=4194304;function wr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?h=wr(l):(T&=C,T!==0?h=wr(T):a||(a=C&~t,a!==0&&(h=wr(a))))):(C=l&~p,C!==0?h=wr(C):T!==0?h=wr(T):a||(a=l&~t,a!==0&&(h=wr(a)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:h}function gr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function lu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var t=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),t}function Xn(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Sr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,r,a,l,h,p){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,L=t.expirationTimes,re=t.hiddenUpdates;for(a=T&~a;0<a;){var he=31-De(a),ye=1<<he;C[he]=0,L[he]=-1;var se=re[he];if(se!==null)for(re[he]=null,he=0;he<se.length;he++){var ue=se[he];ue!==null&&(ue.lane&=-536870913)}a&=~ye}l!==0&&yi(t,l,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~r))}function yi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-De(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function kt(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-De(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Zt(t,r){var a=r&-r;return a=(a&42)!==0?1:Ns(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ms(){var t=_e.p;return t!==0?t:(t=window.event,t===void 0?32:s_(t.type))}function ar(t,r){var a=_e.p;try{return _e.p=t,r()}finally{_e.p=a}}var $r=Math.random().toString(36).slice(2),Pt="__reactFiber$"+$r,Yt="__reactProps$"+$r,Vn="__reactContainer$"+$r,qi="__reactEvents$"+$r,uu="__reactListeners$"+$r,Jr="__reactHandles$"+$r,So="__reactResources$"+$r,Bn="__reactMarker$"+$r;function ks(t){delete t[Pt],delete t[Yt],delete t[qi],delete t[uu],delete t[Jr]}function Cr(t){var r=t[Pt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Vn]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Hv(t);t!==null;){if(a=t[Pt])return a;t=Hv(t)}return r}t=a,a=t.parentNode}return null}function Rt(t){if(t=t[Pt]||t[Vn]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Sn(t){var r=t[So];return r||(r=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rn(t){t[Bn]=!0}var vi=new Set,ss={};function Rr(t,r){Ir(t,r),Ir(t+"Capture",r)}function Ir(t,r){for(ss[t]=r,t=0;t<r.length;t++)vi.add(r[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ga={},as={};function Ao(t){return fn.call(as,t)?!0:fn.call(ga,t)?!1:Zr.test(t)?as[t]=!0:(ga[t]=!0,!1)}function at(t,r,a){if(Ao(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function or(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function sn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ya(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,p.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ot(t){if(!t._valueTracker){var r=Or(t)?"checked":"value";t._valueTracker=ya(t,r,""+t[r])}}function os(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function gt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wr=/[\n"\\]/g;function An(t){return t.replace(Wr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ei(t,r,a,l,h,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?Vs(t,T,an(r)):a!=null?Vs(t,T,an(a)):l!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+an(C):t.removeAttribute("name")}function va(t,r,a,l,h,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Ot(t);return}a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Ot(t)}function Vs(t,r,a){r==="number"&&gt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ti(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Co(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function ni(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ot(t)}function $n(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ll.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function _a(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&pt(t,h,l)}else for(var p in r)r.hasOwnProperty(p)&&pt(t,p,r[p])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return hn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function lr(){}var xr=null;function yr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Lt=null;function qn(t){var r=Rt(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ei(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Yt]||null;if(!h)throw Error(s(90));ei(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&os(l)}break e;case"textarea":Co(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ti(t,!!a.multiple,r,!1)}}}var _i=!1;function Dr(t,r,a){if(_i)return t(r,a);_i=!0;try{var l=t(r);return l}finally{if(_i=!1,(Hi!==null||Lt!==null)&&(ff(),Hi&&(r=Hi,t=Lt,Lt=Hi=null,qn(r),t)))for(r=0;r<t.length;r++)qn(t[r])}}function vr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(_n)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ps=!1}var Nr=null,Ea=null,Ki=null;function Fi(){if(Ki)return Ki;var t,r=Ea,a=r.length,l,h="value"in Nr?Nr.value:Nr.textContent,p=h.length;for(t=0;t<a&&r[t]===h[t];t++);var T=a-t;for(l=1;l<=T&&r[a-l]===h[p-l];l++);return Ki=h.slice(t,1<l?1-l:void 0)}function Gi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function ii(){return!1}function on(t){function r(a,l,h,p,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bi:ii,this.isPropagationStopped=ii,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=on(Yi),si=O({},Yi,{view:0,detail:0}),ls=on(si),Ti,Ta,wi,wa=O({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Ti=t.screenX-wi.screenX,Ta=t.screenY-wi.screenY):Ta=Ti=0,wi=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Ls=on(wa),Qi=O({},wa,{dataTransfer:0}),Ro=on(Qi),Us=O({},si,{relatedTarget:0}),Si=on(Us),us=O({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=on(us),Sa=O({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=on(Sa),Aa=O({},Yi,{data:0}),Mr=on(Aa),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cs(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=bn[t])?!!r[t]:!1}function kr(){return cs}var Hn=O({},si,{key:function(t){if(t.key){var r=Ca[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ra[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=on(Hn),Oo=O({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=on(Oo),c=O({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),v=on(c),w=O({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=on(w),ee=O({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=on(ee),Ae=O({},Yi,{newState:0,oldState:0}),tt=on(Ae),ln=[9,13,27,32],At=_n&&"CompositionEvent"in window,Ut=null;_n&&"documentMode"in document&&(Ut=document.documentMode);var Vr=_n&&"TextEvent"in window&&!Ut,Pr=_n&&(!At||Ut&&8<Ut&&11>=Ut),_r=" ",ai=!1;function fs(t,r){switch(t){case"keyup":return ln.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function xc(t,r){switch(t){case"compositionend":return Ia(r);case"keypress":return r.which!==32?null:(ai=!0,_r);case"textInput":return t=r.data,t===_r&&ai?null:t;default:return null}}function zh(t,r){if(zs)return t==="compositionend"||!At&&fs(t,r)?(t=Fi(),Ki=Ea=Nr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pr&&r.locale!=="ko"?null:r.data;default:return null}}var Dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dc[t.type]:r==="textarea"}function cu(t,r,a,l){Hi?Lt?Lt.push(l):Lt=[l]:Hi=l,r=vf(r,"onChange"),0<r.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Oa=null,xo=null;function Bh(t){Ov(t,0)}function fl(t){var r=vn(t);if(os(r))return t}function Do(t,r){if(t==="change")return r}var Ci=!1;if(_n){var Qt;if(_n){var xa="oninput"in document;if(!xa){var br=document.createElement("div");br.setAttribute("oninput","return;"),xa=typeof br.oninput=="function"}Qt=xa}else Qt=!1;Ci=Qt&&(!document.documentMode||9<document.documentMode)}function Nc(){Oa&&(Oa.detachEvent("onpropertychange",hl),xo=Oa=null)}function hl(t){if(t.propertyName==="value"&&fl(xo)){var r=[];cu(r,xo,t,yr(t)),Dr(Bh,r)}}function Mc(t,r,a){t==="focusin"?(Nc(),Oa=r,xo=a,Oa.attachEvent("onpropertychange",hl)):t==="focusout"&&Nc()}function Bs(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(xo)}function fu(t,r){if(t==="click")return fl(r)}function Da(t,r){if(t==="input"||t==="change")return fl(r)}function hs(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ur=typeof Object.is=="function"?Object.is:hs;function f(t,r){if(ur(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fn.call(r,h)||!ur(t[h],r[h]))return!1}return!0}function m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g(t,r){var a=m(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=m(a)}}function b(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?b(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function S(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=gt(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=gt(t.document)}return r}function A(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var x=_n&&"documentMode"in document&&11>=document.documentMode,D=null,j=null,z=null,Q=!1;function U(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Q||D==null||D!==gt(l)||(l=D,"selectionStart"in l&&A(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),z&&f(z,l)||(z=l,l=vf(j,"onSelect"),0<l.length&&(r=new Ei("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=D)))}function $(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var B={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionrun:$("Transition","TransitionRun"),transitionstart:$("Transition","TransitionStart"),transitioncancel:$("Transition","TransitionCancel"),transitionend:$("Transition","TransitionEnd")},F={},G={};_n&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function X(t){if(F[t])return F[t];if(!B[t])return t;var r=B[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in G)return F[t]=r[a];return t}var te=X("animationend"),ie=X("animationiteration"),fe=X("animationstart"),ge=X("transitionrun"),Se=X("transitionstart"),xe=X("transitioncancel"),Te=X("transitionend"),Ce=new Map,Oe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oe.push("scrollEnd");function we(t,r){Ce.set(t,r),Rr(r,[t])}var Me=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},He=[],We=0,ot=0;function Kn(){for(var t=We,r=ot=We=0;r<t;){var a=He[r];He[r++]=null;var l=He[r];He[r++]=null;var h=He[r];He[r++]=null;var p=He[r];if(He[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}p!==0&&No(a,h,p)}}function Ze(t,r,a,l){He[We++]=t,He[We++]=r,He[We++]=a,He[We++]=l,ot|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cn(t,r,a,l){return Ze(t,r,a,l),Rn(t)}function Wt(t,r){return Ze(t,null,null,r),Rn(t)}function No(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=t.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&r!==null&&(h=31-De(a),t=p.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),p):null}function Rn(t){if(50<ku)throw ku=0,$d=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Lr={};function hu(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,r,a,l){return new hu(t,r,a,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qs(t,r){var a=t.alternate;return a===null?(a=oi(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function kc(t,r,a,l,h,p){var T=0;if(l=t,typeof t=="function")qh(t)&&(T=1);else if(typeof t=="string")T=Ww(t,a,Ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=oi(31,a,r,h),t.elementType=P,t.lanes=p,t;case me:return Mo(a.children,h,p,r);case be:T=8,h|=24;break;case qe:return t=oi(12,a,r,h|2),t.elementType=qe,t.lanes=p,t;case Nt:return t=oi(13,a,r,h),t.elementType=Nt,t.lanes=p,t;case $e:return t=oi(19,a,r,h),t.elementType=$e,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pe:T=10;break e;case Fe:T=9;break e;case ct:T=11;break e;case V:T=14;break e;case N:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=oi(T,a,r,h),r.elementType=t,r.type=l,r.lanes=p,r}function Mo(t,r,a,l){return t=oi(7,t,l,r),t.lanes=a,t}function Hh(t,r,a){return t=oi(6,t,null,r),t.lanes=a,t}function hg(t){var r=oi(18,null,null,0);return r.stateNode=t,r}function Kh(t,r,a){return r=oi(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var dg=new WeakMap;function Ri(t,r){if(typeof t=="object"&&t!==null){var a=dg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:To(r)},dg.set(t,r),r)}return{value:t,source:r,stack:To(r)}}var dl=[],ml=0,Vc=null,du=0,Ii=[],Oi=0,Na=null,ds=1,ms="";function Hs(t,r){dl[ml++]=du,dl[ml++]=Vc,Vc=t,du=r}function mg(t,r,a){Ii[Oi++]=ds,Ii[Oi++]=ms,Ii[Oi++]=Na,Na=t;var l=ds;t=ms;var h=32-De(l)-1;l&=~(1<<h),a+=1;var p=32-De(r)+h;if(30<p){var T=h-h%5;p=(l&(1<<T)-1).toString(32),l>>=T,h-=T,ds=1<<32-De(r)+h|a<<h|l,ms=p+t}else ds=1<<p|a<<h|l,ms=t}function Fh(t){t.return!==null&&(Hs(t,1),mg(t,1,0))}function Gh(t){for(;t===Vc;)Vc=dl[--ml],dl[ml]=null,du=dl[--ml],dl[ml]=null;for(;t===Na;)Na=Ii[--Oi],Ii[Oi]=null,ms=Ii[--Oi],Ii[Oi]=null,ds=Ii[--Oi],Ii[Oi]=null}function pg(t,r){Ii[Oi++]=ds,Ii[Oi++]=ms,Ii[Oi++]=Na,ds=r.id,ms=r.overflow,Na=t}var Jn=null,Xt=null,Ct=!1,Ma=null,xi=!1,Yh=Error(s(519));function ka(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(Ri(r,t)),Yh}function gg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Pt]=t,r[Yt]=l,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Pu.length;a++)vt(Pu[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),va(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),ni(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Mv(r.textContent,a)?(l.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),l.onScroll!=null&&vt("scroll",r),l.onScrollEnd!=null&&vt("scrollend",r),l.onClick!=null&&(r.onclick=lr),r=!0):r=!1,r||ka(t,!0)}function yg(t){for(Jn=t.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Jn=Jn.return}}function pl(t){if(t!==Jn)return!1;if(!Ct)return yg(t),Ct=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fm(t.type,t.memoizedProps)),a=!a),a&&Xt&&ka(t),yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xt=qv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Xt=qv(t)}else r===27?(r=Xt,Qa(t.type)?(t=gm,gm=null,Xt=t):Xt=r):Xt=Jn?Ni(t.stateNode.nextSibling):null;return!0}function ko(){Xt=Jn=null,Ct=!1}function Qh(){var t=Ma;return t!==null&&(Br===null?Br=t:Br.push.apply(Br,t),Ma=null),t}function mu(t){Ma===null?Ma=[t]:Ma.push(t)}var Xh=K(null),Vo=null,Ks=null;function Va(t,r,a){Ie(Xh,r._currentValue),r._currentValue=a}function Fs(t){t._currentValue=Xh.current,pe(Xh)}function $h(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Jh(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var L=0;L<r.length;L++)if(C.context===r[L]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),$h(p.return,a,t),l||(T=null);break e}p=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),$h(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function gl(t,r,a,l){t=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=h.type;ur(h.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(h===mt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bu):t=[Bu])}h=h.return}t!==null&&Jh(r,t,a,l),r.flags|=262144}function Pc(t){for(t=t.firstContext;t!==null;){if(!ur(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Po(t){Vo=t,Ks=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zn(t){return vg(Vo,t)}function Lc(t,r){return Vo===null&&Po(t),vg(t,r)}function vg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ks===null){if(t===null)throw Error(s(308));Ks=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ks=Ks.next=r;return a}var XT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},$T=i.unstable_scheduleCallback,JT=i.unstable_NormalPriority,In={$$typeof:Pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new XT,data:new Map,refCount:0}}function pu(t){t.refCount--,t.refCount===0&&$T(JT,function(){t.controller.abort()})}var gu=null,Wh=0,yl=0,vl=null;function ZT(t,r){if(gu===null){var a=gu=[];Wh=0,yl=nm(),vl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wh++,r.then(_g,_g),r}function _g(){if(--Wh===0&&gu!==null){vl!==null&&(vl.status="fulfilled");var t=gu;gu=null,yl=0,vl=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function WT(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=ae.S;ae.S=function(t,r){rv=zn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZT(t,r),bg!==null&&bg(t,r)};var Lo=K(null);function ed(){var t=Lo.current;return t!==null?t:Gt.pooledCache}function Uc(t,r){r===null?Ie(Lo,Lo.current):Ie(Lo,r.pool)}function Eg(){var t=ed();return t===null?null:{parent:In._currentValue,pool:t}}var _l=Error(s(460)),td=Error(s(474)),jc=Error(s(542)),zc={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(lr,lr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t;default:if(typeof r.status=="string")r.then(lr,lr);else{if(t=Gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t}throw jo=r,_l}}function Uo(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jo=a,_l):a}}var jo=null;function Sg(){if(jo===null)throw Error(s(459));var t=jo;return jo=null,t}function Ag(t){if(t===_l||t===jc)throw Error(s(483))}var bl=null,yu=0;function Bc(t){var r=yu;return yu+=1,bl===null&&(bl=[]),wg(bl,t,r)}function vu(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function qc(t,r){throw r.$$typeof===k?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cg(t){function r(Z,H){if(t){var ne=Z.deletions;ne===null?(Z.deletions=[H],Z.flags|=16):ne.push(H)}}function a(Z,H){if(!t)return null;for(;H!==null;)r(Z,H),H=H.sibling;return null}function l(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function h(Z,H){return Z=qs(Z,H),Z.index=0,Z.sibling=null,Z}function p(Z,H,ne){return Z.index=ne,t?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<H?(Z.flags|=67108866,H):ne):(Z.flags|=67108866,H)):(Z.flags|=1048576,H)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,H,ne,de){return H===null||H.tag!==6?(H=Hh(ne,Z.mode,de),H.return=Z,H):(H=h(H,ne),H.return=Z,H)}function L(Z,H,ne,de){var Ke=ne.type;return Ke===me?he(Z,H,ne.props.children,de,ne.key):H!==null&&(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===N&&Uo(Ke)===H.type)?(H=h(H,ne.props),vu(H,ne),H.return=Z,H):(H=kc(ne.type,ne.key,ne.props,null,Z.mode,de),vu(H,ne),H.return=Z,H)}function re(Z,H,ne,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==ne.containerInfo||H.stateNode.implementation!==ne.implementation?(H=Kh(ne,Z.mode,de),H.return=Z,H):(H=h(H,ne.children||[]),H.return=Z,H)}function he(Z,H,ne,de,Ke){return H===null||H.tag!==7?(H=Mo(ne,Z.mode,de,Ke),H.return=Z,H):(H=h(H,ne),H.return=Z,H)}function ye(Z,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Hh(""+H,Z.mode,ne),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return ne=kc(H.type,H.key,H.props,null,Z.mode,ne),vu(ne,H),ne.return=Z,ne;case ce:return H=Kh(H,Z.mode,ne),H.return=Z,H;case N:return H=Uo(H),ye(Z,H,ne)}if(Ft(H)||J(H))return H=Mo(H,Z.mode,ne,null),H.return=Z,H;if(typeof H.then=="function")return ye(Z,Bc(H),ne);if(H.$$typeof===Pe)return ye(Z,Lc(Z,H),ne);qc(Z,H)}return null}function se(Z,H,ne,de){var Ke=H!==null?H.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ke!==null?null:C(Z,H,""+ne,de);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case W:return ne.key===Ke?L(Z,H,ne,de):null;case ce:return ne.key===Ke?re(Z,H,ne,de):null;case N:return ne=Uo(ne),se(Z,H,ne,de)}if(Ft(ne)||J(ne))return Ke!==null?null:he(Z,H,ne,de,null);if(typeof ne.then=="function")return se(Z,H,Bc(ne),de);if(ne.$$typeof===Pe)return se(Z,H,Lc(Z,ne),de);qc(Z,ne)}return null}function ue(Z,H,ne,de,Ke){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Z=Z.get(ne)||null,C(H,Z,""+de,Ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case W:return Z=Z.get(de.key===null?ne:de.key)||null,L(H,Z,de,Ke);case ce:return Z=Z.get(de.key===null?ne:de.key)||null,re(H,Z,de,Ke);case N:return de=Uo(de),ue(Z,H,ne,de,Ke)}if(Ft(de)||J(de))return Z=Z.get(ne)||null,he(H,Z,de,Ke,null);if(typeof de.then=="function")return ue(Z,H,ne,Bc(de),Ke);if(de.$$typeof===Pe)return ue(Z,H,ne,Lc(H,de),Ke);qc(H,de)}return null}function je(Z,H,ne,de){for(var Ke=null,xt=null,ze=H,ut=H=0,bt=null;ze!==null&&ut<ne.length;ut++){ze.index>ut?(bt=ze,ze=null):bt=ze.sibling;var Dt=se(Z,ze,ne[ut],de);if(Dt===null){ze===null&&(ze=bt);break}t&&ze&&Dt.alternate===null&&r(Z,ze),H=p(Dt,H,ut),xt===null?Ke=Dt:xt.sibling=Dt,xt=Dt,ze=bt}if(ut===ne.length)return a(Z,ze),Ct&&Hs(Z,ut),Ke;if(ze===null){for(;ut<ne.length;ut++)ze=ye(Z,ne[ut],de),ze!==null&&(H=p(ze,H,ut),xt===null?Ke=ze:xt.sibling=ze,xt=ze);return Ct&&Hs(Z,ut),Ke}for(ze=l(ze);ut<ne.length;ut++)bt=ue(ze,Z,ut,ne[ut],de),bt!==null&&(t&&bt.alternate!==null&&ze.delete(bt.key===null?ut:bt.key),H=p(bt,H,ut),xt===null?Ke=bt:xt.sibling=bt,xt=bt);return t&&ze.forEach(function(Wa){return r(Z,Wa)}),Ct&&Hs(Z,ut),Ke}function Qe(Z,H,ne,de){if(ne==null)throw Error(s(151));for(var Ke=null,xt=null,ze=H,ut=H=0,bt=null,Dt=ne.next();ze!==null&&!Dt.done;ut++,Dt=ne.next()){ze.index>ut?(bt=ze,ze=null):bt=ze.sibling;var Wa=se(Z,ze,Dt.value,de);if(Wa===null){ze===null&&(ze=bt);break}t&&ze&&Wa.alternate===null&&r(Z,ze),H=p(Wa,H,ut),xt===null?Ke=Wa:xt.sibling=Wa,xt=Wa,ze=bt}if(Dt.done)return a(Z,ze),Ct&&Hs(Z,ut),Ke;if(ze===null){for(;!Dt.done;ut++,Dt=ne.next())Dt=ye(Z,Dt.value,de),Dt!==null&&(H=p(Dt,H,ut),xt===null?Ke=Dt:xt.sibling=Dt,xt=Dt);return Ct&&Hs(Z,ut),Ke}for(ze=l(ze);!Dt.done;ut++,Dt=ne.next())Dt=ue(ze,Z,ut,Dt.value,de),Dt!==null&&(t&&Dt.alternate!==null&&ze.delete(Dt.key===null?ut:Dt.key),H=p(Dt,H,ut),xt===null?Ke=Dt:xt.sibling=Dt,xt=Dt);return t&&ze.forEach(function(cS){return r(Z,cS)}),Ct&&Hs(Z,ut),Ke}function Kt(Z,H,ne,de){if(typeof ne=="object"&&ne!==null&&ne.type===me&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case W:e:{for(var Ke=ne.key;H!==null;){if(H.key===Ke){if(Ke=ne.type,Ke===me){if(H.tag===7){a(Z,H.sibling),de=h(H,ne.props.children),de.return=Z,Z=de;break e}}else if(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===N&&Uo(Ke)===H.type){a(Z,H.sibling),de=h(H,ne.props),vu(de,ne),de.return=Z,Z=de;break e}a(Z,H);break}else r(Z,H);H=H.sibling}ne.type===me?(de=Mo(ne.props.children,Z.mode,de,ne.key),de.return=Z,Z=de):(de=kc(ne.type,ne.key,ne.props,null,Z.mode,de),vu(de,ne),de.return=Z,Z=de)}return T(Z);case ce:e:{for(Ke=ne.key;H!==null;){if(H.key===Ke)if(H.tag===4&&H.stateNode.containerInfo===ne.containerInfo&&H.stateNode.implementation===ne.implementation){a(Z,H.sibling),de=h(H,ne.children||[]),de.return=Z,Z=de;break e}else{a(Z,H);break}else r(Z,H);H=H.sibling}de=Kh(ne,Z.mode,de),de.return=Z,Z=de}return T(Z);case N:return ne=Uo(ne),Kt(Z,H,ne,de)}if(Ft(ne))return je(Z,H,ne,de);if(J(ne)){if(Ke=J(ne),typeof Ke!="function")throw Error(s(150));return ne=Ke.call(ne),Qe(Z,H,ne,de)}if(typeof ne.then=="function")return Kt(Z,H,Bc(ne),de);if(ne.$$typeof===Pe)return Kt(Z,H,Lc(Z,ne),de);qc(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,H!==null&&H.tag===6?(a(Z,H.sibling),de=h(H,ne),de.return=Z,Z=de):(a(Z,H),de=Hh(ne,Z.mode,de),de.return=Z,Z=de),T(Z)):a(Z,H)}return function(Z,H,ne,de){try{yu=0;var Ke=Kt(Z,H,ne,de);return bl=null,Ke}catch(ze){if(ze===_l||ze===jc)throw ze;var xt=oi(29,ze,null,Z.mode);return xt.lanes=de,xt.return=Z,xt}finally{}}}var zo=Cg(!0),Rg=Cg(!1),Pa=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function La(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Mt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Rn(t),No(t,null,a),r}return Ze(t,l,r,a),Rn(t)}function _u(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kt(t,a)}}function id(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var sd=!1;function bu(){if(sd){var t=vl;if(t!==null)throw t}}function Eu(t,r,a,l){sd=!1;var h=t.updateQueue;Pa=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var L=C,re=L.next;L.next=null,T===null?p=re:T.next=re,T=L;var he=t.alternate;he!==null&&(he=he.updateQueue,C=he.lastBaseUpdate,C!==T&&(C===null?he.firstBaseUpdate=re:C.next=re,he.lastBaseUpdate=L))}if(p!==null){var ye=h.baseState;T=0,he=re=L=null,C=p;do{var se=C.lane&-536870913,ue=se!==C.lane;if(ue?(_t&se)===se:(l&se)===se){se!==0&&se===yl&&(sd=!0),he!==null&&(he=he.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var je=t,Qe=C;se=r;var Kt=a;switch(Qe.tag){case 1:if(je=Qe.payload,typeof je=="function"){ye=je.call(Kt,ye,se);break e}ye=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Qe.payload,se=typeof je=="function"?je.call(Kt,ye,se):je,se==null)break e;ye=O({},ye,se);break e;case 2:Pa=!0}}se=C.callback,se!==null&&(t.flags|=64,ue&&(t.flags|=8192),ue=h.callbacks,ue===null?h.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:C.tag,payload:C.payload,callback:C.callback,next:null},he===null?(re=he=ue,L=ye):he=he.next=ue,T|=se;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ue=C,C=ue.next,ue.next=null,h.lastBaseUpdate=ue,h.shared.pending=null}}while(!0);he===null&&(L=ye),h.baseState=L,h.firstBaseUpdate=re,h.lastBaseUpdate=he,p===null&&(h.shared.lanes=0),Ha|=T,t.lanes=T,t.memoizedState=ye}}function Ig(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Og(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ig(a[t],r)}var El=K(null),Hc=K(0);function xg(t,r){t=ea,Ie(Hc,t),Ie(El,r),ea=t|r.baseLanes}function ad(){Ie(Hc,ea),Ie(El,El.current)}function od(){ea=Hc.current,pe(El),pe(Hc)}var li=K(null),Di=null;function ja(t){var r=t.alternate;Ie(En,En.current&1),Ie(li,t),Di===null&&(r===null||El.current!==null||r.memoizedState!==null)&&(Di=t)}function ld(t){Ie(En,En.current),Ie(li,t),Di===null&&(Di=t)}function Dg(t){t.tag===22?(Ie(En,En.current),Ie(li,t),Di===null&&(Di=t)):za()}function za(){Ie(En,En.current),Ie(li,li.current)}function ui(t){pe(li),Di===t&&(Di=null),pe(En)}var En=K(0);function Kc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mm(a)||pm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gs=0,lt=null,qt=null,On=null,Fc=!1,Tl=!1,Bo=!1,Gc=0,Tu=0,wl=null,ew=0;function dn(){throw Error(s(321))}function ud(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!ur(t[a],r[a]))return!1;return!0}function cd(t,r,a,l,h,p){return Gs=p,lt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=t===null||t.memoizedState===null?my:Ad,Bo=!1,p=a(l,h),Bo=!1,Tl&&(p=Mg(r,a,l,h)),Ng(t),p}function Ng(t){ae.H=Au;var r=qt!==null&&qt.next!==null;if(Gs=0,On=qt=lt=null,Fc=!1,Tu=0,wl=null,r)throw Error(s(300));t===null||xn||(t=t.dependencies,t!==null&&Pc(t)&&(xn=!0))}function Mg(t,r,a,l){lt=t;var h=0;do{if(Tl&&(wl=null),Tu=0,Tl=!1,25<=h)throw Error(s(301));if(h+=1,On=qt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ae.H=py,p=r(a,l)}while(Tl);return p}function tw(){var t=ae.H,r=t.useState()[0];return r=typeof r.then=="function"?wu(r):r,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(lt.flags|=1024),r}function fd(){var t=Gc!==0;return Gc=0,t}function hd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function dd(t){if(Fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Fc=!1}Gs=0,On=qt=lt=null,Tl=!1,Tu=Gc=0,wl=null}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?lt.memoizedState=On=t:On=On.next=t,On}function Tn(){if(qt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var r=On===null?lt.memoizedState:On.next;if(r!==null)On=r,qt=t;else{if(t===null)throw lt.alternate===null?Error(s(467)):Error(s(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},On===null?lt.memoizedState=On=t:On=On.next=t}return On}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(t){var r=Tu;return Tu+=1,wl===null&&(wl=[]),t=wg(wl,t,r),r=lt,(On===null?r.memoizedState:On.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?my:Ad),t}function Qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wu(t);if(t.$$typeof===Pe)return Zn(t)}throw Error(s(438,String(t)))}function md(t){var r=null,a=lt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yc(),lt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=Y;return r.index++,a}function Ys(t,r){return typeof r=="function"?r(t):r}function Xc(t){var r=Tn();return pd(r,qt,t)}function pd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,p=l.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}r.baseQueue=h=p,l.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{r=h.next;var C=T=null,L=null,re=r,he=!1;do{var ye=re.lane&-536870913;if(ye!==re.lane?(_t&ye)===ye:(Gs&ye)===ye){var se=re.revertLane;if(se===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ye===yl&&(he=!0);else if((Gs&se)===se){re=re.next,se===yl&&(he=!0);continue}else ye={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},L===null?(C=L=ye,T=p):L=L.next=ye,lt.lanes|=se,Ha|=se;ye=re.action,Bo&&a(p,ye),p=re.hasEagerState?re.eagerState:a(p,ye)}else se={lane:ye,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},L===null?(C=L=se,T=p):L=L.next=se,lt.lanes|=ye,Ha|=ye;re=re.next}while(re!==null&&re!==r);if(L===null?T=p:L.next=C,!ur(p,t.memoizedState)&&(xn=!0,he&&(a=vl,a!==null)))throw a;t.memoizedState=p,t.baseState=T,t.baseQueue=L,l.lastRenderedState=p}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gd(t){var r=Tn(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do p=t(p,T.action),T=T.next;while(T!==h);ur(p,r.memoizedState)||(xn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function kg(t,r,a){var l=lt,h=Tn(),p=Ct;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!ur((qt||h).memoizedState,a);if(T&&(h.memoizedState=a,xn=!0),h=h.queue,_d(Lg.bind(null,l,h,t),[t]),h.getSnapshot!==r||T||On!==null&&On.memoizedState.tag&1){if(l.flags|=2048,Sl(9,{destroy:void 0},Pg.bind(null,l,h,a,r),null),Gt===null)throw Error(s(349));p||(Gs&127)!==0||Vg(l,r,a)}return a}function Vg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=lt.updateQueue,r===null?(r=Yc(),lt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Pg(t,r,a,l){r.value=a,r.getSnapshot=l,Ug(r)&&jg(t)}function Lg(t,r,a){return a(function(){Ug(r)&&jg(t)})}function Ug(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!ur(t,a)}catch{return!0}}function jg(t){var r=Wt(t,2);r!==null&&qr(r,t,2)}function yd(t){var r=Er();if(typeof t=="function"){var a=t;if(t=a(),Bo){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},r}function zg(t,r,a,l){return t.baseState=a,pd(t,qt,typeof l=="function"?l:Ys)}function nw(t,r,a,l,h){if(Zc(t))throw Error(s(485));if(t=r.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};ae.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Bg(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Bg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var p=ae.T,T={};ae.T=T;try{var C=a(h,l),L=ae.S;L!==null&&L(T,C),qg(t,r,C)}catch(re){vd(t,r,re)}finally{p!==null&&T.types!==null&&(p.types=T.types),ae.T=p}}else try{p=a(h,l),qg(t,r,p)}catch(re){vd(t,r,re)}}function qg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hg(t,r,l)},function(l){return vd(t,r,l)}):Hg(t,r,a)}function Hg(t,r,a){r.status="fulfilled",r.value=a,Kg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Bg(t,a)))}function vd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Kg(r),r=r.next;while(r!==l)}t.action=null}function Kg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Fg(t,r){return r}function Gg(t,r){if(Ct){var a=Gt.formState;if(a!==null){e:{var l=lt;if(Ct){if(Xt){t:{for(var h=Xt,p=xi;h.nodeType!==8;){if(!p){h=null;break t}if(h=Ni(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Xt=Ni(h.nextSibling),l=h.data==="F!";break e}}ka(l)}l=!1}l&&(r=a[0])}}return a=Er(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:r},a.queue=l,a=fy.bind(null,lt,l),l.dispatch=a,l=yd(!1),p=Sd.bind(null,lt,!1,l.queue),l=Er(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=nw.bind(null,lt,h,p,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Yg(t){var r=Tn();return Qg(r,qt,t)}function Qg(t,r,a){if(r=pd(t,r,Fg)[0],t=Xc(Ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wu(r)}catch(T){throw T===_l?jc:T}else l=r;r=Tn();var h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(lt.flags|=2048,Sl(9,{destroy:void 0},rw.bind(null,h,a),null)),[l,p,t]}function rw(t,r){t.action=r}function Xg(t){var r=Tn(),a=qt;if(a!==null)return Qg(r,a,t);Tn(),r=r.memoizedState,a=Tn();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Sl(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=lt.updateQueue,r===null&&(r=Yc(),lt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function $g(){return Tn().memoizedState}function $c(t,r,a,l){var h=Er();lt.flags|=t,h.memoizedState=Sl(1|r,{destroy:void 0},a,l===void 0?null:l)}function Jc(t,r,a,l){var h=Tn();l=l===void 0?null:l;var p=h.memoizedState.inst;qt!==null&&l!==null&&ud(l,qt.memoizedState.deps)?h.memoizedState=Sl(r,p,a,l):(lt.flags|=t,h.memoizedState=Sl(1|r,p,a,l))}function Jg(t,r){$c(8390656,8,t,r)}function _d(t,r){Jc(2048,8,t,r)}function iw(t){lt.flags|=4;var r=lt.updateQueue;if(r===null)r=Yc(),lt.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Zg(t){var r=Tn().memoizedState;return iw({ref:r,nextImpl:t}),function(){if((Mt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Wg(t,r){return Jc(4,2,t,r)}function ey(t,r){return Jc(4,4,t,r)}function ty(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ny(t,r,a){a=a!=null?a.concat([t]):null,Jc(4,4,ty.bind(null,r,t),a)}function bd(){}function ry(t,r){var a=Tn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ud(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function iy(t,r){var a=Tn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ud(r,l[1]))return l[0];if(l=t(),Bo){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function Ed(t,r,a){return a===void 0||(Gs&1073741824)!==0&&(_t&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=sv(),lt.lanes|=t,Ha|=t,a)}function sy(t,r,a,l){return ur(a,r)?a:El.current!==null?(t=Ed(t,a,l),ur(t,r)||(xn=!0),t):(Gs&42)===0||(Gs&1073741824)!==0&&(_t&261930)===0?(xn=!0,t.memoizedState=a):(t=sv(),lt.lanes|=t,Ha|=t,r)}function ay(t,r,a,l,h){var p=_e.p;_e.p=p!==0&&8>p?p:8;var T=ae.T,C={};ae.T=C,Sd(t,!1,r,a);try{var L=h(),re=ae.S;if(re!==null&&re(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var he=WT(L,l);Su(t,r,he,hi(t))}else Su(t,r,l,hi(t))}catch(ye){Su(t,r,{then:function(){},status:"rejected",reason:ye},hi())}finally{_e.p=p,T!==null&&C.types!==null&&(T.types=C.types),ae.T=T}}function sw(){}function Td(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=oy(t).queue;ay(t,h,r,Ue,a===null?sw:function(){return ly(t),a(l)})}function oy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ue,baseState:Ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:Ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ly(t){var r=oy(t);r.next===null&&(r=t.alternate.memoizedState),Su(t,r.next.queue,{},hi())}function wd(){return Zn(Bu)}function uy(){return Tn().memoizedState}function cy(){return Tn().memoizedState}function aw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=hi();t=La(a);var l=Ua(r,t,a);l!==null&&(qr(l,r,a),_u(l,r,a)),r={cache:Zh()},t.payload=r;return}r=r.return}}function ow(t,r,a){var l=hi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zc(t)?hy(r,a):(a=Cn(t,r,a,l),a!==null&&(qr(a,t,l),dy(a,r,l)))}function fy(t,r,a){var l=hi();Su(t,r,a,l)}function Su(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zc(t))hy(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,C=p(T,a);if(h.hasEagerState=!0,h.eagerState=C,ur(C,T))return Ze(t,r,h,0),Gt===null&&Kn(),!1}catch{}finally{}if(a=Cn(t,r,h,l),a!==null)return qr(a,t,l),dy(a,r,l),!0}return!1}function Sd(t,r,a,l){if(l={lane:2,revertLane:nm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zc(t)){if(r)throw Error(s(479))}else r=Cn(t,a,l,2),r!==null&&qr(r,t,2)}function Zc(t){var r=t.alternate;return t===lt||r!==null&&r===lt}function hy(t,r){Tl=Fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function dy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kt(t,a)}}var Au={readContext:Zn,use:Qc,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Au.useEffectEvent=dn;var my={readContext:Zn,use:Qc,useCallback:function(t,r){return Er().memoizedState=[t,r===void 0?null:r],t},useContext:Zn,useEffect:Jg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,$c(4194308,4,ty.bind(null,r,t),a)},useLayoutEffect:function(t,r){return $c(4194308,4,t,r)},useInsertionEffect:function(t,r){$c(4,2,t,r)},useMemo:function(t,r){var a=Er();r=r===void 0?null:r;var l=t();if(Bo){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Er();if(a!==void 0){var h=a(r);if(Bo){yn(!0);try{a(r)}finally{yn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ow.bind(null,lt,t),[l.memoizedState,t]},useRef:function(t){var r=Er();return t={current:t},r.memoizedState=t},useState:function(t){t=yd(t);var r=t.queue,a=fy.bind(null,lt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:bd,useDeferredValue:function(t,r){var a=Er();return Ed(a,t,r)},useTransition:function(){var t=yd(!1);return t=ay.bind(null,lt,t.queue,!0,!1),Er().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=lt,h=Er();if(Ct){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Gt===null)throw Error(s(349));(_t&127)!==0||Vg(l,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,Jg(Lg.bind(null,l,p,t),[t]),l.flags|=2048,Sl(9,{destroy:void 0},Pg.bind(null,l,p,a,r),null),a},useId:function(){var t=Er(),r=Gt.identifierPrefix;if(Ct){var a=ms,l=ds;a=(l&~(1<<32-De(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=ew++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:wd,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var r=Er();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Sd.bind(null,lt,!0,a),a.dispatch=r,[t,r]},useMemoCache:md,useCacheRefresh:function(){return Er().memoizedState=aw.bind(null,lt)},useEffectEvent:function(t){var r=Er(),a={impl:t};return r.memoizedState=a,function(){if((Mt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Zn,use:Qc,useCallback:ry,useContext:Zn,useEffect:_d,useImperativeHandle:ny,useInsertionEffect:Wg,useLayoutEffect:ey,useMemo:iy,useReducer:Xc,useRef:$g,useState:function(){return Xc(Ys)},useDebugValue:bd,useDeferredValue:function(t,r){var a=Tn();return sy(a,qt.memoizedState,t,r)},useTransition:function(){var t=Xc(Ys)[0],r=Tn().memoizedState;return[typeof t=="boolean"?t:wu(t),r]},useSyncExternalStore:kg,useId:uy,useHostTransitionStatus:wd,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,r){var a=Tn();return zg(a,qt,t,r)},useMemoCache:md,useCacheRefresh:cy};Ad.useEffectEvent=Zg;var py={readContext:Zn,use:Qc,useCallback:ry,useContext:Zn,useEffect:_d,useImperativeHandle:ny,useInsertionEffect:Wg,useLayoutEffect:ey,useMemo:iy,useReducer:gd,useRef:$g,useState:function(){return gd(Ys)},useDebugValue:bd,useDeferredValue:function(t,r){var a=Tn();return qt===null?Ed(a,t,r):sy(a,qt.memoizedState,t,r)},useTransition:function(){var t=gd(Ys)[0],r=Tn().memoizedState;return[typeof t=="boolean"?t:wu(t),r]},useSyncExternalStore:kg,useId:uy,useHostTransitionStatus:wd,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,r){var a=Tn();return qt!==null?zg(a,qt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:cy};py.useEffectEvent=Zg;function Cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=hi(),h=La(l);h.payload=r,a!=null&&(h.callback=a),r=Ua(t,h,l),r!==null&&(qr(r,t,l),_u(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=hi(),h=La(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ua(t,h,l),r!==null&&(qr(r,t,l),_u(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=hi(),l=La(a);l.tag=2,r!=null&&(l.callback=r),r=Ua(t,l,a),r!==null&&(qr(r,t,a),_u(r,t,a))}};function gy(t,r,a,l,h,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!f(a,l)||!f(h,p):!0}function yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Rd.enqueueReplaceState(r,r.state,null)}function qo(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=O({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function vy(t){Me(t)}function _y(t){console.error(t)}function by(t){Me(t)}function Wc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Id(t,r,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){Wc(t,r)},a}function Ty(t){return t=La(t),t.tag=3,t}function wy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;t.payload=function(){return h(p)},t.callback=function(){Ey(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Ey(r,a,l),typeof h!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function lw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&gl(r,a,h,!0),a=li.current,a!==null){switch(a.tag){case 31:case 13:return Di===null?hf():a.alternate===null&&mn===0&&(mn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wd(t,l,h)),!1;case 22:return a.flags|=65536,l===zc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wd(t,l,h)),!1}throw Error(s(435,a.tag))}return Wd(t,l,h),hf(),!1}if(Ct)return r=li.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Yh&&(t=Error(s(422),{cause:l}),mu(Ri(t,a)))):(l!==Yh&&(r=Error(s(423),{cause:l}),mu(Ri(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ri(l,a),h=Id(t.stateNode,l,h),id(t,h),mn!==4&&(mn=2)),!1;var p=Error(s(520),{cause:l});if(p=Ri(p,a),Mu===null?Mu=[p]:Mu.push(p),mn!==4&&(mn=2),r===null)return!0;l=Ri(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Id(a.stateNode,l,t),id(a,t),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ka===null||!Ka.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),wy(h,t,a,l),id(a,h),!1}a=a.return}while(a!==null);return!1}var Od=Error(s(461)),xn=!1;function Wn(t,r,a,l){r.child=t===null?Rg(r,null,a,l):zo(r,t.child,a,l)}function Sy(t,r,a,l,h){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Po(r),l=cd(t,r,a,T,p,h),C=fd(),t!==null&&!xn?(hd(t,r,h),Qs(t,r,h)):(Ct&&C&&Fh(r),r.flags|=1,Wn(t,r,l,h),r.child)}function Ay(t,r,a,l,h){if(t===null){var p=a.type;return typeof p=="function"&&!qh(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Cy(t,r,p,l,h)):(t=kc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!Ld(t,h)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(T,l)&&t.ref===r.ref)return Qs(t,r,h)}return r.flags|=1,t=qs(p,l),t.ref=r.ref,t.return=r,r.child=t}function Cy(t,r,a,l,h){if(t!==null){var p=t.memoizedProps;if(f(p,l)&&t.ref===r.ref)if(xn=!1,r.pendingProps=l=p,Ld(t,h))(t.flags&131072)!==0&&(xn=!0);else return r.lanes=t.lanes,Qs(t,r,h)}return xd(t,r,a,l,h)}function Ry(t,r,a,l){var h=l.children,p=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,r.child=null;return Iy(t,r,p,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uc(r,p!==null?p.cachePool:null),p!==null?xg(r,p):ad(),Dg(r);else return l=r.lanes=536870912,Iy(t,r,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Uc(r,p.cachePool),xg(r,p),za(),r.memoizedState=null):(t!==null&&Uc(r,null),ad(),za());return Wn(t,r,h,a),r.child}function Cu(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Iy(t,r,a,l,h){var p=ed();return p=p===null?null:{parent:In._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},t!==null&&Uc(r,null),ad(),Dg(r),t!==null&&gl(t,r,l,!0),r.childLanes=h,null}function ef(t,r){return r=nf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Oy(t,r,a){return zo(r,t.child,null,a),t=ef(r,r.pendingProps),t.flags|=2,ui(r),r.memoizedState=null,t}function uw(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ct){if(l.mode==="hidden")return t=ef(r,l),r.lanes=536870912,Cu(null,t);if(ld(r),(t=Xt)?(t=Bv(t,xi),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Na!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=r,r.child=a,Jn=r,Xt=null)):t=null,t===null)throw ka(r);return r.lanes=536870912,null}return ef(r,l)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(ld(r),h)if(r.flags&256)r.flags&=-257,r=Oy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xn||gl(t,r,a,!1),h=(a&t.childLanes)!==0,xn||h){if(l=Gt,l!==null&&(T=Zt(l,a),T!==0&&T!==p.retryLane))throw p.retryLane=T,Wt(t,T),qr(l,t,T),Od;hf(),r=Oy(t,r,a)}else t=p.treeContext,Xt=Ni(T.nextSibling),Jn=r,Ct=!0,Ma=null,xi=!1,t!==null&&pg(r,t),r=ef(r,l),r.flags|=4096;return r}return t=qs(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function tf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function xd(t,r,a,l,h){return Po(r),a=cd(t,r,a,l,void 0,h),l=fd(),t!==null&&!xn?(hd(t,r,h),Qs(t,r,h)):(Ct&&l&&Fh(r),r.flags|=1,Wn(t,r,a,h),r.child)}function xy(t,r,a,l,h,p){return Po(r),r.updateQueue=null,a=Mg(r,l,a,h),Ng(t),l=fd(),t!==null&&!xn?(hd(t,r,p),Qs(t,r,p)):(Ct&&l&&Fh(r),r.flags|=1,Wn(t,r,a,p),r.child)}function Dy(t,r,a,l,h){if(Po(r),r.stateNode===null){var p=Lr,T=a.contextType;typeof T=="object"&&T!==null&&(p=Zn(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Rd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},nd(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Zn(T):Lr,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Cd(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Rd.enqueueReplaceState(p,p.state,null),Eu(r,l,p,h),bu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){p=r.stateNode;var C=r.memoizedProps,L=qo(a,C);p.props=L;var re=p.context,he=a.contextType;T=Lr,typeof he=="object"&&he!==null&&(T=Zn(he));var ye=a.getDerivedStateFromProps;he=typeof ye=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,he||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||re!==T)&&yy(r,p,l,T),Pa=!1;var se=r.memoizedState;p.state=se,Eu(r,l,p,h),bu(),re=r.memoizedState,C||se!==re||Pa?(typeof ye=="function"&&(Cd(r,a,ye,l),re=r.memoizedState),(L=Pa||gy(r,a,L,l,se,re,T))?(he||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=re),p.props=l,p.state=re,p.context=T,l=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,rd(t,r),T=r.memoizedProps,he=qo(a,T),p.props=he,ye=r.pendingProps,se=p.context,re=a.contextType,L=Lr,typeof re=="object"&&re!==null&&(L=Zn(re)),C=a.getDerivedStateFromProps,(re=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ye||se!==L)&&yy(r,p,l,L),Pa=!1,se=r.memoizedState,p.state=se,Eu(r,l,p,h),bu();var ue=r.memoizedState;T!==ye||se!==ue||Pa||t!==null&&t.dependencies!==null&&Pc(t.dependencies)?(typeof C=="function"&&(Cd(r,a,C,l),ue=r.memoizedState),(he=Pa||gy(r,a,he,l,se,ue,L)||t!==null&&t.dependencies!==null&&Pc(t.dependencies))?(re||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,ue,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,ue,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ue),p.props=l,p.state=ue,p.context=L,l=he):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=1024),l=!1)}return p=l,tf(t,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&l?(r.child=zo(r,t.child,null,h),r.child=zo(r,null,a,h)):Wn(t,r,a,h),r.memoizedState=p.state,t=r.child):t=Qs(t,r,h),t}function Ny(t,r,a,l){return ko(),r.flags|=256,Wn(t,r,a,l),r.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:Eg()}}function Md(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=fi),t}function My(t,r,a){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(En.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ct){if(h?ja(r):za(),(t=Xt)?(t=Bv(t,xi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Na!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=r,r.child=a,Jn=r,Xt=null)):t=null,t===null)throw ka(r);return pm(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(za(),h=r.mode,C=nf({mode:"hidden",children:C},h),l=Mo(l,h,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=Nd(a),l.childLanes=Md(t,T,a),r.memoizedState=Dd,Cu(null,l)):(ja(r),kd(r,C))}var L=t.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(p)r.flags&256?(ja(r),r.flags&=-257,r=Vd(t,r,a)):r.memoizedState!==null?(za(),r.child=t.child,r.flags|=128,r=null):(za(),C=l.fallback,h=r.mode,l=nf({mode:"visible",children:l.children},h),C=Mo(C,h,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,zo(r,t.child,null,a),l=r.child,l.memoizedState=Nd(a),l.childLanes=Md(t,T,a),r.memoizedState=Dd,r=Cu(null,l));else if(ja(r),pm(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var re=T.dgst;T=re,l=Error(s(419)),l.stack="",l.digest=T,mu({value:l,source:null,stack:null}),r=Vd(t,r,a)}else if(xn||gl(t,r,a,!1),T=(a&t.childLanes)!==0,xn||T){if(T=Gt,T!==null&&(l=Zt(T,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,Wt(t,l),qr(T,t,l),Od;mm(C)||hf(),r=Vd(t,r,a)}else mm(C)?(r.flags|=192,r.child=t.child,r=null):(t=L.treeContext,Xt=Ni(C.nextSibling),Jn=r,Ct=!0,Ma=null,xi=!1,t!==null&&pg(r,t),r=kd(r,l.children),r.flags|=4096);return r}return h?(za(),C=l.fallback,h=r.mode,L=t.child,re=L.sibling,l=qs(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,re!==null?C=qs(re,C):(C=Mo(C,h,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,Cu(null,l),l=r.child,C=t.child.memoizedState,C===null?C=Nd(a):(h=C.cachePool,h!==null?(L=In._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=Eg(),C={baseLanes:C.baseLanes|a,cachePool:h}),l.memoizedState=C,l.childLanes=Md(t,T,a),r.memoizedState=Dd,Cu(t.child,l)):(ja(r),a=t.child,t=a.sibling,a=qs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=a,r.memoizedState=null,a)}function kd(t,r){return r=nf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function nf(t,r){return t=oi(22,t,null,r),t.lanes=0,t}function Vd(t,r,a){return zo(r,t.child,null,a),t=kd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ky(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),$h(t.return,r,a)}function Pd(t,r,a,l,h,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=h,T.treeForkCount=p)}function Vy(t,r,a){var l=r.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var T=En.current,C=(T&2)!==0;if(C?(T=T&1|2,r.flags|=128):T&=1,Ie(En,T),Wn(t,r,l,a),l=Ct?du:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ky(t,a,r);else if(t.tag===19)ky(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Kc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Pd(r,!1,h,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Kc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Pd(r,!0,a,null,p,l);break;case"together":Pd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Qs(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ha|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(gl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=qs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=qs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ld(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Pc(t)))}function cw(t,r,a){switch(r.tag){case 3:pn(r,r.stateNode.containerInfo),Va(r,In,t.memoizedState.cache),ko();break;case 27:case 5:ns(r);break;case 4:pn(r,r.stateNode.containerInfo);break;case 10:Va(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ld(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(r),r.flags|=128,null):(a&r.child.childLanes)!==0?My(t,r,a):(ja(r),t=Qs(t,r,a),t!==null?t.sibling:null);ja(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(gl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Vy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ie(En,En.current),l)break;return null;case 22:return r.lanes=0,Ry(t,r,a,r.pendingProps);case 24:Va(r,In,t.memoizedState.cache)}return Qs(t,r,a)}function Py(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xn=!0;else{if(!Ld(t,a)&&(r.flags&128)===0)return xn=!1,cw(t,r,a);xn=(t.flags&131072)!==0}else xn=!1,Ct&&(r.flags&1048576)!==0&&mg(r,du,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Uo(r.elementType),r.type=t,typeof t=="function")qh(t)?(l=qo(t,l),r.tag=1,r=Dy(null,r,t,l,a)):(r.tag=0,r=xd(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ct){r.tag=11,r=Sy(null,r,t,l,a);break e}else if(h===V){r.tag=14,r=Ay(null,r,t,l,a);break e}}throw r=Bt(t)||t,Error(s(306,r,""))}}return r;case 0:return xd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=qo(l,r.pendingProps),Dy(t,r,l,h,a);case 3:e:{if(pn(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,rd(t,r),Eu(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Va(r,In,l),l!==p.cache&&Jh(r,[In],a,!0),bu(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Ny(t,r,l,a);break e}else if(l!==h){h=Ri(Error(s(424)),r),mu(h),r=Ny(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=Ni(t.firstChild),Jn=r,Ct=!0,Ma=null,xi=!0,a=Rg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),l===h){r=Qs(t,r,a);break e}Wn(t,r,l,a)}r=r.child}return r;case 26:return tf(t,r),t===null?(a=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ct||(a=r.type,t=r.pendingProps,l=_f(Je.current).createElement(a),l[Pt]=r,l[Yt]=t,er(l,a,t),rn(l),r.stateNode=l):r.memoizedState=Yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ns(r),t===null&&Ct&&(l=r.stateNode=Kv(r.type,r.pendingProps,Je.current),Jn=r,xi=!0,h=Xt,Qa(r.type)?(gm=h,Xt=Ni(l.firstChild)):Xt=h),Wn(t,r,r.pendingProps.children,a),tf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ct&&((h=l=Xt)&&(l=zw(l,r.type,r.pendingProps,xi),l!==null?(r.stateNode=l,Jn=r,Xt=Ni(l.firstChild),xi=!1,h=!0):h=!1),h||ka(r)),ns(r),h=r.type,p=r.pendingProps,T=t!==null?t.memoizedProps:null,l=p.children,fm(h,p)?l=null:T!==null&&fm(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=cd(t,r,tw,null,null,a),Bu._currentValue=h),tf(t,r),Wn(t,r,l,a),r.child;case 6:return t===null&&Ct&&((t=a=Xt)&&(a=Bw(a,r.pendingProps,xi),a!==null?(r.stateNode=a,Jn=r,Xt=null,t=!0):t=!1),t||ka(r)),null;case 13:return My(t,r,a);case 4:return pn(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=zo(r,null,l,a):Wn(t,r,l,a),r.child;case 11:return Sy(t,r,r.type,r.pendingProps,a);case 7:return Wn(t,r,r.pendingProps,a),r.child;case 8:return Wn(t,r,r.pendingProps.children,a),r.child;case 12:return Wn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Va(r,r.type,l.value),Wn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Po(r),h=Zn(h),l=l(h),r.flags|=1,Wn(t,r,l,a),r.child;case 14:return Ay(t,r,r.type,r.pendingProps,a);case 15:return Cy(t,r,r.type,r.pendingProps,a);case 19:return Vy(t,r,a);case 31:return uw(t,r,a);case 22:return Ry(t,r,a,r.pendingProps);case 24:return Po(r),l=Zn(In),t===null?(h=ed(),h===null&&(h=Gt,p=Zh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),r.memoizedState={parent:l,cache:h},nd(r),Va(r,In,h)):((t.lanes&a)!==0&&(rd(t,r),Eu(r,null,null,a),bu()),h=t.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Va(r,In,l)):(l=p.cache,Va(r,In,l),l!==h.cache&&Jh(r,[In],a,!0))),Wn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(t){t.flags|=4}function Ud(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(uv())t.flags|=8192;else throw jo=zc,td}else t.flags&=-16777217}function Ly(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zv(r))if(uv())t.flags|=8192;else throw jo=zc,td}function rf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ol():536870912,t.lanes|=r,Il|=r)}function Ru(t,r){if(!Ct)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function fw(t,r,a){var l=r.pendingProps;switch(Gh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(r),null;case 1:return $t(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fs(In),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(r)?Xs(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qh())),$t(r),null;case 26:var h=r.type,p=r.memoizedState;return t===null?(Xs(r),p!==null?($t(r),Ly(r,p)):($t(r),Ud(r,h,null,l,a))):p?p!==t.memoizedState?(Xs(r),$t(r),Ly(r,p)):($t(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xs(r),$t(r),Ud(r,h,t,l,a)),null;case 27:if(zi(r),a=Je.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $t(r),null}t=Ve.current,pl(r)?gg(r):(t=Kv(h,l,a),r.stateNode=t,Xs(r))}return $t(r),null;case 5:if(zi(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $t(r),null}if(p=Ve.current,pl(r))gg(r);else{var T=_f(Je.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}p[Pt]=r,p[Yt]=l;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(er(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xs(r)}}return $t(r),Ud(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xs(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Je.current,pl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Jn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,a)),t||ka(r,!0)}else t=_f(t).createTextNode(l),t[Pt]=r,r.stateNode=t}return $t(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=pl(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=r}else ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$t(r),t=!1}else a=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(ui(r),r):(ui(r),null);if((r.flags&128)!==0)throw Error(s(558))}return $t(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=r}else ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$t(r),h=!1}else h=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ui(r),r):(ui(r),null)}return ui(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),rf(r,r.updateQueue),$t(r),null);case 4:return Ne(),t===null&&am(r.stateNode.containerInfo),$t(r),null;case 10:return Fs(r.type),$t(r),null;case 19:if(pe(En),l=r.memoizedState,l===null)return $t(r),null;if(h=(r.flags&128)!==0,p=l.rendering,p===null)if(h)Ru(l,!1);else{if(mn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=Kc(t),p!==null){for(r.flags|=128,Ru(l,!1),t=p.updateQueue,r.updateQueue=t,rf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)fg(a,t),a=a.sibling;return Ie(En,En.current&1|2),Ct&&Hs(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&zn()>uf&&(r.flags|=128,h=!0,Ru(l,!1),r.lanes=4194304)}else{if(!h)if(t=Kc(p),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,rf(r,t),Ru(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ct)return $t(r),null}else 2*zn()-l.renderingStartTime>uf&&a!==536870912&&(r.flags|=128,h=!0,Ru(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(t=l.last,t!==null?t.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zn(),t.sibling=null,a=En.current,Ie(En,h?a&1|2:a&1),Ct&&Hs(r,l.treeForkCount),t):($t(r),null);case 22:case 23:return ui(r),od(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&($t(r),r.subtreeFlags&6&&(r.flags|=8192)):$t(r),a=r.updateQueue,a!==null&&rf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&pe(Lo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fs(In),$t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hw(t,r){switch(Gh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fs(In),Ne(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zi(r),null;case 31:if(r.memoizedState!==null){if(ui(r),r.alternate===null)throw Error(s(340));ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ui(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return pe(En),null;case 4:return Ne(),null;case 10:return Fs(r.type),null;case 22:case 23:return ui(r),od(),t!==null&&pe(Lo),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fs(In),null;case 25:return null;default:return null}}function Uy(t,r){switch(Gh(r),r.tag){case 3:Fs(In),Ne();break;case 26:case 27:case 5:zi(r);break;case 4:Ne();break;case 31:r.memoizedState!==null&&ui(r);break;case 13:ui(r);break;case 19:pe(En);break;case 10:Fs(r.type);break;case 22:case 23:ui(r),od(),t!==null&&pe(Lo);break;case 24:Fs(In)}}function Iu(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==h)}}catch(C){zt(r,r.return,C)}}function Ba(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&t)===t){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=r;var L=a,re=C;try{re()}catch(he){zt(h,L,he)}}}l=l.next}while(l!==p)}}catch(he){zt(r,r.return,he)}}function jy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Og(r,a)}catch(l){zt(t,t.return,l)}}}function zy(t,r,a){a.props=qo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){zt(t,r,l)}}function Ou(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){zt(t,r,h)}}function ps(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){zt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){zt(t,r,h)}else a.current=null}function By(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){zt(t,t.return,h)}}function jd(t,r,a){try{var l=t.stateNode;kw(l,t.type,a,r),l[Yt]=r}catch(h){zt(t,t.return,h)}}function qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=lr));else if(l!==4&&(l===27&&Qa(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Bd(t,r,a),t=t.sibling;t!==null;)Bd(t,r,a),t=t.sibling}function sf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Qa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sf(t,r,a),t=t.sibling;t!==null;)sf(t,r,a),t=t.sibling}function Hy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);er(r,l,a),r[Pt]=t,r[Yt]=a}catch(p){zt(t,t.return,p)}}var $s=!1,Dn=!1,qd=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function dw(t,r){if(t=t.containerInfo,um=Cf,t=S(t),A(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,C=-1,L=-1,re=0,he=0,ye=t,se=null;t:for(;;){for(var ue;ye!==a||h!==0&&ye.nodeType!==3||(C=T+h),ye!==p||l!==0&&ye.nodeType!==3||(L=T+l),ye.nodeType===3&&(T+=ye.nodeValue.length),(ue=ye.firstChild)!==null;)se=ye,ye=ue;for(;;){if(ye===t)break t;if(se===a&&++re===h&&(C=T),se===p&&++he===l&&(L=T),(ue=ye.nextSibling)!==null)break;ye=se,se=ye.parentNode}ye=ue}a=C===-1||L===-1?null:{start:C,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:t,selectionRange:a},Cf=!1,Fn=r;Fn!==null;)if(r=Fn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Fn=t;else for(;Fn!==null;){switch(r=Fn,p=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=r,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var je=qo(a.type,h);t=l.getSnapshotBeforeUpdate(je,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Qe){zt(a,a.return,Qe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Fn=t;break}Fn=r.return}}function Fy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zs(t,a),l&4&&Iu(5,a);break;case 1:if(Zs(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){zt(a,a.return,T)}else{var h=qo(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){zt(a,a.return,T)}}l&64&&jy(a),l&512&&Ou(a,a.return);break;case 3:if(Zs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Og(t,r)}catch(T){zt(a,a.return,T)}}break;case 27:r===null&&l&4&&Hy(a);case 26:case 5:Zs(t,a),r===null&&l&4&&By(a),l&512&&Ou(a,a.return);break;case 12:Zs(t,a);break;case 31:Zs(t,a),l&4&&Qy(t,a);break;case 13:Zs(t,a),l&4&&Xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tw.bind(null,a),qw(t,a))));break;case 22:if(l=a.memoizedState!==null||$s,!l){r=r!==null&&r.memoizedState!==null||Dn,h=$s;var p=Dn;$s=l,(Dn=r)&&!p?Ws(t,a,(a.subtreeFlags&8772)!==0):Zs(t,a),$s=h,Dn=p}break;case 30:break;default:Zs(t,a)}}function Gy(t){var r=t.alternate;r!==null&&(t.alternate=null,Gy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ks(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var en=null,Ur=!1;function Js(t,r,a){for(a=a.child;a!==null;)Yy(t,r,a),a=a.sibling}function Yy(t,r,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(sr,a)}catch{}switch(a.tag){case 26:Dn||ps(a,r),Js(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dn||ps(a,r);var l=en,h=Ur;Qa(a.type)&&(en=a.stateNode,Ur=!1),Js(t,r,a),Uu(a.stateNode),en=l,Ur=h;break;case 5:Dn||ps(a,r);case 6:if(l=en,h=Ur,en=null,Js(t,r,a),en=l,Ur=h,en!==null)if(Ur)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(a.stateNode)}catch(p){zt(a,r,p)}else try{en.removeChild(a.stateNode)}catch(p){zt(a,r,p)}break;case 18:en!==null&&(Ur?(t=en,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):jv(en,a.stateNode));break;case 4:l=en,h=Ur,en=a.stateNode.containerInfo,Ur=!0,Js(t,r,a),en=l,Ur=h;break;case 0:case 11:case 14:case 15:Ba(2,a,r),Dn||Ba(4,a,r),Js(t,r,a);break;case 1:Dn||(ps(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zy(a,r,l)),Js(t,r,a);break;case 21:Js(t,r,a);break;case 22:Dn=(l=Dn)||a.memoizedState!==null,Js(t,r,a),Dn=l;break;default:Js(t,r,a)}}function Qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pl(t)}catch(a){zt(r,r.return,a)}}}function Xy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){zt(r,r.return,a)}}function mw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ky),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ky),r;default:throw Error(s(435,t.tag))}}function af(t,r){var a=mw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=ww.bind(null,t,l);l.then(h,h)}})}function jr(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=t,T=r,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Qa(C.type)){en=C.stateNode,Ur=!1;break e}break;case 5:en=C.stateNode,Ur=!1;break e;case 3:case 4:en=C.stateNode.containerInfo,Ur=!0;break e}C=C.return}if(en===null)throw Error(s(160));Yy(p,T,h),en=null,Ur=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)$y(r,t),r=r.sibling}var $i=null;function $y(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jr(r,t),zr(t),l&4&&(Ba(3,t,t.return),Iu(3,t),Ba(5,t,t.return));break;case 1:jr(r,t),zr(t),l&512&&(Dn||a===null||ps(a,a.return)),l&64&&$s&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$i;if(jr(r,t),zr(t),l&512&&(Dn||a===null||ps(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Bn]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),er(p,l,a),p[Pt]=t,rn(p),l=p;break e;case"link":var T=$v("link","href",h).get(l+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break t}}p=h.createElement(l),er(p,l,a),h.head.appendChild(p);break;case"meta":if(T=$v("meta","content",h).get(l+(a.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break t}}p=h.createElement(l),er(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Pt]=t,rn(p),l=p}t.stateNode=l}else Jv(h,t.type,t.stateNode);else t.stateNode=Xv(h,l,t.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Jv(h,t.type,t.stateNode):Xv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jd(t,t.memoizedProps,a.memoizedProps)}break;case 27:jr(r,t),zr(t),l&512&&(Dn||a===null||ps(a,a.return)),a!==null&&l&4&&jd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(jr(r,t),zr(t),l&512&&(Dn||a===null||ps(a,a.return)),t.flags&32){h=t.stateNode;try{$n(h,"")}catch(je){zt(t,t.return,je)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,jd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(qd=!0);break;case 6:if(jr(r,t),zr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(je){zt(t,t.return,je)}}break;case 3:if(Tf=null,h=$i,$i=bf(r.containerInfo),jr(r,t),$i=h,zr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(je){zt(t,t.return,je)}qd&&(qd=!1,Jy(t));break;case 4:l=$i,$i=bf(t.stateNode.containerInfo),jr(r,t),zr(t),$i=l;break;case 12:jr(r,t),zr(t);break;case 31:jr(r,t),zr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 13:jr(r,t),zr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lf=zn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 22:h=t.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,re=$s,he=Dn;if($s=re||h,Dn=he||L,jr(r,t),Dn=he,$s=re,zr(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||L||$s||Dn||Ho(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){L=a=r;try{if(p=L.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=L.stateNode;var ye=L.memoizedProps.style,se=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;C.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(je){zt(L,L.return,je)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(je){zt(L,L.return,je)}}}else if(r.tag===18){if(a===null){L=r;try{var ue=L.stateNode;h?zv(ue,!0):zv(L.stateNode,!1)}catch(je){zt(L,L.return,je)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,af(t,a))));break;case 19:jr(r,t),zr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 30:break;case 21:break;default:jr(r,t),zr(t)}}function zr(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=zd(t);sf(t,p,h);break;case 5:var T=a.stateNode;a.flags&32&&($n(T,""),a.flags&=-33);var C=zd(t);sf(t,C,T);break;case 3:case 4:var L=a.stateNode.containerInfo,re=zd(t);Bd(t,re,L);break;default:throw Error(s(161))}}catch(he){zt(t,t.return,he)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Jy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Zs(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fy(t,r.alternate,r),r=r.sibling}function Ho(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ba(4,r,r.return),Ho(r);break;case 1:ps(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&zy(r,r.return,a),Ho(r);break;case 27:Uu(r.stateNode);case 26:case 5:ps(r,r.return),Ho(r);break;case 22:r.memoizedState===null&&Ho(r);break;case 30:Ho(r);break;default:Ho(r)}t=t.sibling}}function Ws(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ws(h,p,a),Iu(4,p);break;case 1:if(Ws(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(re){zt(l,l.return,re)}if(l=p,h=l.updateQueue,h!==null){var C=l.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)Ig(L[h],C)}catch(re){zt(l,l.return,re)}}a&&T&64&&jy(p),Ou(p,p.return);break;case 27:Hy(p);case 26:case 5:Ws(h,p,a),a&&l===null&&T&4&&By(p),Ou(p,p.return);break;case 12:Ws(h,p,a);break;case 31:Ws(h,p,a),a&&T&4&&Qy(h,p);break;case 13:Ws(h,p,a),a&&T&4&&Xy(h,p);break;case 22:p.memoizedState===null&&Ws(h,p,a),Ou(p,p.return);break;case 30:break;default:Ws(h,p,a)}r=r.sibling}}function Hd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pu(a))}function Kd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pu(t))}function Ji(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zy(t,r,a,l),r=r.sibling}function Zy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r,a,l),h&2048&&Iu(9,r);break;case 1:Ji(t,r,a,l);break;case 3:Ji(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pu(t)));break;case 12:if(h&2048){Ji(t,r,a,l),t=r.stateNode;try{var p=r.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){zt(r,r.return,L)}}else Ji(t,r,a,l);break;case 31:Ji(t,r,a,l);break;case 13:Ji(t,r,a,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?Ji(t,r,a,l):xu(t,r):p._visibility&2?Ji(t,r,a,l):(p._visibility|=2,Al(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Hd(T,r);break;case 24:Ji(t,r,a,l),h&2048&&Kd(r.alternate,r);break;default:Ji(t,r,a,l)}}function Al(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=t,T=r,C=a,L=l,re=T.flags;switch(T.tag){case 0:case 11:case 15:Al(p,T,C,L,h),Iu(8,T);break;case 23:break;case 22:var he=T.stateNode;T.memoizedState!==null?he._visibility&2?Al(p,T,C,L,h):xu(p,T):(he._visibility|=2,Al(p,T,C,L,h)),h&&re&2048&&Hd(T.alternate,T);break;case 24:Al(p,T,C,L,h),h&&re&2048&&Kd(T.alternate,T);break;default:Al(p,T,C,L,h)}r=r.sibling}}function xu(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:xu(a,l),h&2048&&Hd(l.alternate,l);break;case 24:xu(a,l),h&2048&&Kd(l.alternate,l);break;default:xu(a,l)}r=r.sibling}}var Du=8192;function Cl(t,r,a){if(t.subtreeFlags&Du)for(t=t.child;t!==null;)Wy(t,r,a),t=t.sibling}function Wy(t,r,a){switch(t.tag){case 26:Cl(t,r,a),t.flags&Du&&t.memoizedState!==null&&eS(a,$i,t.memoizedState,t.memoizedProps);break;case 5:Cl(t,r,a);break;case 3:case 4:var l=$i;$i=bf(t.stateNode.containerInfo),Cl(t,r,a),$i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Du,Du=16777216,Cl(t,r,a),Du=l):Cl(t,r,a));break;default:Cl(t,r,a)}}function ev(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Nu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Fn=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:Nu(t),t.flags&2048&&Ba(9,t,t.return);break;case 3:Nu(t);break;case 12:Nu(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,of(t)):Nu(t);break;default:Nu(t)}}function of(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Fn=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ba(8,r,r.return),of(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,of(r));break;default:of(r)}t=t.sibling}}function nv(t,r){for(;Fn!==null;){var a=Fn;switch(a.tag){case 0:case 11:case 15:Ba(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fn=l;else e:for(a=t;Fn!==null;){l=Fn;var h=l.sibling,p=l.return;if(Gy(l),l===a){Fn=null;break e}if(h!==null){h.return=p,Fn=h;break e}Fn=p}}}var pw={getCacheForType:function(t){var r=Zn(In),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Zn(In).controller.signal}},gw=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Gt=null,yt=null,_t=0,jt=0,ci=null,qa=!1,Rl=!1,Fd=!1,ea=0,mn=0,Ha=0,Ko=0,Gd=0,fi=0,Il=0,Mu=null,Br=null,Yd=!1,lf=0,rv=0,uf=1/0,cf=null,Ka=null,Pn=0,Fa=null,Ol=null,ta=0,Qd=0,Xd=null,iv=null,ku=0,$d=null;function hi(){return(Mt&2)!==0&&_t!==0?_t&-_t:ae.T!==null?nm():Ms()}function sv(){if(fi===0)if((_t&536870912)===0||Ct){var t=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),fi=t}else fi=536870912;return t=li.current,t!==null&&(t.flags|=32),fi}function qr(t,r,a){(t===Gt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(xl(t,0),Ga(t,_t,fi,!1)),Sr(t,a),((Mt&2)===0||t!==Gt)&&(t===Gt&&((Mt&2)===0&&(Ko|=a),mn===4&&Ga(t,_t,fi,!1)),gs(t))}function av(t,r,a){if((Mt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||gr(t,r),h=l?_w(t,r):Zd(t,r,!0),p=l;do{if(h===0){Rl&&!l&&Ga(t,r,0,!1);break}else{if(a=t.current.alternate,p&&!yw(a)){h=Zd(t,r,!1),p=!1;continue}if(h===2){if(p=r,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var C=t;h=Mu;var L=C.current.memoizedState.isDehydrated;if(L&&(xl(C,T).flags|=256),T=Zd(C,T,!1),T!==2){if(Fd&&!L){C.errorRecoveryDisabledLanes|=p,Ko|=p,h=4;break e}p=Br,Br=h,p!==null&&(Br===null?Br=p:Br.push.apply(Br,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){xl(t,0),Ga(t,r,0,!0);break}e:{switch(l=t,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ga(l,r,fi,!qa);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=lf+300-zn(),10<h)){if(Ga(l,r,fi,!qa),Xr(l,0,!0)!==0)break e;ta=r,l.timeoutHandle=Lv(ov.bind(null,l,a,Br,cf,Yd,r,fi,Ko,Il,qa,p,"Throttled",-0,0),h);break e}ov(l,a,Br,cf,Yd,r,fi,Ko,Il,qa,p,null,-0,0)}}break}while(!0);gs(t)}function ov(t,r,a,l,h,p,T,C,L,re,he,ye,se,ue){if(t.timeoutHandle=-1,ye=r.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},Wy(r,p,ye);var je=(p&62914560)===p?lf-zn():(p&4194048)===p?rv-zn():0;if(je=tS(ye,je),je!==null){ta=p,t.cancelPendingCommit=je(pv.bind(null,t,r,p,a,l,h,T,C,L,he,ye,null,se,ue)),Ga(t,p,T,!re);return}}pv(t,r,p,a,l,h,T,C,L)}function yw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!ur(p(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ga(t,r,a,l){r&=~Gd,r&=~Ko,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var p=31-De(h),T=1<<p;l[p]=-1,h&=~T}a!==0&&yi(t,a,r)}function ff(){return(Mt&6)===0?(Vu(0),!1):!0}function Jd(){if(yt!==null){if(jt===0)var t=yt.return;else t=yt,Ks=Vo=null,dd(t),bl=null,yu=0,t=yt;for(;t!==null;)Uy(t.alternate,t),t=t.return;yt=null}}function xl(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Lw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ta=0,Jd(),Gt=t,yt=a=qs(t.current,null),_t=r,jt=0,ci=null,qa=!1,Rl=gr(t,r),Fd=!1,Il=fi=Gd=Ko=Ha=mn=0,Br=Mu=null,Yd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-De(l),p=1<<h;r|=t[h],l&=~p}return ea=r,Kn(),a}function lv(t,r){lt=null,ae.H=Au,r===_l||r===jc?(r=Sg(),jt=3):r===td?(r=Sg(),jt=4):jt=r===Od?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,yt===null&&(mn=1,Wc(t,Ri(r,t.current)))}function uv(){var t=li.current;return t===null?!0:(_t&4194048)===_t?Di===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Di:!1}function cv(){var t=ae.H;return ae.H=Au,t===null?Au:t}function fv(){var t=ae.A;return ae.A=pw,t}function hf(){mn=4,qa||(_t&4194048)!==_t&&li.current!==null||(Rl=!0),(Ha&134217727)===0&&(Ko&134217727)===0||Gt===null||Ga(Gt,_t,fi,!1)}function Zd(t,r,a){var l=Mt;Mt|=2;var h=cv(),p=fv();(Gt!==t||_t!==r)&&(cf=null,xl(t,r)),r=!1;var T=mn;e:do try{if(jt!==0&&yt!==null){var C=yt,L=ci;switch(jt){case 8:Jd(),T=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(r=!0);var re=jt;if(jt=0,ci=null,Dl(t,C,L,re),a&&Rl){T=0;break e}break;default:re=jt,jt=0,ci=null,Dl(t,C,L,re)}}vw(),T=mn;break}catch(he){lv(t,he)}while(!0);return r&&t.shellSuspendCounter++,Ks=Vo=null,Mt=l,ae.H=h,ae.A=p,yt===null&&(Gt=null,_t=0,Kn()),T}function vw(){for(;yt!==null;)hv(yt)}function _w(t,r){var a=Mt;Mt|=2;var l=cv(),h=fv();Gt!==t||_t!==r?(cf=null,uf=zn()+500,xl(t,r)):Rl=gr(t,r);e:do try{if(jt!==0&&yt!==null){r=yt;var p=ci;t:switch(jt){case 1:jt=0,ci=null,Dl(t,r,p,1);break;case 2:case 9:if(Tg(p)){jt=0,ci=null,dv(r);break}r=function(){jt!==2&&jt!==9||Gt!==t||(jt=7),gs(t)},p.then(r,r);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Tg(p)?(jt=0,ci=null,dv(r)):(jt=0,ci=null,Dl(t,r,p,7));break;case 5:var T=null;switch(yt.tag){case 26:T=yt.memoizedState;case 5:case 27:var C=yt;if(T?Zv(T):C.stateNode.complete){jt=0,ci=null;var L=C.sibling;if(L!==null)yt=L;else{var re=C.return;re!==null?(yt=re,df(re)):yt=null}break t}}jt=0,ci=null,Dl(t,r,p,5);break;case 6:jt=0,ci=null,Dl(t,r,p,6);break;case 8:Jd(),mn=6;break e;default:throw Error(s(462))}}bw();break}catch(he){lv(t,he)}while(!0);return Ks=Vo=null,ae.H=l,ae.A=h,Mt=a,yt!==null?0:(Gt=null,_t=0,Kn(),mn)}function bw(){for(;yt!==null&&!al();)hv(yt)}function hv(t){var r=Py(t.alternate,t,ea);t.memoizedProps=t.pendingProps,r===null?df(t):yt=r}function dv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=xy(a,r,r.pendingProps,r.type,void 0,_t);break;case 11:r=xy(a,r,r.pendingProps,r.type.render,r.ref,_t);break;case 5:dd(r);default:Uy(a,r),r=yt=fg(r,ea),r=Py(a,r,ea)}t.memoizedProps=t.pendingProps,r===null?df(t):yt=r}function Dl(t,r,a,l){Ks=Vo=null,dd(r),bl=null,yu=0;var h=r.return;try{if(lw(t,h,r,a,_t)){mn=1,Wc(t,Ri(a,t.current)),yt=null;return}}catch(p){if(h!==null)throw yt=h,p;mn=1,Wc(t,Ri(a,t.current)),yt=null;return}r.flags&32768?(Ct||l===1?t=!0:Rl||(_t&536870912)!==0?t=!1:(qa=t=!0,(l===2||l===9||l===3||l===6)&&(l=li.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(r,t)):df(r)}function df(t){var r=t;do{if((r.flags&32768)!==0){mv(r,qa);return}t=r.return;var a=fw(r.alternate,r,ea);if(a!==null){yt=a;return}if(r=r.sibling,r!==null){yt=r;return}yt=r=t}while(r!==null);mn===0&&(mn=5)}function mv(t,r){do{var a=hw(t.alternate,t);if(a!==null){a.flags&=32767,yt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){yt=t;return}yt=t=a}while(t!==null);mn=6,yt=null}function pv(t,r,a,l,h,p,T,C,L){t.cancelPendingCommit=null;do mf();while(Pn!==0);if((Mt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=ot,wo(t,a,p,T,C,L),t===Gt&&(yt=Gt=null,_t=0),Ol=r,Fa=t,ta=a,Qd=p,Xd=h,iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sw(pi,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null,h=_e.p,_e.p=2,T=Mt,Mt|=4;try{dw(t,r,a)}finally{Mt=T,_e.p=h,ae.T=l}}Pn=1,gv(),yv(),vv()}}function gv(){if(Pn===1){Pn=0;var t=Fa,r=Ol,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=ae.T,ae.T=null;var l=_e.p;_e.p=2;var h=Mt;Mt|=4;try{$y(r,t);var p=cm,T=S(t.containerInfo),C=p.focusedElem,L=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&b(C.ownerDocument.documentElement,C)){if(L!==null&&A(C)){var re=L.start,he=L.end;if(he===void 0&&(he=re),"selectionStart"in C)C.selectionStart=re,C.selectionEnd=Math.min(he,C.value.length);else{var ye=C.ownerDocument||document,se=ye&&ye.defaultView||window;if(se.getSelection){var ue=se.getSelection(),je=C.textContent.length,Qe=Math.min(L.start,je),Kt=L.end===void 0?Qe:Math.min(L.end,je);!ue.extend&&Qe>Kt&&(T=Kt,Kt=Qe,Qe=T);var Z=g(C,Qe),H=g(C,Kt);if(Z&&H&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==H.node||ue.focusOffset!==H.offset)){var ne=ye.createRange();ne.setStart(Z.node,Z.offset),ue.removeAllRanges(),Qe>Kt?(ue.addRange(ne),ue.extend(H.node,H.offset)):(ne.setEnd(H.node,H.offset),ue.addRange(ne))}}}}for(ye=[],ue=C;ue=ue.parentNode;)ue.nodeType===1&&ye.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ye.length;C++){var de=ye[C];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Cf=!!um,cm=um=null}finally{Mt=h,_e.p=l,ae.T=a}}t.current=r,Pn=2}}function yv(){if(Pn===2){Pn=0;var t=Fa,r=Ol,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=ae.T,ae.T=null;var l=_e.p;_e.p=2;var h=Mt;Mt|=4;try{Fy(t,r.alternate,r)}finally{Mt=h,_e.p=l,ae.T=a}}Pn=3}}function vv(){if(Pn===4||Pn===3){Pn=0,rs();var t=Fa,r=Ol,a=ta,l=iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pn=5:(Pn=0,Ol=Fa=null,_v(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ka=null),Ar(a),r=r.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(sr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=ae.T,h=_e.p,_e.p=2,ae.T=null;try{for(var p=t.onRecoverableError,T=0;T<l.length;T++){var C=l[T];p(C.value,{componentStack:C.stack})}}finally{ae.T=r,_e.p=h}}(ta&3)!==0&&mf(),gs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===$d?ku++:(ku=0,$d=t):ku=0,Vu(0)}}function _v(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,pu(r)))}function mf(){return gv(),yv(),vv(),bv()}function bv(){if(Pn!==5)return!1;var t=Fa,r=Qd;Qd=0;var a=Ar(ta),l=ae.T,h=_e.p;try{_e.p=32>a?32:a,ae.T=null,a=Xd,Xd=null;var p=Fa,T=ta;if(Pn=0,Ol=Fa=null,ta=0,(Mt&6)!==0)throw Error(s(331));var C=Mt;if(Mt|=4,tv(p.current),Zy(p,p.current,T,a),Mt=C,Vu(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(sr,p)}catch{}return!0}finally{_e.p=h,ae.T=l,_v(t,r)}}function Ev(t,r,a){r=Ri(a,r),r=Id(t.stateNode,r,2),t=Ua(t,r,2),t!==null&&(Sr(t,2),gs(t))}function zt(t,r,a){if(t.tag===3)Ev(t,t,a);else for(;r!==null;){if(r.tag===3){Ev(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ka===null||!Ka.has(l))){t=Ri(a,t),a=Ty(2),l=Ua(r,a,2),l!==null&&(wy(a,l,r,t),Sr(l,2),gs(l));break}}r=r.return}}function Wd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Fd=!0,h.add(a),t=Ew.bind(null,t,r,a),r.then(t,t))}function Ew(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Gt===t&&(_t&a)===a&&(mn===4||mn===3&&(_t&62914560)===_t&&300>zn()-lf?(Mt&2)===0&&xl(t,0):Gd|=a,Il===_t&&(Il=0)),gs(t)}function Tv(t,r){r===0&&(r=ol()),t=Wt(t,r),t!==null&&(Sr(t,r),gs(t))}function Tw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Tv(t,a)}function ww(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Tv(t,a)}function Sw(t,r){return tn(t,r)}var pf=null,Nl=null,em=!1,gf=!1,tm=!1,Ya=0;function gs(t){t!==Nl&&t.next===null&&(Nl===null?pf=Nl=t:Nl=Nl.next=t),gf=!0,em||(em=!0,Cw())}function Vu(t,r){if(!tm&&gf){tm=!0;do for(var a=!1,l=pf;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var T=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-De(42|t)+1)-1,p&=h&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Cv(l,p))}else p=_t,p=Xr(l,l===Gt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||gr(l,p)||(a=!0,Cv(l,p));l=l.next}while(a);tm=!1}}function Aw(){wv()}function wv(){gf=em=!1;var t=0;Ya!==0&&Pw()&&(t=Ya);for(var r=zn(),a=null,l=pf;l!==null;){var h=l.next,p=Sv(l,r);p===0?(l.next=null,a===null?pf=h:a.next=h,h===null&&(Nl=a)):(a=l,(t!==0||(p&3)!==0)&&(gf=!0)),l=h}Pn!==0&&Pn!==5||Vu(t),Ya!==0&&(Ya=0)}function Sv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-De(p),C=1<<T,L=h[T];L===-1?((C&a)===0||(C&l)!==0)&&(h[T]=lu(C,r)):L<=r&&(t.expiredLanes|=C),p&=~C}if(r=Gt,a=_t,a=Xr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||gr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&kn(l),Ar(a)){case 2:case 8:a=Qr;break;case 32:a=pi;break;case 268435456:a=pa;break;default:a=pi}return l=Av.bind(null,t),a=tn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&kn(l),t.callbackPriority=2,t.callbackNode=null,2}function Av(t,r){if(Pn!==0&&Pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mf()&&t.callbackNode!==a)return null;var l=_t;return l=Xr(t,t===Gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,r),Sv(t,zn()),t.callbackNode!=null&&t.callbackNode===a?Av.bind(null,t):null)}function Cv(t,r){if(mf())return null;av(t,r,!0)}function Cw(){Uw(function(){(Mt&6)!==0?tn(Yr,Aw):wv()})}function nm(){if(Ya===0){var t=yl;t===0&&(t=Re,Re<<=1,(Re&261888)===0&&(Re=256)),Ya=t}return Ya}function Rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function Iv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Rw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var p=Rv((h[Yt]||null).action),T=l.submitter;T&&(r=(r=T[Yt]||null)?Rv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var C=new Ei("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ya!==0){var L=T?Iv(h,T):new FormData(h);Td(a,{pending:!0,data:L,method:h.method,action:p},null,L)}}else typeof p=="function"&&(C.preventDefault(),L=T?Iv(h,T):new FormData(h),Td(a,{pending:!0,data:L,method:h.method,action:p},p,L))},currentTarget:h}]})}}for(var rm=0;rm<Oe.length;rm++){var im=Oe[rm],Iw=im.toLowerCase(),Ow=im[0].toUpperCase()+im.slice(1);we(Iw,"on"+Ow)}we(te,"onAnimationEnd"),we(ie,"onAnimationIteration"),we(fe,"onAnimationStart"),we("dblclick","onDoubleClick"),we("focusin","onFocus"),we("focusout","onBlur"),we(ge,"onTransitionRun"),we(Se,"onTransitionStart"),we(xe,"onTransitionCancel"),we(Te,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Ov(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var C=l[T],L=C.instance,re=C.currentTarget;if(C=C.listener,L!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=re;try{p(h)}catch(he){Me(he)}h.currentTarget=null,p=L}else for(T=0;T<l.length;T++){if(C=l[T],L=C.instance,re=C.currentTarget,C=C.listener,L!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=re;try{p(h)}catch(he){Me(he)}h.currentTarget=null,p=L}}}}function vt(t,r){var a=r[qi];a===void 0&&(a=r[qi]=new Set);var l=t+"__bubble";a.has(l)||(xv(r,t,2,!1),a.add(l))}function sm(t,r,a){var l=0;r&&(l|=4),xv(a,t,l,r)}var yf="_reactListening"+Math.random().toString(36).slice(2);function am(t){if(!t[yf]){t[yf]=!0,vi.forEach(function(a){a!=="selectionchange"&&(xw.has(a)||sm(a,!1,t),sm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[yf]||(r[yf]=!0,sm("selectionchange",!1,r))}}function xv(t,r,a,l){switch(s_(r)){case 2:var h=iS;break;case 8:h=sS;break;default:h=Em}a=h.bind(null,r,a,t),h=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function om(t,r,a,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=l.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=Cr(C),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){l=p=T;continue e}C=C.parentNode}}l=l.return}Dr(function(){var re=p,he=yr(a),ye=[];e:{var se=Ce.get(t);if(se!==void 0){var ue=Ei,je=t;switch(t){case"keypress":if(Gi(a)===0)break e;case"keydown":case"keyup":ue=js;break;case"focusin":je="focus",ue=Si;break;case"focusout":je="blur",ue=Si;break;case"beforeblur":case"afterblur":ue=Si;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=v;break;case te:case ie:case fe:ue=Io;break;case Te:ue=I;break;case"scroll":case"scrollend":ue=ls;break;case"wheel":ue=oe;break;case"copy":case"cut":case"paste":ue=Xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Ai;break;case"toggle":case"beforetoggle":ue=tt}var Qe=(r&4)!==0,Kt=!Qe&&(t==="scroll"||t==="scrollend"),Z=Qe?se!==null?se+"Capture":null:se;Qe=[];for(var H=re,ne;H!==null;){var de=H;if(ne=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ne===null||Z===null||(de=vr(H,Z),de!=null&&Qe.push(Lu(H,de,ne))),Kt)break;H=H.return}0<Qe.length&&(se=new ue(se,je,null,a,he),ye.push({event:se,listeners:Qe}))}}if((r&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",se&&a!==xr&&(je=a.relatedTarget||a.fromElement)&&(Cr(je)||je[Vn]))break e;if((ue||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(je=a.relatedTarget||a.toElement,ue=re,je=je?Cr(je):null,je!==null&&(Kt=u(je),Qe=je.tag,je!==Kt||Qe!==5&&Qe!==27&&Qe!==6)&&(je=null)):(ue=null,je=re),ue!==je)){if(Qe=Ls,de="onMouseLeave",Z="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Qe=Ai,de="onPointerLeave",Z="onPointerEnter",H="pointer"),Kt=ue==null?se:vn(ue),ne=je==null?se:vn(je),se=new Qe(de,H+"leave",ue,a,he),se.target=Kt,se.relatedTarget=ne,de=null,Cr(he)===re&&(Qe=new Qe(Z,H+"enter",je,a,he),Qe.target=ne,Qe.relatedTarget=Kt,de=Qe),Kt=de,ue&&je)t:{for(Qe=Dw,Z=ue,H=je,ne=0,de=Z;de;de=Qe(de))ne++;de=0;for(var Ke=H;Ke;Ke=Qe(Ke))de++;for(;0<ne-de;)Z=Qe(Z),ne--;for(;0<de-ne;)H=Qe(H),de--;for(;ne--;){if(Z===H||H!==null&&Z===H.alternate){Qe=Z;break t}Z=Qe(Z),H=Qe(H)}Qe=null}else Qe=null;ue!==null&&Dv(ye,se,ue,Qe,!1),je!==null&&Kt!==null&&Dv(ye,Kt,je,Qe,!0)}}e:{if(se=re?vn(re):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var xt=Do;else if(cl(se))if(Ci)xt=Da;else{xt=Bs;var ze=Mc}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&ba(re.elementType)&&(xt=Do):xt=fu;if(xt&&(xt=xt(t,re))){cu(ye,xt,a,he);break e}ze&&ze(t,se,re),t==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&Vs(se,"number",se.value)}switch(ze=re?vn(re):window,t){case"focusin":(cl(ze)||ze.contentEditable==="true")&&(D=ze,j=re,z=null);break;case"focusout":z=j=D=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,U(ye,a,he);break;case"selectionchange":if(x)break;case"keydown":case"keyup":U(ye,a,he)}var ut;if(At)e:{switch(t){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else zs?fs(t,a)&&(bt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(Pr&&a.locale!=="ko"&&(zs||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zs&&(ut=Fi()):(Nr=he,Ea="value"in Nr?Nr.value:Nr.textContent,zs=!0)),ze=vf(re,bt),0<ze.length&&(bt=new Mr(bt,t,null,a,he),ye.push({event:bt,listeners:ze}),ut?bt.data=ut:(ut=Ia(a),ut!==null&&(bt.data=ut)))),(ut=Vr?xc(t,a):zh(t,a))&&(bt=vf(re,"onBeforeInput"),0<bt.length&&(ze=new Mr("onBeforeInput","beforeinput",null,a,he),ye.push({event:ze,listeners:bt}),ze.data=ut)),Rw(ye,t,re,a,he)}Ov(ye,r)})}function Lu(t,r,a){return{instance:t,listener:r,currentTarget:a}}function vf(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=vr(t,a),h!=null&&l.unshift(Lu(t,h,p)),h=vr(t,r),h!=null&&l.push(Lu(t,h,p))),t.tag===3)return l;t=t.return}return[]}function Dw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dv(t,r,a,l,h){for(var p=r._reactName,T=[];a!==null&&a!==l;){var C=a,L=C.alternate,re=C.stateNode;if(C=C.tag,L!==null&&L===l)break;C!==5&&C!==26&&C!==27||re===null||(L=re,h?(re=vr(a,p),re!=null&&T.unshift(Lu(a,re,L))):h||(re=vr(a,p),re!=null&&T.push(Lu(a,re,L)))),a=a.return}T.length!==0&&t.push({event:r,listeners:T})}var Nw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(Nw,`
`).replace(Mw,"")}function Mv(t,r){return r=Nv(r),Nv(t)===r}function Ht(t,r,a,l,h,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(t,""+l);break;case"className":or(t,"class",l);break;case"tabIndex":or(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":or(t,a,l);break;case"style":_a(t,l,p);break;case"data":if(r!=="object"){or(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ht(t,r,"name",h.name,h,null),Ht(t,r,"formEncType",h.formEncType,h,null),Ht(t,r,"formMethod",h.formMethod,h,null),Ht(t,r,"formTarget",h.formTarget,h,null)):(Ht(t,r,"encType",h.encType,h,null),Ht(t,r,"method",h.method,h,null),Ht(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=lr);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":vt("beforetoggle",t),vt("toggle",t),at(t,"popover",l);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":at(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ul.get(a)||a,at(t,a,l))}}function lm(t,r,a,l,h,p){switch(a){case"style":_a(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),p=t[Yt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):at(t,a,l)}}}function er(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,p,T,a,null)}}h&&Ht(t,r,"srcSet",a.srcSet,a,null),l&&Ht(t,r,"src",a.src,a,null);return;case"input":vt("invalid",t);var C=p=T=h=null,L=null,re=null;for(l in a)if(a.hasOwnProperty(l)){var he=a[l];if(he!=null)switch(l){case"name":h=he;break;case"type":T=he;break;case"checked":L=he;break;case"defaultChecked":re=he;break;case"value":p=he;break;case"defaultValue":C=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:Ht(t,r,l,he,a,null)}}va(t,p,C,L,re,T,h,!1);return;case"select":vt("invalid",t),l=T=p=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:Ht(t,r,h,C,a,null)}r=p,a=T,t.multiple=!!l,r!=null?ti(t,!!l,r,!1):a!=null&&ti(t,!!l,a,!0);return;case"textarea":vt("invalid",t),p=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(t,r,T,C,a,null)}ni(t,l,h,p);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(t,r,L,l,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(l=0;l<Pu.length;l++)vt(Pu[l],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in a)if(a.hasOwnProperty(re)&&(l=a[re],l!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,re,l,a,null)}return;default:if(ba(r)){for(he in a)a.hasOwnProperty(he)&&(l=a[he],l!==void 0&&lm(t,r,he,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(t,r,C,l,a,null))}function kw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,C=null,L=null,re=null,he=null;for(ue in a){var ye=a[ue];if(a.hasOwnProperty(ue)&&ye!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":L=ye;default:l.hasOwnProperty(ue)||Ht(t,r,ue,null,l,ye)}}for(var se in l){var ue=l[se];if(ye=a[se],l.hasOwnProperty(se)&&(ue!=null||ye!=null))switch(se){case"type":p=ue;break;case"name":h=ue;break;case"checked":re=ue;break;case"defaultChecked":he=ue;break;case"value":T=ue;break;case"defaultValue":C=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:ue!==ye&&Ht(t,r,se,ue,l,ye)}}ei(t,T,C,L,re,he,p,h);return;case"select":ue=T=C=se=null;for(p in a)if(L=a[p],a.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ue=L;default:l.hasOwnProperty(p)||Ht(t,r,p,null,l,L)}for(h in l)if(p=l[h],L=a[h],l.hasOwnProperty(h)&&(p!=null||L!=null))switch(h){case"value":se=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==L&&Ht(t,r,h,p,l,L)}r=C,a=T,l=ue,se!=null?ti(t,!!a,se,!1):!!l!=!!a&&(r!=null?ti(t,!!a,r,!0):ti(t,!!a,a?[]:"",!1));return;case"textarea":ue=se=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(t,r,C,null,l,h)}for(T in l)if(h=l[T],p=a[T],l.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":se=h;break;case"defaultValue":ue=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Ht(t,r,T,h,l,p)}Co(t,se,ue);return;case"option":for(var je in a)if(se=a[je],a.hasOwnProperty(je)&&se!=null&&!l.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:Ht(t,r,je,null,l,se)}for(L in l)if(se=l[L],ue=a[L],l.hasOwnProperty(L)&&se!==ue&&(se!=null||ue!=null))switch(L){case"selected":t.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Ht(t,r,L,se,l,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in a)se=a[Qe],a.hasOwnProperty(Qe)&&se!=null&&!l.hasOwnProperty(Qe)&&Ht(t,r,Qe,null,l,se);for(re in l)if(se=l[re],ue=a[re],l.hasOwnProperty(re)&&se!==ue&&(se!=null||ue!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:Ht(t,r,re,se,l,ue)}return;default:if(ba(r)){for(var Kt in a)se=a[Kt],a.hasOwnProperty(Kt)&&se!==void 0&&!l.hasOwnProperty(Kt)&&lm(t,r,Kt,void 0,l,se);for(he in l)se=l[he],ue=a[he],!l.hasOwnProperty(he)||se===ue||se===void 0&&ue===void 0||lm(t,r,he,se,l,ue);return}}for(var Z in a)se=a[Z],a.hasOwnProperty(Z)&&se!=null&&!l.hasOwnProperty(Z)&&Ht(t,r,Z,null,l,se);for(ye in l)se=l[ye],ue=a[ye],!l.hasOwnProperty(ye)||se===ue||se==null&&ue==null||Ht(t,r,ye,se,l,ue)}function kv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],p=h.transferSize,T=h.initiatorType,C=h.duration;if(p&&C&&kv(T)){for(T=0,C=h.responseEnd,l+=1;l<a.length;l++){var L=a[l],re=L.startTime;if(re>C)break;var he=L.transferSize,ye=L.initiatorType;he&&kv(ye)&&(L=L.responseEnd,T+=he*(L<C?1:(C-re)/(L-re)))}if(--l,r+=8*(p+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var um=null,cm=null;function _f(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function fm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hm=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===hm?!1:(hm=t,!0):(hm=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(jw)}:Lv;function jw(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function jv(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Pl(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Uu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Uu(a);for(var p=a.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[Bn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=T}}else a==="body"&&Uu(t.ownerDocument.body);a=h}while(a);Pl(r)}function zv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function dm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dm(a),ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Bn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Ni(t.nextSibling),t===null)break}return null}function Bw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ni(t.nextSibling),t===null))return null;return t}function Bv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ni(t.nextSibling),t===null))return null;return t}function mm(t){return t.data==="$?"||t.data==="$~"}function pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ni(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var gm=null;function qv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Ni(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Hv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Kv(t,r,a){switch(r=_f(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Uu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ks(t)}var Mi=new Map,Fv=new Set;function bf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var na=_e.d;_e.d={f:Hw,r:Kw,D:Fw,C:Gw,L:Yw,m:Qw,X:$w,S:Xw,M:Jw};function Hw(){var t=na.f(),r=ff();return t||r}function Kw(t){var r=Rt(t);r!==null&&r.tag===5&&r.type==="form"?ly(r):na.r(t)}var Ml=typeof document>"u"?null:document;function Gv(t,r,a){var l=Ml;if(l&&typeof r=="string"&&r){var h=An(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Fv.has(h)||(Fv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),er(r,"link",t),rn(r),l.head.appendChild(r)))}}function Fw(t){na.D(t),Gv("dns-prefetch",t,null)}function Gw(t,r){na.C(t,r),Gv("preconnect",t,r)}function Yw(t,r,a){na.L(t,r,a);var l=Ml;if(l&&t&&r){var h='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var p=h;switch(r){case"style":p=kl(t);break;case"script":p=Vl(t)}Mi.has(p)||(t=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mi.set(p,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(ju(p))||r==="script"&&l.querySelector(zu(p))||(r=l.createElement("link"),er(r,"link",t),rn(r),l.head.appendChild(r)))}}function Qw(t,r){na.m(t,r);var a=Ml;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vl(t)}if(!Mi.has(p)&&(t=O({rel:"modulepreload",href:t},r),Mi.set(p,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zu(p)))return}l=a.createElement("link"),er(l,"link",t),rn(l),a.head.appendChild(l)}}}function Xw(t,r,a){na.S(t,r,a);var l=Ml;if(l&&t){var h=Sn(l).hoistableStyles,p=kl(t);r=r||"default";var T=h.get(p);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(ju(p)))C.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mi.get(p))&&ym(t,a);var L=T=l.createElement("link");rn(L),er(L,"link",t),L._p=new Promise(function(re,he){L.onload=re,L.onerror=he}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ef(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(p,T)}}}function $w(t,r){na.X(t,r);var a=Ml;if(a&&t){var l=Sn(a).hoistableScripts,h=Vl(t),p=l.get(h);p||(p=a.querySelector(zu(h)),p||(t=O({src:t,async:!0},r),(r=Mi.get(h))&&vm(t,r),p=a.createElement("script"),rn(p),er(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Jw(t,r){na.M(t,r);var a=Ml;if(a&&t){var l=Sn(a).hoistableScripts,h=Vl(t),p=l.get(h);p||(p=a.querySelector(zu(h)),p||(t=O({src:t,async:!0,type:"module"},r),(r=Mi.get(h))&&vm(t,r),p=a.createElement("script"),rn(p),er(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Yv(t,r,a,l){var h=(h=Je.current)?bf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=kl(a.href),a=Sn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=kl(a.href);var p=Sn(h).hoistableStyles,T=p.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=h.querySelector(ju(t)))&&!p._p&&(T.instance=p,T.state.loading=5),Mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mi.set(t,a),p||Zw(h,t,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vl(a),a=Sn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function kl(t){return'href="'+An(t)+'"'}function ju(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function Zw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),er(r,"link",a),rn(r),t.head.appendChild(r))}function Vl(t){return'[src="'+An(t)+'"]'}function zu(t){return"script[async]"+t}function Xv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,rn(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rn(l),er(l,"style",h),Ef(l,a.precedence,t),r.instance=l;case"stylesheet":h=kl(a.href);var p=t.querySelector(ju(h));if(p)return r.state.loading|=4,r.instance=p,rn(p),p;l=Qv(a),(h=Mi.get(h))&&ym(l,h),p=(t.ownerDocument||t).createElement("link"),rn(p);var T=p;return T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),er(p,"link",l),r.state.loading|=4,Ef(p,a.precedence,t),r.instance=p;case"script":return p=Vl(a.src),(h=t.querySelector(zu(p)))?(r.instance=h,rn(h),h):(l=a,(h=Mi.get(p))&&(l=O({},a),vm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),rn(h),er(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ef(l,a.precedence,t));return r.instance}function Ef(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===r)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function ym(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Tf=null;function $v(t,r,a){if(Tf===null){var l=new Map,h=Tf=new Map;h.set(a,l)}else h=Tf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var p=a[h];if(!(p[Bn]||p[Pt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=t+T;var C=l.get(T);C?C.push(p):l.set(T,[p])}}return l}function Jv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Ww(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=kl(l.href),p=r.querySelector(ju(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=wf.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=p,rn(p);return}p=r.ownerDocument||r,l=Qv(l),(h=Mi.get(h))&&ym(l,h),p=p.createElement("link"),rn(p);var T=p;T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),er(p,"link",l),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wf.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var _m=0;function tS(t,r){return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+r);0<t.imgBytes&&_m===0&&(_m=62500*Vw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>_m?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sf=null;function Af(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sf=new Map,r.forEach(nS,t),Sf=null,wf.call(t))}function nS(t,r){if(!(r.state.loading&4)){var a=Sf.get(t);if(a)var l=a.get(null);else{a=new Map,Sf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,h),a.set(T,h),this.count++,l=wf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Bu={$$typeof:Pe,Provider:null,Consumer:null,_currentValue:Ue,_currentValue2:Ue,_threadCount:0};function rS(t,r,a,l,h,p,T,C,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Wv(t,r,a,l,h,p,T,C,L,re,he,ye){return t=new rS(t,r,a,T,L,re,he,ye,C),r=1,p===!0&&(r|=24),p=oi(3,null,null,r),t.current=p,p.stateNode=t,r=Zh(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},nd(p),t}function e_(t){return t?(t=Lr,t):Lr}function t_(t,r,a,l,h,p){h=e_(h),l.context===null?l.context=h:l.pendingContext=h,l=La(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ua(t,l,r),a!==null&&(qr(a,t,r),_u(a,t,r))}function n_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function bm(t,r){n_(t,r),(t=t.alternate)&&n_(t,r)}function r_(t){if(t.tag===13||t.tag===31){var r=Wt(t,67108864);r!==null&&qr(r,t,67108864),bm(t,67108864)}}function i_(t){if(t.tag===13||t.tag===31){var r=hi();r=Ns(r);var a=Wt(t,r);a!==null&&qr(a,t,r),bm(t,r)}}var Cf=!0;function iS(t,r,a,l){var h=ae.T;ae.T=null;var p=_e.p;try{_e.p=2,Em(t,r,a,l)}finally{_e.p=p,ae.T=h}}function sS(t,r,a,l){var h=ae.T;ae.T=null;var p=_e.p;try{_e.p=8,Em(t,r,a,l)}finally{_e.p=p,ae.T=h}}function Em(t,r,a,l){if(Cf){var h=Tm(l);if(h===null)om(t,r,l,Rf,a),a_(t,l);else if(oS(h,t,r,a,l))l.stopPropagation();else if(a_(t,l),r&4&&-1<aS.indexOf(t)){for(;h!==null;){var p=Rt(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=wr(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var L=1<<31-De(T);C.entanglements[1]|=L,T&=~L}gs(p),(Mt&6)===0&&(uf=zn()+500,Vu(0))}}break;case 31:case 13:C=Wt(p,2),C!==null&&qr(C,p,2),ff(),bm(p,2)}if(p=Tm(l),p===null&&om(t,r,l,Rf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else om(t,r,l,null,a)}}function Tm(t){return t=yr(t),wm(t)}var Rf=null;function wm(t){if(Rf=null,t=Cr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=y(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rf=t,null}function s_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Yr:return 2;case Qr:return 8;case pi:case Os:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Sm=!1,Xa=null,$a=null,Ja=null,qu=new Map,Hu=new Map,Za=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(t,r){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":qu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(r.pointerId)}}function Ku(t,r,a,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Rt(r),r!==null&&r_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function oS(t,r,a,l,h){switch(r){case"focusin":return Xa=Ku(Xa,t,r,a,l,h),!0;case"dragenter":return $a=Ku($a,t,r,a,l,h),!0;case"mouseover":return Ja=Ku(Ja,t,r,a,l,h),!0;case"pointerover":var p=h.pointerId;return qu.set(p,Ku(qu.get(p)||null,t,r,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Hu.set(p,Ku(Hu.get(p)||null,t,r,a,l,h)),!0}return!1}function o_(t){var r=Cr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,ar(t.priority,function(){i_(a)});return}}else if(r===31){if(r=y(a),r!==null){t.blockedOn=r,ar(t.priority,function(){i_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function If(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xr=l,a.target.dispatchEvent(l),xr=null}else return r=Rt(a),r!==null&&r_(r),t.blockedOn=a,!1;r.shift()}return!0}function l_(t,r,a){If(t)&&a.delete(r)}function lS(){Sm=!1,Xa!==null&&If(Xa)&&(Xa=null),$a!==null&&If($a)&&($a=null),Ja!==null&&If(Ja)&&(Ja=null),qu.forEach(l_),Hu.forEach(l_)}function Of(t,r){t.blockedOn===r&&(t.blockedOn=null,Sm||(Sm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lS)))}var xf=null;function u_(t){xf!==t&&(xf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xf===t&&(xf=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var p=Rt(a);p!==null&&(t.splice(r,3),r-=3,Td(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function r(L){return Of(L,t)}Xa!==null&&Of(Xa,t),$a!==null&&Of($a,t),Ja!==null&&Of(Ja,t),qu.forEach(r),Hu.forEach(r);for(var a=0;a<Za.length;a++){var l=Za[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Za.length&&(a=Za[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&Za.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],T=h[Yt]||null;if(typeof p=="function")T||u_(a);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[Yt]||null)C=T.formAction;else if(wm(h)!==null)continue}else C=T.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),u_(a)}}}function c_(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Am(t){this._internalRoot=t}Df.prototype.render=Am.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=hi();t_(a,l,t,r,null,null)},Df.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t_(t.current,2,null,t,null,null),ff(),r[Vn]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ms();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Za.length&&r!==0&&r<Za[a].priority;a++);Za.splice(a,0,t),a===0&&o_(t)}};var f_=e.version;if(f_!=="19.2.0")throw Error(s(527,f_,"19.2.0"));_e.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(r),t=t!==null?R(t):null,t=t===null?null:t.stateNode,t};var uS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{sr=Nf.inject(uS),gn=Nf}catch{}}return Gu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=vy,p=_y,T=by;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Wv(t,1,!1,null,null,a,l,null,h,p,T,c_),t[Vn]=r.current,am(t),new Am(r)},Gu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",p=vy,T=_y,C=by,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),r=Wv(t,1,!0,r,a??null,l,h,L,p,T,C,c_),r.context=e_(null),a=r.current,l=hi(),l=Ns(l),h=La(l),h.callback=null,Ua(a,h,l),a=l,r.current.lanes=a,Sr(r,a),gs(r),t[Vn]=r.current,am(t),new Df(r)},Gu.version="19.2.0",Gu}var E_;function ES(){if(E_)return Im.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=bS(),Im.exports}var TS=ES();const wS=yp(TS);var Bf={exports:{}},SS=Bf.exports,T_;function AS(){return T_||(T_=1,(function(i,e){(function(n,s){i.exports=s()})(SS,function(){var n=function(f,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(g[S]=b[S])})(f,m)},s=function(){return(s=Object.assign||function(f){for(var m,g=1,b=arguments.length;g<b;g++)for(var S in m=arguments[g])Object.prototype.hasOwnProperty.call(m,S)&&(f[S]=m[S]);return f}).apply(this,arguments)};function o(f,m,g){for(var b,S=0,A=m.length;S<A;S++)!b&&S in m||((b=b||Array.prototype.slice.call(m,0,S))[S]=m[S]);return f.concat(b||Array.prototype.slice.call(m))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fS,d=Object.keys,y=Array.isArray;function _(f,m){return typeof m!="object"||d(m).forEach(function(g){f[g]=m[g]}),f}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var E=Object.getPrototypeOf,R={}.hasOwnProperty;function O(f,m){return R.call(f,m)}function k(f,m){typeof m=="function"&&(m=m(E(f))),(typeof Reflect>"u"?d:Reflect.ownKeys)(m).forEach(function(g){ce(f,g,m[g])})}var W=Object.defineProperty;function ce(f,m,g,b){W(f,m,_(g&&O(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},b))}function me(f){return{from:function(m){return f.prototype=Object.create(m.prototype),ce(f.prototype,"constructor",f),{extend:k.bind(null,f.prototype)}}}}var be=Object.getOwnPropertyDescriptor,qe=[].slice;function Fe(f,m,g){return qe.call(f,m,g)}function Pe(f,m){return m(f)}function ct(f){if(!f)throw new Error("Assertion Failed")}function Nt(f){u.setImmediate?setImmediate(f):setTimeout(f,0)}function $e(f,m){if(typeof m=="string"&&O(f,m))return f[m];if(!m)return f;if(typeof m!="string"){for(var g=[],b=0,S=m.length;b<S;++b){var A=$e(f,m[b]);g.push(A)}return g}var x=m.indexOf(".");if(x!==-1){var D=f[m.substr(0,x)];return D==null?void 0:$e(D,m.substr(x+1))}}function V(f,m,g){if(f&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof m!="string"&&"length"in m){ct(typeof g!="string"&&"length"in g);for(var b=0,S=m.length;b<S;++b)V(f,m[b],g[b])}else{var A,x,D=m.indexOf(".");D!==-1?(A=m.substr(0,D),(x=m.substr(D+1))===""?g===void 0?y(f)&&!isNaN(parseInt(A))?f.splice(A,1):delete f[A]:f[A]=g:V(D=!(D=f[A])||!O(f,A)?f[A]={}:D,x,g)):g===void 0?y(f)&&!isNaN(parseInt(m))?f.splice(m,1):delete f[m]:f[m]=g}}function N(f){var m,g={};for(m in f)O(f,m)&&(g[m]=f[m]);return g}var P=[].concat;function Y(f){return P.apply([],f)}var Yr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(m){return m+f+"Array"})}))).filter(function(f){return u[f]}),q=new Set(Yr.map(function(f){return u[f]})),J=null;function M(f){return J=new WeakMap,f=(function m(g){if(!g||typeof g!="object")return g;var b=J.get(g);if(b)return b;if(y(g)){b=[],J.set(g,b);for(var S=0,A=g.length;S<A;++S)b.push(m(g[S]))}else if(q.has(g.constructor))b=g;else{var x,D=E(g);for(x in b=D===Object.prototype?{}:Object.create(D),J.set(g,b),g)O(g,x)&&(b[x]=m(g[x]))}return b})(f),J=null,f}var Bt={}.toString;function Ft(f){return Bt.call(f).slice(8,-1)}var ae=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_e=typeof ae=="symbol"?function(f){var m;return f!=null&&(m=f[ae])&&m.apply(f)}:function(){return null};function Ue(f,m){return m=f.indexOf(m),0<=m&&f.splice(m,1),0<=m}var st={};function ft(f){var m,g,b,S;if(arguments.length===1){if(y(f))return f.slice();if(this===st&&typeof f=="string")return[f];if(S=_e(f)){for(g=[];!(b=S.next()).done;)g.push(b.value);return g}if(f==null)return[f];if(typeof(m=f.length)!="number")return[f];for(g=new Array(m);m--;)g[m]=f[m];return g}for(m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return g}var K=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Gr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gr),pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(f,m){this.name=f,this.message=m}function Ve(f,m){return f+". Errors: "+Object.keys(m).map(function(g){return m[g].toString()}).filter(function(g,b,S){return S.indexOf(g)===b}).join(`
`)}function Ye(f,m,g,b){this.failures=m,this.failedKeys=b,this.successCount=g,this.message=Ve(f,m)}function Je(f,m){this.name="BulkError",this.failures=Object.keys(m).map(function(g){return m[g]}),this.failuresByPos=m,this.message=Ve(f,this.failures)}me(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),me(Ye).from(Ie),me(Je).from(Ie);var mt=br.reduce(function(f,m){return f[m]=m+"Error",f},{}),pn=Ie,Ne=br.reduce(function(f,m){var g=m+"Error";function b(S,A){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(A?`
 `+A:""),this.inner=A||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=pe[m]||g,this.inner=null)}return me(b).from(pn),f[m]=b,f},{});Ne.Syntax=SyntaxError,Ne.Type=TypeError,Ne.Range=RangeError;var ns=Gr.reduce(function(f,m){return f[m+"Error"]=Ne[m],f},{}),zi=br.reduce(function(f,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(f[m+"Error"]=Ne[m]),f},{});function St(){}function di(f){return f}function mi(f,m){return f==null||f===di?m:function(g){return m(f(g))}}function Fr(f,m){return function(){f.apply(this,arguments),m.apply(this,arguments)}}function Is(f,m){return f===St?m:function(){var g=f.apply(this,arguments);g!==void 0&&(arguments[0]=g);var b=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var A=m.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Fr(b,this.onsuccess):b),S&&(this.onerror=this.onerror?Fr(S,this.onerror):S),A!==void 0?A:g}}function Eo(f,m){return f===St?m:function(){f.apply(this,arguments);var g=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Fr(g,this.onsuccess):g),b&&(this.onerror=this.onerror?Fr(b,this.onerror):b)}}function To(f,m){return f===St?m:function(g){var b=f.apply(this,arguments);_(g,b);var S=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,g=m.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Fr(S,this.onsuccess):S),A&&(this.onerror=this.onerror?Fr(A,this.onerror):A),b===void 0?g===void 0?void 0:g:_(b,g)}}function fn(f,m){return f===St?m:function(){return m.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function tn(f,m){return f===St?m:function(){var g=f.apply(this,arguments);if(g&&typeof g.then=="function"){for(var b=this,S=arguments.length,A=new Array(S);S--;)A[S]=arguments[S];return g.then(function(){return m.apply(b,A)})}return m.apply(this,arguments)}}zi.ModifyError=Ye,zi.DexieError=Ie,zi.BulkError=Je;var kn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function al(f){kn=f}var rs={},zn=100,Yr=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,E(f),f];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,E(m),f]})(),Gr=Yr[0],br=Yr[1],Yr=Yr[2],br=br&&br.then,Qr=Gr&&Gr.constructor,pi=!!Yr,Os=function(f,m){is.push([f,m]),xs&&(queueMicrotask(ol),xs=!1)},pa=!0,xs=!0,gi=[],sr=[],gn=di,yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:St,pgp:!1,env:{},finalize:St},De=yn,is=[],Tr=0,Ds=[];function Re(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=De;if(typeof f!="function"){if(f!==rs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wr(this,this._value))}this._state=null,this._value=null,++m.ref,(function g(b,S){try{S(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var x=b._lib&&Xn();A&&typeof A.then=="function"?g(b,function(D,j){A instanceof Re?A._then(D,j):A.then(D,j)}):(b._state=!0,b._value=A,Xr(b)),x&&Sr()}},wr.bind(null,b))}catch(A){wr(b,A)}})(this,f)}var Bi={get:function(){var f=De,m=ar;function g(b,S){var A=this,x=!f.global&&(f!==De||m!==ar),D=x&&!Vn(),j=new Re(function(z,Q){gr(A,new nn(ks(b,f,x,D),ks(S,f,x,D),z,Q,f))});return this._consoleTask&&(j._consoleTask=this._consoleTask),j}return g.prototype=rs,g},set:function(f){ce(this,"then",f&&f.prototype===rs?Bi:{get:function(){return f},set:Bi.set})}};function nn(f,m,g,b,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof m=="function"?m:null,this.resolve=g,this.reject=b,this.psd=S}function wr(f,m){var g,b;sr.push(m),f._state===null&&(g=f._lib&&Xn(),m=gn(m),f._state=!1,f._value=m,b=f,gi.some(function(S){return S._value===b._value})||gi.push(b),Xr(f),g&&Sr())}function Xr(f){var m=f._listeners;f._listeners=[];for(var g=0,b=m.length;g<b;++g)gr(f,m[g]);var S=f._PSD;--S.ref||S.finalize(),Tr===0&&(++Tr,Os(function(){--Tr==0&&wo()},[]))}function gr(f,m){if(f._state!==null){var g=f._state?m.onFulfilled:m.onRejected;if(g===null)return(f._state?m.resolve:m.reject)(f._value);++m.psd.ref,++Tr,Os(lu,[g,f,m])}else f._listeners.push(m)}function lu(f,m,g){try{var b,S=m._value;!m._state&&sr.length&&(sr=[]),b=kn&&m._consoleTask?m._consoleTask.run(function(){return f(S)}):f(S),m._state||sr.indexOf(S)!==-1||(function(A){for(var x=gi.length;x;)if(gi[--x]._value===A._value)return gi.splice(x,1)})(m),g.resolve(b)}catch(A){g.reject(A)}finally{--Tr==0&&wo(),--g.psd.ref||g.psd.finalize()}}function ol(){Bn(yn,function(){Xn()&&Sr()})}function Xn(){var f=pa;return xs=pa=!1,f}function Sr(){var f,m,g;do for(;0<is.length;)for(f=is,is=[],g=f.length,m=0;m<g;++m){var b=f[m];b[0].apply(null,b[1])}while(0<is.length);xs=pa=!0}function wo(){var f=gi;gi=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var m=Ds.slice(0),g=m.length;g;)m[--g]()}function yi(f){return new Re(rs,!1,f)}function kt(f,m){var g=De;return function(){var b=Xn(),S=De;try{return Jr(g,!0),f.apply(this,arguments)}catch(A){m&&m(A)}finally{Jr(S,!1),b&&Sr()}}}k(Re.prototype,{then:Bi,_then:function(f,m){gr(this,new nn(null,null,f,m,De))},catch:function(f){if(arguments.length===1)return this.then(null,f);var m=f,g=arguments[1];return typeof m=="function"?this.then(null,function(b){return(b instanceof m?g:yi)(b)}):this.then(null,function(b){return(b&&b.name===m?g:yi)(b)})},finally:function(f){return this.then(function(m){return Re.resolve(f()).then(function(){return m})},function(m){return Re.resolve(f()).then(function(){return yi(m)})})},timeout:function(f,m){var g=this;return f<1/0?new Re(function(b,S){var A=setTimeout(function(){return S(new Ne.Timeout(m))},f);g.then(b,S).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ce(Re.prototype,Symbol.toStringTag,"Dexie.Promise"),yn.env=So(),k(Re,{all:function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.length===0&&m([]);var b=f.length;f.forEach(function(S,A){return Re.resolve(S).then(function(x){f[A]=x,--b||m(f)},g)})})},resolve:function(f){return f instanceof Re?f:f&&typeof f.then=="function"?new Re(function(m,g){f.then(m,g)}):new Re(rs,!0,f)},reject:yi,race:function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.map(function(b){return Re.resolve(b).then(m,g)})})},PSD:{get:function(){return De},set:function(f){return De=f}},totalEchoes:{get:function(){return ar}},newPSD:Pt,usePSD:Bn,scheduler:{get:function(){return Os},set:function(f){Os=f}},rejectionMapper:{get:function(){return gn},set:function(f){gn=f}},follow:function(f,m){return new Re(function(g,b){return Pt(function(S,A){var x=De;x.unhandleds=[],x.onunhandled=A,x.finalize=Fr(function(){var D,j=this;D=function(){j.unhandleds.length===0?S():A(j.unhandleds[0])},Ds.push(function z(){D(),Ds.splice(Ds.indexOf(z),1)}),++Tr,Os(function(){--Tr==0&&wo()},[])},x.finalize),f()},m,g,b)})}}),Qr&&(Qr.allSettled&&ce(Re,"allSettled",function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m){f.length===0&&m([]);var g=f.length,b=new Array(g);f.forEach(function(S,A){return Re.resolve(S).then(function(x){return b[A]={status:"fulfilled",value:x}},function(x){return b[A]={status:"rejected",reason:x}}).then(function(){return--g||m(b)})})})}),Qr.any&&typeof AggregateError<"u"&&ce(Re,"any",function(){var f=ft.apply(null,arguments).map(qi);return new Re(function(m,g){f.length===0&&g(new AggregateError([]));var b=f.length,S=new Array(b);f.forEach(function(A,x){return Re.resolve(A).then(function(D){return m(D)},function(D){S[x]=D,--b||g(new AggregateError(S))})})})}),Qr.withResolvers&&(Re.withResolvers=Qr.withResolvers));var Zt={awaits:0,echoes:0,id:0},Ns=0,Ar=[],Ms=0,ar=0,$r=0;function Pt(f,m,g,b){var S=De,A=Object.create(S);return A.parent=S,A.ref=0,A.global=!1,A.id=++$r,yn.env,A.env=pi?{Promise:Re,PromiseProp:{value:Re,configurable:!0,writable:!0},all:Re.all,race:Re.race,allSettled:Re.allSettled,any:Re.any,resolve:Re.resolve,reject:Re.reject}:{},m&&_(A,m),++S.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Bn(A,f,g,b),A.ref===0&&A.finalize(),b}function Yt(){return Zt.id||(Zt.id=++Ns),++Zt.awaits,Zt.echoes+=zn,Zt.id}function Vn(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*zn,!0)}function qi(f){return Zt.echoes&&f&&f.constructor===Qr?(Yt(),f.then(function(m){return Vn(),m},function(m){return Vn(),Rt(m)})):f}function uu(){var f=Ar[Ar.length-1];Ar.pop(),Jr(f,!1)}function Jr(f,m){var g,b=De;(m?!Zt.echoes||Ms++&&f===De:!Ms||--Ms&&f===De)||queueMicrotask(m?(function(S){++ar,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),Ar.push(De),Jr(S,!0)}).bind(null,f):uu),f!==De&&(De=f,b===yn&&(yn.env=So()),pi&&(g=yn.env.Promise,m=f.env,(b.global||f.global)&&(Object.defineProperty(u,"Promise",m.PromiseProp),g.all=m.all,g.race=m.race,g.resolve=m.resolve,g.reject=m.reject,m.allSettled&&(g.allSettled=m.allSettled),m.any&&(g.any=m.any))))}function So(){var f=u.Promise;return pi?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Bn(f,m,g,b,S){var A=De;try{return Jr(f,!0),m(g,b,S)}finally{Jr(A,!1)}}function ks(f,m,g,b){return typeof f!="function"?f:function(){var S=De;g&&Yt(),Jr(m,!0);try{return f.apply(this,arguments)}finally{Jr(S,!1),b&&queueMicrotask(Vn)}}}function Cr(f){Promise===Qr&&Zt.echoes===0?Ms===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+br).indexOf("[native code]")===-1&&(Yt=Vn=St);var Rt=Re.reject,vn="",Sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rn="String expected.",vi=[],ss="__dbnames",Rr="readonly",Ir="readwrite";function Zr(f,m){return f?m?function(){return f.apply(this,arguments)&&m.apply(this,arguments)}:f:m}var ga={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function as(f){return typeof f!="string"||/\./.test(f)?function(m){return m}:function(m){return m[f]===void 0&&f in m&&delete(m=M(m))[f],m}}function Ao(){throw Ne.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function at(f,m){try{var g=or(f),b=or(m);if(g!==b)return g==="Array"?1:b==="Array"?-1:g==="binary"?1:b==="binary"?-1:g==="string"?1:b==="string"?-1:g==="Date"?1:b!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return m<f?1:f<m?-1:0;case"binary":return(function(S,A){for(var x=S.length,D=A.length,j=x<D?x:D,z=0;z<j;++z)if(S[z]!==A[z])return S[z]<A[z]?-1:1;return x===D?0:x<D?-1:1})(sn(f),sn(m));case"Array":return(function(S,A){for(var x=S.length,D=A.length,j=x<D?x:D,z=0;z<j;++z){var Q=at(S[z],A[z]);if(Q!==0)return Q}return x===D?0:x<D?-1:1})(f,m)}}catch{}return NaN}function or(f){var m=typeof f;return m!="object"?m:ArrayBuffer.isView(f)?"binary":(f=Ft(f),f==="ArrayBuffer"?"binary":f)}function sn(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function an(f,m,g){var b=f.schema.yProps;return b?(m&&0<g.numFailures&&(m=m.filter(function(S,A){return!g.failures[A]})),Promise.all(b.map(function(S){return S=S.updatesTable,m?f.db.table(S).where("k").anyOf(m).delete():f.db.table(S).clear()})).then(function(){return g})):g}var Or=(ya.prototype.execute=function(f){var m=this["@@propmod"];if(m.add!==void 0){var g=m.add;if(y(g))return o(o([],y(f)?f:[],!0),g).sort();if(typeof g=="number")return(Number(f)||0)+g;if(typeof g=="bigint")try{return BigInt(f)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(m.remove!==void 0){var b=m.remove;if(y(b))return y(f)?f.filter(function(S){return!b.includes(S)}).sort():[];if(typeof b=="number")return Number(f)-b;if(typeof b=="bigint")try{return BigInt(f)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return g=(g=m.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof f=="string"&&f.startsWith(g)?m.replacePrefix[1]+f.substring(g.length):f},ya);function ya(f){this["@@propmod"]=f}function Ot(f,m){for(var g=d(m),b=g.length,S=!1,A=0;A<b;++A){var x=g[A],D=m[x],j=$e(f,x);D instanceof Or?(V(f,x,D.execute(j)),S=!0):j!==D&&(V(f,x,D),S=!0)}return S}var os=(gt.prototype._trans=function(f,m,g){var b=this._tx||De.trans,S=this.name,A=kn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function x(z,Q,U){if(!U.schema[S])throw new Ne.NotFound("Table "+S+" not part of transaction");return m(U.idbtrans,U)}var D=Xn();try{var j=b&&b.db._novip===this.db._novip?b===De.trans?b._promise(f,x,g):Pt(function(){return b._promise(f,x,g)},{trans:b,transless:De.transless||De}):(function z(Q,U,$,B){if(Q.idbdb&&(Q._state.openComplete||De.letThrough||Q._vip)){var F=Q._createTransaction(U,$,Q._dbSchema);try{F.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,$,B)})):Rt(G)}return F._promise(U,function(G,X){return Pt(function(){return De.trans=F,B(G,X,F)})}).then(function(G){if(U==="readwrite")try{F.idbtrans.commit()}catch{}return U==="readonly"?G:F._completion.then(function(){return G})})}if(Q._state.openComplete)return Rt(new Ne.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Rt(new Ne.DatabaseClosed);Q.open().catch(St)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,$,B)})})(this.db,f,[this.name],x);return A&&(j._consoleTask=A,j=j.catch(function(z){return console.trace(z),Rt(z)})),j}finally{D&&Sr()}},gt.prototype.get=function(f,m){var g=this;return f&&f.constructor===Object?this.where(f).first(m):f==null?Rt(new Ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return g.core.get({trans:b,key:f}).then(function(S){return g.hook.reading.fire(S)})}).then(m)},gt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(y(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var m=d(f);if(m.length===1)return this.where(m[0]).equals(f[m[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(D){if(D.compound&&m.every(function(z){return 0<=D.keyPath.indexOf(z)})){for(var j=0;j<m.length;++j)if(m.indexOf(D.keyPath[j])===-1)return!1;return!0}return!1}).sort(function(D,j){return D.keyPath.length-j.keyPath.length})[0];if(g&&this.db._maxKey!==vn){var A=g.keyPath.slice(0,m.length);return this.where(A).equals(A.map(function(j){return f[j]}))}!g&&kn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var b=this.schema.idxByName;function S(D,j){return at(D,j)===0}var x=m.reduce(function(U,j){var z=U[0],Q=U[1],U=b[j],$=f[j];return[z||U,z||!U?Zr(Q,U&&U.multi?function(B){return B=$e(B,j),y(B)&&B.some(function(F){return S($,F)})}:function(B){return S($,$e(B,j))}):Q]},[null,null]),A=x[0],x=x[1];return A?this.where(A.name).equals(f[A.keyPath]).filter(x):g?this.filter(x):this.where(m).equals("")},gt.prototype.filter=function(f){return this.toCollection().and(f)},gt.prototype.count=function(f){return this.toCollection().count(f)},gt.prototype.offset=function(f){return this.toCollection().offset(f)},gt.prototype.limit=function(f){return this.toCollection().limit(f)},gt.prototype.each=function(f){return this.toCollection().each(f)},gt.prototype.toArray=function(f){return this.toCollection().toArray(f)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,y(f)?"[".concat(f.join("+"),"]"):f))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(f){var m,g=this.db,b=this.name;function S(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Ao&&((function(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=j}n(j,z),j.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)})(S,m=f),Object.defineProperty(S.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),S.prototype.table=function(){return b},f=S);for(var A=new Set,x=f.prototype;x;x=E(x))Object.getOwnPropertyNames(x).forEach(function(j){return A.add(j)});function D(j){if(!j)return j;var z,Q=Object.create(f.prototype);for(z in j)if(!A.has(z))try{Q[z]=j[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=D,this.hook("reading",D),f},gt.prototype.defineClass=function(){return this.mapToClass(function(f){_(this,f)})},gt.prototype.add=function(f,m){var g=this,b=this.schema.primKey,S=b.auto,A=b.keyPath,x=f;return A&&S&&(x=as(A)(f)),this._trans("readwrite",function(D){return g.core.mutate({trans:D,type:"add",keys:m!=null?[m]:null,values:[x]})}).then(function(D){return D.numFailures?Re.reject(D.failures[0]):D.lastResult}).then(function(D){if(A)try{V(f,A,D)}catch{}return D})},gt.prototype.upsert=function(f,m){var g=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return g.core.get({trans:S,key:f}).then(function(A){var x=A??{};return Ot(x,m),b&&V(x,b,f),g.core.mutate({trans:S,type:"put",values:[x],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[m]}}).then(function(D){return D.numFailures?Re.reject(D.failures[0]):!!A})})})},gt.prototype.update=function(f,m){return typeof f!="object"||y(f)?this.where(":id").equals(f).modify(m):(f=$e(f,this.schema.primKey.keyPath),f===void 0?Rt(new Ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(m))},gt.prototype.put=function(f,m){var g=this,b=this.schema.primKey,S=b.auto,A=b.keyPath,x=f;return A&&S&&(x=as(A)(f)),this._trans("readwrite",function(D){return g.core.mutate({trans:D,type:"put",values:[x],keys:m!=null?[m]:null})}).then(function(D){return D.numFailures?Re.reject(D.failures[0]):D.lastResult}).then(function(D){if(A)try{V(f,A,D)}catch{}return D})},gt.prototype.delete=function(f){var m=this;return this._trans("readwrite",function(g){return m.core.mutate({trans:g,type:"delete",keys:[f]}).then(function(b){return an(m,[f],b)}).then(function(b){return b.numFailures?Re.reject(b.failures[0]):void 0})})},gt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"deleteRange",range:ga}).then(function(g){return an(f,null,g)})}).then(function(m){return m.numFailures?Re.reject(m.failures[0]):void 0})},gt.prototype.bulkGet=function(f){var m=this;return this._trans("readonly",function(g){return m.core.getMany({keys:f,trans:g}).then(function(b){return b.map(function(S){return m.hook.reading.fire(S)})})})},gt.prototype.bulkAdd=function(f,m,g){var b=this,S=Array.isArray(m)?m:void 0,A=(g=g||(S?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(x){var z=b.schema.primKey,D=z.auto,z=z.keyPath;if(z&&S)throw new Ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&D?f.map(as(z)):f;return b.core.mutate({trans:x,type:"add",keys:S,values:z,wantResults:A}).then(function(F){var U=F.numFailures,$=F.results,B=F.lastResult,F=F.failures;if(U===0)return A?$:B;throw new Je("".concat(b.name,".bulkAdd(): ").concat(U," of ").concat(j," operations failed"),F)})})},gt.prototype.bulkPut=function(f,m,g){var b=this,S=Array.isArray(m)?m:void 0,A=(g=g||(S?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(x){var z=b.schema.primKey,D=z.auto,z=z.keyPath;if(z&&S)throw new Ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&D?f.map(as(z)):f;return b.core.mutate({trans:x,type:"put",keys:S,values:z,wantResults:A}).then(function(F){var U=F.numFailures,$=F.results,B=F.lastResult,F=F.failures;if(U===0)return A?$:B;throw new Je("".concat(b.name,".bulkPut(): ").concat(U," of ").concat(j," operations failed"),F)})})},gt.prototype.bulkUpdate=function(f){var m=this,g=this.core,b=f.map(function(x){return x.key}),S=f.map(function(x){return x.changes}),A=[];return this._trans("readwrite",function(x){return g.getMany({trans:x,keys:b,cache:"clone"}).then(function(D){var j=[],z=[];f.forEach(function(U,$){var B=U.key,F=U.changes,G=D[$];if(G){for(var X=0,te=Object.keys(F);X<te.length;X++){var ie=te[X],fe=F[ie];if(ie===m.schema.primKey.keyPath){if(at(fe,B)!==0)throw new Ne.Constraint("Cannot update primary key in bulkUpdate()")}else V(G,ie,fe)}A.push($),j.push(B),z.push(G)}});var Q=j.length;return g.mutate({trans:x,type:"put",keys:j,values:z,updates:{keys:b,changeSpecs:S}}).then(function(U){var $=U.numFailures,B=U.failures;if($===0)return Q;for(var F=0,G=Object.keys(B);F<G.length;F++){var X,te=G[F],ie=A[Number(te)];ie!=null&&(X=B[te],delete B[te],B[ie]=X)}throw new Je("".concat(m.name,".bulkUpdate(): ").concat($," of ").concat(Q," operations failed"),B)})})})},gt.prototype.bulkDelete=function(f){var m=this,g=f.length;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:f}).then(function(S){return an(m,f,S)})}).then(function(x){var S=x.numFailures,A=x.lastResult,x=x.failures;if(S===0)return A;throw new Je("".concat(m.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),x)})},gt);function gt(){}function Wr(f){function m(x,D){if(D){for(var j=arguments.length,z=new Array(j-1);--j;)z[j-1]=arguments[j];return g[x].subscribe.apply(null,z),f}if(typeof x=="string")return g[x]}var g={};m.addEventType=A;for(var b=1,S=arguments.length;b<S;++b)A(arguments[b]);return m;function A(x,D,j){if(typeof x!="object"){var z;D=D||fn;var Q={subscribers:[],fire:j=j||St,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=D(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function($){return $!==U}),Q.fire=Q.subscribers.reduce(D,j)}};return g[x]=m[x]=Q}d(z=x).forEach(function(U){var $=z[U];if(y($))A(U,z[U][0],z[U][1]);else{if($!=="asap")throw new Ne.InvalidArgument("Invalid event config");var B=A(U,di,function(){for(var F=arguments.length,G=new Array(F);F--;)G[F]=arguments[F];B.subscribers.forEach(function(X){Nt(function(){X.apply(null,G)})})})}})}}function An(f,m){return me(m).from({prototype:f}),m}function ei(f,m){return!(f.filter||f.algorithm||f.or)&&(m?f.justLimit:!f.replayFilter)}function va(f,m){f.filter=Zr(f.filter,m)}function Vs(f,m,g){var b=f.replayFilter;f.replayFilter=b?function(){return Zr(b(),m())}:m,f.justLimit=g&&!b}function ti(f,m){if(f.isPrimKey)return m.primaryKey;var g=m.getIndexByKeyPath(f.index);if(!g)throw new Ne.Schema("KeyPath "+f.index+" on object store "+m.name+" is not indexed");return g}function Co(f,m,g){var b=ti(f,m.schema);return m.openCursor({trans:g,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:b,range:f.range}})}function ni(f,m,g,b){var S=f.replayFilter?Zr(f.filter,f.replayFilter()):f.filter;if(f.or){var A={},x=function(D,j,z){var Q,U;S&&!S(j,z,function($){return j.stop($)},function($){return j.fail($)})||((U=""+(Q=j.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),O(A,U)||(A[U]=!0,m(D,j,z)))};return Promise.all([f.or._iterate(x,g),$n(Co(f,b,g),f.algorithm,x,!f.keysOnly&&f.valueMapper)])}return $n(Co(f,b,g),Zr(f.algorithm,S),m,!f.keysOnly&&f.valueMapper)}function $n(f,m,g,b){var S=kt(b?function(A,x,D){return g(b(A),x,D)}:g);return f.then(function(A){if(A)return A.start(function(){var x=function(){return A.continue()};m&&!m(A,function(D){return x=D},function(D){A.stop(D),x=St},function(D){A.fail(D),x=St})||S(A.value,A,function(D){return x=D}),x()})})}var ll=(pt.prototype._read=function(f,m){var g=this._ctx;return g.error?g.table._trans(null,Rt.bind(null,g.error)):g.table._trans("readonly",f).then(m)},pt.prototype._write=function(f){var m=this._ctx;return m.error?m.table._trans(null,Rt.bind(null,m.error)):m.table._trans("readwrite",f,"locked")},pt.prototype._addAlgorithm=function(f){var m=this._ctx;m.algorithm=Zr(m.algorithm,f)},pt.prototype._iterate=function(f,m){return ni(this._ctx,f,m,this._ctx.table.core)},pt.prototype.clone=function(f){var m=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return f&&_(g,f),m._ctx=g,m},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(f){var m=this._ctx;return this._read(function(g){return ni(m,f,g,m.table.core)})},pt.prototype.count=function(f){var m=this;return this._read(function(g){var b=m._ctx,S=b.table.core;if(ei(b,!0))return S.count({trans:g,query:{index:ti(b,S.schema),range:b.range}}).then(function(x){return Math.min(x,b.limit)});var A=0;return ni(b,function(){return++A,!1},g,S).then(function(){return A})}).then(f)},pt.prototype.sortBy=function(f,m){var g=f.split(".").reverse(),b=g[0],S=g.length-1;function A(j,z){return z?A(j[g[z]],z-1):j[b]}var x=this._ctx.dir==="next"?1:-1;function D(j,z){return at(A(j,S),A(z,S))*x}return this.toArray(function(j){return j.sort(D)}).then(m)},pt.prototype.toArray=function(f){var m=this;return this._read(function(g){var b=m._ctx;if(b.dir==="next"&&ei(b,!0)&&0<b.limit){var S=b.valueMapper,A=ti(b,b.table.core.schema);return b.table.core.query({trans:g,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(D){return D=D.result,S?D.map(S):D})}var x=[];return ni(b,function(D){return x.push(D)},g,b.table.core).then(function(){return x})},f)},pt.prototype.offset=function(f){var m=this._ctx;return f<=0||(m.offset+=f,ei(m)?Vs(m,function(){var g=f;return function(b,S){return g===0||(g===1?--g:S(function(){b.advance(g),g=0}),!1)}}):Vs(m,function(){var g=f;return function(){return--g<0}})),this},pt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Vs(this._ctx,function(){var m=f;return function(g,b,S){return--m<=0&&b(S),0<=m}},!0),this},pt.prototype.until=function(f,m){return va(this._ctx,function(g,b,S){return!f(g.value)||(b(S),m)}),this},pt.prototype.first=function(f){return this.limit(1).toArray(function(m){return m[0]}).then(f)},pt.prototype.last=function(f){return this.reverse().first(f)},pt.prototype.filter=function(f){var m;return va(this._ctx,function(g){return f(g.value)}),(m=this._ctx).isMatch=Zr(m.isMatch,f),this},pt.prototype.and=function(f){return this.filter(f)},pt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.key,b)})},pt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},pt.prototype.eachPrimaryKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.primaryKey,b)})},pt.prototype.keys=function(f){var m=this._ctx;m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,S){g.push(S.key)}).then(function(){return g}).then(f)},pt.prototype.primaryKeys=function(f){var m=this._ctx;if(m.dir==="next"&&ei(m,!0)&&0<m.limit)return this._read(function(b){var S=ti(m,m.table.core.schema);return m.table.core.query({trans:b,values:!1,limit:m.limit,query:{index:S,range:m.range}})}).then(function(b){return b.result}).then(f);m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,S){g.push(S.primaryKey)}).then(function(){return g}).then(f)},pt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},pt.prototype.firstKey=function(f){return this.limit(1).keys(function(m){return m[0]}).then(f)},pt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},pt.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var m={};return va(this._ctx,function(S){var b=S.primaryKey.toString(),S=O(m,b);return m[b]=!0,!S}),this},pt.prototype.modify=function(f){var m=this,g=this._ctx;return this._write(function(b){var S=typeof f=="function"?f:function(G){return Ot(G,f)},A=g.table.core,z=A.schema.primaryKey,x=z.outbound,D=z.extractKey,j=200,z=m.db._options.modifyChunkSize;z&&(j=typeof z=="object"?z[A.name]||z["*"]||200:z);function Q(G,ie){var te=ie.failures,ie=ie.numFailures;$+=G-ie;for(var fe=0,ge=d(te);fe<ge.length;fe++){var Se=ge[fe];U.push(te[Se])}}var U=[],$=0,B=[],F=f===_a;return m.clone().primaryKeys().then(function(G){function X(ie){var fe=Math.min(j,G.length-ie),ge=G.slice(ie,ie+fe);return(F?Promise.resolve([]):A.getMany({trans:b,keys:ge,cache:"immutable"})).then(function(Se){var xe=[],Te=[],Ce=x?[]:null,Oe=F?ge:[];if(!F)for(var we=0;we<fe;++we){var Me=Se[we],He={value:M(Me),primKey:G[ie+we]};S.call(He,He.value,He)!==!1&&(He.value==null?Oe.push(G[ie+we]):x||at(D(Me),D(He.value))===0?(Te.push(He.value),x&&Ce.push(G[ie+we])):(Oe.push(G[ie+we]),xe.push(He.value)))}return Promise.resolve(0<xe.length&&A.mutate({trans:b,type:"add",values:xe}).then(function(We){for(var ot in We.failures)Oe.splice(parseInt(ot),1);Q(xe.length,We)})).then(function(){return(0<Te.length||te&&typeof f=="object")&&A.mutate({trans:b,type:"put",keys:Ce,values:Te,criteria:te,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<ie}).then(function(We){return Q(Te.length,We)})}).then(function(){return(0<Oe.length||te&&F)&&A.mutate({trans:b,type:"delete",keys:Oe,criteria:te,isAdditionalChunk:0<ie}).then(function(We){return an(g.table,Oe,We)}).then(function(We){return Q(Oe.length,We)})}).then(function(){return G.length>ie+fe&&X(ie+j)})})}var te=ei(g)&&g.limit===1/0&&(typeof f!="function"||F)&&{index:g.index,range:g.range};return X(0).then(function(){if(0<U.length)throw new Ye("Error modifying one or more objects",U,$,B);return G.length})})})},pt.prototype.delete=function(){var f=this._ctx,m=f.range;return!ei(f)||f.table.schema.yProps||!f.isPrimKey&&m.type!==3?this.modify(_a):this._write(function(g){var b=f.table.core.schema.primaryKey,S=m;return f.table.core.count({trans:g,query:{index:b,range:S}}).then(function(A){return f.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(j){var D=j.failures,j=j.numFailures;if(j)throw new Ye("Could not delete some values",Object.keys(D).map(function(z){return D[z]}),A-j);return A-j})})})},pt);function pt(){}var _a=function(f,m){return m.value=null};function ba(f,m){return f<m?-1:f===m?0:1}function ul(f,m){return m<f?-1:f===m?0:1}function hn(f,m,g){return f=f instanceof Hi?new f.Collection(f):f,f._ctx.error=new(g||TypeError)(m),f}function ri(f){return new f.Collection(f,function(){return yr("")}).limit(0)}function lr(f,m,g,b){var S,A,x,D,j,z,Q,U=g.length;if(!g.every(function(F){return typeof F=="string"}))return hn(f,rn);function $(F){S=F==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=F==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},x=F==="next"?ba:ul;var G=g.map(function(X){return{lower:A(X),upper:S(X)}}).sort(function(X,te){return x(X.lower,te.lower)});D=G.map(function(X){return X.upper}),j=G.map(function(X){return X.lower}),Q=(z=F)==="next"?"":b}$("next"),f=new f.Collection(f,function(){return xr(D[0],j[U-1]+b)}),f._ondirectionchange=function(F){$(F)};var B=0;return f._addAlgorithm(function(F,G,X){var te=F.key;if(typeof te!="string")return!1;var ie=A(te);if(m(ie,j,B))return!0;for(var fe=null,ge=B;ge<U;++ge){var Se=(function(xe,Te,Ce,Oe,we,Me){for(var He=Math.min(xe.length,Oe.length),We=-1,ot=0;ot<He;++ot){var Kn=Te[ot];if(Kn!==Oe[ot])return we(xe[ot],Ce[ot])<0?xe.substr(0,ot)+Ce[ot]+Ce.substr(ot+1):we(xe[ot],Oe[ot])<0?xe.substr(0,ot)+Oe[ot]+Ce.substr(ot+1):0<=We?xe.substr(0,We)+Te[We]+Ce.substr(We+1):null;we(xe[ot],Kn)<0&&(We=ot)}return He<Oe.length&&Me==="next"?xe+Ce.substr(xe.length):He<xe.length&&Me==="prev"?xe.substr(0,Ce.length):We<0?null:xe.substr(0,We)+Oe[We]+Ce.substr(We+1)})(te,ie,D[ge],j[ge],x,z);Se===null&&fe===null?B=ge+1:(fe===null||0<x(fe,Se))&&(fe=Se)}return G(fe!==null?function(){F.continue(fe+Q)}:X),!1}),f}function xr(f,m,g,b){return{type:2,lower:f,upper:m,lowerOpen:g,upperOpen:b}}function yr(f){return{type:1,lower:f,upper:f}}var Hi=(Object.defineProperty(Lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Lt.prototype.between=function(f,m,g,b){g=g!==!1,b=b===!0;try{return 0<this._cmp(f,m)||this._cmp(f,m)===0&&(g||b)&&(!g||!b)?ri(this):new this.Collection(this,function(){return xr(f,m,!g,!b)})}catch{return hn(this,Sn)}},Lt.prototype.equals=function(f){return f==null?hn(this,Sn):new this.Collection(this,function(){return yr(f)})},Lt.prototype.above=function(f){return f==null?hn(this,Sn):new this.Collection(this,function(){return xr(f,void 0,!0)})},Lt.prototype.aboveOrEqual=function(f){return f==null?hn(this,Sn):new this.Collection(this,function(){return xr(f,void 0,!1)})},Lt.prototype.below=function(f){return f==null?hn(this,Sn):new this.Collection(this,function(){return xr(void 0,f,!1,!0)})},Lt.prototype.belowOrEqual=function(f){return f==null?hn(this,Sn):new this.Collection(this,function(){return xr(void 0,f)})},Lt.prototype.startsWith=function(f){return typeof f!="string"?hn(this,rn):this.between(f,f+vn,!0,!0)},Lt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):lr(this,function(m,g){return m.indexOf(g[0])===0},[f],vn)},Lt.prototype.equalsIgnoreCase=function(f){return lr(this,function(m,g){return m===g[0]},[f],"")},Lt.prototype.anyOfIgnoreCase=function(){var f=ft.apply(st,arguments);return f.length===0?ri(this):lr(this,function(m,g){return g.indexOf(m)!==-1},f,"")},Lt.prototype.startsWithAnyOfIgnoreCase=function(){var f=ft.apply(st,arguments);return f.length===0?ri(this):lr(this,function(m,g){return g.some(function(b){return m.indexOf(b)===0})},f,vn)},Lt.prototype.anyOf=function(){var f=this,m=ft.apply(st,arguments),g=this._cmp;try{m.sort(g)}catch{return hn(this,Sn)}if(m.length===0)return ri(this);var b=new this.Collection(this,function(){return xr(m[0],m[m.length-1])});b._ondirectionchange=function(A){g=A==="next"?f._ascending:f._descending,m.sort(g)};var S=0;return b._addAlgorithm(function(A,x,D){for(var j=A.key;0<g(j,m[S]);)if(++S===m.length)return x(D),!1;return g(j,m[S])===0||(x(function(){A.continue(m[S])}),!1)}),b},Lt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Lt.prototype.noneOf=function(){var f=ft.apply(st,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return hn(this,Sn)}var m=f.reduce(function(g,b){return g?g.concat([[g[g.length-1][1],b]]):[[-1/0,b]]},null);return m.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Lt.prototype.inAnyRange=function(te,m){var g=this,b=this._cmp,S=this._ascending,A=this._descending,x=this._min,D=this._max;if(te.length===0)return ri(this);if(!te.every(function(ie){return ie[0]!==void 0&&ie[1]!==void 0&&S(ie[0],ie[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ne.InvalidArgument);var j=!m||m.includeLowers!==!1,z=m&&m.includeUppers===!0,Q,U=S;function $(ie,fe){return U(ie[0],fe[0])}try{(Q=te.reduce(function(ie,fe){for(var ge=0,Se=ie.length;ge<Se;++ge){var xe=ie[ge];if(b(fe[0],xe[1])<0&&0<b(fe[1],xe[0])){xe[0]=x(xe[0],fe[0]),xe[1]=D(xe[1],fe[1]);break}}return ge===Se&&ie.push(fe),ie},[])).sort($)}catch{return hn(this,Sn)}var B=0,F=z?function(ie){return 0<S(ie,Q[B][1])}:function(ie){return 0<=S(ie,Q[B][1])},G=j?function(ie){return 0<A(ie,Q[B][0])}:function(ie){return 0<=A(ie,Q[B][0])},X=F,te=new this.Collection(this,function(){return xr(Q[0][0],Q[Q.length-1][1],!j,!z)});return te._ondirectionchange=function(ie){U=ie==="next"?(X=F,S):(X=G,A),Q.sort($)},te._addAlgorithm(function(ie,fe,ge){for(var Se,xe=ie.key;X(xe);)if(++B===Q.length)return fe(ge),!1;return!F(Se=xe)&&!G(Se)||(g._cmp(xe,Q[B][1])===0||g._cmp(xe,Q[B][0])===0||fe(function(){U===S?ie.continue(Q[B][0]):ie.continue(Q[B][1])}),!1)}),te},Lt.prototype.startsWithAnyOf=function(){var f=ft.apply(st,arguments);return f.every(function(m){return typeof m=="string"})?f.length===0?ri(this):this.inAnyRange(f.map(function(m){return[m,m+vn]})):hn(this,"startsWithAnyOf() only works with strings")},Lt);function Lt(){}function qn(f){return kt(function(m){return _i(m),f(m.target.error),!1})}function _i(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var Dr="storagemutated",vr="x-storagemutated-1",_n=Wr(null,Dr),Ps=(ht.prototype._lock=function(){return ct(!De.global),++this._reculock,this._reculock!==1||De.global||(De.lockOwnerFor=this),this},ht.prototype._unlock=function(){if(ct(!De.global),--this._reculock==0)for(De.global||(De.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Bn(f[1],f[0])}catch{}}return this},ht.prototype._locked=function(){return this._reculock&&De.lockOwnerFor!==this},ht.prototype.create=function(f){var m=this;if(!this.mode)return this;var g=this.db.idbdb,b=this.db._state.dbOpenError;if(ct(!this.idbtrans),!f&&!g)switch(b&&b.name){case"DatabaseClosedError":throw new Ne.DatabaseClosed(b);case"MissingAPIError":throw new Ne.MissingAPI(b.message,b);default:throw new Ne.OpenFailed(b)}if(!this.active)throw new Ne.TransactionInactive;return ct(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(S){_i(S),m._reject(f.error)}),f.onabort=kt(function(S){_i(S),m.active&&m._reject(new Ne.Abort(f.error)),m.active=!1,m.on("abort").fire(S)}),f.oncomplete=kt(function(){m.active=!1,m._resolve(),"mutatedParts"in f&&_n.storagemutated.fire(f.mutatedParts)}),this},ht.prototype._promise=function(f,m,g){var b=this;if(f==="readwrite"&&this.mode!=="readwrite")return Rt(new Ne.ReadOnly("Transaction is readonly"));if(!this.active)return Rt(new Ne.TransactionInactive);if(this._locked())return new Re(function(A,x){b._blockedFuncs.push([function(){b._promise(f,m,g).then(A,x)},De])});if(g)return Pt(function(){var A=new Re(function(x,D){b._lock();var j=m(x,D,b);j&&j.then&&j.then(x,D)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var S=new Re(function(A,x){var D=m(A,x,b);D&&D.then&&D.then(A,x)});return S._lib=!0,S},ht.prototype._root=function(){return this.parent?this.parent._root():this},ht.prototype.waitFor=function(f){var m,g=this._root(),b=Re.resolve(f);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return b}):(g._waitingFor=b,g._waitingQueue=[],m=g.idbtrans.objectStore(g.storeNames[0]),(function A(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(m.get(-1/0).onsuccess=A)})());var S=g._waitingFor;return new Re(function(A,x){b.then(function(D){return g._waitingQueue.push(kt(A.bind(null,D)))},function(D){return g._waitingQueue.push(kt(x.bind(null,D)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},ht.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ne.Abort))},ht.prototype.table=function(f){var m=this._memoizedTables||(this._memoizedTables={});if(O(m,f))return m[f];var g=this.schema[f];if(!g)throw new Ne.NotFound("Table "+f+" not part of transaction");return g=new this.db.Table(f,g,this),g.core=this.db.core.table(f),m[f]=g},ht);function ht(){}function Nr(f,m,g,b,S,A,x,D){return{name:f,keyPath:m,unique:g,multi:b,auto:S,compound:A,src:(g&&!x?"&":"")+(b?"*":"")+(S?"++":"")+Ea(m),type:D}}function Ea(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Ki(f,m,g){return{name:f,primKey:m,indexes:g,mappedClass:null,idxByName:(b=function(S){return[S.name,S]},g.reduce(function(S,A,x){return x=b(A,x),x&&(S[x[0]]=x[1]),S},{}))};var b}var Fi=function(f){try{return f.only([[]]),Fi=function(){return[[]]},[[]]}catch{return Fi=function(){return vn},vn}};function Gi(f){return f==null?function(){}:typeof f=="string"?(m=f).split(".").length===1?function(g){return g[m]}:function(g){return $e(g,m)}:function(g){return $e(g,f)};var m}function bi(f){return[].slice.call(f)}var ii=0;function on(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Yi(f,m,j){function b(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var B=X.lower,F=X.upper,G=X.lowerOpen,X=X.upperOpen;return B===void 0?F===void 0?null:m.upperBound(F,!!X):F===void 0?m.lowerBound(B,!!G):m.bound(B,F,!!G,!!X)}function S($){var B,F=$.name;return{name:F,schema:$,mutate:function(G){var X=G.trans,te=G.type,ie=G.keys,fe=G.values,ge=G.range;return new Promise(function(Se,xe){Se=kt(Se);var Te=X.objectStore(F),Ce=Te.keyPath==null,Oe=te==="put"||te==="add";if(!Oe&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var we,Me=(ie||fe||{length:1}).length;if(ie&&fe&&ie.length!==fe.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return Se({numFailures:0,failures:{},results:[],lastResult:void 0});function He(Rn){++Kn,_i(Rn)}var We=[],ot=[],Kn=0;if(te==="deleteRange"){if(ge.type===4)return Se({numFailures:Kn,failures:ot,results:[],lastResult:void 0});ge.type===3?We.push(we=Te.clear()):We.push(we=Te.delete(b(ge)))}else{var Ce=Oe?Ce?[fe,ie]:[fe,null]:[ie,null],Ze=Ce[0],Cn=Ce[1];if(Oe)for(var Wt=0;Wt<Me;++Wt)We.push(we=Cn&&Cn[Wt]!==void 0?Te[te](Ze[Wt],Cn[Wt]):Te[te](Ze[Wt])),we.onerror=He;else for(Wt=0;Wt<Me;++Wt)We.push(we=Te[te](Ze[Wt])),we.onerror=He}function No(Rn){Rn=Rn.target.result,We.forEach(function(Lr,hu){return Lr.error!=null&&(ot[hu]=Lr.error)}),Se({numFailures:Kn,failures:ot,results:te==="delete"?ie:We.map(function(Lr){return Lr.result}),lastResult:Rn})}we.onerror=function(Rn){He(Rn),No(Rn)},we.onsuccess=No})},getMany:function(G){var X=G.trans,te=G.keys;return new Promise(function(ie,fe){ie=kt(ie);for(var ge,Se=X.objectStore(F),xe=te.length,Te=new Array(xe),Ce=0,Oe=0,we=function(We){We=We.target,Te[We._pos]=We.result,++Oe===Ce&&ie(Te)},Me=qn(fe),He=0;He<xe;++He)te[He]!=null&&((ge=Se.get(te[He]))._pos=He,ge.onsuccess=we,ge.onerror=Me,++Ce);Ce===0&&ie(Te)})},get:function(G){var X=G.trans,te=G.key;return new Promise(function(ie,fe){ie=kt(ie);var ge=X.objectStore(F).get(te);ge.onsuccess=function(Se){return ie(Se.target.result)},ge.onerror=qn(fe)})},query:(B=z,function(G){return new Promise(function(X,te){X=kt(X);var ie,fe,ge,Ce=G.trans,Se=G.values,xe=G.limit,we=G.query,Te=xe===1/0?void 0:xe,Oe=we.index,we=we.range,Ce=Ce.objectStore(F),Oe=Oe.isPrimaryKey?Ce:Ce.index(Oe.name),we=b(we);if(xe===0)return X({result:[]});B?((Te=Se?Oe.getAll(we,Te):Oe.getAllKeys(we,Te)).onsuccess=function(Me){return X({result:Me.target.result})},Te.onerror=qn(te)):(ie=0,fe=!Se&&"openKeyCursor"in Oe?Oe.openKeyCursor(we):Oe.openCursor(we),ge=[],fe.onsuccess=function(Me){var He=fe.result;return He?(ge.push(Se?He.value:He.primaryKey),++ie===xe?X({result:ge}):void He.continue()):X({result:ge})},fe.onerror=qn(te))})}),openCursor:function(G){var X=G.trans,te=G.values,ie=G.query,fe=G.reverse,ge=G.unique;return new Promise(function(Se,xe){Se=kt(Se);var Oe=ie.index,Te=ie.range,Ce=X.objectStore(F),Ce=Oe.isPrimaryKey?Ce:Ce.index(Oe.name),Oe=fe?ge?"prevunique":"prev":ge?"nextunique":"next",we=!te&&"openKeyCursor"in Ce?Ce.openKeyCursor(b(Te),Oe):Ce.openCursor(b(Te),Oe);we.onerror=qn(xe),we.onsuccess=kt(function(Me){var He,We,ot,Kn,Ze=we.result;Ze?(Ze.___id=++ii,Ze.done=!1,He=Ze.continue.bind(Ze),We=(We=Ze.continuePrimaryKey)&&We.bind(Ze),ot=Ze.advance.bind(Ze),Kn=function(){throw new Error("Cursor not stopped")},Ze.trans=X,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=kt(xe),Ze.next=function(){var Cn=this,Wt=1;return this.start(function(){return Wt--?Cn.continue():Cn.stop()}).then(function(){return Cn})},Ze.start=function(Cn){function Wt(){if(we.result)try{Cn()}catch(Rn){Ze.fail(Rn)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var No=new Promise(function(Rn,Lr){Rn=kt(Rn),we.onerror=qn(Lr),Ze.fail=Lr,Ze.stop=function(hu){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=Kn,Rn(hu)}});return we.onsuccess=kt(function(Rn){we.onsuccess=Wt,Wt()}),Ze.continue=He,Ze.continuePrimaryKey=We,Ze.advance=ot,Wt(),No},Se(Ze)):Se(null)},xe)})},count:function(G){var X=G.query,te=G.trans,ie=X.index,fe=X.range;return new Promise(function(ge,Se){var xe=te.objectStore(F),Te=ie.isPrimaryKey?xe:xe.index(ie.name),xe=b(fe),Te=xe?Te.count(xe):Te.count();Te.onsuccess=kt(function(Ce){return ge(Ce.target.result)}),Te.onerror=qn(Se)})}}}var A,x,D,Q=(x=j,D=bi((A=f).objectStoreNames),{schema:{name:A.name,tables:D.map(function($){return x.objectStore($)}).map(function($){var B=$.keyPath,X=$.autoIncrement,F=y(B),G={},X={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B==null,compound:F,keyPath:B,autoIncrement:X,unique:!0,extractKey:Gi(B)},indexes:bi($.indexNames).map(function(te){return $.index(te)}).map(function(ge){var ie=ge.name,fe=ge.unique,Se=ge.multiEntry,ge=ge.keyPath,Se={name:ie,compound:y(ge),keyPath:ge,unique:fe,multiEntry:Se,extractKey:Gi(ge)};return G[on(ge)]=Se}),getIndexByKeyPath:function(te){return G[on(te)]}};return G[":id"]=X.primaryKey,B!=null&&(G[on(B)]=X.primaryKey),X})},hasGetAll:0<D.length&&"getAll"in x.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),j=Q.schema,z=Q.hasGetAll,Q=j.tables.map(S),U={};return Q.forEach(function($){return U[$.name]=$}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function($){if(!U[$])throw new Error("Table '".concat($,"' not found"));return U[$]},MIN_KEY:-1/0,MAX_KEY:Fi(m),schema:j}}function Ei(f,m,g,b){var S=g.IDBKeyRange;return g.indexedDB,{dbcore:(b=Yi(m,S,b),f.dbcore.reduce(function(A,x){return x=x.create,s(s({},A),x(A))},b))}}function si(f,b){var g=b.db,b=Ei(f._middlewares,g,f._deps,b);f.core=b.dbcore,f.tables.forEach(function(S){var A=S.name;f.core.schema.tables.some(function(x){return x.name===A})&&(S.core=f.core.table(A),f[A]instanceof f.Table&&(f[A].core=S.core))})}function ls(f,m,g,b){g.forEach(function(S){var A=b[S];m.forEach(function(x){var D=(function j(z,Q){return be(z,Q)||(z=E(z))&&j(z,Q)})(x,S);(!D||"value"in D&&D.value===void 0)&&(x===f.Transaction.prototype||x instanceof f.Transaction?ce(x,S,{get:function(){return this.table(S)},set:function(j){W(this,S,{value:j,writable:!0,configurable:!0,enumerable:!0})}}):x[S]=new f.Table(S,A))})})}function Ti(f,m){m.forEach(function(g){for(var b in g)g[b]instanceof f.Table&&delete g[b]})}function Ta(f,m){return f._cfg.version-m._cfg.version}function wi(f,m,g,b){var S=f._dbSchema;g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Ki("$meta",Io("")[0],[]),f._storeNames.push("$meta"));var A=f._createTransaction("readwrite",f._storeNames,S);A.create(g),A._completion.catch(b);var x=A._reject.bind(A),D=De.transless||De;Pt(function(){return De.trans=A,De.transless=D,m!==0?(si(f,g),z=m,((j=A).storeNames.includes("$meta")?j.table("$meta").get("version").then(function(Q){return Q??z}):Re.resolve(z)).then(function(Q){return $=Q,B=A,F=g,G=[],Q=(U=f)._versions,X=U._dbSchema=Si(0,U.idbdb,F),(Q=Q.filter(function(te){return te._cfg.version>=$})).length!==0?(Q.forEach(function(te){G.push(function(){var ie=X,fe=te._cfg.dbschema;us(U,ie,F),us(U,fe,F),X=U._dbSchema=fe;var ge=Ls(ie,fe);ge.add.forEach(function(Oe){Qi(F,Oe[0],Oe[1].primKey,Oe[1].indexes)}),ge.change.forEach(function(Oe){if(Oe.recreate)throw new Ne.Upgrade("Not yet support for changing primary key");var we=F.objectStore(Oe.name);Oe.add.forEach(function(Me){return Us(we,Me)}),Oe.change.forEach(function(Me){we.deleteIndex(Me.name),Us(we,Me)}),Oe.del.forEach(function(Me){return we.deleteIndex(Me)})});var Se=te._cfg.contentUpgrade;if(Se&&te._cfg.version>$){si(U,F),B._memoizedTables={};var xe=N(fe);ge.del.forEach(function(Oe){xe[Oe]=ie[Oe]}),Ti(U,[U.Transaction.prototype]),ls(U,[U.Transaction.prototype],d(xe),xe),B.schema=xe;var Te,Ce=K(Se);return Ce&&Yt(),ge=Re.follow(function(){var Oe;(Te=Se(B))&&Ce&&(Oe=Vn.bind(null,null),Te.then(Oe,Oe))}),Te&&typeof Te.then=="function"?Re.resolve(Te):ge.then(function(){return Te})}}),G.push(function(ie){var fe,ge,Se=te._cfg.dbschema;fe=Se,ge=ie,[].slice.call(ge.db.objectStoreNames).forEach(function(xe){return fe[xe]==null&&ge.db.deleteObjectStore(xe)}),Ti(U,[U.Transaction.prototype]),ls(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),B.schema=U._dbSchema}),G.push(function(ie){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===te._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(fe){return fe!=="$meta"})):ie.objectStore("$meta").put(te._cfg.version,"version"))})}),(function te(){return G.length?Re.resolve(G.shift()(B.idbtrans)).then(te):Re.resolve()})().then(function(){Ro(X,F)})):Re.resolve();var U,$,B,F,G,X}).catch(x)):(d(S).forEach(function(Q){Qi(g,Q,S[Q].primKey,S[Q].indexes)}),si(f,g),void Re.follow(function(){return f.on.populate.fire(A)}).catch(x));var j,z})}function wa(f,m){Ro(f._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var g=Si(0,f.idbdb,m);us(f,f._dbSchema,m);for(var b=0,S=Ls(g,f._dbSchema).change;b<S.length;b++){var A=(function(x){if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=m.objectStore(x.name);x.add.forEach(function(j){kn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(j.src)),Us(D,j)})})(S[b]);if(typeof A=="object")return A.value}}function Ls(f,m){var g,b={del:[],add:[],change:[]};for(g in f)m[g]||b.del.push(g);for(g in m){var S=f[g],A=m[g];if(S){var x={name:g,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||S.primKey.auto!==A.primKey.auto)x.recreate=!0,b.change.push(x);else{var D=S.idxByName,j=A.idxByName,z=void 0;for(z in D)j[z]||x.del.push(z);for(z in j){var Q=D[z],U=j[z];Q?Q.src!==U.src&&x.change.push(U):x.add.push(U)}(0<x.del.length||0<x.add.length||0<x.change.length)&&b.change.push(x)}}else b.add.push([g,A])}return b}function Qi(f,m,g,b){var S=f.db.createObjectStore(m,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return b.forEach(function(A){return Us(S,A)}),S}function Ro(f,m){d(f).forEach(function(g){m.db.objectStoreNames.contains(g)||(kn&&console.debug("Dexie: Creating missing table",g),Qi(m,g,f[g].primKey,f[g].indexes))})}function Us(f,m){f.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Si(f,m,g){var b={};return Fe(m.objectStoreNames,0).forEach(function(S){for(var A=g.objectStore(S),x=Nr(Ea(z=A.keyPath),z||"",!0,!1,!!A.autoIncrement,z&&typeof z!="string",!0),D=[],j=0;j<A.indexNames.length;++j){var Q=A.index(A.indexNames[j]),z=Q.keyPath,Q=Nr(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);D.push(Q)}b[S]=Ki(S,x,D)}),b}function us(f,m,g){for(var b=g.db.objectStoreNames,S=0;S<b.length;++S){var A=b[S],x=g.objectStore(A);f._hasGetAll="getAll"in x;for(var D=0;D<x.indexNames.length;++D){var j=x.indexNames[D],z=x.index(j).keyPath,Q=typeof z=="string"?z:"["+Fe(z).join("+")+"]";!m[A]||(z=m[A].idxByName[Q])&&(z.name=j,delete m[A].idxByName[Q],m[A].idxByName[j]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Io(f){return f.split(",").map(function(m,g){var A=m.split(":"),b=(S=A[1])===null||S===void 0?void 0:S.trim(),S=(m=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Nr(S,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),y(A),g===0,b)})}var Sa=(Xi.prototype._createTableSchema=Ki,Xi.prototype._parseIndexSyntax=Io,Xi.prototype._parseStoresSpec=function(f,m){var g=this;d(f).forEach(function(b){if(f[b]!==null){var S=g._parseIndexSyntax(f[b]),A=S.shift();if(!A)throw new Ne.Schema("Invalid schema for table "+b+": "+f[b]);if(A.unique=!0,A.multi)throw new Ne.Schema("Primary key cannot be multiEntry*");S.forEach(function(x){if(x.auto)throw new Ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new Ne.Schema("Index must have a name and cannot be an empty string")}),S=g._createTableSchema(b,A,S),m[b]=S}})},Xi.prototype.stores=function(g){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?_(this._cfg.storesSource,g):g;var g=m._versions,b={},S={};return g.forEach(function(A){_(b,A._cfg.storesSource),S=A._cfg.dbschema={},A._parseStoresSpec(b,S)}),m._dbSchema=S,Ti(m,[m._allTables,m,m.Transaction.prototype]),ls(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],d(S),S),m._storeNames=d(S),this},Xi.prototype.upgrade=function(f){return this._cfg.contentUpgrade=tn(this._cfg.contentUpgrade||St,f),this},Xi);function Xi(){}function Aa(f,m){var g=f._dbNamesDB;return g||(g=f._dbNamesDB=new Ci(ss,{addons:[],indexedDB:f,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Mr(f){return f&&typeof f.databases=="function"}function Ca(f){return Pt(function(){return De.letThrough=!0,f()})}function Ra(f){return!("from"in f)}var bn=function(f,m){if(!this){var g=new bn;return f&&"d"in f&&_(g,f),g}_(this,arguments.length?{d:1,from:f,to:1<arguments.length?m:f}:{d:0})};function cs(f,m,g){var b=at(m,g);if(!isNaN(b)){if(0<b)throw RangeError();if(Ra(f))return _(f,{from:m,to:g,d:1});var S=f.l,b=f.r;if(at(g,f.from)<0)return S?cs(S,m,g):f.l={from:m,to:g,d:1,l:null,r:null},Oo(f);if(0<at(m,f.to))return b?cs(b,m,g):f.r={from:m,to:g,d:1,l:null,r:null},Oo(f);at(m,f.from)<0&&(f.from=m,f.l=null,f.d=b?b.d+1:1),0<at(g,f.to)&&(f.to=g,f.r=null,f.d=f.l?f.l.d+1:1),g=!f.r,S&&!f.l&&kr(f,S),b&&g&&kr(f,b)}}function kr(f,m){Ra(m)||(function g(b,j){var A=j.from,x=j.to,D=j.l,j=j.r;cs(b,A,x),D&&g(b,D),j&&g(b,j)})(f,m)}function Hn(f,m){var g=js(m),b=g.next();if(b.done)return!1;for(var S=b.value,A=js(f),x=A.next(S.from),D=x.value;!b.done&&!x.done;){if(at(D.from,S.to)<=0&&0<=at(D.to,S.from))return!0;at(S.from,D.from)<0?S=(b=g.next(D.from)).value:D=(x=A.next(S.from)).value}return!1}function js(f){var m=Ra(f)?null:{s:0,n:f};return{next:function(g){for(var b=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,b)for(;m.n.l&&at(g,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!b||at(g,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function Oo(f){var m,g,b=(((m=f.r)===null||m===void 0?void 0:m.d)||0)-(((g=f.l)===null||g===void 0?void 0:g.d)||0),S=1<b?"r":b<-1?"l":"";S&&(m=S=="r"?"l":"r",g=s({},f),b=f[S],f.from=b.from,f.to=b.to,f[S]=b[S],g[S]=b[m],(f[m]=g).d=Ai(g)),f.d=Ai(f)}function Ai(g){var m=g.r,g=g.l;return(m?g?Math.max(m.d,g.d):m.d:g?g.d:0)+1}function c(f,m){return d(m).forEach(function(g){f[g]?kr(f[g],m[g]):f[g]=(function b(S){var A,x,D={};for(A in S)O(S,A)&&(x=S[A],D[A]=!x||typeof x!="object"||q.has(x.constructor)?x:b(x));return D})(m[g])}),f}function v(f,m){return f.all||m.all||Object.keys(f).some(function(g){return m[g]&&Hn(m[g],f[g])})}k(bn.prototype,((br={add:function(f){return kr(this,f),this},addKey:function(f){return cs(this,f,f),this},addKeys:function(f){var m=this;return f.forEach(function(g){return cs(m,g,g)}),this},hasKey:function(f){var m=js(this).next(f).value;return m&&at(m.from,f)<=0&&0<=at(m.to,f)}})[ae]=function(){return js(this)},br));var w={},I={},ee=!1;function oe(f){c(I,f),ee||(ee=!0,setTimeout(function(){ee=!1,Ae(I,!(I={}))},0))}function Ae(f,m){m===void 0&&(m=!1);var g=new Set;if(f.all)for(var b=0,S=Object.values(w);b<S.length;b++)tt(x=S[b],f,g,m);else for(var A in f){var x,D=/^idb\:\/\/(.*)\/(.*)\//.exec(A);D&&(A=D[1],D=D[2],(x=w["idb://".concat(A,"/").concat(D)])&&tt(x,f,g,m))}g.forEach(function(j){return j()})}function tt(f,m,g,b){for(var S=[],A=0,x=Object.entries(f.queries.query);A<x.length;A++){for(var D=x[A],j=D[0],z=[],Q=0,U=D[1];Q<U.length;Q++){var $=U[Q];v(m,$.obsSet)?$.subscribers.forEach(function(X){return g.add(X)}):b&&z.push($)}b&&S.push([j,z])}if(b)for(var B=0,F=S;B<F.length;B++){var G=F[B],j=G[0],z=G[1];f.queries.query[j]=z}}function ln(f){var m=f._state,g=f._deps.indexedDB;if(m.isBeingOpened||f.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Rt(m.dbOpenError):f});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var b=m.openCanceller,S=Math.round(10*f.verno),A=!1;function x(){if(m.openCanceller!==b)throw new Ne.DatabaseClosed("db.open() was cancelled")}function D(){return new Re(function($,B){if(x(),!g)throw new Ne.MissingAPI;var F=f.name,G=m.autoSchema||!S?g.open(F):g.open(F,S);if(!G)throw new Ne.MissingAPI;G.onerror=qn(B),G.onblocked=kt(f._fireOnBlocked),G.onupgradeneeded=kt(function(X){var te;Q=G.transaction,m.autoSchema&&!f._options.allowEmptyDB?(G.onerror=_i,Q.abort(),G.result.close(),(te=g.deleteDatabase(F)).onsuccess=te.onerror=kt(function(){B(new Ne.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(Q.onerror=qn(B),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,U=X<1,f.idbdb=G.result,A&&wa(f,Q),wi(f,X/10,Q,B))},B),G.onsuccess=kt(function(){Q=null;var X,te,ie,fe,ge,Se=f.idbdb=G.result,xe=Fe(Se.objectStoreNames);if(0<xe.length)try{var Te=Se.transaction((fe=xe).length===1?fe[0]:fe,"readonly");if(m.autoSchema)te=Se,ie=Te,(X=f).verno=te.version/10,ie=X._dbSchema=Si(0,te,ie),X._storeNames=Fe(te.objectStoreNames,0),ls(X,[X._allTables],d(ie),ie);else if(us(f,f._dbSchema,Te),((ge=Ls(Si(0,(ge=f).idbdb,Te),ge._dbSchema)).add.length||ge.change.some(function(Ce){return Ce.add.length||Ce.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),S=Se.version+1,A=!0,$(D());si(f,Te)}catch{}vi.push(f),Se.onversionchange=kt(function(Ce){m.vcFired=!0,f.on("versionchange").fire(Ce)}),Se.onclose=kt(function(){f.close({disableAutoOpen:!1})}),U&&(ge=f._deps,Te=F,Se=ge.indexedDB,ge=ge.IDBKeyRange,Mr(Se)||Te===ss||Aa(Se,ge).put({name:Te}).catch(St)),$()},B)}).catch(function($){switch($?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(0<S)return S=0,D()}return Re.reject($)})}var j,z=m.dbReadyResolve,Q=null,U=!1;return Re.race([b,(typeof navigator>"u"?Re.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function B(){return indexedDB.databases().finally($)}j=setInterval(B,100),B()}).finally(function(){return clearInterval(j)}):Promise.resolve()).then(D)]).then(function(){return x(),m.onReadyBeingFired=[],Re.resolve(Ca(function(){return f.on.ready.fire(f.vip)})).then(function $(){if(0<m.onReadyBeingFired.length){var B=m.onReadyBeingFired.reduce(tn,St);return m.onReadyBeingFired=[],Re.resolve(Ca(function(){return B(f.vip)})).then($)}})}).finally(function(){m.openCanceller===b&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function($){m.dbOpenError=$;try{Q&&Q.abort()}catch{}return b===m.openCanceller&&f._close(),Rt($)}).finally(function(){m.openComplete=!0,z()}).then(function(){var $;return U&&($={},f.tables.forEach(function(B){B.schema.indexes.forEach(function(F){F.name&&($["idb://".concat(f.name,"/").concat(B.name,"/").concat(F.name)]=new bn(-1/0,[[[]]]))}),$["idb://".concat(f.name,"/").concat(B.name,"/")]=$["idb://".concat(f.name,"/").concat(B.name,"/:dels")]=new bn(-1/0,[[[]]])}),_n(Dr).fire($),Ae($,!0)),f})}function At(f){function m(A){return f.next(A)}var g=S(m),b=S(function(A){return f.throw(A)});function S(A){return function(j){var D=A(j),j=D.value;return D.done?j:j&&typeof j.then=="function"?j.then(g,b):y(j)?Promise.all(j).then(g,b):g(j)}}return S(m)()}function Ut(f,m,g){for(var b=y(f)?f.slice():[f],S=0;S<g;++S)b.push(m);return b}var Vr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema,S={},A=[];function x(U,$,B){var F=on(U),G=S[F]=S[F]||[],X=U==null?0:typeof U=="string"?1:U.length,te=0<$,te=s(s({},B),{name:te?"".concat(F,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:te,keyTail:$,keyLength:X,extractKey:Gi(U),unique:!te&&B.unique});return G.push(te),te.isPrimaryKey||A.push(te),1<X&&x(X===2?U[0]:U.slice(0,X-1),$+1,B),G.sort(function(ie,fe){return ie.keyTail-fe.keyTail}),te}m=x(b.primaryKey.keyPath,0,b.primaryKey),S[":id"]=[m];for(var D=0,j=b.indexes;D<j.length;D++){var z=j[D];x(z.keyPath,0,z)}function Q(U){var $,B=U.query.index;return B.isVirtual?s(s({},U),{query:{index:B.lowLevelIndex,range:($=U.query.range,B=B.keyTail,{type:$.type===1?2:$.type,lower:Ut($.lower,$.lowerOpen?f.MAX_KEY:f.MIN_KEY,B),lowerOpen:!0,upper:Ut($.upper,$.upperOpen?f.MIN_KEY:f.MAX_KEY,B),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},b),{primaryKey:m,indexes:A,getIndexByKeyPath:function(U){return(U=S[on(U)])&&U[0]}}),count:function(U){return g.count(Q(U))},query:function(U){return g.query(Q(U))},openCursor:function(U){var $=U.query.index,B=$.keyTail,F=$.isVirtual,G=$.keyLength;return F?g.openCursor(Q(U)).then(function(te){return te&&X(te)}):g.openCursor(U);function X(te){return Object.create(te,{continue:{value:function(ie){ie!=null?te.continue(Ut(ie,U.reverse?f.MAX_KEY:f.MIN_KEY,B)):U.unique?te.continue(te.key.slice(0,G).concat(U.reverse?f.MIN_KEY:f.MAX_KEY,B)):te.continue()}},continuePrimaryKey:{value:function(ie,fe){te.continuePrimaryKey(Ut(ie,f.MAX_KEY,B),fe)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var ie=te.key;return G===1?ie[0]:ie.slice(0,G)}},value:{get:function(){return te.value}}})}}})}})}};function Pr(f,m,g,b){return g=g||{},b=b||"",d(f).forEach(function(S){var A,x,D;O(m,S)?(A=f[S],x=m[S],typeof A=="object"&&typeof x=="object"&&A&&x?(D=Ft(A))!==Ft(x)?g[b+S]=m[S]:D==="Object"?Pr(A,x,g,b+S+"."):A!==x&&(g[b+S]=m[S]):A!==x&&(g[b+S]=m[S])):g[b+S]=void 0}),d(m).forEach(function(S){O(f,S)||(g[b+S]=m[S])}),g}function _r(f,m){return m.type==="delete"?m.keys:m.keys||m.values.map(f.extractKey)}var ai={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema.primaryKey;return s(s({},g),{mutate:function(S){var A=De.trans,x=A.table(m).hook,D=x.deleting,j=x.creating,z=x.updating;switch(S.type){case"add":if(j.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"put":if(j.fire===St&&z.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"delete":if(D.fire===St)break;return A._promise("readwrite",function(){return Q(S)},!0);case"deleteRange":if(D.fire===St)break;return A._promise("readwrite",function(){return(function U($,B,F){return g.query({trans:$,values:!1,query:{index:b,range:B},limit:F}).then(function(G){var X=G.result;return Q({type:"delete",keys:X,trans:$}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):X.length<F?{failures:[],numFailures:0,lastResult:void 0}:U($,s(s({},B),{lower:X[X.length-1],lowerOpen:!0}),F)})})})(S.trans,S.range,1e4)},!0)}return g.mutate(S);function Q(U){var $,B,F,G=De.trans,X=U.keys||_r(b,U);if(!X)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:X}):s({},U)).type!=="delete"&&(U.values=o([],U.values)),U.keys&&(U.keys=o([],U.keys)),$=g,F=X,((B=U).type==="add"?Promise.resolve([]):$.getMany({trans:B.trans,keys:F,cache:"immutable"})).then(function(te){var ie=X.map(function(fe,ge){var Se,xe,Te,Ce=te[ge],Oe={onerror:null,onsuccess:null};return U.type==="delete"?D.fire.call(Oe,fe,Ce,G):U.type==="add"||Ce===void 0?(Se=j.fire.call(Oe,fe,U.values[ge],G),fe==null&&Se!=null&&(U.keys[ge]=fe=Se,b.outbound||V(U.values[ge],b.keyPath,fe))):(Se=Pr(Ce,U.values[ge]),(xe=z.fire.call(Oe,Se,fe,Ce,G))&&(Te=U.values[ge],Object.keys(xe).forEach(function(we){O(Te,we)?Te[we]=xe[we]:V(Te,we,xe[we])}))),Oe});return g.mutate(U).then(function(fe){for(var ge=fe.failures,Se=fe.results,xe=fe.numFailures,fe=fe.lastResult,Te=0;Te<X.length;++Te){var Ce=(Se||X)[Te],Oe=ie[Te];Ce==null?Oe.onerror&&Oe.onerror(ge[Te]):Oe.onsuccess&&Oe.onsuccess(U.type==="put"&&te[Te]?U.values[Te]:Ce)}return{failures:ge,results:Se,numFailures:xe,lastResult:fe}}).catch(function(fe){return ie.forEach(function(ge){return ge.onerror&&ge.onerror(fe)}),Promise.reject(fe)})})}}})}})}};function fs(f,m,g){try{if(!m||m.keys.length<f.length)return null;for(var b=[],S=0,A=0;S<m.keys.length&&A<f.length;++S)at(m.keys[S],f[A])===0&&(b.push(g?M(m.values[S]):m.values[S]),++A);return b.length===f.length?b:null}catch{return null}}var Ia={stack:"dbcore",level:-1,create:function(f){return{table:function(m){var g=f.table(m);return s(s({},g),{getMany:function(b){if(!b.cache)return g.getMany(b);var S=fs(b.keys,b.trans._cache,b.cache==="clone");return S?Re.resolve(S):g.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?M(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),g.mutate(b)}})}}}};function zs(f,m){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function xc(f,m){switch(f){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var zh={stack:"dbcore",level:0,name:"Observability",create:function(f){var m=f.schema.name,g=new bn(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(b,S,A){if(De.subscr&&S!=="readonly")throw new Ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(De.querier));return f.transaction(b,S,A)},table:function(b){var S=f.table(b),A=S.schema,x=A.primaryKey,U=A.indexes,D=x.extractKey,j=x.outbound,z=x.autoIncrement&&U.filter(function(B){return B.compound&&B.keyPath.includes(x.keyPath)}),Q=s(s({},S),{mutate:function(B){function F(we){return we="idb://".concat(m,"/").concat(b,"/").concat(we),fe[we]||(fe[we]=new bn)}var G,X,te,ie=B.trans,fe=B.mutatedParts||(B.mutatedParts={}),ge=F(""),Se=F(":dels"),xe=B.type,Oe=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[_r(x,B).filter(function(we){return we}),B.values]:[],Te=Oe[0],Ce=Oe[1],Oe=B.trans._cache;return y(Te)?(ge.addKeys(Te),(Oe=xe==="delete"||Te.length===Ce.length?fs(Te,Oe):null)||Se.addKeys(Te),(Oe||Ce)&&(G=F,X=Oe,te=Ce,A.indexes.forEach(function(we){var Me=G(we.name||"");function He(ot){return ot!=null?we.extractKey(ot):null}function We(ot){return we.multiEntry&&y(ot)?ot.forEach(function(Kn){return Me.addKey(Kn)}):Me.addKey(ot)}(X||te).forEach(function(ot,Cn){var Ze=X&&He(X[Cn]),Cn=te&&He(te[Cn]);at(Ze,Cn)!==0&&(Ze!=null&&We(Ze),Cn!=null&&We(Cn))})}))):Te?(Ce={from:(Ce=Te.lower)!==null&&Ce!==void 0?Ce:f.MIN_KEY,to:(Ce=Te.upper)!==null&&Ce!==void 0?Ce:f.MAX_KEY},Se.add(Ce),ge.add(Ce)):(ge.add(g),Se.add(g),A.indexes.forEach(function(we){return F(we.name).add(g)})),S.mutate(B).then(function(we){return!Te||B.type!=="add"&&B.type!=="put"||(ge.addKeys(we.results),z&&z.forEach(function(Me){for(var He=B.values.map(function(Ze){return Me.extractKey(Ze)}),We=Me.keyPath.findIndex(function(Ze){return Ze===x.keyPath}),ot=0,Kn=we.results.length;ot<Kn;++ot)He[ot][We]=we.results[ot];F(Me.name).addKeys(He)})),ie.mutatedParts=c(ie.mutatedParts||{},fe),we})}}),U=function(F){var G=F.query,F=G.index,G=G.range;return[F,new bn((F=G.lower)!==null&&F!==void 0?F:f.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:f.MAX_KEY)]},$={get:function(B){return[x,new bn(B.key)]},getMany:function(B){return[x,new bn().addKeys(B.keys)]},count:U,query:U,openCursor:U};return d($).forEach(function(B){Q[B]=function(F){var G=De.subscr,X=!!G,te=zs(De,S)&&xc(B,F)?F.obsSet={}:G;if(X){var ie=function(Ce){return Ce="idb://".concat(m,"/").concat(b,"/").concat(Ce),te[Ce]||(te[Ce]=new bn)},fe=ie(""),ge=ie(":dels"),G=$[B](F),X=G[0],G=G[1];if((B==="query"&&X.isPrimaryKey&&!F.values?ge:ie(X.name||"")).add(G),!X.isPrimaryKey){if(B!=="count"){var Se=B==="query"&&j&&F.values&&S.query(s(s({},F),{values:!1}));return S[B].apply(this,arguments).then(function(Ce){if(B==="query"){if(j&&F.values)return Se.then(function(He){return He=He.result,fe.addKeys(He),Ce});var Oe=F.values?Ce.result.map(D):Ce.result;(F.values?fe:ge).addKeys(Oe)}else if(B==="openCursor"){var we=Ce,Me=F.values;return we&&Object.create(we,{key:{get:function(){return ge.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var He=we.primaryKey;return ge.addKey(He),He}},value:{get:function(){return Me&&fe.addKey(we.primaryKey),we.value}}})}return Ce})}ge.add(g)}}return S[B].apply(this,arguments)}}),Q}})}};function Dc(f,m,g){if(g.numFailures===0)return m;if(m.type==="deleteRange")return null;var b=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return g.numFailures===b?null:(m=s({},m),y(m.keys)&&(m.keys=m.keys.filter(function(S,A){return!(A in g.failures)})),"values"in m&&y(m.values)&&(m.values=m.values.filter(function(S,A){return!(A in g.failures)})),m)}function cl(f,m){return g=f,((b=m).lower===void 0||(b.lowerOpen?0<at(g,b.lower):0<=at(g,b.lower)))&&(f=f,(m=m).upper===void 0||(m.upperOpen?at(f,m.upper)<0:at(f,m.upper)<=0));var g,b}function cu(f,m,$,b,S,A){if(!$||$.length===0)return f;var x=m.query.index,D=x.multiEntry,j=m.query.range,z=b.schema.primaryKey.extractKey,Q=x.extractKey,U=(x.lowLevelIndex||x).extractKey,$=$.reduce(function(B,F){var G=B,X=[];if(F.type==="add"||F.type==="put")for(var te=new bn,ie=F.values.length-1;0<=ie;--ie){var fe,ge=F.values[ie],Se=z(ge);te.hasKey(Se)||(fe=Q(ge),(D&&y(fe)?fe.some(function(we){return cl(we,j)}):cl(fe,j))&&(te.addKey(Se),X.push(ge)))}switch(F.type){case"add":var xe=new bn().addKeys(m.values?B.map(function(Me){return z(Me)}):B),G=B.concat(m.values?X.filter(function(Me){return Me=z(Me),!xe.hasKey(Me)&&(xe.addKey(Me),!0)}):X.map(function(Me){return z(Me)}).filter(function(Me){return!xe.hasKey(Me)&&(xe.addKey(Me),!0)}));break;case"put":var Te=new bn().addKeys(F.values.map(function(Me){return z(Me)}));G=B.filter(function(Me){return!Te.hasKey(m.values?z(Me):Me)}).concat(m.values?X:X.map(function(Me){return z(Me)}));break;case"delete":var Ce=new bn().addKeys(F.keys);G=B.filter(function(Me){return!Ce.hasKey(m.values?z(Me):Me)});break;case"deleteRange":var Oe=F.range;G=B.filter(function(Me){return!cl(z(Me),Oe)})}return G},f);return $===f?f:($.sort(function(B,F){return at(U(B),U(F))||at(z(B),z(F))}),m.limit&&m.limit<1/0&&($.length>m.limit?$.length=m.limit:f.length===m.limit&&$.length<m.limit&&(S.dirty=!0)),A?Object.freeze($):$)}function Oa(f,m){return at(f.lower,m.lower)===0&&at(f.upper,m.upper)===0&&!!f.lowerOpen==!!m.lowerOpen&&!!f.upperOpen==!!m.upperOpen}function xo(f,m){return(function(g,b,S,A){if(g===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=at(g,b))===0){if(S&&A)return 0;if(S)return 1;if(A)return-1}return b})(f.lower,m.lower,f.lowerOpen,m.lowerOpen)<=0&&0<=(function(g,b,S,A){if(g===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=at(g,b))===0){if(S&&A)return 0;if(S)return-1;if(A)return 1}return b})(f.upper,m.upper,f.upperOpen,m.upperOpen)}function Bh(f,m,g,b){f.subscribers.add(g),b.addEventListener("abort",function(){var S,A;f.subscribers.delete(g),f.subscribers.size===0&&(S=f,A=m,setTimeout(function(){S.subscribers.size===0&&Ue(A,S)},3e3))})}var fl={stack:"dbcore",level:0,name:"Cache",create:function(f){var m=f.schema.name;return s(s({},f),{transaction:function(g,b,S){var A,x,D=f.transaction(g,b,S);return b==="readwrite"&&(x=(A=new AbortController).signal,S=function(j){return function(){if(A.abort(),b==="readwrite"){for(var z=new Set,Q=0,U=g;Q<U.length;Q++){var $=U[Q],B=w["idb://".concat(m,"/").concat($)];if(B){var F=f.table($),G=B.optimisticOps.filter(function(Me){return Me.trans===D});if(D._explicit&&j&&D.mutatedParts)for(var X=0,te=Object.values(B.queries.query);X<te.length;X++)for(var ie=0,fe=(xe=te[X]).slice();ie<fe.length;ie++)v((Te=fe[ie]).obsSet,D.mutatedParts)&&(Ue(xe,Te),Te.subscribers.forEach(function(Me){return z.add(Me)}));else if(0<G.length){B.optimisticOps=B.optimisticOps.filter(function(Me){return Me.trans!==D});for(var ge=0,Se=Object.values(B.queries.query);ge<Se.length;ge++)for(var xe,Te,Ce,Oe=0,we=(xe=Se[ge]).slice();Oe<we.length;Oe++)(Te=we[Oe]).res!=null&&D.mutatedParts&&(j&&!Te.dirty?(Ce=Object.isFrozen(Te.res),Ce=cu(Te.res,Te.req,G,F,Te,Ce),Te.dirty?(Ue(xe,Te),Te.subscribers.forEach(function(Me){return z.add(Me)})):Ce!==Te.res&&(Te.res=Ce,Te.promise=Re.resolve({result:Ce}))):(Te.dirty&&Ue(xe,Te),Te.subscribers.forEach(function(Me){return z.add(Me)})))}}}z.forEach(function(Me){return Me()})}}},D.addEventListener("abort",S(!1),{signal:x}),D.addEventListener("error",S(!1),{signal:x}),D.addEventListener("complete",S(!0),{signal:x})),D},table:function(g){var b=f.table(g),S=b.schema.primaryKey;return s(s({},b),{mutate:function(A){var x=De.trans;if(S.outbound||x.db._options.cache==="disabled"||x.explicit||x.idbtrans.mode!=="readwrite")return b.mutate(A);var D=w["idb://".concat(m,"/").concat(g)];return D?(x=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||_r(S,A).some(function(j){return j==null}))?(D.optimisticOps.push(A),A.mutatedParts&&oe(A.mutatedParts),x.then(function(j){0<j.numFailures&&(Ue(D.optimisticOps,A),(j=Dc(0,A,j))&&D.optimisticOps.push(j),A.mutatedParts&&oe(A.mutatedParts))}),x.catch(function(){Ue(D.optimisticOps,A),A.mutatedParts&&oe(A.mutatedParts)})):x.then(function(j){var z=Dc(0,s(s({},A),{values:A.values.map(function(Q,U){var $;return j.failures[U]?Q:(Q=($=S.keyPath)!==null&&$!==void 0&&$.includes(".")?M(Q):s({},Q),V(Q,S.keyPath,j.results[U]),Q)})}),j);D.optimisticOps.push(z),queueMicrotask(function(){return A.mutatedParts&&oe(A.mutatedParts)})}),x):b.mutate(A)},query:function(A){if(!zs(De,b)||!xc("query",A))return b.query(A);var x=((z=De.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=De,D=U.requery,j=U.signal,z=(function(F,G,X,te){var ie=w["idb://".concat(F,"/").concat(G)];if(!ie)return[];if(!(G=ie.queries[X]))return[null,!1,ie,null];var fe=G[(te.query?te.query.index.name:null)||""];if(!fe)return[null,!1,ie,null];switch(X){case"query":var ge=fe.find(function(Se){return Se.req.limit===te.limit&&Se.req.values===te.values&&Oa(Se.req.query.range,te.query.range)});return ge?[ge,!0,ie,fe]:[fe.find(function(Se){return("limit"in Se.req?Se.req.limit:1/0)>=te.limit&&(!te.values||Se.req.values)&&xo(Se.req.query.range,te.query.range)}),!1,ie,fe];case"count":return ge=fe.find(function(Se){return Oa(Se.req.query.range,te.query.range)}),[ge,!!ge,ie,fe]}})(m,g,"query",A),Q=z[0],U=z[1],$=z[2],B=z[3];return Q&&U?Q.obsSet=A.obsSet:(U=b.query(A).then(function(F){var G=F.result;if(Q&&(Q.res=G),x){for(var X=0,te=G.length;X<te;++X)Object.freeze(G[X]);Object.freeze(G)}else F.result=M(G);return F}).catch(function(F){return B&&Q&&Ue(B,Q),Promise.reject(F)}),Q={obsSet:A.obsSet,promise:U,subscribers:new Set,type:"query",req:A,dirty:!1},B?B.push(Q):(B=[Q],($=$||(w["idb://".concat(m,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=B)),Bh(Q,B,D,j),Q.promise.then(function(F){return{result:cu(F.result,A,$?.optimisticOps,b,Q,x)}})}})}})}};function Do(f,m){return new Proxy(f,{get:function(g,b,S){return b==="db"?m:Reflect.get(g,b,S)}})}var Ci=(Qt.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Ne.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var m=this._versions,g=m.filter(function(b){return b._cfg.version===f})[0];return g||(g=new this.Version(f),m.push(g),m.sort(Ta),g.stores({}),this._state.autoSchema=!1,g)},Qt.prototype._whenReady=function(f){var m=this;return this.idbdb&&(this._state.openComplete||De.letThrough||this._vip)?f():new Re(function(g,b){if(m._state.openComplete)return b(new Ne.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void b(new Ne.DatabaseClosed);m.open().catch(St)}m._state.dbReadyPromise.then(g,b)}).then(f)},Qt.prototype.use=function(f){var m=f.stack,g=f.create,b=f.level,S=f.name;return S&&this.unuse({stack:m,name:S}),f=this._middlewares[m]||(this._middlewares[m]=[]),f.push({stack:m,create:g,level:b??10,name:S}),f.sort(function(A,x){return A.level-x.level}),this},Qt.prototype.unuse=function(f){var m=f.stack,g=f.name,b=f.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(S){return b?S.create!==b:!!g&&S.name!==g})),this},Qt.prototype.open=function(){var f=this;return Bn(yn,function(){return ln(f)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,m=vi.indexOf(this);if(0<=m&&vi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new Re(function(g){f.dbReadyResolve=g}),f.openCanceller=new Re(function(g,b){f.cancelOpen=b}))},Qt.prototype.close=function(g){var m=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;m?(g.isBeingOpened&&g.cancelOpen(new Ne.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Ne.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Qt.prototype.delete=function(f){var m=this;f===void 0&&(f={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new Re(function(S,A){function x(){m.close(f);var D=m._deps.indexedDB.deleteDatabase(m.name);D.onsuccess=kt(function(){var j,z,Q;j=m._deps,z=m.name,Q=j.indexedDB,j=j.IDBKeyRange,Mr(Q)||z===ss||Aa(Q,j).delete(z).catch(St),S()}),D.onerror=qn(A),D.onblocked=m._fireOnBlocked}if(g)throw new Ne.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(x):x()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var f=this;return d(this._allTables).map(function(m){return f._allTables[m]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var f=(function(m,g,b){var S=arguments.length;if(S<2)throw new Ne.InvalidArgument("Too few arguments");for(var A=new Array(S-1);--S;)A[S-1]=arguments[S];return b=A.pop(),[m,Y(A),b]}).apply(this,arguments);return this._transaction.apply(this,f)},Qt.prototype._transaction=function(f,m,g){var b=this,S=De.trans;S&&S.db===this&&f.indexOf("!")===-1||(S=null);var A,x,D=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(x=m.map(function(z){if(z=z instanceof b.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),f=="r"||f===Rr)A=Rr;else{if(f!="rw"&&f!=Ir)throw new Ne.InvalidArgument("Invalid transaction mode: "+f);A=Ir}if(S){if(S.mode===Rr&&A===Ir){if(!D)throw new Ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&x.forEach(function(z){if(S&&S.storeNames.indexOf(z)===-1){if(!D)throw new Ne.SubTransaction("Table "+z+" not included in parent transaction.");S=null}}),D&&S&&!S.active&&(S=null)}}catch(z){return S?S._promise(null,function(Q,U){U(z)}):Rt(z)}var j=(function z(Q,U,$,B,F){return Re.resolve().then(function(){var G=De.transless||De,X=Q._createTransaction(U,$,Q._dbSchema,B);if(X.explicit=!0,G={trans:X,transless:G},B)X.idbtrans=B.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(fe){return fe.name===mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,$,null,F)})):Rt(fe)}var te,ie=K(F);return ie&&Yt(),G=Re.follow(function(){var fe;(te=F.call(X,X))&&(ie?(fe=Vn.bind(null,null),te.then(fe,fe)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=At(te)))},G),(te&&typeof te.then=="function"?Re.resolve(te).then(function(fe){return X.active?fe:Rt(new Ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return te})).then(function(fe){return B&&X._resolve(),X._completion.then(function(){return fe})}).catch(function(fe){return X._reject(fe),Rt(fe)})})}).bind(null,this,A,x,S,g);return S?S._promise(A,j,"lock"):De.trans?Bn(De.transless,function(){return b._whenReady(j)}):this._whenReady(j)},Qt.prototype.table=function(f){if(!O(this._allTables,f))throw new Ne.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},Qt);function Qt(f,m){var g=this;this._middlewares={},this.verno=0;var b=Qt.dependencies;this._options=m=s({addons:Qt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},b=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,A,x,D,j,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:St,dbReadyPromise:null,cancelOpen:St,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};z.dbReadyPromise=new Re(function(U){z.dbReadyResolve=U}),z.openCanceller=new Re(function(U,$){z.cancelOpen=$}),this._state=z,this.name=f,this.on=Wr(this,"populate","blocked","versionchange","close",{ready:[tn,St]}),this.once=function(U,$){var B=function(){for(var F=[],G=0;G<arguments.length;G++)F[G]=arguments[G];g.on(U).unsubscribe(B),$.apply(g,F)};return g.on(U,B)},this.on.ready.subscribe=Pe(this.on.ready.subscribe,function(U){return function($,B){Qt.vip(function(){var F,G=g._state;G.openComplete?(G.dbOpenError||Re.resolve().then($),B&&U($)):G.onReadyBeingFired?(G.onReadyBeingFired.push($),B&&U($)):(U($),F=g,B||U(function X(){F.on.ready.unsubscribe($),F.on.ready.unsubscribe(X)}))})}}),this.Collection=(S=this,An(ll.prototype,function(te,X){this.db=S;var B=ga,F=null;if(X)try{B=X()}catch(ie){F=ie}var G=te._ctx,X=G.table,te=X.hook.reading.fire;this._ctx={table:X,index:G.index,isPrimKey:!G.index||X.schema.primKey.keyPath&&G.index===X.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:G.or,valueMapper:te!==di?te:null}})),this.Table=(A=this,An(os.prototype,function(U,$,B){this.db=A,this._tx=B,this.name=U,this.schema=$,this.hook=A._allTables[U]?A._allTables[U].hook:Wr(null,{creating:[Is,St],reading:[mi,di],updating:[To,St],deleting:[Eo,St]})})),this.Transaction=(x=this,An(Ps.prototype,function(U,$,B,F,G){var X=this;U!=="readonly"&&$.forEach(function(te){te=(te=B[te])===null||te===void 0?void 0:te.yProps,te&&($=$.concat(te.map(function(ie){return ie.updatesTable})))}),this.db=x,this.mode=U,this.storeNames=$,this.schema=B,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=Wr(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Re(function(te,ie){X._resolve=te,X._reject=ie}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(te){var ie=X.active;return X.active=!1,X.on.error.fire(te),X.parent?X.parent._reject(te):ie&&X.idbtrans&&X.idbtrans.abort(),Rt(te)})})),this.Version=(D=this,An(Sa.prototype,function(U){this.db=D,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,An(Hi.prototype,function(U,$,B){if(this.db=j,this._ctx={table:U,index:$===":id"?null:$,or:B},this._cmp=this._ascending=at,this._descending=function(F,G){return at(G,F)},this._max=function(F,G){return 0<at(F,G)?F:G},this._min=function(F,G){return at(F,G)<0?F:G},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ne.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Fi(m.IDBKeyRange),this._createTransaction=function(U,$,B,F){return new g.Transaction(U,$,B,g._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),vi.filter(function($){return $.name===g.name&&$!==g&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(U)})},this.use(Ia),this.use(fl),this.use(zh),this.use(Vr),this.use(ai);var Q=new Proxy(this,{get:function(U,$,B){if($==="_vip")return!0;if($==="table")return function(G){return Do(g.table(G),Q)};var F=Reflect.get(U,$,B);return F instanceof os?Do(F,Q):$==="tables"?F.map(function(G){return Do(G,Q)}):$==="_createTransaction"?function(){return Do(F.apply(this,arguments),Q)}:F}});this.vip=Q,b.forEach(function(U){return U(g)})}var xa,br=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Nc=(hl.prototype.subscribe=function(f,m,g){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:m,complete:g})},hl.prototype[br]=function(){return this},hl);function hl(f){this._subscribe=f}try{xa={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{xa={indexedDB:null,IDBKeyRange:null}}function Mc(f){var m,g=!1,b=new Nc(function(S){var A=K(f),x,D=!1,j={},z={},Q={get closed(){return D},unsubscribe:function(){D||(D=!0,x&&x.abort(),U&&_n.storagemutated.unsubscribe(B))}};S.start&&S.start(Q);var U=!1,$=function(){return Cr(F)},B=function(G){c(j,G),v(z,j)&&$()},F=function(){var G,X,te;!D&&xa.indexedDB&&(j={},G={},x&&x.abort(),x=new AbortController,te=(function(ie){var fe=Xn();try{A&&Yt();var ge=Pt(f,ie);return ge=A?ge.finally(Vn):ge}finally{fe&&Sr()}})(X={subscr:G,signal:x.signal,requery:$,querier:f,trans:null}),Promise.resolve(te).then(function(ie){g=!0,m=ie,D||X.signal.aborted||(j={},(function(fe){for(var ge in fe)if(O(fe,ge))return;return 1})(z=G)||U||(_n(Dr,B),U=!0),Cr(function(){return!D&&S.next&&S.next(ie)}))},function(ie){g=!1,["DatabaseClosedError","AbortError"].includes(ie?.name)||D||Cr(function(){D||S.error&&S.error(ie)})}))};return setTimeout($,0),Q});return b.hasValue=function(){return g},b.getValue=function(){return m},b}var Bs=Ci;function fu(f){var m=hs;try{hs=!0,_n.storagemutated.fire(f),Ae(f,!0)}finally{hs=m}}k(Bs,s(s({},zi),{delete:function(f){return new Bs(f,{addons:[]}).delete()},exists:function(f){return new Bs(f,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return m=Bs.dependencies,g=m.indexedDB,m=m.IDBKeyRange,(Mr(g)?Promise.resolve(g.databases()).then(function(b){return b.map(function(S){return S.name}).filter(function(S){return S!==ss})}):Aa(g,m).toCollection().primaryKeys()).then(f)}catch{return Rt(new Ne.MissingAPI)}var m,g},defineClass:function(){return function(f){_(this,f)}},ignoreTransaction:function(f){return De.trans?Bn(De.transless,f):f()},vip:Ca,async:function(f){return function(){try{var m=At(f.apply(this,arguments));return m&&typeof m.then=="function"?m:Re.resolve(m)}catch(g){return Rt(g)}}},spawn:function(f,m,g){try{var b=At(f.apply(g,m||[]));return b&&typeof b.then=="function"?b:Re.resolve(b)}catch(S){return Rt(S)}},currentTransaction:{get:function(){return De.trans||null}},waitFor:function(f,m){return m=Re.resolve(typeof f=="function"?Bs.ignoreTransaction(f):f).timeout(m||6e4),De.trans?De.trans.waitFor(m):m},Promise:Re,debug:{get:function(){return kn},set:function(f){al(f)}},derive:me,extend:_,props:k,override:Pe,Events:Wr,on:_n,liveQuery:Mc,extendObservabilitySet:c,getByKeyPath:$e,setByKeyPath:V,delByKeyPath:function(f,m){typeof m=="string"?V(f,m,void 0):"length"in m&&[].map.call(m,function(g){V(f,g,void 0)})},shallowClone:N,deepClone:M,getObjectDiff:Pr,cmp:at,asap:Nt,minKey:-1/0,addons:[],connections:vi,errnames:mt,dependencies:xa,cache:w,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,m,g){return f+m/Math.pow(10,2*g)})})),Bs.maxKey=Fi(Bs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_n(Dr,function(f){hs||(f=new CustomEvent(vr,{detail:f}),hs=!0,dispatchEvent(f),hs=!1)}),addEventListener(vr,function(f){f=f.detail,hs||fu(f)}));var Da,hs=!1,ur=function(){};return typeof BroadcastChannel<"u"&&((ur=function(){(Da=new BroadcastChannel(vr)).onmessage=function(f){return f.data&&fu(f.data)}})(),typeof Da.unref=="function"&&Da.unref(),_n(Dr,function(f){hs||Da.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Ci.disableBfCache&&f.persisted){kn&&console.debug("Dexie: handling persisted pagehide"),Da?.close();for(var m=0,g=vi;m<g.length;m++)g[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Ci.disableBfCache&&f.persisted&&(kn&&console.debug("Dexie: handling persisted pageshow"),ur(),fu({all:new bn(-1/0,[[]])}))})),Re.rejectionMapper=function(f,m){return!f||f instanceof Ie||f instanceof TypeError||f instanceof SyntaxError||!f.name||!ns[f.name]?f:(m=new ns[f.name](m||f.message,f),"stack"in f&&ce(m,"stack",{get:function(){return this.inner.stack}}),m)},al(kn),s(Ci,Object.freeze({__proto__:null,Dexie:Ci,liveQuery:Mc,Entity:Ao,cmp:at,PropModification:Or,replacePrefix:function(f,m){return new Or({replacePrefix:[f,m]})},add:function(f){return new Or({add:f})},remove:function(f){return new Or({remove:f})},default:Ci,RangeSet:bn,mergeRanges:kr,rangesOverlap:Hn}),{default:Ci}),Ci})})(Bf)),Bf.exports}var CS=AS();const Km=yp(CS),w_=Symbol.for("Dexie"),eh=globalThis[w_]||(globalThis[w_]=Km);if(Km.semVer!==eh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Km.semVer} and ${eh.semVer}`);const{liveQuery:pD,mergeRanges:gD,rangesOverlap:yD,RangeSet:vD,cmp:_D,Entity:bD,PropModification:ED,replacePrefix:TD,add:wD,remove:SD,DexieYProvider:AD}=eh,tr=new eh("GeminiPodcastFlashcards");tr.version(2).stores({vocab:"id, word, status, nextReview, reviewCount, updatedAt"});async function RS(){if(await tr.vocab.count()===0)try{const n="/public/flashcards/data.json".replace("//","/");console.log(`Fetching data from: ${n}`);const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch data.json (${s.status})`);const u=(await s.json()).map(d=>({...d,status:d.status||"new",reviewCount:d.reviewCount||0,nextReview:d.nextReview||Date.now(),updatedAt:Date.now()}));await tr.vocab.bulkAdd(u),console.log(`Initialized DB with ${u.length} cards.`)}catch(e){console.error("Error initializing database:",e)}}function IS(i,e){const n=Date.now(),s=60*1e3,u=24*(60*s);let d=i.status,y=n,_=i.reviewCount||0;if(e==="remember")d="review",y=n+u,_+=1;else if(e==="forget")d="learning",y=n+10*s;else throw new Error(`Unknown action: ${e}`);return{status:d,nextReview:y,reviewCount:_,updatedAt:n}}function OS({card:i,onUpdate:e}){const[n,s]=ke.useState(!1),o=()=>{s(!n)},u=(d,y)=>{y.stopPropagation();try{const _=IS(i,d),E={...i,..._};e(E),s(!1)}catch(_){console.error("Error updating card:",_)}};return le.jsxs("div",{className:"flashcard-container",onClick:o,style:{border:"1px solid #444",padding:"2rem",borderRadius:"12px",textAlign:"center",cursor:"pointer",minHeight:"240px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#25262b",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"transform 0.2s",color:"#e0e0e0"},children:[!n&&le.jsxs("div",{className:"front",children:[le.jsx("h2",{style:{fontSize:"2.5rem",margin:"0 0 0.5rem 0",fontWeight:"bold"},children:i.word}),i.ipa&&le.jsxs("p",{style:{fontSize:"1.2rem",color:"#88ccca",fontFamily:"monospace",margin:"0 0 1.5rem 0"},children:["/",i.ipa,"/"]}),le.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"(Click to flip)"})]}),n&&le.jsxs("div",{className:"back",children:[le.jsx("h2",{style:{fontSize:"1.5rem",color:"#888",marginBottom:"0.5rem"},children:i.word}),i.ipa&&le.jsxs("p",{style:{fontSize:"1rem",color:"#666",fontFamily:"monospace",margin:"0 0 1rem 0"},children:["/",i.ipa,"/"]}),le.jsxs("div",{style:{margin:"1rem 0",textAlign:"left",lineHeight:"1.6"},children:[le.jsxs("p",{style:{marginBottom:"0.8rem"},children:[le.jsx("strong",{style:{color:"#aaa"},children:"Definition:"}),le.jsx("br",{}),i.definition]}),le.jsxs("p",{children:[le.jsx("strong",{style:{color:"#aaa"},children:"Context:"}),le.jsx("br",{}),le.jsx("em",{style:{color:"#a5d6a7"},children:i.context})]})]}),le.jsxs("div",{className:"actions",style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[le.jsx("button",{onClick:d=>u("forget",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#e53935",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Forgot"}),le.jsx("button",{onClick:d=>u("remember",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#43a047",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Remember"})]})]})]})}class xS{_generateId(){const e=Date.now(),n=Math.random().toString(36).substring(2,8);return`${e}_${n}`}async importCards(e){try{let n;try{n=JSON.parse(e)}catch{throw new Error("Input must be a valid JSON string")}if(!Array.isArray(n))throw new Error("Input must be a JSON array");const s=await tr.vocab.toArray(),o=new Set(s.map(y=>y.word.toLowerCase())),u=[];let d=0;for(const y of n)y.word&&(o.has(y.word.toLowerCase())?d++:(u.push({...y,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()}),o.add(y.word.toLowerCase())));return u.length>0&&await tr.vocab.bulkAdd(u),{addedCount:u.length,skippedCount:d}}catch(n){throw console.error("Import failed:",n),n}}async addCard(e){if((await tr.vocab.toArray()).some(u=>u.word.toLowerCase()===e.word.toLowerCase()))throw new Error(`Duplicate word: ${e.word}`);const o={...e,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()};return await tr.vocab.add(o),o}async updateCard(e){const n={...e,updatedAt:Date.now()};return await tr.vocab.put(n),n}async deleteCard(e){await tr.vocab.delete(e)}async getAllCards(){return await tr.vocab.toArray()}async clearAllCards(){await tr.vocab.clear()}async getHardestCards(e=10){return(await tr.vocab.filter(s=>s.status!=="new").toArray()).sort((s,o)=>{const u=s.easeFactor!==void 0?s.easeFactor:2.5,d=o.easeFactor!==void 0?o.easeFactor:2.5;return u-d}).slice(0,e)}}const ql=new xS;var S_;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(S_||(S_={}));var A_;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(A_||(A_={}));var C_;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(C_||(C_={}));const R_=["user","model","function","system"];var I_;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(I_||(I_={}));var O_;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(O_||(O_={}));var x_;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(x_||(x_={}));var D_;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(D_||(D_={}));var Ju;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(Ju||(Ju={}));var N_;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(N_||(N_={}));var M_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(M_||(M_={}));var k_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(k_||(k_={}));class mr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ll extends mr{constructor(e,n){super(e),this.response=n}}class gb extends mr{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class oo extends mr{}class yb extends mr{}const DS="https://generativelanguage.googleapis.com",NS="v1beta",MS="0.24.1",kS="genai-js";var $o;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})($o||($o={}));class VS{constructor(e,n,s,o,u){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||NS;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||DS}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function PS(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${kS}/${MS}`),e.join(" ")}async function LS(i){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",PS(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let s=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new oo(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new oo(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new oo(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function US(i,e,n,s,o,u){const d=new VS(i,e,n,s,u);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},qS(u)),{method:"POST",headers:await LS(d),body:o})}}async function vc(i,e,n,s,o,u={},d=fetch){const{url:y,fetchOptions:_}=await US(i,e,n,s,o,u);return jS(y,_,d)}async function jS(i,e,n=fetch){let s;try{s=await n(i,e)}catch(o){zS(o,i)}return s.ok||await BS(s,i),s}function zS(i,e){let n=i;throw n.name==="AbortError"?(n=new yb(`Request aborted when fetching ${e.toString()}: ${i.message}`),n.stack=i.stack):i instanceof gb||i instanceof oo||(n=new mr(`Error fetching from ${e.toString()}: ${i.message}`),n.stack=i.stack),n}async function BS(i,e){let n="",s;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new gb(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,s)}function qS(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function _p(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),qf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return HS(i)}else if(i.promptFeedback)throw new Ll(`Text not available. ${to(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),qf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),V_(i)[0]}else if(i.promptFeedback)throw new Ll(`Function call not available. ${to(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),qf(i.candidates[0]))throw new Ll(`${to(i)}`,i);return V_(i)}else if(i.promptFeedback)throw new Ll(`Function call not available. ${to(i)}`,i)},i}function HS(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.text&&u.push(d.text),d.executableCode&&u.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&u.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function V_(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&u.push(d.functionCall);if(u.length>0)return u}const KS=[Ju.RECITATION,Ju.SAFETY,Ju.LANGUAGE];function qf(i){return!!i.finishReason&&KS.includes(i.finishReason)}function to(i){var e,n,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const u=i.candidates[0];qf(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function ac(i){return this instanceof ac?(this.v=i,this):new ac(i)}function FS(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,e||[]),o,u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(k){s[k]&&(o[k]=function(W){return new Promise(function(ce,me){u.push([k,W,ce,me])>1||y(k,W)})})}function y(k,W){try{_(s[k](W))}catch(ce){O(u[0][3],ce)}}function _(k){k.value instanceof ac?Promise.resolve(k.value.v).then(E,R):O(u[0][2],k)}function E(k){y("next",k)}function R(k){y("throw",k)}function O(k,W){k(W),u.shift(),u.length&&y(u[0][0],u[0][1])}}const P_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function GS(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=XS(e),[s,o]=n.tee();return{stream:QS(s),response:YS(o)}}async function YS(i){const e=[],n=i.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return _p($S(e));e.push(o)}}function QS(i){return FS(this,arguments,function*(){const n=i.getReader();for(;;){const{value:s,done:o}=yield ac(n.read());if(o)break;yield yield ac(_p(s))}})}function XS(i){const e=i.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return e.read().then(({value:d,done:y})=>{if(y){if(o.trim()){s.error(new mr("Failed to parse stream"));return}s.close();return}o+=d;let _=o.match(P_),E;for(;_;){try{E=JSON.parse(_[1])}catch{s.error(new mr(`Error parsing JSON response: "${_[1]}"`));return}s.enqueue(E),o=o.substring(_[0].length),_=o.match(P_)}return u()}).catch(d=>{let y=d;throw y.stack=d.stack,y.name==="AbortError"?y=new yb("Request aborted when reading from the stream"):y=new mr("Error reading from the stream"),y})}}})}function $S(i){const e=i[i.length-1],n={promptFeedback:e?.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const d={};for(const y of u.content.parts)y.text&&(d.text=y.text),y.functionCall&&(d.functionCall=y.functionCall),y.executableCode&&(d.executableCode=y.executableCode),y.codeExecutionResult&&(d.codeExecutionResult=y.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[o].content.parts.push(d)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function vb(i,e,n,s){const o=await vc(e,$o.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),s);return GS(o)}async function _b(i,e,n,s){const u=await(await vc(e,$o.GENERATE_CONTENT,i,!1,JSON.stringify(n),s)).json();return{response:_p(u)}}function bb(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function oc(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const n of i)typeof n=="string"?e.push({text:n}):e.push(n);return JS(e)}function JS(i){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of i)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),s=!0);if(s&&o)throw new mr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new mr("No content is provided for sending chat message.");return s?e:n}function ZS(i,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new oo("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const u=oc(i);s.contents=[u]}return{generateContentRequest:s}}function L_(i){let e;return i.contents?e=i:e={contents:[oc(i)]},i.systemInstruction&&(e.systemInstruction=bb(i.systemInstruction)),e}function WS(i){return typeof i=="string"||Array.isArray(i)?{content:oc(i)}:i}const U_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],eA={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tA(i){let e=!1;for(const n of i){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new mr(`First content should be with role 'user', got ${s}`);if(!R_.includes(s))throw new mr(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(R_)}`);if(!Array.isArray(o))throw new mr("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new mr("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const y of o)for(const _ of U_)_ in y&&(u[_]+=1);const d=eA[s];for(const y of U_)if(!d.includes(y)&&u[y]>0)throw new mr(`Content with role '${s}' can't contain '${y}' part`);e=!0}}function j_(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const z_="SILENT_ERROR";class nA{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(tA(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=oc(e),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},O=Object.assign(Object.assign({},this._requestOptions),n);let k;return this._sendPromise=this._sendPromise.then(()=>_b(this._apiKey,this.model,R,O)).then(W=>{var ce;if(j_(W.response)){this._history.push(E);const me=Object.assign({parts:[],role:"model"},(ce=W.response.candidates)===null||ce===void 0?void 0:ce[0].content);this._history.push(me)}else{const me=to(W.response);me&&console.warn(`sendMessage() was unsuccessful. ${me}. Inspect response object for details.`)}k=W}).catch(W=>{throw this._sendPromise=Promise.resolve(),W}),await this._sendPromise,k}async sendMessageStream(e,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=oc(e),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},O=Object.assign(Object.assign({},this._requestOptions),n),k=vb(this._apiKey,this.model,R,O);return this._sendPromise=this._sendPromise.then(()=>k).catch(W=>{throw new Error(z_)}).then(W=>W.response).then(W=>{if(j_(W)){this._history.push(E);const ce=Object.assign({},W.candidates[0].content);ce.role||(ce.role="model"),this._history.push(ce)}else{const ce=to(W);ce&&console.warn(`sendMessageStream() was unsuccessful. ${ce}. Inspect response object for details.`)}}).catch(W=>{W.message!==z_&&console.error(W)}),k}}async function rA(i,e,n,s){return(await vc(e,$o.COUNT_TOKENS,i,!1,JSON.stringify(n),s)).json()}async function iA(i,e,n,s){return(await vc(e,$o.EMBED_CONTENT,i,!1,JSON.stringify(n),s)).json()}async function sA(i,e,n,s){const o=n.requests.map(d=>Object.assign(Object.assign({},d),{model:e}));return(await vc(e,$o.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}class B_{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=bb(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=L_(e),u=Object.assign(Object.assign({},this._requestOptions),n);return _b(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(e,n={}){var s;const o=L_(e),u=Object.assign(Object.assign({},this._requestOptions),n);return vb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(e){var n;return new nA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=ZS(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return rA(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=WS(e),o=Object.assign(Object.assign({},this._requestOptions),n);return iA(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return sA(this.apiKey,this.model,e,s)}}class q_{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new mr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new B_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new oo("Cached content must contain a `name` field.");if(!e.model)throw new oo("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(n?.[d]&&e[d]&&n?.[d]!==e[d]){if(d==="model"){const y=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,_=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(y===_)continue}throw new oo(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${e[d]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new B_(this.apiKey,u,s)}}const aA={models:{default:"gemini-2.5-flash"}},oA={ai:aA};class lA{constructor(){this.apiKeyKey="gemini_api_key_byok",this.modelName=oA.ai?.models?.default}getApiKey(){return localStorage.getItem(this.apiKeyKey)||sessionStorage.getItem(this.apiKeyKey)}isPersistent(){return!!localStorage.getItem(this.apiKeyKey)}setApiKey(e,n=!1){n?(localStorage.setItem(this.apiKeyKey,e),sessionStorage.removeItem(this.apiKeyKey)):(sessionStorage.setItem(this.apiKeyKey,e),localStorage.removeItem(this.apiKeyKey))}removeApiKey(){sessionStorage.removeItem(this.apiKeyKey),localStorage.removeItem(this.apiKeyKey)}hasKey(){return!!this.getApiKey()}async generateCardDetails(e){const n=this.getApiKey();if(!n)throw new Error("API Key not found in session. Please configure it in Settings again.");const o=new q_(n).getGenerativeModel({model:this.modelName}),u=`
      You are an English vocabulary expert.
      Define the word: "${e}".
      
      Return ONLY a raw JSON object (no markdown formatting, no code blocks) with the following keys:
      - "definition": A clear, concise English definition suitable for a flashcard.
      - "ipa": The IPA phonetic transcription.
      - "context": A short, natural example sentence using the word.
    `;return this._callGemini(o,u)}async analyzeTranscript(e,n){const s=this.getApiKey();if(!s)throw new Error("API Key not found. Please configure it in Settings.");const u=new q_(s).getGenerativeModel({model:this.modelName});let d="";n==="auto"?d="Select the most important and difficult vocabulary words (approximately 5 to 15 words depending on text length).":d=`Select strictly up to ${n} most important vocabulary words.`;const y=`
      You are an expert language tutor analyzing a podcast transcript.
      
      Goal: Extract vocabulary words from the provided text for a learner.
      Constraint: ${d}
      
      For each word, provide:
      1. "word": The target word (lemma).
      2. "ipa": IPA phonetic transcription.
      3. "definition": A concise English definition relevant to the context in the transcript.
      4. "context": The exact sentence or a slightly simplified version from the text where the word appears.

      Input Text:
      """
      ${e.substring(0,3e4)} 
      """
      (Note: Input truncated to first 30k chars to fit context window if necessary)

      Return ONLY a raw JSON array (no markdown, no code blocks) of objects.
      Example format:
      [
        { "word": "Serendipity", "ipa": "...", "definition": "...", "context": "..." }
      ]
    `;return this._callGemini(u,y,!0)}async _callGemini(e,n,s=!1){try{console.log(`Calling AI Model: ${this.modelName}`);const y=(await(await e.generateContent(n)).response).text().replace(/```json|```/g,"").trim();let _;try{_=JSON.parse(y)}catch(R){const O=y.indexOf(s?"[":"{"),k=y.lastIndexOf(s?"]":"}")+1;if(O!==-1&&k!==-1)_=JSON.parse(y.substring(O,k));else throw R}const E=R=>{R.ipa&&(R.ipa=R.ipa.replace(new RegExp("^[/\\[]|[/\\]]$","g"),""))};return Array.isArray(_)?_.forEach(E):E(_),_}catch(o){throw console.error("AI Generation failed:",o),new Error(`AI Error: ${o.message}`)}}}const ia=new lA;let uA={data:""},cA=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||uA},fA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hA=/\/\*[^]*?\*\/|  +/g,H_=/\n+/g,no=(i,e)=>{let n="",s="",o="";for(let u in i){let d=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+d+";":s+=u[1]=="f"?no(d,u):u+"{"+no(d,u[1]=="k"?"":e)+"}":typeof d=="object"?s+=no(d,e?e.replace(/([^,])+/g,y=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,_=>/&/.test(_)?_.replace(/&/g,y):y?y+" "+_:_)):u):d!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=no.p?no.p(u,d):u+":"+d+";")}return n+(e&&o?e+"{"+o+"}":o)+s},ra={},Eb=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+Eb(i[n]);return e}return i},dA=(i,e,n,s,o)=>{let u=Eb(i),d=ra[u]||(ra[u]=(_=>{let E=0,R=11;for(;E<_.length;)R=101*R+_.charCodeAt(E++)>>>0;return"go"+R})(u));if(!ra[d]){let _=u!==i?i:(E=>{let R,O,k=[{}];for(;R=fA.exec(E.replace(hA,""));)R[4]?k.shift():R[3]?(O=R[3].replace(H_," ").trim(),k.unshift(k[0][O]=k[0][O]||{})):k[0][R[1]]=R[2].replace(H_," ").trim();return k[0]})(i);ra[d]=no(o?{["@keyframes "+d]:_}:_,n?"":"."+d)}let y=n&&ra.g?ra.g:null;return n&&(ra.g=ra[d]),((_,E,R,O)=>{O?E.data=E.data.replace(O,_):E.data.indexOf(_)===-1&&(E.data=R?_+E.data:E.data+_)})(ra[d],e,s,y),d},mA=(i,e,n)=>i.reduce((s,o,u)=>{let d=e[u];if(d&&d.call){let y=d(n),_=y&&y.props&&y.props.className||/^go/.test(y)&&y;d=_?"."+_:y&&typeof y=="object"?y.props?"":no(y,""):y===!1?"":y}return s+o+(d??"")},"");function Th(i){let e=this||{},n=i.call?i(e.p):i;return dA(n.unshift?n.raw?mA(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,cA(e.target),e.g,e.o,e.k)}let Tb,Fm,Gm;Th.bind({g:1});let ua=Th.bind({k:1});function pA(i,e,n,s){no.p=e,Tb=i,Fm=n,Gm=s}function bo(i,e){let n=this||{};return function(){let s=arguments;function o(u,d){let y=Object.assign({},u),_=y.className||o.className;n.p=Object.assign({theme:Fm&&Fm()},y),n.o=/ *go\d+/.test(_),y.className=Th.apply(n,s)+(_?" "+_:"");let E=i;return i[0]&&(E=y.as||i,delete y.as),Gm&&E[0]&&Gm(y),Tb(E,y)}return o}}var gA=i=>typeof i=="function",th=(i,e)=>gA(i)?i(e):i,yA=(()=>{let i=0;return()=>(++i).toString()})(),wb=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),vA=20,bp="default",Sb=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return Sb(i,{type:i.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+u}))}}},Hf=[],Ab={toasts:[],pausedAt:void 0,settings:{toastLimit:vA}},_s={},Cb=(i,e=bp)=>{_s[e]=Sb(_s[e]||Ab,i),Hf.forEach(([n,s])=>{n===e&&s(_s[e])})},Rb=i=>Object.keys(_s).forEach(e=>Cb(i,e)),_A=i=>Object.keys(_s).find(e=>_s[e].toasts.some(n=>n.id===i)),wh=(i=bp)=>e=>{Cb(e,i)},bA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},EA=(i={},e=bp)=>{let[n,s]=ke.useState(_s[e]||Ab),o=ke.useRef(_s[e]);ke.useEffect(()=>(o.current!==_s[e]&&s(_s[e]),Hf.push([e,s]),()=>{let d=Hf.findIndex(([y])=>y===e);d>-1&&Hf.splice(d,1)}),[e]);let u=n.toasts.map(d=>{var y,_,E;return{...i,...i[d.type],...d,removeDelay:d.removeDelay||((y=i[d.type])==null?void 0:y.removeDelay)||i?.removeDelay,duration:d.duration||((_=i[d.type])==null?void 0:_.duration)||i?.duration||bA[d.type],style:{...i.style,...(E=i[d.type])==null?void 0:E.style,...d.style}}});return{...n,toasts:u}},TA=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||yA()}),_c=i=>(e,n)=>{let s=TA(e,i,n);return wh(s.toasterId||_A(s.id))({type:2,toast:s}),s.id},Ln=(i,e)=>_c("blank")(i,e);Ln.error=_c("error");Ln.success=_c("success");Ln.loading=_c("loading");Ln.custom=_c("custom");Ln.dismiss=(i,e)=>{let n={type:3,toastId:i};e?wh(e)(n):Rb(n)};Ln.dismissAll=i=>Ln.dismiss(void 0,i);Ln.remove=(i,e)=>{let n={type:4,toastId:i};e?wh(e)(n):Rb(n)};Ln.removeAll=i=>Ln.remove(void 0,i);Ln.promise=(i,e,n)=>{let s=Ln.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?th(e.success,o):void 0;return u?Ln.success(u,{id:s,...n,...n?.success}):Ln.dismiss(s),o}).catch(o=>{let u=e.error?th(e.error,o):void 0;u?Ln.error(u,{id:s,...n,...n?.error}):Ln.dismiss(s)}),i};var wA=1e3,SA=(i,e="default")=>{let{toasts:n,pausedAt:s}=EA(i,e),o=ke.useRef(new Map).current,u=ke.useCallback((O,k=wA)=>{if(o.has(O))return;let W=setTimeout(()=>{o.delete(O),d({type:4,toastId:O})},k);o.set(O,W)},[]);ke.useEffect(()=>{if(s)return;let O=Date.now(),k=n.map(W=>{if(W.duration===1/0)return;let ce=(W.duration||0)+W.pauseDuration-(O-W.createdAt);if(ce<0){W.visible&&Ln.dismiss(W.id);return}return setTimeout(()=>Ln.dismiss(W.id,e),ce)});return()=>{k.forEach(W=>W&&clearTimeout(W))}},[n,s,e]);let d=ke.useCallback(wh(e),[e]),y=ke.useCallback(()=>{d({type:5,time:Date.now()})},[d]),_=ke.useCallback((O,k)=>{d({type:1,toast:{id:O,height:k}})},[d]),E=ke.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),R=ke.useCallback((O,k)=>{let{reverseOrder:W=!1,gutter:ce=8,defaultPosition:me}=k||{},be=n.filter(Pe=>(Pe.position||me)===(O.position||me)&&Pe.height),qe=be.findIndex(Pe=>Pe.id===O.id),Fe=be.filter((Pe,ct)=>ct<qe&&Pe.visible).length;return be.filter(Pe=>Pe.visible).slice(...W?[Fe+1]:[0,Fe]).reduce((Pe,ct)=>Pe+(ct.height||0)+ce,0)},[n]);return ke.useEffect(()=>{n.forEach(O=>{if(O.dismissed)u(O.id,O.removeDelay);else{let k=o.get(O.id);k&&(clearTimeout(k),o.delete(O.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:_,startPause:y,endPause:E,calculateOffset:R}}},AA=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,CA=ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RA=ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,IA=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${CA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,OA=ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xA=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${OA} 1s linear infinite;
`,DA=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NA=ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MA=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kA=bo("div")`
  position: absolute;
`,VA=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PA=ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LA=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UA=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?ke.createElement(LA,null,e):e:n==="blank"?null:ke.createElement(VA,null,ke.createElement(xA,{...s}),n!=="loading"&&ke.createElement(kA,null,n==="error"?ke.createElement(IA,{...s}):ke.createElement(MA,{...s})))},jA=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zA=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,BA="0%{opacity:0;} 100%{opacity:1;}",qA="0%{opacity:1;} 100%{opacity:0;}",HA=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KA=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FA=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=wb()?[BA,qA]:[jA(n),zA(n)];return{animation:e?`${ua(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ua(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GA=ke.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?FA(i.position||e||"top-center",i.visible):{opacity:0},u=ke.createElement(UA,{toast:i}),d=ke.createElement(KA,{...i.ariaProps},th(i.message,i));return ke.createElement(HA,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:d}):ke.createElement(ke.Fragment,null,u,d))});pA(ke.createElement);var YA=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=ke.useCallback(d=>{if(d){let y=()=>{let _=d.getBoundingClientRect().height;s(i,_)};y(),new MutationObserver(y).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return ke.createElement("div",{ref:u,className:e,style:n},o)},QA=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},XA=Th`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mf=16,$A=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:d,containerClassName:y})=>{let{toasts:_,handlers:E}=SA(n,u);return ke.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Mf,left:Mf,right:Mf,bottom:Mf,pointerEvents:"none",...d},className:y,onMouseEnter:E.startPause,onMouseLeave:E.endPause},_.map(R=>{let O=R.position||e,k=E.calculateOffset(R,{reverseOrder:i,gutter:s,defaultPosition:e}),W=QA(O,k);return ke.createElement(YA,{id:R.id,key:R.id,onHeightUpdate:E.updateHeight,className:R.visible?XA:"",style:W},R.type==="custom"?th(R.message,R):o?o(R):ke.createElement(GA,{toast:R,position:O}))}))},dt=Ln;function JA({isOpen:i,onClose:e,onSuccess:n}){const[s,o]=ke.useState(""),[u,d]=ke.useState(!1),[y,_]=ke.useState("auto"),[E,R]=ke.useState(null);if(!i)return null;const O=async()=>{if(!s.trim())return;if(!ia.hasKey()){dt.error("Please set your Gemini API Key in Settings first.");return}d(!0),R(null);const W=dt.loading("AI is analyzing transcript...");try{const ce=await ia.analyzeTranscript(s,y);if(!Array.isArray(ce)||ce.length===0)throw new Error("AI found no vocabulary or returned invalid format.");dt.loading(`Found ${ce.length} words. Saving...`,{id:W});const me=JSON.stringify(ce),be=await ql.importCards(me);dt.success(`Success!
Added: ${be.addedCount}
Skipped (Duplicate): ${be.skippedCount}`,{id:W,duration:4e3}),o(""),n(),e()}catch(ce){console.error(ce);const me=ce.message||"Unknown error";R(me),dt.error(`Failed: ${me}`,{id:W})}finally{d(!1)}},k=[{label:"AUTO",value:"auto"},{label:"5",value:5},{label:"10",value:10},{label:"20",value:20}];return le.jsx("div",{style:ki.overlay,children:le.jsxs("div",{style:ki.modal,children:[le.jsx("h2",{style:{marginTop:0,color:"#fff",marginBottom:"1.5rem"},children:"Import from Podcast"}),le.jsxs("div",{style:ki.settingRow,children:[le.jsx("span",{style:ki.settingLabel,children:"Max Words:"}),le.jsx("div",{style:ki.optionGroup,children:k.map(W=>le.jsx("button",{onClick:()=>_(W.value),style:{...ki.optionBtn,...y===W.value?ki.optionBtnActive:{}},children:W.label},W.value))})]}),le.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Paste the full podcast transcript text below. Gemini will extract key vocabulary for you."}),le.jsx("textarea",{value:s,onChange:W=>o(W.target.value),placeholder:"Paste transcript text here...",style:ki.textarea,disabled:u}),E&&le.jsxs("div",{style:ki.error,children:[" ",E]}),le.jsxs("div",{style:ki.actions,children:[le.jsx("button",{onClick:e,disabled:u,style:{...ki.btn,backgroundColor:"#555"},children:"Cancel"}),le.jsx("button",{onClick:O,disabled:u||!s.trim(),style:{...ki.btn,backgroundColor:u?"#777":"#6366f1",opacity:!s.trim()||u?.6:1},children:u?"Analyzing...":"Analyze & Import"})]})]})})}const ki={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},modal:{backgroundColor:"#1e2024",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"600px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},settingRow:{display:"flex",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},settingLabel:{color:"#ccc",fontSize:"0.9rem",fontWeight:"500"},optionGroup:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},optionBtn:{padding:"0.4rem 1rem",backgroundColor:"#2c2e33",border:"1px solid #444",borderRadius:"6px",color:"#aaa",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},optionBtnActive:{backgroundColor:"#6366f1",color:"#fff",borderColor:"#6366f1",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)"},textarea:{width:"100%",height:"250px",backgroundColor:"#131416",color:"#e0e0e0",border:"1px solid #444",borderRadius:"6px",padding:"0.8rem",fontFamily:"inherit",fontSize:"0.95rem",resize:"vertical",lineHeight:"1.5"},error:{color:"#ff6b6b",marginTop:"1rem",fontSize:"0.9rem",padding:"0.5rem",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"4px"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},btn:{padding:"0.6rem 1.5rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem"}};function ZA({isOpen:i,onClose:e}){const[n,s]=ke.useState(""),[o,u]=ke.useState(!1),[d,y]=ke.useState(!1);ke.useEffect(()=>{i&&(s(ia.getApiKey()||""),y(ia.isPersistent()))},[i]);const _=()=>{n.trim()?(ia.setApiKey(n.trim(),d),d?dt.success("API Key  ()"):dt.success("API Key  ( Session)")):(ia.removeApiKey(),dt("API Key ")),e()},E=()=>{s(""),y(!1),ia.removeApiKey(),dt("API Key ")};return i?le.jsx("div",{style:Vi.overlay,children:le.jsxs("div",{style:Vi.modal,children:[le.jsx("h2",{style:{marginTop:0,color:"#fff"},children:"Settings"}),le.jsxs("div",{style:{marginBottom:"2rem"},children:[le.jsx("label",{style:Vi.label,children:"Gemini API Key (BYOK)"}),le.jsxs("p",{style:Vi.hint,children:[" Key  Google Gemini API",le.jsx("br",{}),""]}),le.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[le.jsx("input",{type:o?"text":"password",value:n,onChange:R=>s(R.target.value),placeholder:"AIzaSy...",style:Vi.input}),le.jsx("button",{onClick:()=>u(!o),style:Vi.iconBtn,title:"Toggle Visibility",children:o?"":""})]}),le.jsxs("div",{style:Vi.checkboxContainer,children:[le.jsx("input",{type:"checkbox",id:"rememberKey",checked:d,onChange:R=>y(R.target.checked),style:{cursor:"pointer"}}),le.jsx("label",{htmlFor:"rememberKey",style:{...Vi.label,marginBottom:0,cursor:"pointer",fontWeight:"normal",fontSize:"0.9rem"},children:" ()"})]}),d&&le.jsx("p",{style:{color:"#ff9800",fontSize:"0.8rem",marginTop:"0.2rem",marginLeft:"1.5rem"},children:"  Key  LocalStorage"})]}),le.jsxs("div",{style:Vi.actions,children:[le.jsx("button",{onClick:E,style:{...Vi.btn,backgroundColor:"#d32f2f",marginRight:"auto"},children:"Clear Key"}),le.jsx("button",{onClick:e,style:{...Vi.btn,backgroundColor:"#555"},children:"Close"}),le.jsx("button",{onClick:_,style:{...Vi.btn,backgroundColor:"#4caf50"},children:"Save"})]})]})}):null}const Vi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)"},label:{display:"block",color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.5rem"},hint:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.5rem",lineHeight:"1.4"},input:{flex:1,padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontFamily:"monospace"},iconBtn:{padding:"0 0.8rem",backgroundColor:"#444",border:"none",borderRadius:"4px",cursor:"pointer",color:"#fff"},checkboxContainer:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem"},btn:{padding:"0.5rem 1.2rem",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"}};function WA({isOpen:i,onClose:e,onSuccess:n}){const[s,o]=ke.useState(""),[u,d]=ke.useState(""),[y,_]=ke.useState(""),[E,R]=ke.useState(""),[O,k]=ke.useState(!1);if(!i)return null;const W=async()=>{if(!s.trim()){dt.error("Please enter a word first");return}if(!ia.hasKey()){dt.error("Please set your API Key in Settings first");return}k(!0);const me=dt.loading(`Asking Gemini about "${s}"...`);try{const be=await ia.generateCardDetails(s);d(be.ipa||""),_(be.definition||""),R(be.context||""),dt.success("Auto-filled!",{id:me})}catch(be){console.error(be),dt.error(be.message,{id:me})}finally{k(!1)}},ce=async()=>{if(!s||!y){dt.error("Word and Definition are required");return}try{await ql.addCard({word:s,ipa:u,definition:y,context:E}),dt.success(`Added "${s}"`),o(""),d(""),_(""),R(""),n(),e()}catch(me){console.error(me),dt.error(me.message)}};return le.jsx("div",{style:Gn.overlay,children:le.jsxs("div",{style:Gn.modal,children:[le.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[le.jsx("h2",{style:{margin:0,color:"#fff"},children:"Add New Card"}),le.jsx("button",{onClick:W,disabled:O,style:Gn.magicBtn,title:"AI Auto-fill",children:O?"...":" AI Auto-fill"})]}),le.jsxs("div",{style:Gn.field,children:[le.jsx("label",{style:Gn.label,children:"Word"}),le.jsx("input",{style:Gn.input,value:s,onChange:me=>o(me.target.value),placeholder:"e.g. Serendipity",autoFocus:!0})]}),le.jsxs("div",{style:Gn.field,children:[le.jsx("label",{style:Gn.label,children:"IPA (Optional)"}),le.jsx("input",{style:Gn.input,value:u,onChange:me=>d(me.target.value),placeholder:"/ser.ndp..ti/"})]}),le.jsxs("div",{style:Gn.field,children:[le.jsx("label",{style:Gn.label,children:"Definition"}),le.jsx("textarea",{style:{...Gn.input,height:"60px",resize:"vertical"},value:y,onChange:me=>_(me.target.value)})]}),le.jsxs("div",{style:Gn.field,children:[le.jsx("label",{style:Gn.label,children:"Context / Example"}),le.jsx("textarea",{style:{...Gn.input,height:"60px",resize:"vertical"},value:E,onChange:me=>R(me.target.value)})]}),le.jsxs("div",{style:Gn.actions,children:[le.jsx("button",{onClick:e,style:{...Gn.btn,backgroundColor:"#555"},children:"Cancel"}),le.jsx("button",{onClick:ce,style:{...Gn.btn,backgroundColor:"#2196f3"},children:"Save Card"})]})]})})}const Gn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},field:{marginBottom:"1rem"},label:{display:"block",color:"#aaa",fontSize:"0.85rem",marginBottom:"0.3rem"},input:{width:"100%",padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontSize:"1rem",boxSizing:"border-box"},magicBtn:{padding:"0.4rem 0.8rem",backgroundColor:"transparent",border:"1px solid #e91e63",borderRadius:"20px",color:"#e91e63",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s",fontWeight:"bold"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},btn:{padding:"0.6rem 1.2rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"}};function e1({isOpen:i,onClose:e}){const[n,s]=ke.useState([]),[o,u]=ke.useState(null),[d,y]=ke.useState(!1),[_,E]=ke.useState(0),R=ke.useRef(null);ke.useEffect(()=>{i&&(O(),y(!1),E(0),u(null))},[i]),ke.useEffect(()=>(d&&_>0?R.current=setTimeout(()=>{E(ce=>ce-1)},1e3):d&&_===0&&y(!1),()=>clearTimeout(R.current)),[d,_]);const O=async()=>{try{const ce=await ql.getAllCards();ce.sort((me,be)=>be.updatedAt-me.updatedAt),s(ce)}catch(ce){console.error(ce),dt.error("Failed to load cards")}},k=async ce=>{if(o!==ce){u(ce),setTimeout(()=>{u(me=>me===ce?null:me)},3e3);return}try{await ql.deleteCard(ce),dt.success("Card deleted"),u(null),O()}catch(me){console.error(me),dt.error("Delete failed")}},W=async()=>{if(!d){y(!0),E(3);return}try{await ql.clearAllCards(),dt.success("All data cleared"),s([]),y(!1)}catch(ce){console.error(ce),dt.error("Clear failed")}};return i?le.jsx("div",{style:Pi.overlay,children:le.jsxs("div",{style:Pi.modal,children:[le.jsxs("div",{style:Pi.header,children:[le.jsxs("h2",{style:{margin:0,color:"#fff"},children:["Manage Cards (",n.length,")"]}),le.jsx("button",{onClick:e,style:Pi.closeBtn,children:""})]}),le.jsx("div",{style:Pi.listContainer,children:n.length===0?le.jsx("p",{style:{color:"#888",textAlign:"center"},children:"No cards found."}):n.map(ce=>le.jsxs("div",{style:Pi.cardRow,children:[le.jsxs("div",{style:Pi.cardInfo,children:[le.jsx("div",{style:Pi.word,children:ce.word}),le.jsxs("div",{style:Pi.def,children:[ce.definition?.substring(0,50),"..."]})]}),le.jsx("button",{onClick:()=>k(ce.id),style:{...Pi.deleteBtn,backgroundColor:o===ce.id?"#d32f2f":"#333",color:o===ce.id?"#fff":"#888",border:o===ce.id?"1px solid #ff5252":"1px solid #444",width:o===ce.id?"100px":"40px"},children:o===ce.id?"Sure?":""})]},ce.id))}),le.jsx("div",{style:Pi.footer,children:le.jsx("button",{onClick:W,style:{...Pi.dangerBtn,backgroundColor:d?"#d32f2f":"#3a1c1c",color:d?"#ffeb3b":"#ff6b6b",border:d?"1px solid #ffeb3b":"1px solid #ff6b6b"},children:d?`Confirm Clear All? (${_})`:"Clear All Local Data"})})]})}):null}const Pi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},modal:{backgroundColor:"#1e2024",width:"90%",maxWidth:"500px",maxHeight:"80vh",borderRadius:"12px",display:"flex",flexDirection:"column",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},header:{padding:"1.5rem",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},closeBtn:{background:"none",border:"none",color:"#888",fontSize:"1.2rem",cursor:"pointer"},listContainer:{flex:1,overflowY:"auto",padding:"1rem"},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.8rem",borderBottom:"1px solid #2c2e33"},cardInfo:{flex:1,marginRight:"1rem",overflow:"hidden"},word:{color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.2rem"},def:{color:"#888",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},deleteBtn:{padding:"0.4rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"0.9rem",whiteSpace:"nowrap",display:"flex",justifyContent:"center",alignItems:"center"},footer:{padding:"1.5rem",borderTop:"1px solid #333"},dangerBtn:{width:"100%",padding:"0.8rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"}};function t1({isOpen:i,onClose:e}){const[n,s]=ke.useState(""),[o,u]=ke.useState(!1),[d,y]=ke.useState([]);if(!i)return null;const _=async()=>{u(!0),s(""),y([]);try{const R=await ql.getHardestCards(10);if(R.length===0){dt.error("Not enough review data found. Try reviewing some cards first!"),u(!1);return}y(R);const k=`Create an engaging podcast script on a broad and interesting topic aligned with your persona's expertise. 

Your task is to naturally weave the following target vocabulary into this larger narrative: [${R.map(W=>W.word).join(", ")}]. 

IMPORTANT: 
1. The content must NOT be limited only to these vocabularies. 
2. Build a rich, immersive context with a coherent storyline or argument including target vocabularies. 
3. Use the target vocabularies only as natural touchpoints within a flowing, full-length conversation.
4. Keep the tone casual, authentic, and educational.`;s(k),dt.success(`Found ${R.length} challenging words!`)}catch(R){console.error("Failed to generate prompt:",R),dt.error("An error occurred while analyzing cards.")}finally{u(!1)}},E=async()=>{if(n)try{await navigator.clipboard.writeText(n),dt.success("Prompt copied to clipboard!")}catch{dt.error("Failed to copy. Please copy manually.")}};return le.jsx("div",{style:Hr.overlay,children:le.jsxs("div",{style:Hr.modal,children:[le.jsxs("div",{style:Hr.header,children:[le.jsx("h2",{style:{margin:0,color:"#fff",display:"flex",alignItems:"center",gap:"8px",fontSize:"1.25rem"},children:" AI Podcast Generator"}),le.jsx("button",{onClick:e,style:Hr.closeBtn,children:""})]}),le.jsxs("div",{style:Hr.content,children:[le.jsxs("p",{style:Hr.description,children:['Automatically identify your "hard-to-remember" words and generate a custom AI prompt. Use this prompt with your ',le.jsx("strong",{children:"Personalized Gemini"})," to create a custom review podcast."]}),le.jsx("div",{style:Hr.actionArea,children:le.jsx("button",{onClick:_,disabled:o,style:{...Hr.primaryBtn,opacity:o?.7:1,cursor:o?"wait":"pointer"},children:o?"Analyzing Your Memory...":"Analyze & Generate Prompt"})}),d.length>0&&le.jsxs("div",{style:Hr.wordTagContainer,children:[le.jsx("span",{style:Hr.tagLabel,children:"Target Words:"}),d.map(R=>le.jsx("span",{style:Hr.wordTag,children:R.word},R.id))]}),n&&le.jsxs("div",{style:Hr.resultArea,children:[le.jsx("button",{onClick:E,style:Hr.copyActionBtn,children:" Copy Prompt for Custom Gem"}),le.jsx("textarea",{style:Hr.textarea,readOnly:!0,value:n})]})]})]})})}const Hr={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,padding:"1rem"},modal:{backgroundColor:"#1e2024",width:"100%",maxWidth:"550px",maxHeight:"90vh",overflowY:"auto",borderRadius:"12px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.6)",border:"1px solid #333",color:"#e0e0e0",boxSizing:"border-box"},header:{padding:"1.2rem 1.5rem",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(90deg, #2c3e50 0%, #1e2024 100%)",position:"sticky",top:0,zIndex:10},closeBtn:{background:"none",border:"none",color:"#aaa",fontSize:"1.5rem",cursor:"pointer",padding:"0 0.5rem",lineHeight:1},content:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1.2rem",boxSizing:"border-box"},description:{margin:0,color:"#aaa",fontSize:"0.95rem",lineHeight:"1.5"},actionArea:{display:"flex",justifyContent:"center",width:"100%"},primaryBtn:{backgroundColor:"#8e44ad",color:"white",border:"none",padding:"0.8rem 1.5rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",width:"100%",transition:"background 0.2s",boxShadow:"0 4px 12px rgba(142, 68, 173, 0.3)",cursor:"pointer"},copyActionBtn:{backgroundColor:"#27ae60",color:"white",border:"none",padding:"0.8rem 1.5rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",width:"100%",transition:"background 0.2s",boxShadow:"0 4px 12px rgba(39, 174, 96, 0.3)",cursor:"pointer",marginBottom:"0.8rem"},wordTagContainer:{display:"flex",flexWrap:"wrap",gap:"0.5rem",alignItems:"center",padding:"0.8rem",backgroundColor:"#25262b",borderRadius:"6px",border:"1px solid #333",boxSizing:"border-box"},tagLabel:{fontSize:"0.85rem",color:"#888",marginRight:"0.3rem",fontWeight:"bold"},wordTag:{fontSize:"0.85rem",backgroundColor:"rgba(142, 68, 173, 0.2)",color:"#d2b4de",padding:"2px 8px",borderRadius:"4px",border:"1px solid rgba(142, 68, 173, 0.3)"},resultArea:{position:"relative",marginTop:"0.5rem",width:"100%",display:"flex",flexDirection:"column"},textarea:{width:"100%",height:"150px",backgroundColor:"#111",color:"#ddd",border:"1px solid #444",borderRadius:"8px",padding:"1rem",fontSize:"0.9rem",resize:"vertical",fontFamily:"monospace",lineHeight:"1.4",boxSizing:"border-box",display:"block"}},n1=()=>{};var K_={};const Ib=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},r1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],y=i[n++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,y=d?i[o+1]:0,_=o+2<i.length,E=_?i[o+2]:0,R=u>>2,O=(u&3)<<4|y>>4;let k=(y&15)<<2|E>>6,W=E&63;_||(W=64,d||(k=64)),s.push(n[R],n[O],n[k],n[W])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ib(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],y=o<i.length?n[i.charAt(o)]:0;++o;const E=o<i.length?n[i.charAt(o)]:64;++o;const O=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||y==null||E==null||O==null)throw new i1;const k=u<<2|y>>4;if(s.push(k),E!==64){const W=y<<4&240|E>>2;if(s.push(W),O!==64){const ce=E<<6&192|O;s.push(ce)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(i){const e=Ib(i);return Ob.encodeByteArray(e,!0)},nh=function(i){return s1(i).replace(/\./g,"")},xb=function(i){try{return Ob.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof K_>"u")return;const i=K_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},u1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&xb(i[1]);return e&&JSON.parse(e)},Sh=()=>{try{return n1()||o1()||l1()||u1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Db=i=>Sh()?.emulatorHosts?.[i],c1=i=>{const e=Db(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Nb=()=>Sh()?.config,Mb=i=>Sh()?.[`_${i}`];class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function tu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kb(i){return(await fetch(i,{credentials:"include"})).ok}function h1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[nh(JSON.stringify(n)),nh(JSON.stringify(d)),""].join(".")}const Zu={};function d1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?i.emulator.push(e):i.prod.push(e);return i}function m1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let F_=!1;function Vb(i,e){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||Zu[i]===e||Zu[i]||F_)return;Zu[i]=e;function n(k){return`__firebase__banner__${k}`}const s="__firebase__banner",u=d1().prod.length>0;function d(){const k=document.getElementById(s);k&&k.remove()}function y(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,W){k.setAttribute("width","24"),k.setAttribute("id",W),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function E(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{F_=!0,d()},k}function R(k,W){k.setAttribute("id",W),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function O(){const k=m1(s),W=n("text"),ce=document.getElementById(W)||document.createElement("span"),me=n("learnmore"),be=document.getElementById(me)||document.createElement("a"),qe=n("preprendIcon"),Fe=document.getElementById(qe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const Pe=k.element;y(Pe),R(be,me);const ct=E();_(Fe,qe),Pe.append(Fe,ce,be,ct),document.body.appendChild(Pe)}u?(ce.innerText="Preview backend disconnected.",Fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ce.innerText="Preview backend running in this workspace."),ce.setAttribute("id",W)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function g1(){const i=Sh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){const i=pr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function E1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function w1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const S1="FirebaseError";class ma extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=S1,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?A1(u,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ma(o,y,s)}}function A1(i,e){return i.replace(C1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C1=/\{\$([^}]+)}/g;function R1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jo(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(G_(u)&&G_(d)){if(!Jo(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(i){return i!==null&&typeof i=="object"}function Ec(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function I1(i,e){const n=new O1(i,e);return n.subscribe.bind(n)}class O1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");x1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Nm(){}function ji(i){return i&&i._delegate?i._delegate:i}class Zo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fo="[DEFAULT]";class D1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new f1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(i){return i===Fo?void 0:i}function M1(i){return i.instantiationMode==="EAGER"}class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Et;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Et||(Et={}));const V1={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},P1=Et.INFO,L1={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},U1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=L1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const j1=(i,e)=>e.some(n=>i instanceof n);let Y_,Q_;function z1(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Ym=new WeakMap,Lb=new WeakMap,Mm=new WeakMap,Tp=new WeakMap;function q1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(lo(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,i)}).catch(()=>{}),Tp.set(e,i),e}function H1(i){if(Ym.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Ym.set(i,e)}let Qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Lb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K1(i){Qm=i(Qm)}function F1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(km(this),e,...n);return Lb.set(s,e.sort?e.sort():[e]),lo(s)}:B1().includes(i)?function(...e){return i.apply(km(this),e),lo(Pb.get(this))}:function(...e){return lo(i.apply(km(this),e))}}function G1(i){return typeof i=="function"?F1(i):(i instanceof IDBTransaction&&H1(i),j1(i,z1())?new Proxy(i,Qm):i)}function lo(i){if(i instanceof IDBRequest)return q1(i);if(Mm.has(i))return Mm.get(i);const e=G1(i);return e!==i&&(Mm.set(i,e),Tp.set(e,i)),e}const km=i=>Tp.get(i);function Y1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),y=lo(d);return s&&d.addEventListener("upgradeneeded",_=>{s(lo(d.result),_.oldVersion,_.newVersion,lo(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),y.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const Q1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],Vm=new Map;function X_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=X1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(n)))return;const u=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),o&&_.done]))[0]};return Vm.set(e,u),u}K1(i=>({...i,get:(e,n,s)=>X_(e,n)||i.get(e,n,s),has:(e,n)=>!!X_(e,n)||i.has(e,n)}));class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function J1(i){return i.getComponent()?.type==="VERSION"}const Xm="@firebase/app",$_="0.14.6";const ca=new Ep("@firebase/app"),Z1="@firebase/app-compat",W1="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",rC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",aC="@firebase/data-connect",oC="@firebase/database-compat",lC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",fC="@firebase/installations-compat",hC="@firebase/messaging",dC="@firebase/messaging-compat",mC="@firebase/performance",pC="@firebase/performance-compat",gC="@firebase/remote-config",yC="@firebase/remote-config-compat",vC="@firebase/storage",_C="@firebase/storage-compat",bC="@firebase/firestore",EC="@firebase/ai",TC="@firebase/firestore-compat",wC="firebase",SC="12.6.0";const $m="[DEFAULT]",AC={[Xm]:"fire-core",[Z1]:"fire-core-compat",[eC]:"fire-analytics",[W1]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[rC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[aC]:"fire-data-connect",[oC]:"fire-rtdb-compat",[lC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[fC]:"fire-iid-compat",[hC]:"fire-fcm",[dC]:"fire-fcm-compat",[mC]:"fire-perf",[pC]:"fire-perf-compat",[gC]:"fire-rc",[yC]:"fire-rc-compat",[vC]:"fire-gcs",[_C]:"fire-gcs-compat",[bC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[wC]:"fire-js-all"};const rh=new Map,CC=new Map,Jm=new Map;function J_(i,e){try{i.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Yl(i){const e=i.name;if(Jm.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,i);for(const n of rh.values())J_(n,i);for(const n of CC.values())J_(n,i);return!0}function wp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Zi(i){return i==null?!1:i.settings!==void 0}const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new bc("app","Firebase",RC);class IC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const nu=SC;function Ub(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw uo.create("bad-app-name",{appName:String(o)});if(n||(n=Nb()),!n)throw uo.create("no-options");const u=rh.get(o);if(u){if(Jo(n,u.options)&&Jo(s,u.config))return u;throw uo.create("duplicate-app",{appName:o})}const d=new k1(o);for(const _ of Jm.values())d.addComponent(_);const y=new IC(n,s,d);return rh.set(o,y),y}function jb(i=$m){const e=rh.get(i);if(!e&&i===$m&&Nb())return Ub();if(!e)throw uo.create("no-app",{appName:i});return e}function co(i,e,n){let s=AC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(d.join(" "));return}Yl(new Zo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const OC="firebase-heartbeat-database",xC=1,lc="firebase-heartbeat-store";let Pm=null;function zb(){return Pm||(Pm=Y1(OC,xC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw uo.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function DC(i){try{const n=(await zb()).transaction(lc),s=await n.objectStore(lc).get(Bb(i));return await n.done,s}catch(e){if(e instanceof ma)ca.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e?.message});ca.warn(n.message)}}}async function Z_(i,e){try{const s=(await zb()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,Bb(i)),await s.done}catch(n){if(n instanceof ma)ca.warn(n.message);else{const s=uo.create("idb-set",{originalErrorMessage:n?.message});ca.warn(s.message)}}}function Bb(i){return`${i.name}!${i.options.appId}`}const NC=1024,MC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>MC){const o=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:n,unsentEntries:s}=VC(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ca.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function VC(i,e=NC){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),e0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),e0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?w1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e0(i){return nh(JSON.stringify({version:2,heartbeats:i})).length}function LC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function UC(i){Yl(new Zo("platform-logger",e=>new $1(e),"PRIVATE")),Yl(new Zo("heartbeat",e=>new kC(e),"PRIVATE")),co(Xm,$_,i),co(Xm,$_,"esm2020"),co("fire-js","")}UC("");var jC="firebase",zC="12.6.0";co(jC,zC,"app");function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=qb,Hb=new bc("auth","Firebase",qb());const ih=new Ep("@firebase/auth");function qC(i,...e){ih.logLevel<=Et.WARN&&ih.warn(`Auth (${nu}): ${i}`,...e)}function Kf(i,...e){ih.logLevel<=Et.ERROR&&ih.error(`Auth (${nu}): ${i}`,...e)}function As(i,...e){throw Ap(i,...e)}function ts(i,...e){return Ap(i,...e)}function Sp(i,e,n){const s={...BC(),[e]:n};return new bc("auth","Firebase",s).create(e,{appName:i.name})}function Qo(i){return Sp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HC(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&As(i,"argument-error"),Sp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Hb.create(i,...e)}function et(i,e,...n){if(!i)throw Ap(e,...n)}function aa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Kf(e),new Error(e)}function fa(i,e){i||aa(e)}function Zm(){return typeof self<"u"&&self.location?.href||""}function KC(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function FC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||v1()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,fa(n>e,"Short delay should be less than long delay!"),this.isMobile=p1()||_1()}get(){return FC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(i,e){fa(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Kb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XC=new Tc(3e4,6e4);function Rp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ru(i,e,n,s,o={}){return Fb(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const y=Ec({key:i.config.apiKey,...d}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:_,...u};return y1()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&tu(i.emulatorConfig.host)&&(E.credentials="include"),Kb.fetch()(await Gb(i,i.config.apiHost,n,y),E)})}async function Fb(i,e,n){i._canInitEmulator=!1;const s={...YC,...e};try{const o=new JC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw kf(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[_,E]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(i,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kf(i,"email-already-in-use",d);if(_==="USER_DISABLED")throw kf(i,"user-disabled",d);const R=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Sp(i,R,E);As(i,R)}}catch(o){if(o instanceof ma)throw o;As(i,"network-request-failed",{message:String(o)})}}async function $C(i,e,n,s,o={}){const u=await ru(i,e,n,s,o);return"mfaPendingCredential"in u&&As(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Gb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,d=u.config.emulator?Cp(i.config,o):`${i.config.apiScheme}://${o}`;return QC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class JC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),XC.get())})}}function kf(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ts(i,e,s);return o.customData._tokenResponse=n,o}async function ZC(i,e){return ru(i,"POST","/v1/accounts:delete",e)}async function sh(i,e){return ru(i,"POST","/v1/accounts:lookup",e)}function Wu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WC(i,e=!1){const n=ji(i),s=await n.getIdToken(e),o=Ip(s);et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:Wu(Lm(o.auth_time)),issuedAtTime:Wu(Lm(o.iat)),expirationTime:Wu(Lm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(i){return Number(i)*1e3}function Ip(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const o=xb(n);return o?JSON.parse(o):(Kf("Failed to decode base64 JWT payload"),null)}catch(o){return Kf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(i){const e=Ip(i);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ma&&eR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function eR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class tR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(i){const e=i.auth,n=await i.getIdToken(),s=await uc(i,sh(e,{idToken:n}));et(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Yb(o.providerUserInfo):[],d=rR(i.providerData,u),y=i.isAnonymous,_=!(i.email&&o.passwordHash)&&!d?.length,E=y?_:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,R)}async function nR(i){const e=ji(i);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Yb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iR(i,e){const n=await Fb(i,{},async()=>{const s=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await Gb(i,o,"/v1/token",`key=${u}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:s};return i.emulatorConfig&&tu(i.emulatorConfig.host)&&(_.credentials="include"),Kb.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sR(i,e){return ru(i,"POST","/v2/accounts:revokeToken",Rp(i,e))}class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=n0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new Hl;return s&&(et(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(et(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(et(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return aa("not implemented")}}function eo(i,e){et(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WC(this,e)}reload(){return nR(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zi(this.auth.app))return Promise.reject(Qo(this.auth));const e=await this.getIdToken();return await uc(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,_=n._redirectEventId??void 0,E=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:O,emailVerified:k,isAnonymous:W,providerData:ce,stsTokenManager:me}=n;et(O&&me,e,"internal-error");const be=Hl.fromJSON(this.name,me);et(typeof O=="string",e,"internal-error"),eo(s,e.name),eo(o,e.name),et(typeof k=="boolean",e,"internal-error"),et(typeof W=="boolean",e,"internal-error"),eo(u,e.name),eo(d,e.name),eo(y,e.name),eo(_,e.name),eo(E,e.name),eo(R,e.name);const qe=new Wi({uid:O,auth:e,email:o,emailVerified:k,displayName:s,isAnonymous:W,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:be,createdAt:E,lastLoginAt:R});return ce&&Array.isArray(ce)&&(qe.providerData=ce.map(Fe=>({...Fe}))),_&&(qe._redirectEventId=_),qe}static async _fromIdTokenResponse(e,n,s=!1){const o=new Hl;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Yb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new Hl;y.updateFromIdToken(s);const _=new Wi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,E),_}}const r0=new Map;function oa(i){fa(i instanceof Function,"Expected a class definition");let e=r0.get(i);return e?(fa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,r0.set(i,e),e)}class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qb.type="NONE";const i0=Qb;function Ff(i,e,n){return`firebase:${i}:${e}:${n}`}class Kl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ff(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ff("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Kl(oa(i0),e,s);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=o[0]||oa(i0);const d=Ff(s,e.config.apiKey,e.name);let y=null;for(const E of n)try{const R=await E._get(d);if(R){let O;if(typeof R=="string"){const k=await sh(e,{idToken:R}).catch(()=>{});if(!k)break;O=await Wi._fromGetAccountInfoResponse(e,k,R)}else O=Wi._fromJSON(e,R);E!==u&&(y=O),u=E;break}}catch{}const _=o.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Kl(u,e,s):(u=_[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==u)try{await E._remove(d)}catch{}})),new Kl(u,e,s))}}function s0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Xb(i=pr()){return/firefox\//i.test(i)}function $b(i=pr()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(i=pr()){return/crios\//i.test(i)}function Zb(i=pr()){return/iemobile/i.test(i)}function Wb(i=pr()){return/android/i.test(i)}function eE(i=pr()){return/blackberry/i.test(i)}function tE(i=pr()){return/webos/i.test(i)}function Op(i=pr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function aR(i=pr()){return Op(i)&&!!window.navigator?.standalone}function oR(){return b1()&&document.documentMode===10}function nE(i=pr()){return Op(i)||Wb(i)||tE(i)||eE(i)||/windows phone/i.test(i)||Zb(i)}function rE(i,e=[]){let n;switch(i){case"Browser":n=s0(pr());break;case"Worker":n=`${s0(pr())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${s}`}class lR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,y)=>{try{const _=e(u);d(_)}catch(_){y(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uR(i,e={}){return ru(i,"GET","/v2/passwordPolicy",Rp(i,e))}const cR=6;class fR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class hR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new lR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zi(this.app))return Promise.reject(Qo(this));const n=e?ji(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zi(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zi(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uR(this),n=new fR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oa(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,o);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ah(i){return ji(i)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=I1(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(i){xp=i}function mR(i){return xp.loadJS(i)}function pR(){return xp.gapiScript}function gR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function yR(i,e){const n=wp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Jo(u,e??{}))return o;As(o,"already-initialized")}return n.initialize({options:e})}function vR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(oa);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function _R(i,e,n){const s=Ah(i);et(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=iE(e),{host:d,port:y}=bR(e),_=y===null?"":`:${y}`,E={url:`${u}//${d}${_}/`},R=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),et(Jo(E,s.config.emulator)&&Jo(R,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=R,s.settings.appVerificationDisabledForTesting=!0,tu(d)?(kb(`${u}//${d}${_}`),Vb("Auth",!0)):ER()}function iE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function bR(i){const e=iE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:o0(d)}}}function o0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ER(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class sE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,n){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function Fl(i,e){return $C(i,"POST","/v1/accounts:signInWithIdp",Rp(i,e))}const TR="http://localhost";class Wo extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new Wo(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:TR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}class Dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ro extends wc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";class sa extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return sa.credential(n,s)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class io extends wc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";class so extends wc{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return so.credential(n,s)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),d=l0(s);return new Ql({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=l0(s);return new Ql({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function l0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class oh extends ma{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new oh(e,n,s,o)}}function aE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(i,u,e,s):u})}async function wR(i,e,n=!1){const s=await uc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ql._forOperation(i,"link",s)}async function SR(i,e,n=!1){const{auth:s}=i;if(Zi(s.app))return Promise.reject(Qo(s));const o="reauthenticate";try{const u=await uc(i,aE(s,o,e,i),n);et(u.idToken,s,"internal-error");const d=Ip(u.idToken);et(d,s,"internal-error");const{sub:y}=d;return et(i.uid===y,s,"user-mismatch"),Ql._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&As(s,"user-mismatch"),u}}async function AR(i,e,n=!1){if(Zi(i.app))return Promise.reject(Qo(i));const s="signIn",o=await aE(i,s,e),u=await Ql._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function CR(i,e,n,s){return ji(i).onIdTokenChanged(e,n,s)}function RR(i,e,n){return ji(i).beforeAuthStateChanged(e,n)}function IR(i,e,n,s){return ji(i).onAuthStateChanged(e,n,s)}function u0(i){return ji(i).signOut()}const lh="__sak";class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OR=1e3,xR=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);oR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const DR=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uE.type="SESSION";const cE=uE;function NR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(d).map(async E=>E(n.origin,u)),_=await NR(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function Np(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,_)=>{const E=Np("",20);o.port1.start();const R=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(O){const k=O;if(k.data.eventId===E)switch(k.data.status){case"ack":clearTimeout(R),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(k.data.response);break;default:clearTimeout(R),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:E,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bs(){return window}function kR(i){bs().location.href=i}function fE(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function VR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PR(){return navigator?.serviceWorker?.controller||null}function LR(){return fE()?self:null}const hE="firebaseLocalStorageDb",UR=1,uh="firebaseLocalStorage",dE="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(i,e){return i.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function jR(){const i=indexedDB.deleteDatabase(hE);return new Sc(i).toPromise()}function ep(){const i=indexedDB.open(hE,UR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(uh,{keyPath:dE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(uh)?e(s):(s.close(),await jR(),e(await ep()))})})}async function c0(i,e,n){const s=Rh(i,!0).put({[dE]:e,value:n});return new Sc(s).toPromise()}async function zR(i,e){const n=Rh(i,!1).get(e),s=await new Sc(n).toPromise();return s===void 0?null:s.value}function f0(i,e){const n=Rh(i,!0).delete(e);return new Sc(n).toPromise()}const BR=800,qR=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(LR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await c0(e,lh,"1"),await f0(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>c0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new Sc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const HR=mE;new Tc(3e4,6e4);function pE(i,e){return e?oa(e):(et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mp extends sE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(i){return AR(i.auth,new Mp(i),i.bypassAuthState)}function FR(i){const{auth:e,user:n}=i;return et(n,e,"internal-error"),SR(n,new Mp(i),i.bypassAuthState)}async function GR(i){const{auth:e,user:n}=i;return et(n,e,"internal-error"),wR(n,new Mp(i),i.bypassAuthState)}class gE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return GR;case"reauthViaPopup":case"reauthViaRedirect":return FR;default:As(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YR=new Tc(2e3,1e4);async function QR(i,e,n){if(Zi(i.app))return Promise.reject(ts(i,"operation-not-supported-in-this-environment"));const s=Ah(i);HC(i,e,Dp);const o=pE(s,n);return new Go(s,"signInViaPopup",e,o).executeNotNull()}class Go extends gE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}Go.currentPopupAction=null;const XR="pendingRedirect",Gf=new Map;class $R extends gE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const s=await JR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JR(i,e){const n=eI(e),s=WR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZR(i,e){Gf.set(i._key(),e)}function WR(i){return oa(i._redirectPersistence)}function eI(i){return Ff(XR,i.config.apiKey,i.name)}async function tI(i,e,n=!1){if(Zi(i.app))return Promise.reject(Qo(i));const s=Ah(i),o=pE(s,e),d=await new $R(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const nI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nI&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function iI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(i);default:return!1}}async function sI(i,e={}){return ru(i,"GET","/v1/projects",e)}const aI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oI=/^https?/;async function lI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sI(i);for(const n of e)try{if(uI(n))return}catch{}As(i,"unauthorized-domain")}function uI(i){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!oI.test(n))return!1;if(aI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const cI=new Tc(3e4,6e4);function d0(){const i=bs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fI(i){return new Promise((e,n)=>{function s(){d0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d0(),n(ts(i,"network-request-failed"))},timeout:cI.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)s();else{const o=gR("iframefcb");return bs()[o]=()=>{gapi.load?s():n(ts(i,"network-request-failed"))},mR(`${pR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function hI(i){return Yf=Yf||fI(i),Yf}const dI=new Tc(5e3,15e3),mI="__/auth/iframe",pI="emulator/auth/iframe",gI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vI(i){const e=i.config;et(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Cp(e,pI):`https://${i.config.authDomain}/${mI}`,s={apiKey:e.apiKey,appName:i.name,v:nu},o=yI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ec(s).slice(1)}`}async function _I(i){const e=await hI(i),n=bs().gapi;return et(n,i,"internal-error"),e.open({where:document.body,url:vI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=ts(i,"network-request-failed"),y=bs().setTimeout(()=>{u(d)},dI.get());function _(){bs().clearTimeout(y),o(s)}s.ping(_).then(_,()=>{u(d)})}))}const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EI=500,TI=600,wI="_blank",SI="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AI(i,e,n,s=EI,o=TI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const _={...bI,width:s.toString(),height:o.toString(),top:u,left:d},E=pr().toLowerCase();n&&(y=Jb(E)?wI:n),Xb(E)&&(e=e||SI,_.scrollbars="yes");const R=Object.entries(_).reduce((k,[W,ce])=>`${k}${W}=${ce},`,"");if(aR(E)&&y!=="_self")return CI(e||"",y),new m0(null);const O=window.open(e||"",y,R);et(O,i,"popup-blocked");try{O.focus()}catch{}return new m0(O)}function CI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const RI="__/auth/handler",II="emulator/auth/handler",OI=encodeURIComponent("fac");async function p0(i,e,n,s,o,u){et(i.config.authDomain,i,"auth-domain-config-required"),et(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:nu,eventId:o};if(e instanceof Dp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",R1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[R,O]of Object.entries({}))d[R]=O}if(e instanceof wc){const R=e.getScopes().filter(O=>O!=="");R.length>0&&(d.scopes=R.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const _=await i._getAppCheckToken(),E=_?`#${OI}=${encodeURIComponent(_)}`:"";return`${xI(i)}?${Ec(y).slice(1)}${E}`}function xI({config:i}){return i.emulator?Cp(i,II):`https://${i.authDomain}/${RI}`}const Um="webStorageSupport";class DI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=tI,this._overrideRedirectResult=ZR}async _openPopup(e,n,s,o){fa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await p0(e,n,s,Zm(),o);return AI(e,u,Np())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await p0(e,n,s,Zm(),o);return kR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _I(e),s=new rI(e);return n.register("authEvent",o=>(et(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nE()||$b()||Op()}}const NI=DI;var g0="@firebase/auth",y0="1.11.1";class MI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VI(i){Yl(new Zo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;et(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(i)},E=new hR(s,o,u,_);return vR(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Yl(new Zo("auth-internal",e=>{const n=Ah(e.getProvider("auth").getImmediate());return(s=>new MI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(g0,y0,kI(i)),co(g0,y0,"esm2020")}const PI=300,LI=Mb("authIdTokenMaxAge")||PI;let v0=null;const UI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LI)return;const o=n?.token;v0!==o&&(v0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jI(i=jb()){const e=wp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=yR(i,{popupRedirectResolver:NI,persistence:[HR,DR,cE]}),s=Mb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=UI(u.toString());RR(n,d,()=>d(n.currentUser)),CR(n,y=>d(y))}}const o=Db("auth");return o&&_R(n,`http://${o}`),n}function zI(){return document.getElementsByTagName("head")?.[0]??document}dR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ts("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VI("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,vE;(function(){var i;function e(V,N){function P(){}P.prototype=N.prototype,V.F=N.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(Y,q,J){for(var M=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)M[Bt-2]=arguments[Bt];return N.prototype[q].apply(Y,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,N,P){P||(P=0);const Y=Array(16);if(typeof N=="string")for(var q=0;q<16;++q)Y[q]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(q=0;q<16;++q)Y[q]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=V.g[0],P=V.g[1],q=V.g[2];let J=V.g[3],M;M=N+(J^P&(q^J))+Y[0]+3614090360&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[1]+3905402710&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[2]+606105819&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[3]+3250441966&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[4]+4118548399&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[5]+1200080426&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[6]+2821735955&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[7]+4249261313&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[8]+1770035416&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[9]+2336552879&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[10]+4294925233&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[11]+2304563134&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[12]+1804603682&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[13]+4254626195&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[14]+2792965006&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[15]+1236535329&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(q^J&(P^q))+Y[1]+4129170786&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[6]+3225465664&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[11]+643717713&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[0]+3921069994&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[5]+3593408605&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[10]+38016083&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[15]+3634488961&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[4]+3889429448&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[9]+568446438&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[14]+3275163606&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[3]+4107603335&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[8]+1163531501&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[13]+2850285829&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[2]+4243563512&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[7]+1735328473&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[12]+2368359562&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(P^q^J)+Y[5]+4294588738&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[8]+2272392833&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[11]+1839030562&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[14]+4259657740&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[1]+2763975236&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[4]+1272893353&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[7]+4139469664&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[10]+3200236656&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[13]+681279174&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[0]+3936430074&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[3]+3572445317&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[6]+76029189&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[9]+3654602809&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[12]+3873151461&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[15]+530742520&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[2]+3299628645&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(q^(P|~J))+Y[0]+4096336452&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[7]+1126891415&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[14]+2878612391&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[5]+4237533241&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[12]+1700485571&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[3]+2399980690&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[10]+4293915773&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[1]+2240044497&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[8]+1873313359&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[15]+4264355552&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[6]+2734768916&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[13]+1309151649&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[4]+4149444226&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[11]+3174756917&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[2]+718787259&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(q+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+q&4294967295,V.g[3]=V.g[3]+J&4294967295}s.prototype.v=function(V,N){N===void 0&&(N=V.length);const P=N-this.blockSize,Y=this.C;let q=this.h,J=0;for(;J<N;){if(q==0)for(;J<=P;)o(this,V,J),J+=this.blockSize;if(typeof V=="string"){for(;J<N;)if(Y[q++]=V.charCodeAt(J++),q==this.blockSize){o(this,Y),q=0;break}}else for(;J<N;)if(Y[q++]=V[J++],q==this.blockSize){o(this,Y),q=0;break}}this.h=q,this.o+=N},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;N=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=N&255,N/=256;for(this.v(V),V=Array(16),N=0,P=0;P<4;++P)for(let Y=0;Y<32;Y+=8)V[N++]=this.g[P]>>>Y&255;return V};function u(V,N){var P=y;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=N(V)}function d(V,N){this.h=N;const P=[];let Y=!0;for(let q=V.length-1;q>=0;q--){const J=V[q]|0;Y&&J==N||(P[q]=J,Y=!1)}this.g=P}var y={};function _(V){return-128<=V&&V<128?u(V,function(N){return new d([N|0],N<0?-1:0)}):new d([V|0],V<0?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return O;if(V<0)return be(E(-V));const N=[];let P=1;for(let Y=0;V>=P;Y++)N[Y]=V/P|0,P*=4294967296;return new d(N,0)}function R(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return be(R(V.substring(1),N));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(N,8));let Y=O;for(let J=0;J<V.length;J+=8){var q=Math.min(8,V.length-J);const M=parseInt(V.substring(J,J+q),N);q<8?(q=E(Math.pow(N,q)),Y=Y.j(q).add(E(M))):(Y=Y.j(P),Y=Y.add(E(M)))}return Y}var O=_(0),k=_(1),W=_(16777216);i=d.prototype,i.m=function(){if(me(this))return-be(this).m();let V=0,N=1;for(let P=0;P<this.g.length;P++){const Y=this.i(P);V+=(Y>=0?Y:4294967296+Y)*N,N*=4294967296}return V},i.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(ce(this))return"0";if(me(this))return"-"+be(this).toString(V);const N=E(Math.pow(V,6));var P=this;let Y="";for(;;){const q=ct(P,N).g;P=qe(P,q.j(N));let J=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=q,ce(P))return J+Y;for(;J.length<6;)J="0"+J;Y=J+Y}},i.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function ce(V){if(V.h!=0)return!1;for(let N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function me(V){return V.h==-1}i.l=function(V){return V=qe(this,V),me(V)?-1:ce(V)?0:1};function be(V){const N=V.g.length,P=[];for(let Y=0;Y<N;Y++)P[Y]=~V.g[Y];return new d(P,~V.h).add(k)}i.abs=function(){return me(this)?be(this):this},i.add=function(V){const N=Math.max(this.g.length,V.g.length),P=[];let Y=0;for(let q=0;q<=N;q++){let J=Y+(this.i(q)&65535)+(V.i(q)&65535),M=(J>>>16)+(this.i(q)>>>16)+(V.i(q)>>>16);Y=M>>>16,J&=65535,M&=65535,P[q]=M<<16|J}return new d(P,P[P.length-1]&-2147483648?-1:0)};function qe(V,N){return V.add(be(N))}i.j=function(V){if(ce(this)||ce(V))return O;if(me(this))return me(V)?be(this).j(be(V)):be(be(this).j(V));if(me(V))return be(this.j(be(V)));if(this.l(W)<0&&V.l(W)<0)return E(this.m()*V.m());const N=this.g.length+V.g.length,P=[];for(var Y=0;Y<2*N;Y++)P[Y]=0;for(Y=0;Y<this.g.length;Y++)for(let q=0;q<V.g.length;q++){const J=this.i(Y)>>>16,M=this.i(Y)&65535,Bt=V.i(q)>>>16,Ft=V.i(q)&65535;P[2*Y+2*q]+=M*Ft,Fe(P,2*Y+2*q),P[2*Y+2*q+1]+=J*Ft,Fe(P,2*Y+2*q+1),P[2*Y+2*q+1]+=M*Bt,Fe(P,2*Y+2*q+1),P[2*Y+2*q+2]+=J*Bt,Fe(P,2*Y+2*q+2)}for(V=0;V<N;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=N;V<2*N;V++)P[V]=0;return new d(P,0)};function Fe(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function Pe(V,N){this.g=V,this.h=N}function ct(V,N){if(ce(N))throw Error("division by zero");if(ce(V))return new Pe(O,O);if(me(V))return N=ct(be(V),N),new Pe(be(N.g),be(N.h));if(me(N))return N=ct(V,be(N)),new Pe(be(N.g),N.h);if(V.g.length>30){if(me(V)||me(N))throw Error("slowDivide_ only works with positive integers.");for(var P=k,Y=N;Y.l(V)<=0;)P=Nt(P),Y=Nt(Y);var q=$e(P,1),J=$e(Y,1);for(Y=$e(Y,2),P=$e(P,2);!ce(Y);){var M=J.add(Y);M.l(V)<=0&&(q=q.add(P),J=M),Y=$e(Y,1),P=$e(P,1)}return N=qe(V,q.j(N)),new Pe(q,N)}for(q=O;V.l(N)>=0;){for(P=Math.max(1,Math.floor(V.m()/N.m())),Y=Math.ceil(Math.log(P)/Math.LN2),Y=Y<=48?1:Math.pow(2,Y-48),J=E(P),M=J.j(N);me(M)||M.l(V)>0;)P-=Y,J=E(P),M=J.j(N);ce(J)&&(J=k),q=q.add(J),V=qe(V,M)}return new Pe(q,V)}i.B=function(V){return ct(this,V).h},i.and=function(V){const N=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)&V.i(Y);return new d(P,this.h&V.h)},i.or=function(V){const N=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)|V.i(Y);return new d(P,this.h|V.h)},i.xor=function(V){const N=Math.max(this.g.length,V.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)^V.i(Y);return new d(P,this.h^V.h)};function Nt(V){const N=V.g.length+1,P=[];for(let Y=0;Y<N;Y++)P[Y]=V.i(Y)<<1|V.i(Y-1)>>>31;return new d(P,V.h)}function $e(V,N){const P=N>>5;N%=32;const Y=V.g.length-P,q=[];for(let J=0;J<Y;J++)q[J]=N>0?V.i(J+P)>>>N|V.i(J+P+1)<<32-N:V.i(J+P);return new d(q,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,vE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=R,fo=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,Yu,bE,Qf,tp,EE,TE,wE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vf=="object"&&Vf];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)e:{var w=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var ee=c[I];if(!(ee in w))break e;w=w[ee]}c=c[c.length-1],I=w[c],v=v(I),v!=I&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});var u=u||{},d=this||self;function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,w){return c.call.apply(c.bind,arguments)}function E(c,v,w){return E=_,E.apply(null,arguments)}function R(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function O(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,ee,oe){for(var Ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Ae[tt-2]=arguments[tt];return v.prototype[ee].apply(I,Ae)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function W(c){const v=c.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=c[I];return w}return[]}function ce(c,v){for(let I=1;I<arguments.length;I++){const ee=arguments[I];var w=typeof ee;if(w=w!="object"?w:ee?Array.isArray(ee)?"array":w:"null",w=="array"||w=="object"&&typeof ee.length=="number"){w=c.length||0;const oe=ee.length||0;c.length=w+oe;for(let Ae=0;Ae<oe;Ae++)c[w+Ae]=ee[Ae]}else c.push(ee)}}class me{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function be(c){d.setTimeout(()=>{throw c},0)}function qe(){var c=V;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Fe{constructor(){this.h=this.g=null}add(v,w){const I=Pe.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new me(()=>new ct,c=>c.reset());class ct{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Nt,$e=!1,V=new Fe,N=()=>{const c=Promise.resolve(void 0);Nt=()=>{c.then(P)}};function P(){for(var c;c=qe();){try{c.h.call(c.g)}catch(w){be(w)}var v=Pe;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}$e=!1}function Y(){this.u=this.u,this.C=this.C}Y.prototype.u=!1,Y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Y.prototype[Symbol.dispose]=function(){this.dispose()},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function Bt(c,v){q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}O(Bt,q),Bt.prototype.init=function(c,v){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),ae=0;function _e(c,v,w,I,ee){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=ee,this.key=++ae,this.da=this.fa=!1}function Ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function st(c,v,w){for(const I in c)v.call(w,c[I],I,c)}function ft(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function K(c){const v={};for(const w in c)v[w]=c[w];return v}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,v){let w,I;for(let ee=1;ee<arguments.length;ee++){I=arguments[ee];for(w in I)c[w]=I[w];for(let oe=0;oe<pe.length;oe++)w=pe[oe],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Ve(c){this.src=c,this.g={},this.h=0}Ve.prototype.add=function(c,v,w,I,ee){const oe=c.toString();c=this.g[oe],c||(c=this.g[oe]=[],this.h++);const Ae=Je(c,v,I,ee);return Ae>-1?(v=c[Ae],w||(v.fa=!1)):(v=new _e(v,this.src,oe,!!I,ee),v.fa=w,c.push(v)),v};function Ye(c,v){const w=v.type;if(w in c.g){var I=c.g[w],ee=Array.prototype.indexOf.call(I,v,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(I,ee,1),oe&&(Ue(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Je(c,v,w,I){for(let ee=0;ee<c.length;++ee){const oe=c[ee];if(!oe.da&&oe.listener==v&&oe.capture==!!w&&oe.ha==I)return ee}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),pn={};function Ne(c,v,w,I,ee){if(Array.isArray(v)){for(let oe=0;oe<v.length;oe++)Ne(c,v[oe],w,I,ee);return null}return w=To(w),c&&c[Ft]?c.J(v,w,y(I)?!!I.capture:!1,ee):ns(c,v,w,!1,I,ee)}function ns(c,v,w,I,ee,oe){if(!v)throw Error("Invalid event type");const Ae=y(ee)?!!ee.capture:!!ee;let tt=Is(c);if(tt||(c[mt]=tt=new Ve(c)),w=tt.add(v,w,I,Ae,oe),w.proxy)return w;if(I=zi(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)J||(ee=Ae),ee===void 0&&(ee=!1),c.addEventListener(v.toString(),I,ee);else if(c.attachEvent)c.attachEvent(mi(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function zi(){function c(w){return v.call(c.src,c.listener,w)}const v=Fr;return c}function St(c,v,w,I,ee){if(Array.isArray(v))for(var oe=0;oe<v.length;oe++)St(c,v[oe],w,I,ee);else I=y(I)?!!I.capture:!!I,w=To(w),c&&c[Ft]?(c=c.i,oe=String(v).toString(),oe in c.g&&(v=c.g[oe],w=Je(v,w,I,ee),w>-1&&(Ue(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[oe],c.h--)))):c&&(c=Is(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Je(v,w,I,ee)),(w=c>-1?v[c]:null)&&di(w))}function di(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ft])Ye(v.i,c);else{var w=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(w,I,c.capture):v.detachEvent?v.detachEvent(mi(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Is(v))?(Ye(w,c),w.h==0&&(w.src=null,v[mt]=null)):Ue(c)}}}function mi(c){return c in pn?pn[c]:pn[c]="on"+c}function Fr(c,v){if(c.da)c=!0;else{v=new Bt(v,this);const w=c.listener,I=c.ha||c.src;c.fa&&di(c),c=w.call(I,v)}return c}function Is(c){return c=c[mt],c instanceof Ve?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(v){return c.handleEvent(v)}),c[Eo])}function fn(){Y.call(this),this.i=new Ve(this),this.M=this,this.G=null}O(fn,Y),fn.prototype[Ft]=!0,fn.prototype.removeEventListener=function(c,v,w,I){St(this,c,v,w,I)};function tn(c,v){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new q(v,c);else if(v instanceof q)v.target=v.target||c;else{var ee=v;v=new q(I,c),Ie(v,ee)}ee=!0;let oe,Ae;if(w)for(Ae=w.length-1;Ae>=0;Ae--)oe=v.g=w[Ae],ee=kn(oe,I,!0,v)&&ee;if(oe=v.g=c,ee=kn(oe,I,!0,v)&&ee,ee=kn(oe,I,!1,v)&&ee,w)for(Ae=0;Ae<w.length;Ae++)oe=v.g=w[Ae],ee=kn(oe,I,!1,v)&&ee}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let I=0;I<w.length;I++)Ue(w[I]);delete c.g[v],c.h--}}this.G=null},fn.prototype.J=function(c,v,w,I){return this.i.add(String(c),v,!1,w,I)},fn.prototype.K=function(c,v,w,I){return this.i.add(String(c),v,!0,w,I)};function kn(c,v,w,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let ee=!0;for(let oe=0;oe<v.length;++oe){const Ae=v[oe];if(Ae&&!Ae.da&&Ae.capture==w){const tt=Ae.listener,ln=Ae.ha||Ae.src;Ae.fa&&Ye(c.i,Ae),ee=tt.call(ln,I)!==!1&&ee}}return ee&&!I.defaultPrevented}function al(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(c,v||0)}function rs(c){c.g=al(()=>{c.g=null,c.i&&(c.i=!1,rs(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class zn extends Y{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){Y.call(this),this.h=c,this.g={}}O(Gr,Y);var Yr=[];function Qr(c){st(c.g,function(v,w){this.g.hasOwnProperty(w)&&di(v)},c),c.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),Qr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Os=d.JSON.parse,pa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function xs(){}function gi(){}var sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){q.call(this,"d")}O(gn,q);function yn(){q.call(this,"c")}O(yn,q);var De={},is=null;function Tr(){return is=is||new fn}De.Ia="serverreachability";function Ds(c){q.call(this,De.Ia,c)}O(Ds,q);function Re(c){const v=Tr();tn(v,new Ds(v))}De.STAT_EVENT="statevent";function Bi(c,v){q.call(this,De.STAT_EVENT,c),this.stat=v}O(Bi,q);function nn(c){const v=Tr();tn(v,new Bi(v,c))}De.Ja="timingevent";function wr(c,v){q.call(this,De.Ja,c),this.size=v}O(wr,q);function Xr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function lu(c,v,w,I,ee,oe){c.info(function(){if(c.g)if(oe){var Ae="",tt=oe.split("&");for(let At=0;At<tt.length;At++){var ln=tt[At].split("=");if(ln.length>1){const Ut=ln[0];ln=ln[1];const Vr=Ut.split("_");Ae=Vr.length>=2&&Vr[1]=="type"?Ae+(Ut+"="+ln+"&"):Ae+(Ut+"=redacted&")}}}else Ae=null;else Ae=oe;return"XMLHTTP REQ ("+I+") [attempt "+ee+"]: "+v+`
`+w+`
`+Ae})}function ol(c,v,w,I,ee,oe,Ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+ee+"]: "+v+`
`+w+`
`+oe+" "+Ae})}function Xn(c,v,w,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+wo(c,w)+(I?" "+I:"")})}function Sr(c,v){c.info(function(){return"TIMEOUT: "+v})}gr.prototype.info=function(){};function wo(c,v){if(!c.g)return v;if(!v)return null;try{const oe=JSON.parse(v);if(oe){for(c=0;c<oe.length;c++)if(Array.isArray(oe[c])){var w=oe[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var ee=I[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ae=1;Ae<I.length;Ae++)I[Ae]=""}}}}return pi(oe)}catch{return v}}var yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zt;function Ns(){}O(Ns,xs),Ns.prototype.g=function(){return new XMLHttpRequest},Zt=new Ns;function Ar(c){return encodeURIComponent(String(c))}function Ms(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function ar(c,v,w,I){this.j=c,this.i=v,this.l=w,this.S=I||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Pt={},Yt={};function Vn(c,v,w){c.M=1,c.A=os(sn(v)),c.u=w,c.R=!0,qi(c,null)}function qi(c,v){c.F=Date.now(),Bn(c),c.B=sn(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ba(w.i,"t",I),c.C=0,w=c.j.L,c.h=new $r,c.g=bn(c.j,w?v:null,!c.u),c.P>0&&(c.O=new zn(E(c.Y,c,c.g),c.P)),v=c.V,w=c.g,I=c.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Yr[0]=ee.toString()),ee=Yr);for(let oe=0;oe<ee.length;oe++){const Ae=Ne(w,ee[oe],I||v.handleEvent,!1,v.h||v);if(!Ae)break;v.g[Ae.key]=Ae}v=c.J?K(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Re(),lu(c.i,c.v,c.B,c.l,c.S,c.u)}ar.prototype.ba=function(c){c=c.target;const v=this.O;v&&ii(c)==3?v.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{const tt=ii(this.g),ln=this.g.ya(),At=this.g.ca();if(!(tt<3)&&(tt!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||tt!=4||ln==7||(ln==8||At<=0?Re(3):Re(2)),Cr(this);var v=this.g.ca();this.X=v;var w=uu(this);if(this.o=v==200,ol(this.i,this.v,this.B,this.l,this.S,tt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,ee=this.g;if((I=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(I)){var oe=I;break t}}oe=null}if(c=oe)Xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sn(this,c);else{this.o=!1,this.m=3,nn(12),vn(this),Rt(this);break e}}if(this.R){c=!0;let Ut;for(;!this.K&&this.C<w.length;)if(Ut=So(this,w),Ut==Yt){tt==4&&(this.m=4,nn(14),c=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Pt){this.m=4,nn(15),Xn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Xn(this.i,this.l,Ut,null),Sn(this,Ut);if(Jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||w.length!=0||this.h.h||(this.m=1,nn(16),c=!1),this.o=this.o&&c,!c)Xn(this.i,this.l,w,"[Invalid Chunked Response]"),vn(this),Rt(this);else if(w.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),us(Ae),Ae.P=!0,nn(11))}}else Xn(this.i,this.l,w,null),Sn(this,w);tt==4&&vn(this),this.o&&!this.K&&(tt==4?Xi(this.j,this):(this.o=!1,Bn(this)))}else Yi(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),vn(this),Rt(this)}}}catch{}finally{}};function uu(c){if(!Jr(c))return c.g.la();const v=on(c.g);if(v==="")return"";let w="";const I=v.length,ee=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Rt(c),"";c.h.i=new d.TextDecoder}for(let oe=0;oe<I;oe++)c.h.h=!0,w+=c.h.i.decode(v[oe],{stream:!(ee&&oe==I-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function Jr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function So(c,v){var w=c.C,I=v.indexOf(`
`,w);return I==-1?Yt:(w=Number(v.substring(w,I)),isNaN(w)?Pt:(I+=1,I+w>v.length?Yt:(v=v.slice(I,I+w),c.C=I+w,v)))}ar.prototype.cancel=function(){this.K=!0,vn(this)};function Bn(c){c.T=Date.now()+c.H,ks(c,c.H)}function ks(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Xr(E(c.aa,c),v)}function Cr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ar.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(Re(),nn(17)),vn(this),this.m=2,Rt(this)):ks(this,this.T-c)};function Rt(c){c.j.I==0||c.K||Xi(c.j,c)}function vn(c){Cr(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Qr(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Sn(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||Ir(w.h,c))){if(!c.L&&Ir(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var ee=I;if(ee[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Sa(w),Ti(w);else break e;Si(w),nn(18)}}else w.xa=ee[1],0<w.xa-w.K&&ee[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Xr(E(w.Va,w),6e3));Rr(w.h)<=1&&w.ta&&(w.ta=void 0)}else Mr(w,11)}else if((c.L||w.g==c)&&Sa(w),!M(v))for(ee=w.Ba.g.parse(v),v=0;v<ee.length;v++){let At=ee[v];const Ut=At[0];if(!(Ut<=w.K))if(w.K=Ut,At=At[1],w.I==2)if(At[0]=="c"){w.M=At[1],w.ba=At[2];const Vr=At[3];Vr!=null&&(w.ka=Vr,w.j.info("VER="+w.ka));const Pr=At[4];Pr!=null&&(w.za=Pr,w.j.info("SVER="+w.za));const _r=At[5];_r!=null&&typeof _r=="number"&&_r>0&&(I=1.5*_r,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const ai=c.g;if(ai){const fs=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var oe=I.h;oe.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Zr(oe,oe.h),oe.h=null))}if(I.G){const Ia=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(I.wa=Ia,Ot(I.J,I.G,Ia))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var Ae=c;if(I.na=Ra(I,I.L?I.ba:null,I.W),Ae.L){ga(I.h,Ae);var tt=Ae,ln=I.O;ln&&(tt.H=ln),tt.D&&(Cr(tt),Bn(tt)),I.g=Ae}else Us(I);w.i.length>0&&wi(w)}else At[0]!="stop"&&At[0]!="close"||Mr(w,7);else w.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Mr(w,7):ls(w):At[0]!="noop"&&w.l&&w.l.qa(At),w.A=0)}}Re(4)}catch{}}var rn=class{constructor(c,v){this.g=c,this.map=v}};function vi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ss(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rr(c){return c.h?1:c.g?c.g.size:0}function Ir(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Zr(c,v){c.g?c.g.add(v):c.h=v}function ga(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}vi.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function as(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return W(c.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let ee,oe=null;I>=0?(ee=c[w].substring(0,I),oe=c[w].substring(I+1)):ee=c[w],v(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function or(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof or?(this.l=c.l,an(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.u),this.h=c.h,ya(this,ul(c.i)),this.m=c.m):c&&(v=String(c).match(Ao))?(this.l=!1,an(this,v[1]||"",!0),this.o=gt(v[2]||""),this.g=gt(v[3]||"",!0),Or(this,v[4]),this.h=gt(v[5]||"",!0),ya(this,v[6]||"",!0),this.m=gt(v[7]||"")):(this.l=!1,this.i=new ni(null,this.l))}or.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Wr(v,ei,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Wr(v,ei,!0),"@"),c.push(Ar(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Wr(w,w.charAt(0)=="/"?Vs:va,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Wr(w,Co)),c.join("")},or.prototype.resolve=function(c){const v=sn(this);let w=!!c.j;w?an(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var I=c.h;if(w)Or(v,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var ee=v.h.lastIndexOf("/");ee!=-1&&(I=v.h.slice(0,ee+1)+I)}if(ee=I,ee==".."||ee==".")I="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){I=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let Ae=0;Ae<ee.length;){const tt=ee[Ae++];tt=="."?I&&Ae==ee.length&&oe.push(""):tt==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),I&&Ae==ee.length&&oe.push("")):(oe.push(tt),I=!0)}I=oe.join("/")}else I=ee}return w?v.h=I:w=c.i.toString()!=="",w?ya(v,ul(c.i)):w=!!c.m,w&&(v.m=c.m),v};function sn(c){return new or(c)}function an(c,v,w){c.j=w?gt(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function ya(c,v,w){v instanceof ni?(c.i=v,ri(c.i,c.l)):(w||(v=Wr(v,ti)),c.i=new ni(v,c.l))}function Ot(c,v,w){c.i.set(v,w)}function os(c){return Ot(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gt(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wr(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,An),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function An(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ei=/[#\/\?@]/g,va=/[#\?:]/g,Vs=/[#\?]/g,ti=/[#\?@]/g,Co=/#/g;function ni(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&at(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=ni.prototype,i.add=function(c,v){$n(this),this.i=null,c=hn(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function ll(c,v){$n(c),v=hn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function pt(c,v){return $n(c),v=hn(c,v),c.g.has(v)}i.forEach=function(c,v){$n(this),this.g.forEach(function(w,I){w.forEach(function(ee){c.call(v,ee,I,this)},this)},this)};function _a(c,v){$n(c);let w=[];if(typeof v=="string")pt(c,v)&&(w=w.concat(c.g.get(hn(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}i.set=function(c,v){return $n(this),this.i=null,c=hn(this,c),pt(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=_a(this,c),c.length>0?String(c[0]):v):v};function ba(c,v,w){ll(c,v),w.length>0&&(c.i=null,c.g.set(hn(c,v),W(w)),c.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const ee=Ar(w);w=_a(this,w);for(let oe=0;oe<w.length;oe++){let Ae=ee;w[oe]!==""&&(Ae+="="+Ar(w[oe])),c.push(Ae)}}return this.i=c.join("&")};function ul(c){const v=new ni;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function hn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ri(c,v){v&&!c.j&&($n(c),c.i=null,c.g.forEach(function(w,I){const ee=I.toLowerCase();I!=ee&&(ll(this,I),ba(this,ee,w))},c)),c.j=v}function lr(c,v){const w=new gr;if(d.Image){const I=new Image;I.onload=R(yr,w,"TestLoadImage: loaded",!0,v,I),I.onerror=R(yr,w,"TestLoadImage: error",!1,v,I),I.onabort=R(yr,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=R(yr,w,"TestLoadImage: timeout",!1,v,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function xr(c,v){const w=new gr,I=new AbortController,ee=setTimeout(()=>{I.abort(),yr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(oe=>{clearTimeout(ee),oe.ok?yr(w,"TestPingServer: ok",!0,v):yr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ee),yr(w,"TestPingServer: error",!1,v)})}function yr(c,v,w,I,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),I(w)}catch{}}function Hi(){this.g=new pa}function Lt(c){this.i=c.Sb||null,this.h=c.ab||!1}O(Lt,xs),Lt.prototype.g=function(){return new qn(this.i,this.h)};function qn(c,v){fn.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(qn,fn),i=qn.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,vr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_i(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _i(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Dr(this):vr(this),this.readyState==3&&_i(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},i.Na=function(c){this.g&&(this.response=c,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vr(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function vr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _n(c){let v="";return st(c,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function Ps(c,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=_n(w),typeof c=="string"?w!=null&&Ar(w):Ot(c,v,w))}function ht(c){fn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(ht,fn);var Nr=/^https?$/i,Ea=["POST","PUT"];i=ht.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zt.g(),this.g.onreadystatechange=k(E(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(oe){Ki(this,oe);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var ee in I)w.set(ee,I[ee]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const oe of I.keys())w.set(oe,I.get(oe));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ea,v,void 0)>=0)||I||ee||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ae]of w)this.g.setRequestHeader(oe,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(oe){Ki(this,oe)}};function Ki(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Fi(c),bi(c)}function Fi(c){c.A||(c.A=!0,tn(c,"complete"),tn(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,tn(this,"complete"),tn(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),ht.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gi(this):this.Xa())},i.Xa=function(){Gi(this)};function Gi(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(tn(c,"readystatechange"),ii(c)==4){c.h=!1;try{const oe=c.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=oe===0){let Ae=String(c.D).match(Ao)[1]||null;!Ae&&d.self&&d.self.location&&(Ae=d.self.location.protocol.slice(0,-1)),I=!Nr.test(Ae?Ae.toLowerCase():"")}w=I}if(w)tn(c,"complete"),tn(c,"success");else{c.o=6;try{var ee=ii(c)>2?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.ca()+"]",Fi(c)}}finally{bi(c)}}}}function bi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||tn(c,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Os(v)}};function on(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const v={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(M(c[I]))continue;var w=Ms(c[I]);const ee=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const oe=v[ee]||[];v[ee]=oe,oe.push(w)}ft(v,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function si(c){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vi(c&&c.concurrentRequestLimit),this.Ba=new Hi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=si.prototype,i.ka=8,i.I=1,i.connect=function(c,v,w,I){nn(0),this.W=c,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Ra(this,null,this.W),wi(this)};function ls(c){if(Ta(c),c.I==3){var v=c.V++,w=sn(c.J);if(Ot(w,"SID",c.M),Ot(w,"RID",v),Ot(w,"TYPE","terminate"),Qi(c,w),v=new ar(c,c.j,v),v.M=2,v.A=os(sn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.A,w=!0),w||(v.g=bn(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Bn(v)}Ca(c)}function Ti(c){c.g&&(us(c),c.g.cancel(),c.g=null)}function Ta(c){Ti(c),c.v&&(d.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function wi(c){if(!ss(c.h)&&!c.m){c.m=!0;var v=c.Ea;Nt||N(),$e||(Nt(),$e=!0),V.add(v,c),c.D=0}}function wa(c,v){return Rr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Xr(E(c.Ea,c,v),Aa(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const ee=new ar(this,this.j,c);let oe=this.o;if(this.U&&(oe?(oe=K(oe),Ie(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Ro(this,ee,v),w=sn(this.J),Ot(w,"RID",c),Ot(w,"CVER",22),this.G&&Ot(w,"X-HTTP-Session-Id",this.G),Qi(this,w),oe&&(this.R?v="headers="+Ar(_n(oe))+"&"+v:this.u&&Ps(w,this.u,oe)),Zr(this.h,ee),this.Ra&&Ot(w,"TYPE","init"),this.S?(Ot(w,"$req",v),Ot(w,"SID","null"),ee.U=!0,Vn(ee,w,null)):Vn(ee,w,v),this.I=2}}else this.I==3&&(c?Ls(this,c):this.i.length==0||ss(this.h)||Ls(this))};function Ls(c,v){var w;v?w=v.l:w=c.V++;const I=sn(c.J);Ot(I,"SID",c.M),Ot(I,"RID",w),Ot(I,"AID",c.K),Qi(c,I),c.u&&c.o&&Ps(I,c.u,c.o),w=new ar(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Ro(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zr(c.h,w),Vn(w,I,v)}function Qi(c,v){c.H&&st(c.H,function(w,I){Ot(v,I,w)}),c.l&&st({},function(w,I){Ot(v,I,w)})}function Ro(c,v,w){w=Math.min(c.i.length,w);const I=c.l?E(c.l.Ka,c.l,c):null;e:{var ee=c.i;let tt=-1;for(;;){const ln=["count="+w];tt==-1?w>0?(tt=ee[0].g,ln.push("ofs="+tt)):tt=0:ln.push("ofs="+tt);let At=!0;for(let Ut=0;Ut<w;Ut++){var oe=ee[Ut].g;const Vr=ee[Ut].map;if(oe-=tt,oe<0)tt=Math.max(0,ee[Ut].g-100),At=!1;else try{oe="req"+oe+"_"||"";try{var Ae=Vr instanceof Map?Vr:Object.entries(Vr);for(const[Pr,_r]of Ae){let ai=_r;y(_r)&&(ai=pi(_r)),ln.push(oe+Pr+"="+encodeURIComponent(ai))}}catch(Pr){throw ln.push(oe+"type="+encodeURIComponent("_badmap")),Pr}}catch{I&&I(Vr)}}if(At){Ae=ln.join("&");break e}}Ae=void 0}return c=c.i.splice(0,w),v.G=c,Ae}function Us(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;Nt||N(),$e||(Nt(),$e=!0),V.add(v,c),c.A=0}}function Si(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Xr(E(c.Da,c),Aa(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Xr(E(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Ti(this),Io(this))};function us(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Io(c){c.g=new ar(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=sn(c.na);Ot(v,"RID","rpc"),Ot(v,"SID",c.M),Ot(v,"AID",c.K),Ot(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ot(v,"TO",c.ia),Ot(v,"TYPE","xmlhttp"),Qi(c,v),c.u&&c.o&&Ps(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=os(sn(v)),w.u=null,w.R=!0,qi(w,c)}i.Va=function(){this.C!=null&&(this.C=null,Ti(this),Si(this),nn(19))};function Sa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Xi(c,v){var w=null;if(c.g==v){Sa(c),us(c),c.g=null;var I=2}else if(Ir(c.h,v))w=v.G,ga(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var ee=c.D;I=Tr(),tn(I,new wr(I,w)),wi(c)}else Us(c);else if(ee=v.m,ee==3||ee==0&&v.X>0||!(I==1&&wa(c,v)||I==2&&Si(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),ee){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Aa(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function Mr(c,v){if(c.j.info("Error code "+v),v==2){var w=E(c.bb,c),I=c.Ua;const ee=!I;I=new or(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||an(I,"https"),os(I),ee?lr(I.toString(),w):xr(I.toString(),w)}else nn(2);c.I=0,c.l&&c.l.pa(v),Ca(c),Ta(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Ca(c){if(c.I=0,c.ja=[],c.l){const v=as(c.h);(v.length!=0||c.i.length!=0)&&(ce(c.ja,v),ce(c.ja,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.oa()}}function Ra(c,v,w){var I=w instanceof or?sn(w):new or(w);if(I.g!="")v&&(I.g=v+"."+I.g),Or(I,I.u);else{var ee=d.location;I=ee.protocol,v=v?v+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new or(null);I&&an(oe,I),v&&(oe.g=v),ee&&Or(oe,ee),w&&(oe.h=w),I=oe}return w=c.G,v=c.wa,w&&v&&Ot(I,w,v),Ot(I,"VER",c.ka),Qi(c,I),I}function bn(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ht(new Lt({ab:w})):new ht(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cs(){}i=cs.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function kr(){}kr.prototype.g=function(c,v){return new Hn(c,v)};function Hn(c,v){fn.call(this),this.g=new si(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!M(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ai(this)}O(Hn,fn),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){ls(this.g)},Hn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=pi(c),c=w);v.i.push(new rn(v.Ya++,c)),v.I==3&&wi(v)},Hn.prototype.N=function(){this.g.l=null,delete this.j,ls(this.g),delete this.g,Hn.Z.N.call(this)};function js(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}O(js,gn);function Oo(){yn.call(this),this.status=1}O(Oo,yn);function Ai(c){this.g=c}O(Ai,cs),Ai.prototype.ra=function(){tn(this.g,"a")},Ai.prototype.qa=function(c){tn(this.g,new js(c))},Ai.prototype.pa=function(c){tn(this.g,new Oo)},Ai.prototype.oa=function(){tn(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,wE=function(){return new kr},TE=function(){return Tr()},EE=De,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Qf=yi,kt.COMPLETE="complete",bE=kt,gi.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",fn.prototype.listen=fn.prototype.J,Yu=gi,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,_E=ht}).apply(typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",E0="4.9.2";class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let iu="12.3.0";const el=new Ep("@firebase/firestore");function Ul(){return el.logLevel}function Le(i,...e){if(el.logLevel<=Et.DEBUG){const n=e.map(kp);el.debug(`Firestore (${iu}): ${i}`,...n)}}function ha(i,...e){if(el.logLevel<=Et.ERROR){const n=e.map(kp);el.error(`Firestore (${iu}): ${i}`,...n)}}function Xl(i,...e){if(el.logLevel<=Et.WARN){const n=e.map(kp);el.warn(`Firestore (${iu}): ${i}`,...n)}}function kp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Xe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,SE(i,s,n)}function SE(i,e,n){let s=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ha(s),new Error(s)}function Vt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||SE(e,o,s)}function it(i,e){return i}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends ma{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ho{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class AE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class qI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HI{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ho,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ho)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Vt(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class KI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const s=u=>{u.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new T0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Tt(i,e){return i<e?-1:i>e?1:0}function np(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return jm(o)===jm(u)?Tt(o,u):jm(o)?1:-1}return Tt(i.length,e.length)}const QI=55296,XI=57343;function jm(i){const e=i.charCodeAt(0);return e>=QI&&e<=XI}function $l(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const w0="__name__";class vs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=vs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Tt(e.length,n.length)}static compareSegments(e,n){const s=vs.isNumericId(e),o=vs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vs.extractNumericId(e).compare(vs.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class un extends vs{construct(e,n,s){return new un(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new un(n)}static emptyPath(){return new un([])}}const $I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends vs{construct(e,n,s){return new rr(e,n,s)}static isValidIdentifier(e){return $I.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new rr([w0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Be(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Be(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Be(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(u(),o++)}if(u(),d)throw new Be(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(un.fromString(e))}static fromName(e){return new Ge(un.fromString(e).popFirst(5))}static empty(){return new Ge(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new un(e.slice()))}}function JI(i,e,n){if(!n)throw new Be(Ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZI(i,e,n,s){if(e===!0&&s===!0)throw new Be(Ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function S0(i){if(!Ge.isDocumentKey(i))throw new Be(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function CE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Pp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Xe(12329,{type:typeof i})}function cc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Be(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(i);throw new Be(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mn(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ac(i,e){if(!CE(i))throw new Be(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Be(Ee.INVALID_ARGUMENT,n);return!0}const A0=-62135596800,C0=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*C0);return new Jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A0)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Mn("string",Jt._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Jt(0,0))}static max(){return new nt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fc=-1;function WI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new mo(o,Ge.empty(),e)}function e2(i){return new mo(i.readTime,i.key,fc)}class mo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new mo(nt.min(),Ge.empty(),fc)}static max(){return new mo(nt.max(),Ge.empty(),fc)}}function t2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(i.documentKey,e.documentKey),n!==0?n:Tt(i.largestBatchId,e.largestBatchId))}const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function su(i){if(i.code!==Ee.FAILED_PRECONDITION||i.message!==n2)throw i;Le("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,s)=>{n(e)}))}static reject(e){return new ve(((n,s)=>{s(e)}))}static waitFor(e){return new ve(((n,s)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(_=>s(_)))})),d=!0,u===o&&n()}))}static or(e){let n=ve.resolve(!1);for(const s of e)n=n.next((o=>o?ve.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ve(((s,o)=>{const u=e.length,d=new Array(u);let y=0;for(let _=0;_<u;_++){const E=_;n(e[E]).next((R=>{d[E]=R,++y,y===u&&s(d)}),(R=>o(R)))}}))}static doWhile(e,n){return new ve(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function i2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(i){return i.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Lp=-1;function Oh(i){return i==null}function ch(i){return i===0&&1/i==-1/0}function s2(i){return typeof i=="number"&&Number.isInteger(i)&&!ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const RE="";function a2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=R0(e)),e=o2(i.get(n),e);return R0(e)}function o2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case RE:n+="";break;default:n+=u}}return n}function R0(i){return i+RE+""}function I0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function nl(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function IE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class cn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nr.RED,this.left=o??nr.EMPTY,this.right=u??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nr(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nr.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jn(this.comparator);return n.data=e,n}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class es{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new es([])}unionWith(e){let n=new jn(rr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new OE("Invalid base64 string: "+u):u}})(e);return new ir(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(i){if(Vt(!!i,39018),typeof i=="string"){let e=0;const n=l2.exec(i);if(Vt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wn(i.seconds),nanos:wn(i.nanos)}}function wn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function go(i){return typeof i=="string"?ir.fromBase64String(i):ir.fromUint8Array(i)}const xE="server_timestamp",DE="__type__",NE="__previous_value__",ME="__local_write_time__";function Up(i){return(i?.mapValue?.fields||{})[DE]?.stringValue===xE}function xh(i){const e=i.mapValue.fields[NE];return Up(e)?xh(e):e}function hc(i){const e=po(i.mapValue.fields[ME].timestampValue);return new Jt(e.seconds,e.nanos)}class u2{constructor(e,n,s,o,u,d,y,_,E,R){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=R}}const fh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}const kE="__type__",c2="__max__",Lf={mapValue:{}},VE="__vector__",hh="value";function yo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Up(i)?4:h2(i)?9007199254740991:f2(i)?10:11:Xe(28295,{value:i})}function Cs(i,e){if(i===e)return!0;const n=yo(i);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=po(o.timestampValue),y=po(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return go(o.bytesValue).isEqual(go(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return wn(o.geoPointValue.latitude)===wn(u.geoPointValue.latitude)&&wn(o.geoPointValue.longitude)===wn(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wn(o.integerValue)===wn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=wn(o.doubleValue),y=wn(u.doubleValue);return d===y?ch(d)===ch(y):isNaN(d)&&isNaN(y)}return!1})(i,e);case 9:return $l(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(I0(d)!==I0(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Cs(d[_],y[_])))return!1;return!0})(i,e);default:return Xe(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Cs(n,e)))!==void 0}function Jl(i,e){if(i===e)return 0;const n=yo(i),s=yo(e);if(n!==s)return Tt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=wn(u.integerValue||u.doubleValue),_=wn(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(i,e);case 3:return x0(i.timestampValue,e.timestampValue);case 4:return x0(hc(i),hc(e));case 5:return np(i.stringValue,e.stringValue);case 6:return(function(u,d){const y=go(u),_=go(d);return y.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),_=d.split("/");for(let E=0;E<y.length&&E<_.length;E++){const R=Tt(y[E],_[E]);if(R!==0)return R}return Tt(y.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Tt(wn(u.latitude),wn(d.latitude));return y!==0?y:Tt(wn(u.longitude),wn(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return D0(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},_=d.fields||{},E=y[hh]?.arrayValue,R=_[hh]?.arrayValue,O=Tt(E?.values?.length||0,R?.values?.length||0);return O!==0?O:D0(E,R)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Lf.mapValue&&d===Lf.mapValue)return 0;if(u===Lf.mapValue)return 1;if(d===Lf.mapValue)return-1;const y=u.fields||{},_=Object.keys(y),E=d.fields||{},R=Object.keys(E);_.sort(),R.sort();for(let O=0;O<_.length&&O<R.length;++O){const k=np(_[O],R[O]);if(k!==0)return k;const W=Jl(y[_[O]],E[R[O]]);if(W!==0)return W}return Tt(_.length,R.length)})(i.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function x0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Tt(i,e);const n=po(i),s=po(e),o=Tt(n.seconds,s.seconds);return o!==0?o:Tt(n.nanos,s.nanos)}function D0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Jl(n[o],s[o]);if(u)return u}return Tt(n.length,s.length)}function Zl(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=po(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return go(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${rp(n.fields[d])}`;return o+"}"})(i.mapValue):Xe(61005,{value:i})}function Xf(i){switch(yo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(i);return e?16+Xf(e):16;case 5:return 2*i.stringValue.length;case 6:return go(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Xf(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return nl(s.fields,((u,d)=>{o+=u.length+Xf(d)})),o})(i.mapValue);default:throw Xe(13486,{value:i})}}function ip(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function N0(i){return!!i&&"nullValue"in i}function M0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $f(i){return!!i&&"mapValue"in i}function f2(i){return(i?.mapValue?.fields||{})[kE]?.stringValue===VE}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return nl(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ec(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(i.arrayValue.values[n]);return e}return{...i}}function h2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=rr.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=y.popLast()}d?s[y.lastSegment()]=ec(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$f(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){nl(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Li(ec(this.value))}}function PE(i){const e=[];return nl(i.fields,((n,s)=>{const o=new rr([n]);if($f(s)){const u=PE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new es(e)}class dr{constructor(e,n,s,o,u,d,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new dr(e,0,nt.min(),nt.min(),nt.min(),Li.empty(),0)}static newFoundDocument(e,n,s,o){return new dr(e,1,n,nt.min(),s,o,0)}static newNoDocument(e,n){return new dr(e,2,n,nt.min(),nt.min(),Li.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,nt.min(),nt.min(),Li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function k0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=Ge.comparator(Ge.fromName(d.referenceValue),n.key):s=Jl(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cs(i.position[n],e.position[n]))return!1;return!0}class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function d2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class LE{}class Un extends LE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new p2(e,n,s):n==="array-contains"?new v2(e,s):n==="in"?new _2(e,s):n==="not-in"?new b2(e,s):n==="array-contains-any"?new E2(e,s):new Un(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new g2(e,s):new y2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends LE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rs(e,n)}matches(e){return UE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(i){return i.op==="and"}function jE(i){return m2(i)&&UE(i)}function m2(i){for(const e of i.filters)if(e instanceof Rs)return!1;return!0}function sp(i){if(i instanceof Un)return i.field.canonicalString()+i.op.toString()+Zl(i.value);if(jE(i))return i.filters.map((e=>sp(e))).join(",");{const e=i.filters.map((n=>sp(n))).join(",");return`${i.op}(${e})`}}function zE(i,e){return i instanceof Un?(function(s,o){return o instanceof Un&&s.op===o.op&&s.field.isEqual(o.field)&&Cs(s.value,o.value)})(i,e):i instanceof Rs?(function(s,o){return o instanceof Rs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,y)=>u&&zE(d,o.filters[y])),!0):!1})(i,e):void Xe(19439)}function BE(i){return i instanceof Un?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zl(n.value)}`})(i):i instanceof Rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"})(i):"Filter"}class p2 extends Un{constructor(e,n,s){super(e,n,s),this.key=Ge.fromName(s.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class g2 extends Un{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class y2 extends Un{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qE(i,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class v2 extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&mc(n.arrayValue,this.value)}}class _2 extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class b2 extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class E2 extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}class T2{constructor(e,n=null,s=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function P0(i,e=null,n=[],s=[],o=null,u=null,d=null){return new T2(i,e,n,s,o,u,d)}function zp(i){const e=it(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zl(s))).join(",")),e.Te=n}return e.Te}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!d2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!zE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!V0(i.startAt,e.startAt)&&V0(i.endAt,e.endAt)}function ap(i){return Ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Dh{constructor(e,n=null,s=[],o=[],u=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w2(i,e,n,s,o,u,d,y){return new Dh(i,e,n,s,o,u,d,y)}function qp(i){return new Dh(i)}function L0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function S2(i){return i.collectionGroup!==null}function tc(i){const e=it(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new jn(rr.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mh(u,s))})),n.has(rr.keyField().canonicalString())||e.Ie.push(new mh(rr.keyField(),s))}return e.Ie}function Es(i){const e=it(i);return e.Ee||(e.Ee=A2(e,tc(i))),e.Ee}function A2(i,e){if(i.limitType==="F")return P0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)}));const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return P0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function op(i,e,n){return new Dh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nh(i,e){return Bp(Es(i),Es(e))&&i.limitType===e.limitType}function HE(i){return`${zp(Es(i))}|lt:${i.limitType}`}function jl(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>BE(o))).join(", ")}]`),Oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Zl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Zl(o))).join(",")),`Target(${s})`})(Es(i))}; limitType=${i.limitType})`}function Mh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of tc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,_){const E=k0(d,y,_);return d.inclusive?E<=0:E<0})(s.startAt,tc(s),o)||s.endAt&&!(function(d,y,_){const E=k0(d,y,_);return d.inclusive?E>=0:E>0})(s.endAt,tc(s),o))})(i,e)}function C2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function KE(i){return(e,n)=>{let s=!1;for(const o of tc(i)){const u=R2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function R2(i,e,n){const s=i.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,d,y){const _=d.data.field(u),E=y.data.field(u);return _!==null&&E!==null?Jl(_,E):Xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Xe(19790,{direction:i.dir})}}class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const I2=new cn(Ge.comparator);function da(){return I2}const FE=new cn(Ge.comparator);function Qu(...i){let e=FE;for(const n of i)e=e.insert(n.key,n);return e}function GE(i){let e=FE;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Yo(){return nc()}function YE(){return nc()}function nc(){return new rl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const O2=new cn(Ge.comparator),x2=new jn(Ge.comparator);function wt(...i){let e=x2;for(const n of i)e=e.add(n);return e}const D2=new jn(Tt);function N2(){return D2}function Hp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function QE(i){return{integerValue:""+i}}function M2(i,e){return s2(e)?QE(e):Hp(i,e)}class kh{constructor(){this._=void 0}}function k2(i,e,n){return i instanceof ph?(function(o,u){const d={fields:{[DE]:{stringValue:xE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=xh(u)),u&&(d.fields[NE]=u),{mapValue:d}})(n,e):i instanceof pc?$E(i,e):i instanceof gc?JE(i,e):(function(o,u){const d=XE(o,u),y=U0(d)+U0(o.Ae);return ip(d)&&ip(o.Ae)?QE(y):Hp(o.serializer,y)})(i,e)}function V2(i,e,n){return i instanceof pc?$E(i,e):i instanceof gc?JE(i,e):n}function XE(i,e){return i instanceof gh?(function(s){return ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ph extends kh{}class pc extends kh{constructor(e){super(),this.elements=e}}function $E(i,e){const n=ZE(e);for(const s of i.elements)n.some((o=>Cs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gc extends kh{constructor(e){super(),this.elements=e}}function JE(i,e){let n=ZE(e);for(const s of i.elements)n=n.filter((o=>!Cs(o,s)));return{arrayValue:{values:n}}}class gh extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function U0(i){return wn(i.integerValue||i.doubleValue)}function ZE(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function P2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pc&&o instanceof pc||s instanceof gc&&o instanceof gc?$l(s.elements,o.elements,Cs):s instanceof gh&&o instanceof gh?Cs(s.Ae,o.Ae):s instanceof ph&&o instanceof ph})(i.transform,e.transform)}class L2{constructor(e,n){this.version=e,this.transformResults=n}}class la{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vh{}function WE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new tT(i.key,la.none()):new Cc(i.key,i.data,la.none());{const n=i.data,s=Li.empty();let o=new jn(rr.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new il(i.key,s,new es(o.toArray()),la.none())}}function U2(i,e,n){i instanceof Cc?(function(o,u,d){const y=o.value.clone(),_=z0(o.fieldTransforms,u,d.transformResults);y.setAll(_),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):i instanceof il?(function(o,u,d){if(!Jf(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=z0(o.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(eT(o)),_.setAll(y),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,s){return i instanceof Cc?(function(u,d,y,_){if(!Jf(u.precondition,d))return y;const E=u.value.clone(),R=B0(u.fieldTransforms,_,d);return E.setAll(R),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(i,e,n,s):i instanceof il?(function(u,d,y,_){if(!Jf(u.precondition,d))return y;const E=B0(u.fieldTransforms,_,d),R=d.data;return R.setAll(eT(u)),R.setAll(E),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((O=>O.field)))})(i,e,n,s):(function(u,d,y){return Jf(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,e,n)}function j2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=XE(s.transform,o||null);u!=null&&(n===null&&(n=Li.empty()),n.set(s.field,u))}return n||null}function j0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$l(s,o,((u,d)=>P2(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Cc extends Vh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class il extends Vh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function z0(i,e,n){const s=new Map;Vt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,y=e.data.field(u.field);s.set(u.field,V2(d,y,n[o]))}return s}function B0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,k2(u,d,e))}return s}class tT extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z2 extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&U2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=YE();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const _=WE(d,y);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(nt.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((n,s)=>j0(n,s)))&&$l(this.baseMutations,e.baseMutations,((n,s)=>j0(n,s)))}}class Kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return O2})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Kp(e,n,s,o)}}class q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nn,It;function K2(i){switch(i){case Ee.OK:return Xe(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Xe(15467,{code:i})}}function nT(i){if(i===void 0)return ha("GRPC error has no .code"),Ee.UNKNOWN;switch(i){case Nn.OK:return Ee.OK;case Nn.CANCELLED:return Ee.CANCELLED;case Nn.UNKNOWN:return Ee.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return Ee.INTERNAL;case Nn.UNAVAILABLE:return Ee.UNAVAILABLE;case Nn.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Nn.NOT_FOUND:return Ee.NOT_FOUND;case Nn.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Nn.ABORTED:return Ee.ABORTED;case Nn.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Nn.DATA_LOSS:return Ee.DATA_LOSS;default:return Xe(39323,{code:i})}}(It=Nn||(Nn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";function F2(){return new TextEncoder}const G2=new fo([4294967295,4294967295],0);function q0(i){const e=F2().encode(i),n=new vE;return n.update(e),new Uint8Array(n.digest())}function H0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fo([n,s],0),new fo([o,u],0)]}class Fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(s<0)throw new Xu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fo.fromNumber(s)));return o.compare(G2)===1&&(o=new fo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Fp(u,o,n);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(nt.min(),o,new cn(Tt),da(),wt())}}class Rc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,wt(),wt(),wt())}}class Zf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class rT{constructor(e,n){this.targetId=e,this.Ce=n}}class iT{constructor(e,n,s=ir.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class K0{constructor(){this.ve=0,this.Fe=F0(),this.Me=ir.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),s=wt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Xe(38017,{changeType:u})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y2{constructor(e){this.Ge=e,this.ze=new Map,this.je=da(),this.Je=Uf(),this.He=Uf(),this.Ye=new cn(Tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const d=new Ge(u.path);this.et(n,d,dr.newNoDocument(d,nt.min()))}else Vt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=go(s).toUint8Array()}catch(_){if(_ instanceof OE)return Xl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Fp(d,o,u)}catch(_){return Xl(_ instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&ap(y.target)){const _=new Ge(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,dr.newNoDocument(_,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=wt();this.He.forEach(((u,d)=>{let y=!0;d.forEachWhile((_=>{const E=this.ot(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Ph(e,n,this.Ye,this.je,s);return this.je=da(),this.Je=Uf(),this.He=Uf(),this.Ye=new cn(Tt),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new K0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jn(Tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jn(Tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uf(){return new cn(Ge.comparator)}function F0(){return new cn(Ge.comparator)}const Q2={asc:"ASCENDING",desc:"DESCENDING"},X2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$2={and:"AND",or:"OR"};class J2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(i,e){return i.useProto3Json||Oh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Z2(i,e){return yh(i,e.toTimestamp())}function Ts(i){return Vt(!!i,49232),nt.fromTimestamp((function(n){const s=po(n);return new Jt(s.seconds,s.nanos)})(i))}function Gp(i,e){return up(i,e).canonicalString()}function up(i,e){const n=(function(o){return new un(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function aT(i){const e=un.fromString(i);return Vt(fT(e),10190,{key:e.toString()}),e}function cp(i,e){return Gp(i.databaseId,e.path)}function zm(i,e){const n=aT(e);if(n.get(1)!==i.databaseId.projectId)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Be(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ge(lT(n))}function oT(i,e){return Gp(i.databaseId,e)}function W2(i){const e=aT(i);return e.length===4?un.emptyPath():lT(e)}function fp(i){return new un(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lT(i){return Vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function G0(i,e,n){return{name:cp(i,e),fields:n.value.mapValue.fields}}function eO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Xe(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(E,R){return E.useProto3Json?(Vt(R===void 0||typeof R=="string",58123),ir.fromBase64String(R||"")):(Vt(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),ir.fromUint8Array(R||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(E){const R=E.code===void 0?Ee.UNKNOWN:nT(E.code);return new Be(R,E.message||"")})(d);n=new iT(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(i,s.document.name),u=Ts(s.document.updateTime),d=s.document.createTime?Ts(s.document.createTime):nt.min(),y=new Li({mapValue:{fields:s.document.fields}}),_=dr.newFoundDocument(o,u,d,y),E=s.targetIds||[],R=s.removedTargetIds||[];n=new Zf(E,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(i,s.document),u=s.readTime?Ts(s.readTime):nt.min(),d=dr.newNoDocument(o,u),y=s.removedTargetIds||[];n=new Zf([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(i,s.document),u=s.removedTargetIds||[];n=new Zf([],u,o,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new H2(o,u),y=s.targetId;n=new rT(y,d)}}return n}function tO(i,e){let n;if(e instanceof Cc)n={update:G0(i,e.key,e.value)};else if(e instanceof tT)n={delete:cp(i,e.key)};else if(e instanceof il)n={update:G0(i,e.key,e.data),updateMask:cO(e.fieldMask)};else{if(!(e instanceof z2))return Xe(16599,{Vt:e.type});n={verify:cp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const y=d.transform;if(y instanceof ph)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof pc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof gh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Xe(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Z2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Xe(27497)})(i,e.precondition)),n}function nO(i,e){return i&&i.length>0?(Vt(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?Ts(o.updateTime):Ts(u);return d.isEqual(nt.min())&&(d=Ts(u)),new L2(d,o.transformResults||[])})(n,e)))):[]}function rO(i,e){return{documents:[oT(i,e.path)]}}function iO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=oT(i,o);const u=(function(E){if(E.length!==0)return cT(Rs.create(E,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(E){if(E.length!==0)return E.map((R=>(function(k){return{field:zl(k.field),direction:oO(k.dir)}})(R)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=lp(i,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:n,parent:o}}function sO(i){let e=W2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Vt(s===1,65062);const R=n.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];n.where&&(u=(function(O){const k=uT(O);return k instanceof Rs&&jE(k)?k.getFilters():[k]})(n.where));let d=[];n.orderBy&&(d=(function(O){return O.map((k=>(function(ce){return new mh(Bl(ce.field),(function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ce.direction))})(k)))})(n.orderBy));let y=null;n.limit&&(y=(function(O){let k;return k=typeof O=="object"?O.value:O,Oh(k)?null:k})(n.limit));let _=null;n.startAt&&(_=(function(O){const k=!!O.before,W=O.values||[];return new dh(W,k)})(n.startAt));let E=null;return n.endAt&&(E=(function(O){const k=!O.before,W=O.values||[];return new dh(W,k)})(n.endAt)),w2(e,o,d,u,y,"F",_,E)}function aO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bl(n.unaryFilter.field);return Un.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Bl(n.unaryFilter.field);return Un.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bl(n.unaryFilter.field);return Un.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bl(n.unaryFilter.field);return Un.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Un.create(Bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Rs.create(n.compositeFilter.filters.map((s=>uT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(i):Xe(30097,{filter:i})}function oO(i){return Q2[i]}function lO(i){return X2[i]}function uO(i){return $2[i]}function zl(i){return{fieldPath:i.canonicalString()}}function Bl(i){return rr.fromServerFormat(i.fieldPath)}function cT(i){return i instanceof Un?(function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:lO(n.op),value:n.value}}})(i):i instanceof Rs?(function(n){const s=n.getFilters().map((o=>cT(o)));return s.length===1?s[0]:{compositeFilter:{op:uO(n.op),filters:s}}})(i):Xe(54877,{filter:i})}function cO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ao{constructor(e,n,s,o,u=nt.min(),d=nt.min(),y=ir.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fO{constructor(e){this.yt=e}}function hO(i){const e=sO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?op(e,e.limit,"L"):e}class dO{constructor(){this.Cn=new mO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(mo.min())}updateCollectionGroup(e,n,s){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class mO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jn(un.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jn(un.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(hT,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}const Q0="LruGarbageCollector",pO=1048576;function X0([i,e],[n,s]){const o=Tt(i,n);return o===0?Tt(e,s):o}class gO{constructor(e){this.Ir=e,this.buffer=new jn(X0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();X0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(Q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?Le(Q0,"Ignoring IndexedDB error during garbage collection: ",n):await su(n)}await this.Vr(3e5)}))}}class vO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Ih.ce);const s=new gO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Y0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,d,y,_,E;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(e,o)))).next((O=>(s=O,y=Date.now(),this.removeTargets(e,s,n)))).next((O=>(u=O,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((O=>(E=Date.now(),Ul()<=Et.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(_-y)+`ms
	Removed ${O} documents in `+(E-_)+`ms
Total Duration: ${E-R}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O}))))}}function _O(i,e){return new vO(i,e)}class bO{constructor(){this.changes=new rl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ve.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&rc(s.mutation,o,es.empty(),Jt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,wt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=wt()){const o=Yo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=Qu();return u.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Yo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,wt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,s,o){let u=da();const d=nc(),y=(function(){return nc()})();return n.forEach(((_,E)=>{const R=s.get(E.key);o.has(E.key)&&(R===void 0||R.mutation instanceof il)?u=u.insert(E.key,E):R!==void 0?(d.set(E.key,R.mutation.getFieldMask()),rc(R.mutation,E,R.mutation.getFieldMask(),Jt.now())):d.set(E.key,es.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((E,R)=>d.set(E,R))),n.forEach(((E,R)=>y.set(E,new EO(R,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=nc();let o=new cn(((d,y)=>d-y)),u=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((_=>{const E=n.get(_);if(E===null)return;let R=s.get(_)||es.empty();R=y.applyToLocalView(E,R),s.set(_,R);const O=(o.get(y.batchId)||wt()).add(_);o=o.insert(y.batchId,O)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),E=_.key,R=_.value,O=YE();R.forEach((k=>{if(!u.has(k)){const W=WE(n.get(k),s.get(k));W!==null&&O.set(k,W),u=u.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(e,E,O))}return ve.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return Ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ve.resolve(Yo());let y=fc,_=u;return d.next((E=>ve.forEach(E,((R,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),u.get(R)?ve.resolve():this.remoteDocumentCache.getEntry(e,R).next((k=>{_=_.insert(R,k)}))))).next((()=>this.populateOverlays(e,E,u))).next((()=>this.computeViews(e,_,E,wt()))).next((R=>({batchId:y,changes:GE(R)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((s=>{let o=Qu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Qu();return this.indexManager.getCollectionParents(e,u).next((y=>ve.forEach(y,(_=>{const E=(function(O,k){return new Dh(k,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,E,s,o).next((R=>{R.forEach(((O,k)=>{d=d.insert(O,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((_,E)=>{const R=E.getKey();d.get(R)===null&&(d=d.insert(R,dr.newInvalidDocument(R)))}));let y=Qu();return d.forEach(((_,E)=>{const R=u.get(_);R!==void 0&&rc(R.mutation,E,es.empty(),Jt.now()),Mh(n,E)&&(y=y.insert(_,E))})),y}))}}class wO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ts(o.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:hO(o.bundledQuery),readTime:Ts(o.readTime)}})(n)),ve.resolve()}}class SO{constructor(){this.overlays=new cn(Ge.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Yo();return ve.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ve.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ve.resolve()}getOverlaysForCollection(e,n,s){const o=Yo(),u=n.length+1,d=new Ge(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return ve.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new cn(((E,R)=>E-R));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let R=u.get(E.largestBatchId);R===null&&(R=Yo(),u=u.insert(E.largestBatchId,R)),R.set(E.getKey(),E)}}const y=Yo(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,R)=>y.set(E,R))),!(y.size()>=o)););return ve.resolve(y)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new q2(n,s));let u=this.qr.get(n);u===void 0&&(u=wt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class AO{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class Yp{constructor(){this.Qr=new jn(Yn.$r),this.Ur=new jn(Yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Yn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Yn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ge(new un([])),s=new Yn(n,e),o=new Yn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new un([])),s=new Yn(n,e),o=new Yn(n,e+1);let u=wt();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Yn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||Tt(e.Yr,n.Yr)}static Kr(e,n){return Tt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}class CO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jn(Yn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new B2(u,n,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Yn(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ve.resolve(d)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ve.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yn(n,0),o=new Yn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);u.push(y)})),ve.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jn(Tt);return n.forEach((o=>{const u=new Yn(o,0),d=new Yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(y=>{s=s.add(y.Yr)}))})),ve.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ge.isDocumentKey(u)||(u=u.child(""));const d=new Yn(new Ge(u),0);let y=new jn(Tt);return this.Zr.forEachWhile((_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===o&&(y=y.add(_.Yr)),!0)}),d),ve.resolve(this.ti(y))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ve.forEach(n.mutations,(o=>{const u=new Yn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Yn(n,0),o=this.Zr.firstAfterOrEqual(s);return ve.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RO{constructor(e){this.ri=e,this.docs=(function(){return new cn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ve.resolve(s?s.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let s=da();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dr.newInvalidDocument(o))})),ve.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=da();const d=n.path,y=new Ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:E,value:{document:R}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||t2(e2(R),s)<=0||(o.has(R.key)||Mh(n,R))&&(u=u.insert(R.key,R.mutableCopy()))}return ve.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Xe(9500)}ii(e,n){return ve.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new IO(this)}getSize(e){return ve.resolve(this.size)}}class IO extends bO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class OO{constructor(e){this.persistence=e,this.si=new rl((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),ve.waitFor(u).next((()=>o))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ve.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ve.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ve.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ve.resolve(s)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class dT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new AO,this.referenceDelegate=e(this),this.Pi=new OO(this),this.indexManager=new dO,this.remoteDocumentCache=(function(o){return new RO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fO(n),this.Ii=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Le("MemoryPersistence","Starting transaction:",e);const o=new xO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ve.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class xO extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ve.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(s=>{const o=Ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new rl((s=>a2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_O(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ve.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((y=>{y||(s++,u.removeEntry(d,nt.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xf(e.data.value)),n}br(e,n,s){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ve.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=wt(),o=wt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}class DO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class NO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E1()?8:i2(pr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new DO;return this.Ss(e,n,d).next((y=>{if(u.result=y,this.Vs)return this.bs(e,n,d,y.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ul()<=Et.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Ul()<=Et.DEBUG&&Le("QueryEngine","Query:",jl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ul()<=Et.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):ve.resolve())}ys(e,n){if(L0(n))return ve.resolve(null);let s=Es(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=op(n,null,"F"),s=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=wt(...u);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((_=>{const E=this.Ds(n,y);return this.Cs(n,E,d,_.readTime)?this.ys(e,op(n,null,"F")):this.vs(e,E,n,_)}))))})))))}ws(e,n,s,o){return L0(n)||o.isEqual(nt.min())?ve.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,o)?ve.resolve(null):(Ul()<=Et.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jl(n)),this.vs(e,d,n,WI(o,fc)).next((y=>y)))}))}Ds(e,n){let s=new jn(KE(e));return n.forEach(((o,u)=>{Mh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ul()<=Et.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ps.getDocumentsMatchingQuery(e,n,mo.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const $p="LocalStore",MO=3e8;class kO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new cn(Tt),this.xs=new rl((u=>zp(u)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function VO(i,e,n,s){return new kO(i,e,n,s)}async function mT(i,e){const n=it(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],y=[];let _=wt();for(const E of o){d.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}for(const E of u){y.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}return n.localDocuments.getDocuments(s,_).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function PO(i,e){const n=it(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,E,R){const O=E.batch,k=O.keys();let W=ve.resolve();return k.forEach((ce=>{W=W.next((()=>R.getEntry(_,ce))).next((me=>{const be=E.docVersions.get(ce);Vt(be!==null,48541),me.version.compareTo(be)<0&&(O.applyToRemoteDocument(me,E),me.isValidDocument()&&(me.setReadTime(E.commitVersion),R.addEntry(me)))}))})),W.next((()=>y.mutationQueue.removeMutationBatch(_,O)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let _=wt();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(_=_.add(y.batch.mutations[E].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function pT(i){const e=it(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LO(i,e){const n=it(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];e.targetChanges.forEach(((R,O)=>{const k=o.get(O);if(!k)return;y.push(n.Pi.removeMatchingKeys(u,R.removedDocuments,O).next((()=>n.Pi.addMatchingKeys(u,R.addedDocuments,O))));let W=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(O)!==null?W=W.withResumeToken(ir.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):R.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(R.resumeToken,s)),o=o.insert(O,W),(function(me,be,qe){return me.resumeToken.approximateByteSize()===0||be.snapshotVersion.toMicroseconds()-me.snapshotVersion.toMicroseconds()>=MO?!0:qe.addedDocuments.size+qe.modifiedDocuments.size+qe.removedDocuments.size>0})(k,W,R)&&y.push(n.Pi.updateTargetData(u,W))}));let _=da(),E=wt();if(e.documentUpdates.forEach((R=>{e.resolvedLimboDocuments.has(R)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,R))})),y.push(UO(u,d,e.documentUpdates).next((R=>{_=R.ks,E=R.qs}))),!s.isEqual(nt.min())){const R=n.Pi.getLastRemoteSnapshotVersion(u).next((O=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(R)}return ve.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,E))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function UO(i,e,n){let s=wt(),o=wt();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=da();return n.forEach(((y,_)=>{const E=u.get(y);_.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(nt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):Le($p,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function jO(i,e){const n=it(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zO(i,e){const n=it(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ve.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new ao(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hp(i,e,n){const s=it(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!au(d))throw d;Le($p,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $0(i,e,n){const s=it(i);let o=nt.min(),u=wt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,E,R){const O=it(_),k=O.xs.get(R);return k!==void 0?ve.resolve(O.Ms.get(k)):O.Pi.getTargetData(E,R)})(s,d,Es(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:nt.min(),n?u:wt()))).next((y=>(BO(s,C2(e),y),{documents:y,Qs:u})))))}function BO(i,e,n){let s=i.Os.get(e)||nt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class J0{constructor(){this.activeTargetIds=N2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qO{constructor(){this.Mo=new J0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HO{Oo(e){}shutdown(){}}const Z0="ConnectivityMonitor";class W0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jf=null;function dp(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}const Bm="RestConnection",KO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const d=dp(),y=this.zo(e,n.toUriEncodedString());Le(Bm,`Sending RPC '${e}' ${d}:`,y,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:E}=new URL(y),R=tu(E);return this.Jo(e,y,_,s,R).then((O=>(Le(Bm,`Received RPC '${e}' ${d}: `,O),O)),(O=>{throw Xl(Bm,`RPC '${e}' ${d} failed with error: `,O,"url: ",y,"request:",s),O}))}Ho(e,n,s,o,u,d){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=KO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class GO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fr="WebChannelConnection";class YO extends FO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=dp();return new Promise(((y,_)=>{const E=new _E;E.setWithCredentials(!0),E.listenOnce(bE.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Qf.NO_ERROR:const O=E.getResponseJson();Le(fr,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(O)),y(O);break;case Qf.TIMEOUT:Le(fr,`RPC '${e}' ${d} timed out`),_(new Be(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const k=E.getStatus();if(Le(fr,`RPC '${e}' ${d} failed with status:`,k,"response text:",E.getResponseText()),k>0){let W=E.getResponseJson();Array.isArray(W)&&(W=W[0]);const ce=W?.error;if(ce&&ce.status&&ce.message){const me=(function(qe){const Fe=qe.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(Fe)>=0?Fe:Ee.UNKNOWN})(ce.status);_(new Be(me,ce.message))}else _(new Be(Ee.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new Be(Ee.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{Le(fr,`RPC '${e}' ${d} completed.`)}}));const R=JSON.stringify(o);Le(fr,`RPC '${e}' ${d} sending request:`,o),E.send(n,"POST",R,s,15)}))}T_(e,n,s){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wE(),y=TE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const R=u.join("");Le(fr,`Creating RPC '${e}' stream ${o}: ${R}`,_);const O=d.createWebChannel(R,_);this.I_(O);let k=!1,W=!1;const ce=new GO({Yo:be=>{W?Le(fr,`Not sending because RPC '${e}' stream ${o} is closed:`,be):(k||(Le(fr,`Opening RPC '${e}' stream ${o} transport.`),O.open(),k=!0),Le(fr,`RPC '${e}' stream ${o} sending:`,be),O.send(be))},Zo:()=>O.close()}),me=(be,qe,Fe)=>{be.listen(qe,(Pe=>{try{Fe(Pe)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return me(O,Yu.EventType.OPEN,(()=>{W||(Le(fr,`RPC '${e}' stream ${o} transport opened.`),ce.o_())})),me(O,Yu.EventType.CLOSE,(()=>{W||(W=!0,Le(fr,`RPC '${e}' stream ${o} transport closed`),ce.a_(),this.E_(O))})),me(O,Yu.EventType.ERROR,(be=>{W||(W=!0,Xl(fr,`RPC '${e}' stream ${o} transport errored. Name:`,be.name,"Message:",be.message),ce.a_(new Be(Ee.UNAVAILABLE,"The operation could not be completed")))})),me(O,Yu.EventType.MESSAGE,(be=>{if(!W){const qe=be.data[0];Vt(!!qe,16349);const Fe=qe,Pe=Fe?.error||Fe[0]?.error;if(Pe){Le(fr,`RPC '${e}' stream ${o} received error:`,Pe);const ct=Pe.status;let Nt=(function(N){const P=Nn[N];if(P!==void 0)return nT(P)})(ct),$e=Pe.message;Nt===void 0&&(Nt=Ee.INTERNAL,$e="Unknown error status: "+ct+" with message "+Pe.message),W=!0,ce.a_(new Be(Nt,$e)),O.close()}else Le(fr,`RPC '${e}' stream ${o} received:`,qe),ce.u_(qe)}})),me(y,EE.STAT_EVENT,(be=>{be.stat===tp.PROXY?Le(fr,`RPC '${e}' stream ${o} detected buffering proxy`):be.stat===tp.NOPROXY&&Le(fr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ce.__()}),0),ce}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qm(){return typeof document<"u"?document:null}function Lh(i){return new J2(i,!0)}class gT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eb="PersistentStream";class yT{constructor(e,n,s,o,u,d,y,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Be(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QO extends yT{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return nt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?nt.min():d.readTime?Ts(d.readTime):nt.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fp(this.serializer),n.addTarget=(function(u,d){let y;const _=d.target;if(y=ap(_)?{documents:rO(u,_)}:{query:iO(u,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=sT(u,d.resumeToken);const E=lp(u,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(nt.min())>0){y.readTime=yh(u,d.snapshotVersion.toTimestamp());const E=lp(u,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,e);const s=aO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.q_(n)}}class XO extends yT{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nO(e.writeResults,e.commitTime),s=Ts(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tO(this.serializer,s)))};this.q_(n)}}class $O{}class JO extends $O{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,up(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Be(Ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,up(n,s),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Be(Ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class WO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{sl(this)&&(Le(tl,"Restarting streams for network reachability change."),await(async function(_){const E=it(_);E.Ea.add(4),await Ic(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Uh(E)})(this))}))})),this.Ra=new ZO(s,o)}}async function Uh(i){if(sl(i))for(const e of i.da)await e(!0)}async function Ic(i){for(const e of i.da)await e(!1)}function vT(i,e){const n=it(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Wp(n):ou(n).O_()&&Zp(n,e))}function Jp(i,e){const n=it(i),s=ou(n);n.Ia.delete(e),s.O_()&&_T(n,e),n.Ia.size===0&&(s.O_()?s.L_():sl(n)&&n.Ra.set("Unknown"))}function Zp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(i).Y_(e)}function _T(i,e){i.Va.Ue(e),ou(i).Z_(e)}function Wp(i){i.Va=new Y2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ou(i).start(),i.Ra.ua()}function eg(i){return sl(i)&&!ou(i).x_()&&i.Ia.size>0}function sl(i){return it(i).Ea.size===0}function bT(i){i.Va=void 0}async function ex(i){i.Ra.set("Online")}async function tx(i){i.Ia.forEach(((e,n)=>{Zp(i,e)}))}async function nx(i,e){bT(i),eg(i)?(i.Ra.ha(e),Wp(i)):i.Ra.set("Unknown")}async function rx(i,e,n){if(i.Ra.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(i,e)}catch(s){Le(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(i,s)}else if(e instanceof Zf?i.Va.Ze(e):e instanceof rT?i.Va.st(e):i.Va.tt(e),!n.isEqual(nt.min()))try{const s=await pT(i.localStore);n.compareTo(s)>=0&&await(function(u,d){const y=u.Va.Tt(d);return y.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const R=u.Ia.get(E);R&&u.Ia.set(E,R.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,E)=>{const R=u.Ia.get(_);if(!R)return;u.Ia.set(_,R.withResumeToken(ir.EMPTY_BYTE_STRING,R.snapshotVersion)),_T(u,_);const O=new ao(R.target,_,E,R.sequenceNumber);Zp(u,O)})),u.remoteSyncer.applyRemoteEvent(y)})(i,n)}catch(s){Le(tl,"Failed to raise snapshot:",s),await _h(i,s)}}async function _h(i,e,n){if(!au(e))throw e;i.Ea.add(1),await Ic(i),i.Ra.set("Offline"),n||(n=()=>pT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Le(tl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Uh(i)}))}function ET(i,e){return e().catch((n=>_h(i,n,e)))}async function jh(i){const e=it(i),n=vo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;ix(e);)try{const o=await jO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,sx(e,o)}catch(o){await _h(e,o)}TT(e)&&wT(e)}function ix(i){return sl(i)&&i.Ta.length<10}function sx(i,e){i.Ta.push(e);const n=vo(i);n.O_()&&n.X_&&n.ea(e.mutations)}function TT(i){return sl(i)&&!vo(i).x_()&&i.Ta.length>0}function wT(i){vo(i).start()}async function ax(i){vo(i).ra()}async function ox(i){const e=vo(i);for(const n of i.Ta)e.ea(n.mutations)}async function lx(i,e,n){const s=i.Ta.shift(),o=Kp.from(s,e,n);await ET(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await jh(i)}async function ux(i,e){e&&vo(i).X_&&await(async function(s,o){if((function(d){return K2(d)&&d!==Ee.ABORTED})(o.code)){const u=s.Ta.shift();vo(s).B_(),await ET(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jh(s)}})(i,e),TT(i)&&wT(i)}async function tb(i,e){const n=it(i);n.asyncQueue.verifyOperationInProgress(),Le(tl,"RemoteStore received new credentials");const s=sl(n);n.Ea.add(3),await Ic(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function cx(i,e){const n=it(i);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function ou(i){return i.ma||(i.ma=(function(n,s,o){const u=it(n);return u.sa(),new QO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ex.bind(null,i),t_:tx.bind(null,i),r_:nx.bind(null,i),H_:rx.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),eg(i)?Wp(i):i.Ra.set("Unknown")):(await i.ma.stop(),bT(i))}))),i.ma}function vo(i){return i.fa||(i.fa=(function(n,s,o){const u=it(n);return u.sa(),new XO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:ax.bind(null,i),r_:ux.bind(null,i),ta:ox.bind(null,i),na:lx.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await jh(i)):(await i.fa.stop(),i.Ta.length>0&&(Le(tl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,y=new tg(e,n,d,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(i,e){if(ha("AsyncQueue",`${e}: ${i}`),au(i))return new Be(Ee.UNAVAILABLE,`${e}: ${i}`);throw i}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ge.comparator(n.key,s.key):(n,s)=>Ge.comparator(n.key,s.key),this.keyedMap=Qu(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class nb{constructor(){this.ga=new cn(Ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class eu{constructor(e,n,s,o,u,d,y,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new eu(e,n,Gl.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class fx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hx{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=it(n),u=o.queries;o.queries=rb(),u.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(s)}))})(this,new Be(Ee.ABORTED,"Firestore shutting down"))}}function rb(){return new rl((i=>HE(i)),Nh)}async function dx(i,e){const n=it(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new fx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=ng(d,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function mx(i,e){const n=it(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function px(i,e){const n=it(i);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&rg(n)}function gx(i,e,n){const s=it(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function rg(i){i.Ca.forEach((e=>{e.next()}))}var mp,ib;(ib=mp||(mp={})).Ma="default",ib.Cache="cache";class yx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new eu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}class ST{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class vx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=KE(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new nb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((R,O)=>{const k=o.get(R),W=Mh(this.query,O)?O:null,ce=!!k&&this.mutatedKeys.has(k.key),me=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let be=!1;k&&W?k.data.isEqual(W.data)?ce!==me&&(s.track({type:3,doc:W}),be=!0):this.su(k,W)||(s.track({type:2,doc:W}),be=!0,(_&&this.eu(W,_)>0||E&&this.eu(W,E)<0)&&(y=!0)):!k&&W?(s.track({type:0,doc:W}),be=!0):k&&!W&&(s.track({type:1,doc:k}),be=!0,(_||E)&&(y=!0)),be&&(W?(d=d.add(W),u=me?u.add(R):u.delete(R)):(d=d.delete(R),u=u.delete(R)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),u=u.delete(R.key),s.track({type:1,doc:R})}return{tu:d,iu:s,Cs:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((R,O)=>(function(W,ce){const me=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:be})}};return me(W)-me(ce)})(R.type,O.type)||this.eu(R.doc,O.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,E=_!==this.Za;return this.Za=_,d.length!==0||E?{snapshot:new eu(this.query,e.tu,u,d,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new AT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ST(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class _x{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bx{constructor(e){this.key=e,this.hu=!1}}class Ex{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new rl((y=>HE(y)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Ge.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tx(i,e,n=!0){const s=DT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CT(s,e,n,!0),o}async function wx(i,e){const n=DT(i);await CT(n,e,!0,!1)}async function CT(i,e,n,s){const o=await zO(i.localStore,Es(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await Sx(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&vT(i.remoteStore,o),y}async function Sx(i,e,n,s,o){i.pu=(O,k,W)=>(async function(me,be,qe,Fe){let Pe=be.view.ru(qe);Pe.Cs&&(Pe=await $0(me.localStore,be.query,!1).then((({documents:V})=>be.view.ru(V,Pe))));const ct=Fe&&Fe.targetChanges.get(be.targetId),Nt=Fe&&Fe.targetMismatches.get(be.targetId)!=null,$e=be.view.applyChanges(Pe,me.isPrimaryClient,ct,Nt);return ab(me,be.targetId,$e.au),$e.snapshot})(i,O,k,W);const u=await $0(i.localStore,e,!0),d=new vx(e,u.Qs),y=d.ru(u.documents),_=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),E=d.applyChanges(y,i.isPrimaryClient,_);ab(i,n,E.au);const R=new _x(e,n,d);return i.Tu.set(e,R),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),E.snapshot}async function Ax(i,e,n){const s=it(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Nh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jp(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(su)):(pp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function Cx(i,e){const n=it(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function Rx(i,e,n){const s=kx(i);try{const o=await(function(d,y){const _=it(d),E=Jt.now(),R=y.reduce(((W,ce)=>W.add(ce.key)),wt());let O,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(W=>{let ce=da(),me=wt();return _.Ns.getEntries(W,R).next((be=>{ce=be,ce.forEach(((qe,Fe)=>{Fe.isValidDocument()||(me=me.add(qe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(W,ce))).next((be=>{O=be;const qe=[];for(const Fe of y){const Pe=j2(Fe,O.get(Fe.key).overlayedDocument);Pe!=null&&qe.push(new il(Fe.key,Pe,PE(Pe.value.mapValue),la.exists(!0)))}return _.mutationQueue.addMutationBatch(W,E,qe,y)})).next((be=>{k=be;const qe=be.applyToLocalDocumentSet(O,me);return _.documentOverlayCache.saveOverlays(W,be.batchId,qe)}))})).then((()=>({batchId:k.batchId,changes:GE(O)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let E=d.Vu[d.currentUser.toKey()];E||(E=new cn(Tt)),E=E.insert(y,_),d.Vu[d.currentUser.toKey()]=E})(s,o.batchId,n),await Oc(s,o.changes),await jh(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function RT(i,e){const n=it(i);try{const s=await LO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Vt(d.hu,14607):o.removedDocuments.size>0&&(Vt(d.hu,42227),d.hu=!1))})),await Oc(n,s,e)}catch(s){await su(s)}}function sb(i,e,n){const s=it(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=it(d);_.onlineState=y;let E=!1;_.queries.forEach(((R,O)=>{for(const k of O.Sa)k.va(y)&&(E=!0)})),E&&rg(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ix(i,e,n){const s=it(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new cn(Ge.comparator);d=d.insert(u,dr.newNoDocument(u,nt.min()));const y=wt().add(u),_=new Ph(nt.min(),new Map,new cn(Tt),d,y);await RT(s,_),s.du=s.du.remove(u),s.Au.delete(e),sg(s)}else await hp(s.localStore,e,!1).then((()=>pp(s,e,n))).catch(su)}async function Ox(i,e){const n=it(i),s=e.batch.batchId;try{const o=await PO(n.localStore,e);OT(n,s,null),IT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Oc(n,o)}catch(o){await su(o)}}async function xx(i,e,n){const s=it(i);try{const o=await(function(d,y){const _=it(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let R;return _.mutationQueue.lookupMutationBatch(E,y).next((O=>(Vt(O!==null,37113),R=O.keys(),_.mutationQueue.removeMutationBatch(E,O)))).next((()=>_.mutationQueue.performConsistencyCheck(E))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(E,R,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,R))).next((()=>_.localDocuments.getDocuments(E,R)))}))})(s.localStore,e);OT(s,e,n),IT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Oc(s,o)}catch(o){await su(o)}}function IT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function OT(i,e,n){const s=it(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function pp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||xT(i,s)}))}function xT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Jp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),sg(i))}function ab(i,e,n){for(const s of n)s instanceof ST?(i.Ru.addReference(s.key,e),Dx(i,s)):s instanceof AT?(Le(ig,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||xT(i,s.key)):Xe(19791,{wu:s})}function Dx(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Le(ig,"New document in limbo: "+n),i.Eu.add(s),sg(i))}function sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ge(un.fromString(e)),s=i.fu.next();i.Au.set(s,new bx(n)),i.du=i.du.insert(n,s),vT(i.remoteStore,new ao(Es(qp(n.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function Oc(i,e,n){const s=it(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,_)=>{d.push(s.pu(_,e,n).then((E=>{if((E||n)&&s.isPrimaryClient){const R=E?!E.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(E){o.push(E);const R=Xp.As(_.targetId,E);u.push(R)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,E){const R=it(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>ve.forEach(E,(k=>ve.forEach(k.Es,(W=>R.persistence.referenceDelegate.addReference(O,k.targetId,W))).next((()=>ve.forEach(k.ds,(W=>R.persistence.referenceDelegate.removeReference(O,k.targetId,W)))))))))}catch(O){if(!au(O))throw O;Le($p,"Failed to update sequence numbers: "+O)}for(const O of E){const k=O.targetId;if(!O.fromCache){const W=R.Ms.get(k),ce=W.snapshotVersion,me=W.withLastLimboFreeSnapshotVersion(ce);R.Ms=R.Ms.insert(k,me)}}})(s.localStore,u))}async function Nx(i,e){const n=it(i);if(!n.currentUser.isEqual(e)){Le(ig,"User change. New user:",e.toKey());const s=await mT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((_=>{_.reject(new Be(Ee.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oc(n,s.Ls)}}function Mx(i,e){const n=it(i),s=n.Au.get(e);if(s&&s.hu)return wt().add(s.key);{let o=wt();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function DT(i){const e=it(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.Pu.H_=px.bind(null,e.eventManager),e.Pu.yu=gx.bind(null,e.eventManager),e}function kx(i){const e=it(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VO(this.persistence,new NO,e.initialUser,this.serializer)}Cu(e){return new dT(Qp.mi,this.serializer)}Du(e){return new qO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class Vx extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vt(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new dT((s=>vh.mi(s,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nx.bind(null,this.syncEngine),await cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hx})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=(function(u){return new YO(u)})(e.databaseInfo);return(function(u,d,y,_){return new JO(u,d,y,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,d,y){return new WO(s,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>sb(this.syncEngine,n,0)),(function(){return W0.v()?new W0:new HO})())}createSyncEngine(e,n){return(function(o,u,d,y,_,E,R){const O=new Ex(o,u,d,y,_,E);return R&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=it(n);Le(tl,"RemoteStore shutting down."),s.Ea.add(5),await Ic(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};class Px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _o="FirestoreClient";class Lx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hr.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{Le(_o,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Le(_o,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hm(i,e){i.asyncQueue.verifyOperationInProgress(),Le(_o,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function ob(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ux(i);Le(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>tb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>tb(e.remoteStore,o))),i._onlineComponents=e}async function Ux(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Le(_o,"Using user provided OfflineComponentProvider");try{await Hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await Hm(i,new bh)}}else Le(_o,"Using default OfflineComponentProvider"),await Hm(i,new Vx(void 0));return i._offlineComponents}async function NT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Le(_o,"Using user provided OnlineComponentProvider"),await ob(i,i._uninitializedComponentsProvider._online)):(Le(_o,"Using default OnlineComponentProvider"),await ob(i,new gp))),i._onlineComponents}function jx(i){return NT(i).then((e=>e.syncEngine))}async function zx(i){const e=await NT(i),n=e.eventManager;return n.onListen=Tx.bind(null,e.syncEngine),n.onUnlisten=Ax.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cx.bind(null,e.syncEngine),n}function Bx(i,e,n={}){const s=new ho;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,_,E){const R=new Px({next:k=>{R.Nu(),d.enqueueAndForget((()=>mx(u,O)));const W=k.docs.has(y);!W&&k.fromCache?E.reject(new Be(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&k.fromCache&&_&&_.source==="server"?E.reject(new Be(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(k)},error:k=>E.reject(k)}),O=new yx(qp(y.path),R,{includeMetadataChanges:!0,qa:!0});return dx(u,O)})(await zx(i),i.asyncQueue,e,n,s))),s.promise}function MT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const lb=new Map;const kT="firestore.googleapis.com",ub=!0;class cb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=ub}else this.host=e.host,this.ssl=e.ssl??ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pO)throw new Be(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Be(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Be(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Be(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BI;switch(s.type){case"firstParty":return new FI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Be(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lb.get(n);s&&(Le("ComponentProvider","Removing Datastore"),lb.delete(n),s.terminate())})(this),Promise.resolve()}}function qx(i,e,n,s={}){i=cc(i,ag);const o=tu(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${n}`;o&&(kb(`https://${y}`),Vb("Firestore",!0)),u.host!==kT&&u.host!==y&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:y,ssl:o,emulatorOptions:s};if(!Jo(_,d)&&(i._setSettings(_),s.mockUserToken)){let E,R;if(typeof s.mockUserToken=="string")E=s.mockUserToken,R=hr.MOCK_USER;else{E=h1(s.mockUserToken,i._app?.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new Be(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new hr(O)}i._authCredentials=new qI(new AE(E,R))}}class og{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new og(this.firestore,e,this._query)}}class Qn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ac(n,Qn._jsonSchema))return new Qn(e,s||null,new Ge(un.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:Mn("string",Qn._jsonSchemaVersion),referencePath:Mn("string")};class yc extends og{constructor(e,n,s){super(e,n,qp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ge(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function VT(i,e,...n){if(i=ji(i),arguments.length===1&&(e=Vp.newId()),JI("doc","path",e),i instanceof ag){const s=un.fromString(e,...n);return S0(s),new Qn(i,null,new Ge(s))}{if(!(i instanceof Qn||i instanceof yc))throw new Be(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(un.fromString(e,...n));return S0(s),new Qn(i.firestore,i instanceof yc?i.converter:null,new Ge(s))}}const fb="AsyncQueue";class hb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&Le(fb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!au(e))throw e;Le(fb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",db(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Xe(47125,{Pc:db(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function db(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class lg extends ag{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hb(e),this._firestoreClient=void 0,await e}}}function Hx(i,e){const n=typeof i=="object"?i:jb(),s=typeof i=="string"?i:fh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=c1("firestore");u&&qx(o,...u)}return o}function PT(i){if(i._terminated)throw new Be(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Kx(i),i._firestoreClient}function Kx(i){const e=i._freezeSettings(),n=(function(o,u,d,y){return new u2(o,u,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,MT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Lx(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(ir.fromBase64String(e))}catch(n){throw new Be(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:Mn("string",Ui._jsonSchemaVersion),bytes:Mn("string")};class ug{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LT{constructor(e){this._methodName=e}}class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Mn("string",ws._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new Be(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Mn("string",Ss._jsonSchemaVersion),vectorValues:Mn("object")};const Fx=/^__.*__$/;class Gx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}function UT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:i})}}class cg{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&Fx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}Cc(e,n,s,o=!1){return new cg({Ac:e,methodName:n,Dc:s,path:rr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qx(i){const e=i._freezeSettings(),n=Lh(i._databaseId);return new Yx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Xx(i,e,n,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);qT("Data must be an object, but it was:",d,s);const y=zT(s,d);let _,E;if(u.merge)_=new es(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const R=[];for(const O of u.mergeFields){const k=$x(e,O,n);if(!d.contains(k))throw new Be(Ee.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Zx(R,k)||R.push(k)}_=new es(R),E=d.fieldTransforms.filter((O=>_.covers(O.field)))}else _=null,E=d.fieldTransforms;return new Gx(new Li(y),_,E)}function jT(i,e){if(BT(i=ji(i)))return qT("Unsupported field value:",e,i),zT(i,e);if(i instanceof LT)return(function(s,o){if(!UT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const y of s){let _=jT(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ji(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Jt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof Jt){const u=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof ws)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ui)return{bytesValue:sT(o.serializer,s._byteString)};if(s instanceof Qn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ss)return(function(d,y){return{mapValue:{fields:{[kE]:{stringValue:VE},[hh]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return Hp(y.serializer,E)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Pp(s)}`)})(i,e)}function zT(i,e){const n={};return IE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(i,((s,o)=>{const u=jT(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function BT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Jt||i instanceof ws||i instanceof Ui||i instanceof Qn||i instanceof LT||i instanceof Ss)}function qT(i,e,n){if(!BT(n)||!CE(n)){const s=Pp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function $x(i,e,n){if((e=ji(e))instanceof ug)return e._internalPath;if(typeof e=="string")return HT(i,e);throw Eh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Jx=new RegExp("[~\\*/\\[\\]]");function HT(i,e,n){if(e.search(Jx)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ug(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eh(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new Be(Ee.INVALID_ARGUMENT,y+i+_)}function Zx(i,e){return i.some((n=>n.isEqual(e)))}class KT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wx extends KT{data(){return super.data()}}function FT(i,e){return typeof e=="string"?HT(i,e):e instanceof ug?e._internalPath:e._delegate._internalPath}class eD{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return nl(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[hh].arrayValue?.values?.map((s=>wn(s.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new ws(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=po(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=un.fromString(e);Vt(fT(s),9688,{name:e});const o=new dc(s.get(1),s.get(3)),u=new Ge(s.popFirst(5));return o.isEqual(n)||ha(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function tD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends KT{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(FT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:Mn("string",Xo._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Wf extends Xo{data(e={}){return super.data(e)}}class ic{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wf(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new Wf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const _=new Wf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $u(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,R=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:nD(y.type),doc:_,oldIndex:E,newIndex:R}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:i})}}function rD(i){i=cc(i,Qn);const e=cc(i.firestore,lg);return Bx(PT(e),i._key).then((n=>oD(e,i,n)))}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:Mn("string",ic._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class iD extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function sD(i,e,n){i=cc(i,Qn);const s=cc(i.firestore,lg),o=tD(i.converter,e);return aD(s,[Xx(Qx(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,la.none())])}function aD(i,e){return(function(s,o){const u=new ho;return s.asyncQueue.enqueueAndForget((async()=>Rx(await jx(s),o,u))),u.promise})(PT(i),e)}function oD(i,e,n){const s=n.docs.get(e._key),o=new iD(i);return new Xo(i,o,e._key,s,new $u(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){iu=o})(nu),Yl(new Zo("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),y=new lg(new HI(s.getProvider("auth-internal")),new GI(d,s.getProvider("app-check-internal")),(function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Be(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(E.options.projectId,R)})(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),co(b0,E0,e),co(b0,E0,"esm2020")})();const lD={apiKey:"AIzaSyCGabs1zTYUI0-yPRp2RD7_Zk4HLsd3kSc",authDomain:"gemini-podcast-cards.firebaseapp.com",projectId:"gemini-podcast-cards",storageBucket:"gemini-podcast-cards.firebasestorage.app",messagingSenderId:"535172285628",appId:"1:535172285628:web:1fa37b46cf2bdf89257cb9"},GT=Ub(lD),zf=jI(GT),uD=new sa,YT=Hx(GT),QT="users";async function cD(i,e){if(!i)throw new Error("User ID is required");try{const n=JSON.stringify(e),s=VT(YT,QT,i);await sD(s,{vocab_data:n,last_synced:Date.now()}),console.log(`Successfully synced ${e.length} cards for user ${i}`)}catch(n){throw console.error("Sync upload failed:",n),n}}async function fD(i){if(!i)throw new Error("User ID is required");try{const e=VT(YT,QT,i),n=await rD(e);if(n.exists()){const s=n.data();if(s.vocab_data)return JSON.parse(s.vocab_data)}return null}catch(e){throw console.error("Sync download failed:",e),e}}const mb="zanta0529@gmail.com,amy.webhd@gmail.com".split(",").map(i=>i.trim()).filter(i=>i!==""),hD=({isOpen:i,onClose:e,onConfirm:n,title:s,message:o})=>{const[u,d]=ke.useState(3);return ke.useEffect(()=>{if(i){d(3);const y=setInterval(()=>{d(_=>_<=1?(clearInterval(y),0):_-1)},1e3);return()=>clearInterval(y)}},[i]),i?le.jsx("div",{style:pb.overlay,children:le.jsxs("div",{style:pb.content,children:[le.jsxs("h3",{style:{marginTop:0,color:"#ff6b6b"},children:[" ",s]}),le.jsx("p",{style:{color:"#ccc",lineHeight:"1.5"},children:o}),le.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem"},children:[le.jsx("button",{onClick:e,style:{...sc,backgroundColor:"#666"},children:"Cancel"}),le.jsx("button",{onClick:()=>{n(),e()},disabled:u>0,style:{...sc,backgroundColor:u>0?"#CCC":"#e03131",cursor:u>0?"not-allowed":"pointer",opacity:u>0?.7:1},children:u>0?`Wait (${u})...`:"Execute!"})]})]})}):null};function dD(){const[i,e]=ke.useState([]),[n,s]=ke.useState(!0),[o,u]=ke.useState(0),[d,y]=ke.useState(null),[_,E]=ke.useState(!1),[R,O]=ke.useState(!1),[k,W]=ke.useState(!1),[ce,me]=ke.useState(!1),[be,qe]=ke.useState(!1),[Fe,Pe]=ke.useState(!1),[ct,Nt]=ke.useState(!1),[$e,V]=ke.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),N=(ae,_e,Ue)=>{V({isOpen:!0,title:ae,message:_e,onConfirm:Ue})};ke.useEffect(()=>{const ae=IR(zf,async _e=>{_e?mb.length===0||mb.includes(_e.email)?(y(_e),dt.success(`Welcome, ${_e.displayName}`)):(console.warn(`Unauthorized: ${_e.email}`),dt.error(`Access denied for ${_e.email}`),await u0(zf),y(null)):y(null)});return()=>ae()},[]);const P=async()=>{try{s(!0),await RS();const ae=await tr.vocab.toArray(),_e=Date.now(),Ue=ae.filter(st=>st.nextReview<=_e||st.status==="new");e(Ue)}catch(ae){console.error("Failed to load cards:",ae),dt.error("Load failed: "+ae.message)}finally{s(!1)}};ke.useEffect(()=>{P()},[]);const Y=async ae=>{try{await tr.vocab.put(ae),u(_e=>_e+1)}catch(_e){console.error("Update failed:",_e),dt.error("Update failed")}},q=async()=>{try{await QR(zf,uD),Pe(!1)}catch(ae){console.error("Login failed:",ae),dt.error("Login failed")}},J=async()=>{await u0(zf),window.location.reload()},M=async()=>{if(!d)return;E(!0),Pe(!1);const ae=dt.loading("Backing up...");try{const _e=await tr.vocab.toArray();await cD(d.uid,_e),dt.success("Backup complete!",{id:ae})}catch(_e){console.error(_e),dt.error("Backup failed",{id:ae})}finally{E(!1)}},Bt=async()=>{d&&N("Overwrite Warning","Are you sure you want to overwrite local data with cloud backup? This action cannot be undone.",async()=>{E(!0),Pe(!1);const ae=dt.loading("Restoring...");try{const _e=await fD(d.uid);_e?(await tr.vocab.clear(),await tr.vocab.bulkAdd(_e),dt.success("Restore complete! Reloading...",{id:ae}),setTimeout(()=>window.location.reload(),1500)):dt("No backup found.",{id:ae,icon:""})}catch(_e){console.error(_e),dt.error("Restore failed",{id:ae})}finally{E(!1)}})};if(n)return le.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1b1e",color:"#fff"},children:"Loading..."});const Ft=i[o];return le.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",minHeight:"100vh",backgroundColor:"#1a1b1e",color:"#ffffff",fontFamily:"sans-serif",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[le.jsx($A,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"}}}),le.jsx(hD,{isOpen:$e.isOpen,onClose:()=>V(ae=>({...ae,isOpen:!1})),onConfirm:$e.onConfirm,title:$e.title,message:$e.message}),le.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0.5rem",borderBottom:"1px solid #333",position:"relative"},children:[le.jsxs("div",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px"},children:["GPF",le.jsx("button",{onClick:()=>W(!0),style:mD,title:"Settings",children:""})]}),le.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[le.jsx("button",{onClick:()=>me(!0),style:{...sc,backgroundColor:"#2196f3"},children:"+ Add"}),le.jsx("button",{onClick:()=>O(!0),style:{...sc,backgroundColor:"#e91e63"},children:"Import"}),le.jsx("button",{onClick:()=>Pe(!Fe),style:{...sc,backgroundColor:"#333",padding:"0.5rem 0.8rem",fontSize:"1.1rem"},children:""}),Fe&&le.jsxs(le.Fragment,{children:[le.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>Pe(!1)}),le.jsxs("div",{style:ys.container,children:[le.jsx("button",{onClick:()=>{qe(!0),Pe(!1)},style:ys.item,children:" Manage Cards"}),le.jsx("button",{onClick:()=>{Nt(!0),Pe(!1)},style:ys.item,children:" AI Smart Review"}),le.jsx("div",{style:ys.divider}),d?le.jsxs(le.Fragment,{children:[le.jsx("button",{onClick:M,disabled:_,style:ys.item,children:" Backup Data"}),le.jsx("button",{onClick:Bt,disabled:_,style:ys.item,children:" Restore Data"}),le.jsx("div",{style:ys.divider}),le.jsx("div",{style:ys.userEmail,children:d.email}),le.jsx("button",{onClick:J,style:{...ys.item,color:"#ff6b6b"},children:"Logout"})]}):le.jsx("button",{onClick:q,style:{...ys.item,color:"#4285F4"},children:"Login with Google"})]})]})]})]}),le.jsxs("header",{style:{marginBottom:"2rem",width:"100%",textAlign:"center"},children:[le.jsx("h1",{children:"Gemini Flashcards"}),le.jsx("p",{style:{color:"#888"},children:i.length>0?`Progress: ${o} / ${i.length}`:"No cards due"})]}),le.jsx("main",{style:{width:"100%"},children:Ft?le.jsx(OS,{card:Ft,onUpdate:Y},Ft.id):le.jsxs("div",{style:{textAlign:"center",padding:"3rem",border:"1px dashed #555",borderRadius:"8px"},children:[le.jsx("h2",{children:" All caught up!"}),le.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer"},children:"Refresh"})]})}),le.jsx(JA,{isOpen:R,onClose:()=>O(!1),onSuccess:P}),le.jsx(ZA,{isOpen:k,onClose:()=>W(!1)}),le.jsx(WA,{isOpen:ce,onClose:()=>me(!1),onSuccess:P}),le.jsx(e1,{isOpen:be,onClose:()=>{qe(!1),P()}}),le.jsx(t1,{isOpen:ct,onClose:()=>Nt(!1)})]})}const sc={padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"6px",border:"none",cursor:"pointer",color:"white",whiteSpace:"nowrap",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.3rem",transition:"opacity 0.2s"},mD={background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},ys={container:{position:"absolute",top:"3.5rem",right:"0.5rem",backgroundColor:"#25262b",border:"1px solid #444",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",zIndex:100,display:"flex",flexDirection:"column",minWidth:"180px",padding:"0.5rem"},item:{background:"none",border:"none",color:"#e0e0e0",padding:"0.8rem 1rem",textAlign:"left",cursor:"pointer",borderRadius:"4px",fontSize:"0.95rem",transition:"background 0.2s"},divider:{height:"1px",backgroundColor:"#444",margin:"0.5rem 0"},userEmail:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"#888",borderBottom:"1px solid #333",marginBottom:"0.5rem"}},pb={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},content:{backgroundColor:"#25262b",padding:"2rem",borderRadius:"12px",maxWidth:"400px",width:"90%",border:"1px solid #444",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"}};wS.createRoot(document.getElementById("root")).render(le.jsx(pS.StrictMode,{children:le.jsx(dD,{})}));
