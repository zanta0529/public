(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}})();var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var um={exports:{}},Mu={};var Yv;function S1(){if(Yv)return Mu;Yv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:d,ref:l!==void 0?l:null,props:h}}return Mu.Fragment=t,Mu.jsx=r,Mu.jsxs=r,Mu}var Xv;function w1(){return Xv||(Xv=1,um.exports=S1()),um.exports}var Kt=w1(),cm={exports:{}},re={};var $v;function A1(){if($v)return re;$v=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),B=Symbol.iterator;function ot(F){return F===null||typeof F!="object"?null:(F=B&&F[B]||F["@@iterator"],typeof F=="function"?F:null)}var _t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rt=Object.assign,Et={};function Bt(F,ft,At){this.props=F,this.context=ft,this.refs=Et,this.updater=At||_t}Bt.prototype.isReactComponent={},Bt.prototype.setState=function(F,ft){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ft,"setState")},Bt.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Ft(){}Ft.prototype=Bt.prototype;function Nt(F,ft,At){this.props=F,this.context=ft,this.refs=Et,this.updater=At||_t}var zt=Nt.prototype=new Ft;zt.constructor=Nt,Rt(zt,Bt.prototype),zt.isPureReactComponent=!0;var Ne=Array.isArray;function te(){}var V={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function P(F,ft,At){var Vt=At.ref;return{$$typeof:i,type:F,key:ft,ref:Vt!==void 0?Vt:null,props:At}}function Q(F,ft){return P(F.type,ft,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function Z(F){var ft={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(At){return ft[At]})}var M=/\/+/g;function Fe(F,ft){return typeof F=="object"&&F!==null&&F.key!=null?Z(""+F.key):ft.toString(36)}function We(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(te,te):(F.status="pending",F.then(function(ft){F.status==="pending"&&(F.status="fulfilled",F.value=ft)},function(ft){F.status==="pending"&&(F.status="rejected",F.reason=ft)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ut(F,ft,At,Vt,Qt){var $t=typeof F;($t==="undefined"||$t==="boolean")&&(F=null);var de=!1;if(F===null)de=!0;else switch($t){case"bigint":case"string":case"number":de=!0;break;case"object":switch(F.$$typeof){case i:case t:de=!0;break;case I:return de=F._init,ut(de(F._payload),ft,At,Vt,Qt)}}if(de)return Qt=Qt(F),de=Vt===""?"."+Fe(F,0):Vt,Ne(Qt)?(At="",de!=null&&(At=de.replace(M,"$&/")+"/"),ut(Qt,ft,At,"",function($i){return $i})):Qt!=null&&(q(Qt)&&(Qt=Q(Qt,At+(Qt.key==null||F&&F.key===Qt.key?"":(""+Qt.key).replace(M,"$&/")+"/")+de)),ft.push(Qt)),1;de=0;var mn=Vt===""?".":Vt+":";if(Ne(F))for(var Ot=0;Ot<F.length;Ot++)Vt=F[Ot],$t=mn+Fe(Vt,Ot),de+=ut(Vt,ft,At,$t,Qt);else if(Ot=ot(F),typeof Ot=="function")for(F=Ot.call(F),Ot=0;!(Vt=F.next()).done;)Vt=Vt.value,$t=mn+Fe(Vt,Ot++),de+=ut(Vt,ft,At,$t,Qt);else if($t==="object"){if(typeof F.then=="function")return ut(We(F),ft,At,Vt,Qt);throw ft=String(F),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return de}function xt(F,ft,At){if(F==null)return F;var Vt=[],Qt=0;return ut(F,Vt,"","",function($t){return ft.call(At,$t,Qt++)}),Vt}function Ut(F){if(F._status===-1){var ft=F._result;ft=ft(),ft.then(function(At){(F._status===0||F._status===-1)&&(F._status=1,F._result=At)},function(At){(F._status===0||F._status===-1)&&(F._status=2,F._result=At)}),F._status===-1&&(F._status=0,F._result=ft)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},he={map:xt,forEach:function(F,ft,At){xt(F,function(){ft.apply(this,arguments)},At)},count:function(F){var ft=0;return xt(F,function(){ft++}),ft},toArray:function(F){return xt(F,function(ft){return ft})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return re.Activity=O,re.Children=he,re.Component=Bt,re.Fragment=r,re.Profiler=l,re.PureComponent=Nt,re.StrictMode=s,re.Suspense=b,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,re.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},re.cache=function(F){return function(){return F.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(F,ft,At){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Vt=Rt({},F.props),Qt=F.key;if(ft!=null)for($t in ft.key!==void 0&&(Qt=""+ft.key),ft)!x.call(ft,$t)||$t==="key"||$t==="__self"||$t==="__source"||$t==="ref"&&ft.ref===void 0||(Vt[$t]=ft[$t]);var $t=arguments.length-2;if($t===1)Vt.children=At;else if(1<$t){for(var de=Array($t),mn=0;mn<$t;mn++)de[mn]=arguments[mn+2];Vt.children=de}return P(F.type,Qt,Vt)},re.createContext=function(F){return F={$$typeof:d,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:h,_context:F},F},re.createElement=function(F,ft,At){var Vt,Qt={},$t=null;if(ft!=null)for(Vt in ft.key!==void 0&&($t=""+ft.key),ft)x.call(ft,Vt)&&Vt!=="key"&&Vt!=="__self"&&Vt!=="__source"&&(Qt[Vt]=ft[Vt]);var de=arguments.length-2;if(de===1)Qt.children=At;else if(1<de){for(var mn=Array(de),Ot=0;Ot<de;Ot++)mn[Ot]=arguments[Ot+2];Qt.children=mn}if(F&&F.defaultProps)for(Vt in de=F.defaultProps,de)Qt[Vt]===void 0&&(Qt[Vt]=de[Vt]);return P(F,$t,Qt)},re.createRef=function(){return{current:null}},re.forwardRef=function(F){return{$$typeof:v,render:F}},re.isValidElement=q,re.lazy=function(F){return{$$typeof:I,_payload:{_status:-1,_result:F},_init:Ut}},re.memo=function(F,ft){return{$$typeof:T,type:F,compare:ft===void 0?null:ft}},re.startTransition=function(F){var ft=V.T,At={};V.T=At;try{var Vt=F(),Qt=V.S;Qt!==null&&Qt(At,Vt),typeof Vt=="object"&&Vt!==null&&typeof Vt.then=="function"&&Vt.then(te,ce)}catch($t){ce($t)}finally{ft!==null&&At.types!==null&&(ft.types=At.types),V.T=ft}},re.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},re.use=function(F){return V.H.use(F)},re.useActionState=function(F,ft,At){return V.H.useActionState(F,ft,At)},re.useCallback=function(F,ft){return V.H.useCallback(F,ft)},re.useContext=function(F){return V.H.useContext(F)},re.useDebugValue=function(){},re.useDeferredValue=function(F,ft){return V.H.useDeferredValue(F,ft)},re.useEffect=function(F,ft){return V.H.useEffect(F,ft)},re.useEffectEvent=function(F){return V.H.useEffectEvent(F)},re.useId=function(){return V.H.useId()},re.useImperativeHandle=function(F,ft,At){return V.H.useImperativeHandle(F,ft,At)},re.useInsertionEffect=function(F,ft){return V.H.useInsertionEffect(F,ft)},re.useLayoutEffect=function(F,ft){return V.H.useLayoutEffect(F,ft)},re.useMemo=function(F,ft){return V.H.useMemo(F,ft)},re.useOptimistic=function(F,ft){return V.H.useOptimistic(F,ft)},re.useReducer=function(F,ft,At){return V.H.useReducer(F,ft,At)},re.useRef=function(F){return V.H.useRef(F)},re.useState=function(F){return V.H.useState(F)},re.useSyncExternalStore=function(F,ft,At){return V.H.useSyncExternalStore(F,ft,At)},re.useTransition=function(){return V.H.useTransition()},re.version="19.2.0",re}var Jv;function ep(){return Jv||(Jv=1,cm.exports=A1()),cm.exports}var se=ep();const R1=tp(se);var hm={exports:{}},Vu={},fm={exports:{}},dm={};var Zv;function C1(){return Zv||(Zv=1,(function(i){function t(ut,xt){var Ut=ut.length;ut.push(xt);t:for(;0<Ut;){var ce=Ut-1>>>1,he=ut[ce];if(0<l(he,xt))ut[ce]=xt,ut[Ut]=he,Ut=ce;else break t}}function r(ut){return ut.length===0?null:ut[0]}function s(ut){if(ut.length===0)return null;var xt=ut[0],Ut=ut.pop();if(Ut!==xt){ut[0]=Ut;t:for(var ce=0,he=ut.length,F=he>>>1;ce<F;){var ft=2*(ce+1)-1,At=ut[ft],Vt=ft+1,Qt=ut[Vt];if(0>l(At,Ut))Vt<he&&0>l(Qt,At)?(ut[ce]=Qt,ut[Vt]=Ut,ce=Vt):(ut[ce]=At,ut[ft]=Ut,ce=ft);else if(Vt<he&&0>l(Qt,Ut))ut[ce]=Qt,ut[Vt]=Ut,ce=Vt;else break t}}return xt}function l(ut,xt){var Ut=ut.sortIndex-xt.sortIndex;return Ut!==0?Ut:ut.id-xt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,v=d.now();i.unstable_now=function(){return d.now()-v}}var b=[],T=[],I=1,O=null,B=3,ot=!1,_t=!1,Rt=!1,Et=!1,Bt=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,Nt=typeof setImmediate<"u"?setImmediate:null;function zt(ut){for(var xt=r(T);xt!==null;){if(xt.callback===null)s(T);else if(xt.startTime<=ut)s(T),xt.sortIndex=xt.expirationTime,t(b,xt);else break;xt=r(T)}}function Ne(ut){if(Rt=!1,zt(ut),!_t)if(r(b)!==null)_t=!0,te||(te=!0,Z());else{var xt=r(T);xt!==null&&We(Ne,xt.startTime-ut)}}var te=!1,V=-1,x=5,P=-1;function Q(){return Et?!0:!(i.unstable_now()-P<x)}function q(){if(Et=!1,te){var ut=i.unstable_now();P=ut;var xt=!0;try{t:{_t=!1,Rt&&(Rt=!1,Ft(V),V=-1),ot=!0;var Ut=B;try{e:{for(zt(ut),O=r(b);O!==null&&!(O.expirationTime>ut&&Q());){var ce=O.callback;if(typeof ce=="function"){O.callback=null,B=O.priorityLevel;var he=ce(O.expirationTime<=ut);if(ut=i.unstable_now(),typeof he=="function"){O.callback=he,zt(ut),xt=!0;break e}O===r(b)&&s(b),zt(ut)}else s(b);O=r(b)}if(O!==null)xt=!0;else{var F=r(T);F!==null&&We(Ne,F.startTime-ut),xt=!1}}break t}finally{O=null,B=Ut,ot=!1}xt=void 0}}finally{xt?Z():te=!1}}}var Z;if(typeof Nt=="function")Z=function(){Nt(q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Fe=M.port2;M.port1.onmessage=q,Z=function(){Fe.postMessage(null)}}else Z=function(){Bt(q,0)};function We(ut,xt){V=Bt(function(){ut(i.unstable_now())},xt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ut){ut.callback=null},i.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ut?Math.floor(1e3/ut):5},i.unstable_getCurrentPriorityLevel=function(){return B},i.unstable_next=function(ut){switch(B){case 1:case 2:case 3:var xt=3;break;default:xt=B}var Ut=B;B=xt;try{return ut()}finally{B=Ut}},i.unstable_requestPaint=function(){Et=!0},i.unstable_runWithPriority=function(ut,xt){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var Ut=B;B=ut;try{return xt()}finally{B=Ut}},i.unstable_scheduleCallback=function(ut,xt,Ut){var ce=i.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?ce+Ut:ce):Ut=ce,ut){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Ut+he,ut={id:I++,callback:xt,priorityLevel:ut,startTime:Ut,expirationTime:he,sortIndex:-1},Ut>ce?(ut.sortIndex=Ut,t(T,ut),r(b)===null&&ut===r(T)&&(Rt?(Ft(V),V=-1):Rt=!0,We(Ne,Ut-ce))):(ut.sortIndex=he,t(b,ut),_t||ot||(_t=!0,te||(te=!0,Z()))),ut},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(ut){var xt=B;return function(){var Ut=B;B=xt;try{return ut.apply(this,arguments)}finally{B=Ut}}}})(dm)),dm}var Wv;function I1(){return Wv||(Wv=1,fm.exports=C1()),fm.exports}var mm={exports:{}},or={};var t_;function D1(){if(t_)return or;t_=1;var i=ep();function t(b){var T="https://react.dev/errors/"+b;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)T+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(b,T,I){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:b,containerInfo:T,implementation:I}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(b,T){if(b==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,or.createPortal=function(b,T){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(b,T,null,I)},or.flushSync=function(b){var T=d.T,I=s.p;try{if(d.T=null,s.p=2,b)return b()}finally{d.T=T,s.p=I,s.d.f()}},or.preconnect=function(b,T){typeof b=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,s.d.C(b,T))},or.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},or.preinit=function(b,T){if(typeof b=="string"&&T&&typeof T.as=="string"){var I=T.as,O=v(I,T.crossOrigin),B=typeof T.integrity=="string"?T.integrity:void 0,ot=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;I==="style"?s.d.S(b,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:O,integrity:B,fetchPriority:ot}):I==="script"&&s.d.X(b,{crossOrigin:O,integrity:B,fetchPriority:ot,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},or.preinitModule=function(b,T){if(typeof b=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var I=v(T.as,T.crossOrigin);s.d.M(b,{crossOrigin:I,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&s.d.M(b)},or.preload=function(b,T){if(typeof b=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var I=T.as,O=v(I,T.crossOrigin);s.d.L(b,I,{crossOrigin:O,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},or.preloadModule=function(b,T){if(typeof b=="string")if(T){var I=v(T.as,T.crossOrigin);s.d.m(b,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:I,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else s.d.m(b)},or.requestFormReset=function(b){s.d.r(b)},or.unstable_batchedUpdates=function(b,T){return b(T)},or.useFormState=function(b,T,I){return d.H.useFormState(b,T,I)},or.useFormStatus=function(){return d.H.useHostTransitionStatus()},or.version="19.2.0",or}var e_;function O1(){if(e_)return mm.exports;e_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),mm.exports=D1(),mm.exports}var n_;function N1(){if(n_)return Vu;n_=1;var i=I1(),t=ep(),r=O1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function b(e){if(h(e)!==e)throw Error(s(188))}function T(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return b(f),e;if(p===o)return b(f),n;p=p.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=p;else{for(var E=!1,R=f.child;R;){if(R===a){E=!0,a=f,o=p;break}if(R===o){E=!0,o=f,a=p;break}R=R.sibling}if(!E){for(R=p.child;R;){if(R===a){E=!0,a=p,o=f;break}if(R===o){E=!0,o=p,a=f;break}R=R.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function I(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=I(e),n!==null)return n;e=e.sibling}return null}var O=Object.assign,B=Symbol.for("react.element"),ot=Symbol.for("react.transitional.element"),_t=Symbol.for("react.portal"),Rt=Symbol.for("react.fragment"),Et=Symbol.for("react.strict_mode"),Bt=Symbol.for("react.profiler"),Ft=Symbol.for("react.consumer"),Nt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rt:return"Fragment";case Bt:return"Profiler";case Et:return"StrictMode";case Ne:return"Suspense";case te:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _t:return"Portal";case Nt:return e.displayName||"Context";case Ft:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Fe(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return Fe(e(n))}catch{}}return null}var We=Array.isArray,ut=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ut={pending:!1,data:null,method:null,action:null},ce=[],he=-1;function F(e){return{current:e}}function ft(e){0>he||(e.current=ce[he],ce[he]=null,he--)}function At(e,n){he++,ce[he]=e.current,e.current=n}var Vt=F(null),Qt=F(null),$t=F(null),de=F(null);function mn(e,n){switch(At($t,n),At(Qt,e),At(Vt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yv(n),e=vv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ft(Vt),At(Vt,e)}function Ot(){ft(Vt),ft(Qt),ft($t)}function $i(e){e.memoizedState!==null&&At(de,e);var n=Vt.current,a=vv(n,e.type);n!==a&&(At(Qt,e),At(Vt,a))}function Vi(e){Qt.current===e&&(ft(Vt),ft(Qt)),de.current===e&&(ft(de),Du._currentValue=Ut)}var Se,ci;function hi(e){if(Se===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Se=n&&n[1]||"",ci=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+e+ci}var qr=!1;function bs(e,n){if(!e||qr)return"";qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var it=at}Reflect.construct(e,[],mt)}else{try{mt.call()}catch(at){it=at}e.call(mt.prototype)}}else{try{throw Error()}catch(at){it=at}(mt=e())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),E=p[0],R=p[1];if(E&&R){var k=E.split(`
`),nt=R.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<nt.length&&!nt[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===nt.length)for(o=k.length-1,f=nt.length-1;1<=o&&0<=f&&k[o]!==nt[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==nt[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==nt[f]){var ct=`
`+k[o].replace(" at new "," at ");return e.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",e.displayName)),ct}while(1<=o&&0<=f);break}}}finally{qr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hi(a):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return e.child!==n&&n!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return bs(e.type,!1);case 11:return bs(e.type.render,!1);case 1:return bs(e.type,!0);case 31:return hi("Activity");default:return""}}function ho(e){try{var n="",a=null;do n+=co(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var cn=Object.prototype.hasOwnProperty,tn=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,$o=i.unstable_shouldYield,Ji=i.unstable_requestPaint,zn=i.unstable_now,Hr=i.unstable_getCurrentPriorityLevel,Fr=i.unstable_ImmediatePriority,Kr=i.unstable_UserBlockingPriority,fi=i.unstable_NormalPriority,Ts=i.unstable_LowPriority,oa=i.unstable_IdlePriority,Ss=i.log,di=i.unstable_setDisableYieldValue,nr=null,pn=null;function gn(e){if(typeof Ss=="function"&&di(e),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(nr,e)}catch{}}var Dt=Math.clz32?Math.clz32:ws,Zi=Math.log,Er=Math.LN2;function ws(e){return e>>>=0,e===0?32:31-(Zi(e)/Er|0)|0}var wt=256,ki=262144,en=4194304;function br(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,p=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var R=o&134217727;return R!==0?(o=R&~p,o!==0?f=br(o):(E&=R,E!==0?f=br(E):a||(a=R&~e,a!==0&&(f=br(a))))):(R=o&~p,R!==0?f=br(R):E!==0?f=br(E):a||(a=o&~e,a!==0&&(f=br(a)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:f}function dr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $l(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=en;return en<<=1,(en&62914560)===0&&(en=4194304),e}function Qn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,n,a,o,f,p){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,k=e.expirationTimes,nt=e.hiddenUpdates;for(a=E&~a;0<a;){var ct=31-Dt(a),mt=1<<ct;R[ct]=0,k[ct]=-1;var it=nt[ct];if(it!==null)for(nt[ct]=null,ct=0;ct<it.length;ct++){var at=it[ct];at!==null&&(at.lane&=-536870913)}a&=~mt}o!==0&&mi(e,o,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(E&~n))}function mi(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Dt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Me(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Dt(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function $e(e,n){var a=n&-n;return a=(a&42)!==0?1:As(a),(a&(e.suspendedLanes|n))!==0?0:a}function As(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rs(){var e=xt.p;return e!==0?e:(e=window.event,e===void 0?32:Bv(e.type))}function rr(e,n){var a=xt.p;try{return xt.p=e,n()}finally{xt.p=a}}var Qr=Math.random().toString(36).slice(2),ke="__reactFiber$"+Qr,Ke="__reactProps$"+Qr,Vn="__reactContainer$"+Qr,Pi="__reactEvents$"+Qr,Jl="__reactListeners$"+Qr,Yr="__reactHandles$"+Qr,mo="__reactResources$"+Qr,jn="__reactMarker$"+Qr;function Cs(e){delete e[ke],delete e[Ke],delete e[Pi],delete e[Jl],delete e[Yr]}function wr(e){var n=e[ke];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Vn]||a[ke]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Av(e);e!==null;){if(a=e[ke])return a;e=Av(e)}return n}e=a,a=e.parentNode}return null}function Re(e){if(e=e[ke]||e[Vn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Sn(e){var n=e[mo];return n||(n=e[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nn(e){e[jn]=!0}var pi=new Set,Wi={};function Ar(e,n){Rr(e,n),Rr(e+"Capture",n)}function Rr(e,n){for(Wi[e]=n,e=0;e<n.length;e++)pi.add(n[e])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},ts={};function po(e){return cn.call(ts,e)?!0:cn.call(la,e)?!1:Xr.test(e)?ts[e]=!0:(la[e]=!0,!1)}function ae(e,n,a){if(po(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function ir(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function rn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ua(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,p.call(this,E)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ie(e){if(!e._valueTracker){var n=Cr(e)?"checked":"value";e._valueTracker=ua(e,n,""+e[n])}}function es(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $r=/[\n"\\]/g;function wn(e){return e.replace($r,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,a,o,f,p,E,R){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+sn(n)):e.value!==""+sn(n)&&(e.value=""+sn(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?Is(e,E,sn(n)):a!=null?Is(e,E,sn(a)):o!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+sn(R):e.removeAttribute("name")}function ca(e,n,a,o,f,p,E,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Ie(e);return}a=a!=null?""+sn(a):"",n=n!=null?""+sn(n):a,R||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=R?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Ie(e)}function Is(e,n,a){n==="number"&&pe(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zr(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+sn(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function go(e,n,a){if(n!=null&&(n=""+sn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+sn(a):""}function Wr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(We(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=sn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ie(e)}function Yn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function me(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Zo.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ha(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&me(e,f,o)}else for(var p in n)n.hasOwnProperty(p)&&me(e,p,n[p])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(e){return hn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sr(){}var Ir=null;function mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,Pe=null;function Bn(e){var n=Re(e);if(n&&(e=n.stateNode)){var a=e[Ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[Ke]||null;if(!f)throw Error(s(90));Jr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&es(o)}break t;case"textarea":go(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zr(e,!!a.multiple,n,!1)}}}var gi=!1;function Dr(e,n,a){if(gi)return e(n,a);gi=!0;try{var o=e(n);return o}finally{if(gi=!1,(Ui!==null||Pe!==null)&&(Yc(),Ui&&(n=Ui,e=Pe,Pe=Ui=null,Bn(n),e)))for(n=0;n<e.length;n++)Bn(e[n])}}function pr(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(vn)try{var fe={};Object.defineProperty(fe,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",fe,fe),window.removeEventListener("test",fe,fe)}catch{Ds=!1}var Or=null,da=null,Li=null;function zi(){if(Li)return Li;var e,n=da,a=n.length,o,f="value"in Or?Or.value:Or.textContent,p=f.length;for(e=0;e<a&&n[e]===f[e];e++);var E=a-e;for(o=1;o<=E&&n[a-o]===f[p-o];o++);return Li=f.slice(e,1<o?1-o:void 0)}function ji(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function ei(){return!1}function an(e){function n(a,o,f,p,E){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yi:ei,this.isPropagationStopped=ei,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=an(Bi),ni=O({},Bi,{view:0,detail:0}),ns=an(ni),_i,ma,Ei,pa=O({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(_i=e.screenX-Ei.screenX,ma=e.screenY-Ei.screenY):ma=_i=0,Ei=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Os=an(pa),qi=O({},pa,{dataTransfer:0}),yo=an(qi),Ns=O({},ni,{relatedTarget:0}),bi=an(Ns),rs=O({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),vo=an(rs),ga=O({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hi=an(ga),ya=O({},Bi,{data:0}),Nr=an(ya),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function is(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_n[e])?!!n[e]:!1}function xr(){return is}var qn=O({},ni,{key:function(e){if(e.key){var n=va[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_a[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xs=an(qn),_o=O({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=an(_o),u=O({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=an(u),S=O({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=an(S),W=O({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),st=an(W),Tt=O({},Bi,{newState:0,oldState:0}),ee=an(Tt),on=[9,13,27,32],we=vn&&"CompositionEvent"in window,Ue=null;vn&&"documentMode"in document&&(Ue=document.documentMode);var Mr=vn&&"TextEvent"in window&&!Ue,Vr=vn&&(!we||Ue&&8<Ue&&11>=Ue),gr=" ",ri=!1;function ss(e,n){switch(e){case"keyup":return on.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function mc(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ri=!0,gr);case"textInput":return e=n.data,e===gr&&ri?null:e;default:return null}}function Sf(e,n){if(Ms)return e==="compositionend"||!we&&ss(e,n)?(e=zi(),Li=da=Or=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vr&&n.locale!=="ko"?null:n.data;default:return null}}var pc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!pc[e.type]:n==="textarea"}function Zl(e,n,a,o){Ui?Pe?Pe.push(o):Pe=[o]:Ui=o,n=eh(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ba=null,Eo=null;function wf(e){hv(e,0)}function el(e){var n=yn(e);if(es(n))return e}function bo(e,n){if(e==="change")return n}var Si=!1;if(vn){var Ge;if(vn){var Ta="oninput"in document;if(!Ta){var yr=document.createElement("div");yr.setAttribute("oninput","return;"),Ta=typeof yr.oninput=="function"}Ge=Ta}else Ge=!1;Si=Ge&&(!document.documentMode||9<document.documentMode)}function gc(){ba&&(ba.detachEvent("onpropertychange",nl),Eo=ba=null)}function nl(e){if(e.propertyName==="value"&&el(Eo)){var n=[];Zl(n,Eo,e,mr(e)),Dr(wf,n)}}function yc(e,n,a){e==="focusin"?(gc(),ba=n,Eo=a,ba.attachEvent("onpropertychange",nl)):e==="focusout"&&gc()}function Vs(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Eo)}function Wl(e,n){if(e==="click")return el(n)}function Sa(e,n){if(e==="input"||e==="change")return el(n)}function as(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ar=typeof Object.is=="function"?Object.is:as;function c(e,n){if(ar(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!cn.call(n,f)||!ar(e[f],n[f]))return!1}return!0}function m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var a=m(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=m(a)}}function _(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pe(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pe(e.document)}return n}function A(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D=vn&&"documentMode"in document&&11>=document.documentMode,N=null,L=null,z=null,Y=!1;function U(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Y||N==null||N!==pe(o)||(o=N,"selectionStart"in o&&A(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),z&&c(z,o)||(z=o,o=eh(L,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=N)))}function $(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var j={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionrun:$("Transition","TransitionRun"),transitionstart:$("Transition","TransitionStart"),transitioncancel:$("Transition","TransitionCancel"),transitionend:$("Transition","TransitionEnd")},K={},G={};vn&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete j.animationend.animation,delete j.animationiteration.animation,delete j.animationstart.animation),"TransitionEvent"in window||delete j.transitionend.transition);function X(e){if(K[e])return K[e];if(!j[e])return e;var n=j[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in G)return K[e]=n[a];return e}var tt=X("animationend"),rt=X("animationiteration"),lt=X("animationstart"),dt=X("transitionrun"),bt=X("transitionstart"),It=X("transitioncancel"),yt=X("transitionend"),St=new Map,Ct="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ct.push("scrollEnd");function vt(e,n){St.set(e,n),Ar(n,[e])}var Mt=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Zt=0,oe=0;function Hn(){for(var e=Zt,n=oe=Zt=0;n<e;){var a=qt[n];qt[n++]=null;var o=qt[n];qt[n++]=null;var f=qt[n];qt[n++]=null;var p=qt[n];if(qt[n++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}p!==0&&To(a,f,p)}}function Jt(e,n,a,o){qt[Zt++]=e,qt[Zt++]=n,qt[Zt++]=a,qt[Zt++]=o,oe|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function An(e,n,a,o){return Jt(e,n,a,o),Rn(e)}function Je(e,n){return Jt(e,null,null,n),Rn(e)}function To(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-Dt(a),e=p.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=a|536870912),p):null}function Rn(e){if(50<Tu)throw Tu=0,Md=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var kr={};function tu(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,n,a,o){return new tu(e,n,a,o)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ks(e,n){var a=e.alternate;return a===null?(a=ii(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vc(e,n,a,o,f,p){var E=0;if(o=e,typeof e=="function")Af(e)&&(E=1);else if(typeof e=="string")E=c1(e,a,Vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=ii(31,a,n,f),e.elementType=P,e.lanes=p,e;case Rt:return So(a.children,f,p,n);case Et:E=8,f|=24;break;case Bt:return e=ii(12,a,n,f|2),e.elementType=Bt,e.lanes=p,e;case Ne:return e=ii(13,a,n,f),e.elementType=Ne,e.lanes=p,e;case te:return e=ii(19,a,n,f),e.elementType=te,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nt:E=10;break t;case Ft:E=9;break t;case zt:E=11;break t;case V:E=14;break t;case x:E=16,o=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ii(E,a,n,f),n.elementType=e,n.type=o,n.lanes=p,n}function So(e,n,a,o){return e=ii(7,e,o,n),e.lanes=a,e}function Rf(e,n,a){return e=ii(6,e,null,n),e.lanes=a,e}function Yp(e){var n=ii(18,null,null,0);return n.stateNode=e,n}function Cf(e,n,a){return n=ii(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xp=new WeakMap;function wi(e,n){if(typeof e=="object"&&e!==null){var a=Xp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ho(n)},Xp.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var rl=[],il=0,_c=null,eu=0,Ai=[],Ri=0,wa=null,os=1,ls="";function Ps(e,n){rl[il++]=eu,rl[il++]=_c,_c=e,eu=n}function $p(e,n,a){Ai[Ri++]=os,Ai[Ri++]=ls,Ai[Ri++]=wa,wa=e;var o=os;e=ls;var f=32-Dt(o)-1;o&=~(1<<f),a+=1;var p=32-Dt(n)+f;if(30<p){var E=f-f%5;p=(o&(1<<E)-1).toString(32),o>>=E,f-=E,os=1<<32-Dt(n)+f|a<<f|o,ls=p+e}else os=1<<p|a<<f|o,ls=e}function If(e){e.return!==null&&(Ps(e,1),$p(e,1,0))}function Df(e){for(;e===_c;)_c=rl[--il],rl[il]=null,eu=rl[--il],rl[il]=null;for(;e===wa;)wa=Ai[--Ri],Ai[Ri]=null,ls=Ai[--Ri],Ai[Ri]=null,os=Ai[--Ri],Ai[Ri]=null}function Jp(e,n){Ai[Ri++]=os,Ai[Ri++]=ls,Ai[Ri++]=wa,os=n.id,ls=n.overflow,wa=e}var Xn=null,Qe=null,Ae=!1,Aa=null,Ci=!1,Of=Error(s(519));function Ra(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(wi(n,e)),Of}function Zp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ke]=e,n[Ke]=o,a){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(a=0;a<wu.length;a++)ye(wu[a],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),ca(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),Wr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||pv(n.textContent,a)?(o.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),o.onScroll!=null&&ye("scroll",n),o.onScrollEnd!=null&&ye("scrollend",n),o.onClick!=null&&(n.onclick=sr),n=!0):n=!1,n||Ra(e,!0)}function Wp(e){for(Xn=e.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Xn=Xn.return}}function sl(e){if(e!==Xn)return!1;if(!Ae)return Wp(e),Ae=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yd(e.type,e.memoizedProps)),a=!a),a&&Qe&&Ra(e),Wp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Qe=wv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Qe=wv(e)}else n===27?(n=Qe,ja(e.type)?(e=Wd,Wd=null,Qe=e):Qe=n):Qe=Xn?Di(e.stateNode.nextSibling):null;return!0}function wo(){Qe=Xn=null,Ae=!1}function Nf(){var e=Aa;return e!==null&&(zr===null?zr=e:zr.push.apply(zr,e),Aa=null),e}function nu(e){Aa===null?Aa=[e]:Aa.push(e)}var xf=F(null),Ao=null,Us=null;function Ca(e,n,a){At(xf,n._currentValue),n._currentValue=a}function Ls(e){e._currentValue=xf.current,ft(xf)}function Mf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Vf(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var R=p;p=f;for(var k=0;k<n.length;k++)if(R.context===n[k]){p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),Mf(p.return,a,e),o||(E=null);break t}p=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Mf(E,a,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(e,n,a,o){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var R=f.type;ar(f.pendingProps.value,E.value)||(e!==null?e.push(R):e=[R])}}else if(f===de.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Du):e=[Du])}f=f.return}e!==null&&Vf(n,e,a,o),n.flags|=262144}function Ec(e){for(e=e.firstContext;e!==null;){if(!ar(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ro(e){Ao=e,Us=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $n(e){return tg(Ao,e)}function bc(e,n){return Ao===null&&Ro(e),tg(e,n)}function tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Us===null){if(e===null)throw Error(s(308));Us=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Us=Us.next=n;return a}var aT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},oT=i.unstable_scheduleCallback,lT=i.unstable_NormalPriority,Cn={$$typeof:Nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new aT,data:new Map,refCount:0}}function ru(e){e.refCount--,e.refCount===0&&oT(lT,function(){e.controller.abort()})}var iu=null,Pf=0,ol=0,ll=null;function uT(e,n){if(iu===null){var a=iu=[];Pf=0,ol=zd(),ll={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Pf++,n.then(eg,eg),n}function eg(){if(--Pf===0&&iu!==null){ll!==null&&(ll.status="fulfilled");var e=iu;iu=null,ol=0,ll=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var ng=ut.S;ut.S=function(e,n){zy=zn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uT(e,n),ng!==null&&ng(e,n)};var Co=F(null);function Uf(){var e=Co.current;return e!==null?e:He.pooledCache}function Tc(e,n){n===null?At(Co,Co.current):At(Co,n.pool)}function rg(){var e=Uf();return e===null?null:{parent:Cn._currentValue,pool:e}}var ul=Error(s(460)),Lf=Error(s(474)),Sc=Error(s(542)),wc={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(sr,sr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e;default:if(typeof n.status=="string")n.then(sr,sr);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e}throw Do=n,ul}}function Io(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Do=a,ul):a}}var Do=null;function ag(){if(Do===null)throw Error(s(459));var e=Do;return Do=null,e}function og(e){if(e===ul||e===Sc)throw Error(s(483))}var cl=null,su=0;function Ac(e){var n=su;return su+=1,cl===null&&(cl=[]),sg(cl,e,n)}function au(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Rc(e,n){throw n.$$typeof===B?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lg(e){function n(J,H){if(e){var et=J.deletions;et===null?(J.deletions=[H],J.flags|=16):et.push(H)}}function a(J,H){if(!e)return null;for(;H!==null;)n(J,H),H=H.sibling;return null}function o(J){for(var H=new Map;J!==null;)J.key!==null?H.set(J.key,J):H.set(J.index,J),J=J.sibling;return H}function f(J,H){return J=ks(J,H),J.index=0,J.sibling=null,J}function p(J,H,et){return J.index=et,e?(et=J.alternate,et!==null?(et=et.index,et<H?(J.flags|=67108866,H):et):(J.flags|=67108866,H)):(J.flags|=1048576,H)}function E(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function R(J,H,et,ht){return H===null||H.tag!==6?(H=Rf(et,J.mode,ht),H.return=J,H):(H=f(H,et),H.return=J,H)}function k(J,H,et,ht){var Ht=et.type;return Ht===Rt?ct(J,H,et.props.children,ht,et.key):H!==null&&(H.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===x&&Io(Ht)===H.type)?(H=f(H,et.props),au(H,et),H.return=J,H):(H=vc(et.type,et.key,et.props,null,J.mode,ht),au(H,et),H.return=J,H)}function nt(J,H,et,ht){return H===null||H.tag!==4||H.stateNode.containerInfo!==et.containerInfo||H.stateNode.implementation!==et.implementation?(H=Cf(et,J.mode,ht),H.return=J,H):(H=f(H,et.children||[]),H.return=J,H)}function ct(J,H,et,ht,Ht){return H===null||H.tag!==7?(H=So(et,J.mode,ht,Ht),H.return=J,H):(H=f(H,et),H.return=J,H)}function mt(J,H,et){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Rf(""+H,J.mode,et),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ot:return et=vc(H.type,H.key,H.props,null,J.mode,et),au(et,H),et.return=J,et;case _t:return H=Cf(H,J.mode,et),H.return=J,H;case x:return H=Io(H),mt(J,H,et)}if(We(H)||Z(H))return H=So(H,J.mode,et,null),H.return=J,H;if(typeof H.then=="function")return mt(J,Ac(H),et);if(H.$$typeof===Nt)return mt(J,bc(J,H),et);Rc(J,H)}return null}function it(J,H,et,ht){var Ht=H!==null?H.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ht!==null?null:R(J,H,""+et,ht);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case ot:return et.key===Ht?k(J,H,et,ht):null;case _t:return et.key===Ht?nt(J,H,et,ht):null;case x:return et=Io(et),it(J,H,et,ht)}if(We(et)||Z(et))return Ht!==null?null:ct(J,H,et,ht,null);if(typeof et.then=="function")return it(J,H,Ac(et),ht);if(et.$$typeof===Nt)return it(J,H,bc(J,et),ht);Rc(J,et)}return null}function at(J,H,et,ht,Ht){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return J=J.get(et)||null,R(H,J,""+ht,Ht);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case ot:return J=J.get(ht.key===null?et:ht.key)||null,k(H,J,ht,Ht);case _t:return J=J.get(ht.key===null?et:ht.key)||null,nt(H,J,ht,Ht);case x:return ht=Io(ht),at(J,H,et,ht,Ht)}if(We(ht)||Z(ht))return J=J.get(et)||null,ct(H,J,ht,Ht,null);if(typeof ht.then=="function")return at(J,H,et,Ac(ht),Ht);if(ht.$$typeof===Nt)return at(J,H,et,bc(H,ht),Ht);Rc(H,ht)}return null}function Pt(J,H,et,ht){for(var Ht=null,De=null,Lt=H,ue=H=0,_e=null;Lt!==null&&ue<et.length;ue++){Lt.index>ue?(_e=Lt,Lt=null):_e=Lt.sibling;var Oe=it(J,Lt,et[ue],ht);if(Oe===null){Lt===null&&(Lt=_e);break}e&&Lt&&Oe.alternate===null&&n(J,Lt),H=p(Oe,H,ue),De===null?Ht=Oe:De.sibling=Oe,De=Oe,Lt=_e}if(ue===et.length)return a(J,Lt),Ae&&Ps(J,ue),Ht;if(Lt===null){for(;ue<et.length;ue++)Lt=mt(J,et[ue],ht),Lt!==null&&(H=p(Lt,H,ue),De===null?Ht=Lt:De.sibling=Lt,De=Lt);return Ae&&Ps(J,ue),Ht}for(Lt=o(Lt);ue<et.length;ue++)_e=at(Lt,J,ue,et[ue],ht),_e!==null&&(e&&_e.alternate!==null&&Lt.delete(_e.key===null?ue:_e.key),H=p(_e,H,ue),De===null?Ht=_e:De.sibling=_e,De=_e);return e&&Lt.forEach(function(Ka){return n(J,Ka)}),Ae&&Ps(J,ue),Ht}function Yt(J,H,et,ht){if(et==null)throw Error(s(151));for(var Ht=null,De=null,Lt=H,ue=H=0,_e=null,Oe=et.next();Lt!==null&&!Oe.done;ue++,Oe=et.next()){Lt.index>ue?(_e=Lt,Lt=null):_e=Lt.sibling;var Ka=it(J,Lt,Oe.value,ht);if(Ka===null){Lt===null&&(Lt=_e);break}e&&Lt&&Ka.alternate===null&&n(J,Lt),H=p(Ka,H,ue),De===null?Ht=Ka:De.sibling=Ka,De=Ka,Lt=_e}if(Oe.done)return a(J,Lt),Ae&&Ps(J,ue),Ht;if(Lt===null){for(;!Oe.done;ue++,Oe=et.next())Oe=mt(J,Oe.value,ht),Oe!==null&&(H=p(Oe,H,ue),De===null?Ht=Oe:De.sibling=Oe,De=Oe);return Ae&&Ps(J,ue),Ht}for(Lt=o(Lt);!Oe.done;ue++,Oe=et.next())Oe=at(Lt,J,ue,Oe.value,ht),Oe!==null&&(e&&Oe.alternate!==null&&Lt.delete(Oe.key===null?ue:Oe.key),H=p(Oe,H,ue),De===null?Ht=Oe:De.sibling=Oe,De=Oe);return e&&Lt.forEach(function(b1){return n(J,b1)}),Ae&&Ps(J,ue),Ht}function qe(J,H,et,ht){if(typeof et=="object"&&et!==null&&et.type===Rt&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case ot:t:{for(var Ht=et.key;H!==null;){if(H.key===Ht){if(Ht=et.type,Ht===Rt){if(H.tag===7){a(J,H.sibling),ht=f(H,et.props.children),ht.return=J,J=ht;break t}}else if(H.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===x&&Io(Ht)===H.type){a(J,H.sibling),ht=f(H,et.props),au(ht,et),ht.return=J,J=ht;break t}a(J,H);break}else n(J,H);H=H.sibling}et.type===Rt?(ht=So(et.props.children,J.mode,ht,et.key),ht.return=J,J=ht):(ht=vc(et.type,et.key,et.props,null,J.mode,ht),au(ht,et),ht.return=J,J=ht)}return E(J);case _t:t:{for(Ht=et.key;H!==null;){if(H.key===Ht)if(H.tag===4&&H.stateNode.containerInfo===et.containerInfo&&H.stateNode.implementation===et.implementation){a(J,H.sibling),ht=f(H,et.children||[]),ht.return=J,J=ht;break t}else{a(J,H);break}else n(J,H);H=H.sibling}ht=Cf(et,J.mode,ht),ht.return=J,J=ht}return E(J);case x:return et=Io(et),qe(J,H,et,ht)}if(We(et))return Pt(J,H,et,ht);if(Z(et)){if(Ht=Z(et),typeof Ht!="function")throw Error(s(150));return et=Ht.call(et),Yt(J,H,et,ht)}if(typeof et.then=="function")return qe(J,H,Ac(et),ht);if(et.$$typeof===Nt)return qe(J,H,bc(J,et),ht);Rc(J,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,H!==null&&H.tag===6?(a(J,H.sibling),ht=f(H,et),ht.return=J,J=ht):(a(J,H),ht=Rf(et,J.mode,ht),ht.return=J,J=ht),E(J)):a(J,H)}return function(J,H,et,ht){try{su=0;var Ht=qe(J,H,et,ht);return cl=null,Ht}catch(Lt){if(Lt===ul||Lt===Sc)throw Lt;var De=ii(29,Lt,null,J.mode);return De.lanes=ht,De.return=J,De}finally{}}}var Oo=lg(!0),ug=lg(!1),Ia=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(xe&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Rn(e),To(e,null,a),n}return Jt(e,o,n,a),Rn(e)}function ou(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Me(e,a)}}function Bf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=n:p=p.next=n}else f=p=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var qf=!1;function lu(){if(qf){var e=ll;if(e!==null)throw e}}function uu(e,n,a,o){qf=!1;var f=e.updateQueue;Ia=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var k=R,nt=k.next;k.next=null,E===null?p=nt:E.next=nt,E=k;var ct=e.alternate;ct!==null&&(ct=ct.updateQueue,R=ct.lastBaseUpdate,R!==E&&(R===null?ct.firstBaseUpdate=nt:R.next=nt,ct.lastBaseUpdate=k))}if(p!==null){var mt=f.baseState;E=0,ct=nt=k=null,R=p;do{var it=R.lane&-536870913,at=it!==R.lane;if(at?(ve&it)===it:(o&it)===it){it!==0&&it===ol&&(qf=!0),ct!==null&&(ct=ct.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Pt=e,Yt=R;it=n;var qe=a;switch(Yt.tag){case 1:if(Pt=Yt.payload,typeof Pt=="function"){mt=Pt.call(qe,mt,it);break t}mt=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Yt.payload,it=typeof Pt=="function"?Pt.call(qe,mt,it):Pt,it==null)break t;mt=O({},mt,it);break t;case 2:Ia=!0}}it=R.callback,it!==null&&(e.flags|=64,at&&(e.flags|=8192),at=f.callbacks,at===null?f.callbacks=[it]:at.push(it))}else at={lane:it,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ct===null?(nt=ct=at,k=mt):ct=ct.next=at,E|=it;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;at=R,R=at.next,at.next=null,f.lastBaseUpdate=at,f.shared.pending=null}}while(!0);ct===null&&(k=mt),f.baseState=k,f.firstBaseUpdate=nt,f.lastBaseUpdate=ct,p===null&&(f.shared.lanes=0),ka|=E,e.lanes=E,e.memoizedState=mt}}function cg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cg(a[e],n)}var hl=F(null),Cc=F(0);function fg(e,n){e=Qs,At(Cc,e),At(hl,n),Qs=e|n.baseLanes}function Hf(){At(Cc,Qs),At(hl,hl.current)}function Ff(){Qs=Cc.current,ft(hl),ft(Cc)}var si=F(null),Ii=null;function Na(e){var n=e.alternate;At(En,En.current&1),At(si,e),Ii===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(Ii=e)}function Kf(e){At(En,En.current),At(si,e),Ii===null&&(Ii=e)}function dg(e){e.tag===22?(At(En,En.current),At(si,e),Ii===null&&(Ii=e)):xa()}function xa(){At(En,En.current),At(si,si.current)}function ai(e){ft(si),Ii===e&&(Ii=null),ft(En)}var En=F(0);function Ic(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||Zd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zs=0,le=null,je=null,In=null,Dc=!1,fl=!1,No=!1,Oc=0,cu=0,dl=null,hT=0;function fn(){throw Error(s(321))}function Gf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ar(e[a],n[a]))return!1;return!0}function Qf(e,n,a,o,f,p){return zs=p,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ut.H=e===null||e.memoizedState===null?$g:ld,No=!1,p=a(o,f),No=!1,fl&&(p=pg(n,a,o,f)),mg(e),p}function mg(e){ut.H=du;var n=je!==null&&je.next!==null;if(zs=0,In=je=le=null,Dc=!1,cu=0,dl=null,n)throw Error(s(300));e===null||Dn||(e=e.dependencies,e!==null&&Ec(e)&&(Dn=!0))}function pg(e,n,a,o){le=e;var f=0;do{if(fl&&(dl=null),cu=0,fl=!1,25<=f)throw Error(s(301));if(f+=1,In=je=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ut.H=Jg,p=n(a,o)}while(fl);return p}function fT(){var e=ut.H,n=e.useState()[0];return n=typeof n.then=="function"?hu(n):n,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(le.flags|=1024),n}function Yf(){var e=Oc!==0;return Oc=0,e}function Xf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $f(e){if(Dc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Dc=!1}zs=0,In=je=le=null,fl=!1,cu=Oc=0,dl=null}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?le.memoizedState=In=e:In=In.next=e,In}function bn(){if(je===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=In===null?le.memoizedState:In.next;if(n!==null)In=n,je=e;else{if(e===null)throw le.alternate===null?Error(s(467)):Error(s(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},In===null?le.memoizedState=In=e:In=In.next=e}return In}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(e){var n=cu;return cu+=1,dl===null&&(dl=[]),e=sg(dl,e,n),n=le,(In===null?n.memoizedState:In.next)===null&&(n=n.alternate,ut.H=n===null||n.memoizedState===null?$g:ld),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hu(e);if(e.$$typeof===Nt)return $n(e)}throw Error(s(438,String(e)))}function Jf(e){var n=null,a=le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=le.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Nc(),le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=Q;return n.index++,a}function js(e,n){return typeof n=="function"?n(e):n}function Mc(e){var n=bn();return Zf(n,je,e)}function Zf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,p=o.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}n.baseQueue=f=p,o.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var R=E=null,k=null,nt=n,ct=!1;do{var mt=nt.lane&-536870913;if(mt!==nt.lane?(ve&mt)===mt:(zs&mt)===mt){var it=nt.revertLane;if(it===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),mt===ol&&(ct=!0);else if((zs&it)===it){nt=nt.next,it===ol&&(ct=!0);continue}else mt={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(R=k=mt,E=p):k=k.next=mt,le.lanes|=it,ka|=it;mt=nt.action,No&&a(p,mt),p=nt.hasEagerState?nt.eagerState:a(p,mt)}else it={lane:mt,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},k===null?(R=k=it,E=p):k=k.next=it,le.lanes|=mt,ka|=mt;nt=nt.next}while(nt!==null&&nt!==n);if(k===null?E=p:k.next=R,!ar(p,e.memoizedState)&&(Dn=!0,ct&&(a=ll,a!==null)))throw a;e.memoizedState=p,e.baseState=E,e.baseQueue=k,o.lastRenderedState=p}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wf(e){var n=bn(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,p=n.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=e(p,E.action),E=E.next;while(E!==f);ar(p,n.memoizedState)||(Dn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,o]}function gg(e,n,a){var o=le,f=bn(),p=Ae;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=n();var E=!ar((je||f).memoizedState,a);if(E&&(f.memoizedState=a,Dn=!0),f=f.queue,nd(_g.bind(null,o,f,e),[e]),f.getSnapshot!==n||E||In!==null&&In.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},vg.bind(null,o,f,a,n),null),He===null)throw Error(s(349));p||(zs&127)!==0||yg(o,n,a)}return a}function yg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=le.updateQueue,n===null?(n=Nc(),le.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function vg(e,n,a,o){n.value=a,n.getSnapshot=o,Eg(n)&&bg(e)}function _g(e,n,a){return a(function(){Eg(n)&&bg(e)})}function Eg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ar(e,a)}catch{return!0}}function bg(e){var n=Je(e,2);n!==null&&jr(n,e,2)}function td(e){var n=vr();if(typeof e=="function"){var a=e;if(e=a(),No){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},n}function Tg(e,n,a,o){return e.baseState=a,Zf(e,je,typeof o=="function"?o:js)}function dT(e,n,a,o,f){if(Pc(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};ut.T!==null?a(!0):p.isTransition=!1,o(p),a=n.pending,a===null?(p.next=n.pending=p,Sg(n,p)):(p.next=a.next,n.pending=a.next=p)}}function Sg(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var p=ut.T,E={};ut.T=E;try{var R=a(f,o),k=ut.S;k!==null&&k(E,R),wg(e,n,R)}catch(nt){ed(e,n,nt)}finally{p!==null&&E.types!==null&&(p.types=E.types),ut.T=p}}else try{p=a(f,o),wg(e,n,p)}catch(nt){ed(e,n,nt)}}function wg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ag(e,n,o)},function(o){return ed(e,n,o)}):Ag(e,n,a)}function Ag(e,n,a){n.status="fulfilled",n.value=a,Rg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Sg(e,a)))}function ed(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rg(n),n=n.next;while(n!==o)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cg(e,n){return n}function Ig(e,n){if(Ae){var a=He.formState;if(a!==null){t:{var o=le;if(Ae){if(Qe){e:{for(var f=Qe,p=Ci;f.nodeType!==8;){if(!p){f=null;break e}if(f=Di(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Qe=Di(f.nextSibling),o=f.data==="F!";break t}}Ra(o)}o=!1}o&&(n=a[0])}}return a=vr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},a.queue=o,a=Qg.bind(null,le,o),o.dispatch=a,o=td(!1),p=od.bind(null,le,!1,o.queue),o=vr(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=dT.bind(null,le,f,p,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function Dg(e){var n=bn();return Og(n,je,e)}function Og(e,n,a){if(n=Zf(e,n,Cg)[0],e=Mc(js)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=hu(n)}catch(E){throw E===ul?Sc:E}else o=n;n=bn();var f=n.queue,p=f.dispatch;return a!==n.memoizedState&&(le.flags|=2048,ml(9,{destroy:void 0},mT.bind(null,f,a),null)),[o,p,e]}function mT(e,n){e.action=n}function Ng(e){var n=bn(),a=je;if(a!==null)return Og(n,a,e);bn(),n=n.memoizedState,a=bn();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ml(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=le.updateQueue,n===null&&(n=Nc(),le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function xg(){return bn().memoizedState}function Vc(e,n,a,o){var f=vr();le.flags|=e,f.memoizedState=ml(1|n,{destroy:void 0},a,o===void 0?null:o)}function kc(e,n,a,o){var f=bn();o=o===void 0?null:o;var p=f.memoizedState.inst;je!==null&&o!==null&&Gf(o,je.memoizedState.deps)?f.memoizedState=ml(n,p,a,o):(le.flags|=e,f.memoizedState=ml(1|n,p,a,o))}function Mg(e,n){Vc(8390656,8,e,n)}function nd(e,n){kc(2048,8,e,n)}function pT(e){le.flags|=4;var n=le.updateQueue;if(n===null)n=Nc(),le.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vg(e){var n=bn().memoizedState;return pT({ref:n,nextImpl:e}),function(){if((xe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function kg(e,n){return kc(4,2,e,n)}function Pg(e,n){return kc(4,4,e,n)}function Ug(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,a){a=a!=null?a.concat([e]):null,kc(4,4,Ug.bind(null,n,e),a)}function rd(){}function zg(e,n){var a=bn();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Gf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jg(e,n){var a=bn();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Gf(n,o[1]))return o[0];if(o=e(),No){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o}function id(e,n,a){return a===void 0||(zs&1073741824)!==0&&(ve&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),le.lanes|=e,ka|=e,a)}function Bg(e,n,a,o){return ar(a,n)?a:hl.current!==null?(e=id(e,a,o),ar(e,n)||(Dn=!0),e):(zs&42)===0||(zs&1073741824)!==0&&(ve&261930)===0?(Dn=!0,e.memoizedState=a):(e=By(),le.lanes|=e,ka|=e,n)}function qg(e,n,a,o,f){var p=xt.p;xt.p=p!==0&&8>p?p:8;var E=ut.T,R={};ut.T=R,od(e,!1,n,a);try{var k=f(),nt=ut.S;if(nt!==null&&nt(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ct=cT(k,o);fu(e,n,ct,ui(e))}else fu(e,n,o,ui(e))}catch(mt){fu(e,n,{then:function(){},status:"rejected",reason:mt},ui())}finally{xt.p=p,E!==null&&R.types!==null&&(E.types=R.types),ut.T=E}}function gT(){}function sd(e,n,a,o){if(e.tag!==5)throw Error(s(476));var f=Hg(e).queue;qg(e,f,n,Ut,a===null?gT:function(){return Fg(e),a(o)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ut,baseState:Ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:Ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fg(e){var n=Hg(e);n.next===null&&(n=e.alternate.memoizedState),fu(e,n.next.queue,{},ui())}function ad(){return $n(Du)}function Kg(){return bn().memoizedState}function Gg(){return bn().memoizedState}function yT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ui();e=Da(a);var o=Oa(n,e,a);o!==null&&(jr(o,n,a),ou(o,n,a)),n={cache:kf()},e.payload=n;return}n=n.return}}function vT(e,n,a){var o=ui();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(e)?Yg(n,a):(a=An(e,n,a,o),a!==null&&(jr(a,e,o),Xg(a,n,o)))}function Qg(e,n,a){var o=ui();fu(e,n,a,o)}function fu(e,n,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(e))Yg(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var E=n.lastRenderedState,R=p(E,a);if(f.hasEagerState=!0,f.eagerState=R,ar(R,E))return Jt(e,n,f,0),He===null&&Hn(),!1}catch{}finally{}if(a=An(e,n,f,o),a!==null)return jr(a,e,o),Xg(a,n,o),!0}return!1}function od(e,n,a,o){if(o={lane:2,revertLane:zd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(e)){if(n)throw Error(s(479))}else n=An(e,a,o,2),n!==null&&jr(n,e,2)}function Pc(e){var n=e.alternate;return e===le||n!==null&&n===le}function Yg(e,n){fl=Dc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Me(e,a)}}var du={readContext:$n,use:xc,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};du.useEffectEvent=fn;var $g={readContext:$n,use:xc,useCallback:function(e,n){return vr().memoizedState=[e,n===void 0?null:n],e},useContext:$n,useEffect:Mg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Vc(4194308,4,Ug.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Vc(4194308,4,e,n)},useInsertionEffect:function(e,n){Vc(4,2,e,n)},useMemo:function(e,n){var a=vr();n=n===void 0?null:n;var o=e();if(No){gn(!0);try{e()}finally{gn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=vr();if(a!==void 0){var f=a(n);if(No){gn(!0);try{a(n)}finally{gn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=vT.bind(null,le,e),[o.memoizedState,e]},useRef:function(e){var n=vr();return e={current:e},n.memoizedState=e},useState:function(e){e=td(e);var n=e.queue,a=Qg.bind(null,le,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(e,n){var a=vr();return id(a,e,n)},useTransition:function(){var e=td(!1);return e=qg.bind(null,le,e.queue,!0,!1),vr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=le,f=vr();if(Ae){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),He===null)throw Error(s(349));(ve&127)!==0||yg(o,n,a)}f.memoizedState=a;var p={value:a,getSnapshot:n};return f.queue=p,Mg(_g.bind(null,o,p,e),[e]),o.flags|=2048,ml(9,{destroy:void 0},vg.bind(null,o,p,a,n),null),a},useId:function(){var e=vr(),n=He.identifierPrefix;if(Ae){var a=ls,o=os;a=(o&~(1<<32-Dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=hT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ad,useFormState:Ig,useActionState:Ig,useOptimistic:function(e){var n=vr();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=od.bind(null,le,!0,a),a.dispatch=n,[e,n]},useMemoCache:Jf,useCacheRefresh:function(){return vr().memoizedState=yT.bind(null,le)},useEffectEvent:function(e){var n=vr(),a={impl:e};return n.memoizedState=a,function(){if((xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:$n,use:xc,useCallback:zg,useContext:$n,useEffect:nd,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:Pg,useMemo:jg,useReducer:Mc,useRef:xg,useState:function(){return Mc(js)},useDebugValue:rd,useDeferredValue:function(e,n){var a=bn();return Bg(a,je.memoizedState,e,n)},useTransition:function(){var e=Mc(js)[0],n=bn().memoizedState;return[typeof e=="boolean"?e:hu(e),n]},useSyncExternalStore:gg,useId:Kg,useHostTransitionStatus:ad,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var a=bn();return Tg(a,je,e,n)},useMemoCache:Jf,useCacheRefresh:Gg};ld.useEffectEvent=Vg;var Jg={readContext:$n,use:xc,useCallback:zg,useContext:$n,useEffect:nd,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:Pg,useMemo:jg,useReducer:Wf,useRef:xg,useState:function(){return Wf(js)},useDebugValue:rd,useDeferredValue:function(e,n){var a=bn();return je===null?id(a,e,n):Bg(a,je.memoizedState,e,n)},useTransition:function(){var e=Wf(js)[0],n=bn().memoizedState;return[typeof e=="boolean"?e:hu(e),n]},useSyncExternalStore:gg,useId:Kg,useHostTransitionStatus:ad,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var a=bn();return je!==null?Tg(a,je,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Gg};Jg.useEffectEvent=Vg;function ud(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:O({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cd={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=ui(),f=Da(o);f.payload=n,a!=null&&(f.callback=a),n=Oa(e,f,o),n!==null&&(jr(n,e,o),ou(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=ui(),f=Da(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Oa(e,f,o),n!==null&&(jr(n,e,o),ou(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ui(),o=Da(a);o.tag=2,n!=null&&(o.callback=n),n=Oa(e,o,a),n!==null&&(jr(n,e,a),ou(n,e,a))}};function Zg(e,n,a,o,f,p,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,E):n.prototype&&n.prototype.isPureReactComponent?!c(a,o)||!c(f,p):!0}function Wg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&cd.enqueueReplaceState(n,n.state,null)}function xo(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=O({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function ty(e){Mt(e)}function ey(e){console.error(e)}function ny(e){Mt(e)}function Uc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hd(e,n,a){return a=Da(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(e,n)},a}function iy(e){return e=Da(e),e.tag=3,e}function sy(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;e.payload=function(){return f(p)},e.callback=function(){ry(n,a,o)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){ry(n,a,o),typeof f!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function _T(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&al(n,a,f,!0),a=si.current,a!==null){switch(a.tag){case 31:case 13:return Ii===null?Xc():a.alternate===null&&dn===0&&(dn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===wc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Pd(e,o,f)),!1;case 22:return a.flags|=65536,o===wc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Pd(e,o,f)),!1}throw Error(s(435,a.tag))}return Pd(e,o,f),Xc(),!1}if(Ae)return n=si.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Of&&(e=Error(s(422),{cause:o}),nu(wi(e,a)))):(o!==Of&&(n=Error(s(423),{cause:o}),nu(wi(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=wi(o,a),f=hd(e.stateNode,o,f),Bf(e,f),dn!==4&&(dn=2)),!1;var p=Error(s(520),{cause:o});if(p=wi(p,a),bu===null?bu=[p]:bu.push(p),dn!==4&&(dn=2),n===null)return!0;o=wi(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=hd(a.stateNode,o,e),Bf(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pa===null||!Pa.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=iy(f),sy(f,e,a,o),Bf(a,f),!1}a=a.return}while(a!==null);return!1}var fd=Error(s(461)),Dn=!1;function Jn(e,n,a,o){n.child=e===null?ug(n,null,a,o):Oo(n,e.child,a,o)}function ay(e,n,a,o,f){a=a.render;var p=n.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return Ro(n),o=Qf(e,n,a,E,p,f),R=Yf(),e!==null&&!Dn?(Xf(e,n,f),Bs(e,n,f)):(Ae&&R&&If(n),n.flags|=1,Jn(e,n,o,f),n.child)}function oy(e,n,a,o,f){if(e===null){var p=a.type;return typeof p=="function"&&!Af(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,ly(e,n,p,o,f)):(e=vc(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Ed(e,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:c,a(E,o)&&e.ref===n.ref)return Bs(e,n,f)}return n.flags|=1,e=ks(p,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,f){if(e!==null){var p=e.memoizedProps;if(c(p,o)&&e.ref===n.ref)if(Dn=!1,n.pendingProps=o=p,Ed(e,f))(e.flags&131072)!==0&&(Dn=!0);else return n.lanes=e.lanes,Bs(e,n,f)}return dd(e,n,a,o,f)}function uy(e,n,a,o){var f=o.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~p}else o=0,n.child=null;return cy(e,n,p,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tc(n,p!==null?p.cachePool:null),p!==null?fg(n,p):Hf(),dg(n);else return o=n.lanes=536870912,cy(e,n,p!==null?p.baseLanes|a:a,a,o)}else p!==null?(Tc(n,p.cachePool),fg(n,p),xa(),n.memoizedState=null):(e!==null&&Tc(n,null),Hf(),xa());return Jn(e,n,f,a),n.child}function mu(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,f){var p=Uf();return p=p===null?null:{parent:Cn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Tc(n,null),Hf(),dg(n),e!==null&&al(e,n,o,!0),n.childLanes=f,null}function Lc(e,n){return n=jc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return Oo(n,e.child,null,a),e=Lc(n,n.pendingProps),e.flags|=2,ai(n),n.memoizedState=null,e}function ET(e,n,a){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(o.mode==="hidden")return e=Lc(n,o),n.lanes=536870912,mu(null,e);if(Kf(n),(e=Qe)?(e=Sv(e,Ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wa!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=n,n.child=a,Xn=n,Qe=null)):e=null,e===null)throw Ra(n);return n.lanes=536870912,null}return Lc(n,o)}var p=e.memoizedState;if(p!==null){var E=p.dehydrated;if(Kf(n),f)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Dn||al(e,n,a,!1),f=(a&e.childLanes)!==0,Dn||f){if(o=He,o!==null&&(E=$e(o,a),E!==0&&E!==p.retryLane))throw p.retryLane=E,Je(e,E),jr(o,e,E),fd;Xc(),n=hy(e,n,a)}else e=p.treeContext,Qe=Di(E.nextSibling),Xn=n,Ae=!0,Aa=null,Ci=!1,e!==null&&Jp(n,e),n=Lc(n,o),n.flags|=4096;return n}return e=ks(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function dd(e,n,a,o,f){return Ro(n),a=Qf(e,n,a,o,void 0,f),o=Yf(),e!==null&&!Dn?(Xf(e,n,f),Bs(e,n,f)):(Ae&&o&&If(n),n.flags|=1,Jn(e,n,a,f),n.child)}function fy(e,n,a,o,f,p){return Ro(n),n.updateQueue=null,a=pg(n,o,a,f),mg(e),o=Yf(),e!==null&&!Dn?(Xf(e,n,p),Bs(e,n,p)):(Ae&&o&&If(n),n.flags|=1,Jn(e,n,a,p),n.child)}function dy(e,n,a,o,f){if(Ro(n),n.stateNode===null){var p=kr,E=a.contextType;typeof E=="object"&&E!==null&&(p=$n(E)),p=new a(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=cd,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},zf(n),E=a.contextType,p.context=typeof E=="object"&&E!==null?$n(E):kr,p.state=n.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ud(n,a,E,o),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&cd.enqueueReplaceState(p,p.state,null),uu(n,o,p,f),lu(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var R=n.memoizedProps,k=xo(a,R);p.props=k;var nt=p.context,ct=a.contextType;E=kr,typeof ct=="object"&&ct!==null&&(E=$n(ct));var mt=a.getDerivedStateFromProps;ct=typeof mt=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,ct||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||nt!==E)&&Wg(n,p,o,E),Ia=!1;var it=n.memoizedState;p.state=it,uu(n,o,p,f),lu(),nt=n.memoizedState,R||it!==nt||Ia?(typeof mt=="function"&&(ud(n,a,mt,o),nt=n.memoizedState),(k=Ia||Zg(n,a,k,o,it,nt,E))?(ct||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=nt),p.props=o,p.state=nt,p.context=E,o=k):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,jf(e,n),E=n.memoizedProps,ct=xo(a,E),p.props=ct,mt=n.pendingProps,it=p.context,nt=a.contextType,k=kr,typeof nt=="object"&&nt!==null&&(k=$n(nt)),R=a.getDerivedStateFromProps,(nt=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==mt||it!==k)&&Wg(n,p,o,k),Ia=!1,it=n.memoizedState,p.state=it,uu(n,o,p,f),lu();var at=n.memoizedState;E!==mt||it!==at||Ia||e!==null&&e.dependencies!==null&&Ec(e.dependencies)?(typeof R=="function"&&(ud(n,a,R,o),at=n.memoizedState),(ct=Ia||Zg(n,a,ct,o,it,at,k)||e!==null&&e.dependencies!==null&&Ec(e.dependencies))?(nt||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,at,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,at,k)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&it===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&it===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=at),p.props=o,p.state=at,p.context=k,o=ct):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&it===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&it===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,zc(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=Oo(n,e.child,null,f),n.child=Oo(n,null,a,f)):Jn(e,n,a,f),n.memoizedState=p.state,e=n.child):e=Bs(e,n,f),e}function my(e,n,a,o){return wo(),n.flags|=256,Jn(e,n,a,o),n.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(e){return{baseLanes:e,cachePool:rg()}}function gd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=li),e}function py(e,n,a){var o=n.pendingProps,f=!1,p=(n.flags&128)!==0,E;if((E=p)||(E=e!==null&&e.memoizedState===null?!1:(En.current&2)!==0),E&&(f=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(f?Na(n):xa(),(e=Qe)?(e=Sv(e,Ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wa!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=n,n.child=a,Xn=n,Qe=null)):e=null,e===null)throw Ra(n);return Zd(e)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,f?(xa(),f=n.mode,R=jc({mode:"hidden",children:R},f),o=So(o,f,a,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=pd(a),o.childLanes=gd(e,E,a),n.memoizedState=md,mu(null,o)):(Na(n),yd(n,R))}var k=e.memoizedState;if(k!==null&&(R=k.dehydrated,R!==null)){if(p)n.flags&256?(Na(n),n.flags&=-257,n=vd(e,n,a)):n.memoizedState!==null?(xa(),n.child=e.child,n.flags|=128,n=null):(xa(),R=o.fallback,f=n.mode,o=jc({mode:"visible",children:o.children},f),R=So(R,f,a,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,Oo(n,e.child,null,a),o=n.child,o.memoizedState=pd(a),o.childLanes=gd(e,E,a),n.memoizedState=md,n=mu(null,o));else if(Na(n),Zd(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var nt=E.dgst;E=nt,o=Error(s(419)),o.stack="",o.digest=E,nu({value:o,source:null,stack:null}),n=vd(e,n,a)}else if(Dn||al(e,n,a,!1),E=(a&e.childLanes)!==0,Dn||E){if(E=He,E!==null&&(o=$e(E,a),o!==0&&o!==k.retryLane))throw k.retryLane=o,Je(e,o),jr(E,e,o),fd;Jd(R)||Xc(),n=vd(e,n,a)}else Jd(R)?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,Qe=Di(R.nextSibling),Xn=n,Ae=!0,Aa=null,Ci=!1,e!==null&&Jp(n,e),n=yd(n,o.children),n.flags|=4096);return n}return f?(xa(),R=o.fallback,f=n.mode,k=e.child,nt=k.sibling,o=ks(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,nt!==null?R=ks(nt,R):(R=So(R,f,a,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,mu(null,o),o=n.child,R=e.child.memoizedState,R===null?R=pd(a):(f=R.cachePool,f!==null?(k=Cn._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=rg(),R={baseLanes:R.baseLanes|a,cachePool:f}),o.memoizedState=R,o.childLanes=gd(e,E,a),n.memoizedState=md,mu(e.child,o)):(Na(n),a=e.child,e=a.sibling,a=ks(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=a,n.memoizedState=null,a)}function yd(e,n){return n=jc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function jc(e,n){return e=ii(22,e,null,n),e.lanes=0,e}function vd(e,n,a){return Oo(n,e.child,null,a),e=yd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Mf(e.return,n,a)}function _d(e,n,a,o,f,p){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:p}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=o,E.tail=a,E.tailMode=f,E.treeForkCount=p)}function yy(e,n,a){var o=n.pendingProps,f=o.revealOrder,p=o.tail;o=o.children;var E=En.current,R=(E&2)!==0;if(R?(E=E&1|2,n.flags|=128):E&=1,At(En,E),Jn(e,n,o,a),o=Ae?eu:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,n);else if(e.tag===19)gy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Ic(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),_d(n,!1,f,a,p,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Ic(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}_d(n,!0,a,null,p,o);break;case"together":_d(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ka|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(al(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ks(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ks(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ec(e)))}function bT(e,n,a){switch(n.tag){case 3:mn(n,n.stateNode.containerInfo),Ca(n,Cn,e.memoizedState.cache),wo();break;case 27:case 5:$i(n);break;case 4:mn(n,n.stateNode.containerInfo);break;case 10:Ca(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Na(n),n.flags|=128,null):(a&n.child.childLanes)!==0?py(e,n,a):(Na(n),e=Bs(e,n,a),e!==null?e.sibling:null);Na(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(al(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return yy(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),At(En,En.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:Ca(n,Cn,e.memoizedState.cache)}return Bs(e,n,a)}function vy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Dn=!0;else{if(!Ed(e,a)&&(n.flags&128)===0)return Dn=!1,bT(e,n,a);Dn=(e.flags&131072)!==0}else Dn=!1,Ae&&(n.flags&1048576)!==0&&$p(n,eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Io(n.elementType),n.type=e,typeof e=="function")Af(e)?(o=xo(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=dd(null,n,e,o,a));else{if(e!=null){var f=e.$$typeof;if(f===zt){n.tag=11,n=ay(null,n,e,o,a);break t}else if(f===V){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=Fe(e)||e,Error(s(306,n,""))}}return n;case 0:return dd(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=xo(o,n.pendingProps),dy(e,n,o,f,a);case 3:t:{if(mn(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var p=n.memoizedState;f=p.element,jf(e,n),uu(n,o,null,a);var E=n.memoizedState;if(o=E.cache,Ca(n,Cn,o),o!==p.cache&&Vf(n,[Cn],a,!0),lu(),o=E.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=my(e,n,o,a);break t}else if(o!==f){f=wi(Error(s(424)),n),nu(f),n=my(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Di(e.firstChild),Xn=n,Ae=!0,Aa=null,Ci=!0,a=ug(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),o===f){n=Bs(e,n,a);break t}Jn(e,n,o,a)}n=n.child}return n;case 26:return zc(e,n),e===null?(a=Dv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ae||(a=n.type,e=n.pendingProps,o=nh($t.current).createElement(a),o[ke]=n,o[Ke]=e,Zn(o,a,e),nn(o),n.stateNode=o):n.memoizedState=Dv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $i(n),e===null&&Ae&&(o=n.stateNode=Rv(n.type,n.pendingProps,$t.current),Xn=n,Ci=!0,f=Qe,ja(n.type)?(Wd=f,Qe=Di(o.firstChild)):Qe=f),Jn(e,n,n.pendingProps.children,a),zc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((f=o=Qe)&&(o=JT(o,n.type,n.pendingProps,Ci),o!==null?(n.stateNode=o,Xn=n,Qe=Di(o.firstChild),Ci=!1,f=!0):f=!1),f||Ra(n)),$i(n),f=n.type,p=n.pendingProps,E=e!==null?e.memoizedProps:null,o=p.children,Yd(f,p)?o=null:E!==null&&Yd(f,E)&&(n.flags|=32),n.memoizedState!==null&&(f=Qf(e,n,fT,null,null,a),Du._currentValue=f),zc(e,n),Jn(e,n,o,a),n.child;case 6:return e===null&&Ae&&((e=a=Qe)&&(a=ZT(a,n.pendingProps,Ci),a!==null?(n.stateNode=a,Xn=n,Qe=null,e=!0):e=!1),e||Ra(n)),null;case 13:return py(e,n,a);case 4:return mn(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Oo(n,null,o,a):Jn(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return Jn(e,n,n.pendingProps,a),n.child;case 8:return Jn(e,n,n.pendingProps.children,a),n.child;case 12:return Jn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ca(n,n.type,o.value),Jn(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Ro(n),f=$n(f),o=o(f),n.flags|=1,Jn(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return ET(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return Ro(n),o=$n(Cn),e===null?(f=Uf(),f===null&&(f=He,p=kf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),n.memoizedState={parent:o,cache:f},zf(n),Ca(n,Cn,f)):((e.lanes&a)!==0&&(jf(e,n),uu(n,null,null,a),lu()),f=e.memoizedState,p=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ca(n,Cn,o)):(o=p.cache,Ca(n,Cn,o),o!==f.cache&&Vf(n,[Cn],a,!0))),Jn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qs(e){e.flags|=4}function bd(e,n,a,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Ky())e.flags|=8192;else throw Do=wc,Lf}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vv(n))if(Ky())e.flags|=8192;else throw Do=wc,Lf}function Bc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,vl|=n)}function pu(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function TT(e,n,a){var o=n.pendingProps;switch(Df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ls(Cn),Ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sl(n)?qs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nf())),Ye(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(qs(n),p!==null?(Ye(n),_y(n,p)):(Ye(n),bd(n,f,null,o,a))):p?p!==e.memoizedState?(qs(n),Ye(n),_y(n,p)):(Ye(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qs(n),Ye(n),bd(n,f,e,o,a)),null;case 27:if(Vi(n),a=$t.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qs(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}e=Vt.current,sl(n)?Zp(n):(e=Rv(f,o,a),n.stateNode=e,qs(n))}return Ye(n),null;case 5:if(Vi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qs(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}if(p=Vt.current,sl(n))Zp(n);else{var E=nh($t.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?E.createElement("select",{is:o.is}):E.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?E.createElement(f,{is:o.is}):E.createElement(f)}}p[ke]=n,p[Ke]=o;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=p;t:switch(Zn(p,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qs(n)}}return Ye(n),bd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=$t.current,sl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=Xn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[ke]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||pv(e.nodeValue,a)),e||Ra(n,!0)}else e=nh(e).createTextNode(o),e[ke]=n,n.stateNode=e}return Ye(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=sl(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ke]=n}else wo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),e=!1}else a=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(ai(n),n):(ai(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ye(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=sl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ke]=n}else wo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else f=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ai(n),n):(ai(n),null)}return ai(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Bc(n,n.updateQueue),Ye(n),null);case 4:return Ot(),e===null&&Hd(n.stateNode.containerInfo),Ye(n),null;case 10:return Ls(n.type),Ye(n),null;case 19:if(ft(En),o=n.memoizedState,o===null)return Ye(n),null;if(f=(n.flags&128)!==0,p=o.rendering,p===null)if(f)pu(o,!1);else{if(dn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Ic(e),p!==null){for(n.flags|=128,pu(o,!1),e=p.updateQueue,n.updateQueue=e,Bc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Qp(a,e),a=a.sibling;return At(En,En.current&1|2),Ae&&Ps(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&zn()>Gc&&(n.flags|=128,f=!0,pu(o,!1),n.lanes=4194304)}else{if(!f)if(e=Ic(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Bc(n,e),pu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!Ae)return Ye(n),null}else 2*zn()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,f=!0,pu(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(e=o.last,e!==null?e.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zn(),e.sibling=null,a=En.current,At(En,f?a&1|2:a&1),Ae&&Ps(n,o.treeForkCount),e):(Ye(n),null);case 22:case 23:return ai(n),Ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),a=n.updateQueue,a!==null&&Bc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&ft(Co),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ls(Cn),Ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ST(e,n){switch(Df(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ls(Cn),Ot(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Vi(n),null;case 31:if(n.memoizedState!==null){if(ai(n),n.alternate===null)throw Error(s(340));wo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ai(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));wo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ft(En),null;case 4:return Ot(),null;case 10:return Ls(n.type),null;case 22:case 23:return ai(n),Ff(),e!==null&&ft(Co),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ls(Cn),null;case 25:return null;default:return null}}function Ey(e,n){switch(Df(n),n.tag){case 3:Ls(Cn),Ot();break;case 26:case 27:case 5:Vi(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&ai(n);break;case 13:ai(n);break;case 19:ft(En);break;case 10:Ls(n.type);break;case 22:case 23:ai(n),Ff(),e!==null&&ft(Co);break;case 24:Ls(Cn)}}function gu(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var p=a.create,E=a.inst;o=p(),E.destroy=o}a=a.next}while(a!==f)}}catch(R){ze(n,n.return,R)}}function Ma(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&e)===e){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=n;var k=a,nt=R;try{nt()}catch(ct){ze(f,k,ct)}}}o=o.next}while(o!==p)}}catch(ct){ze(n,n.return,ct)}}function by(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hg(n,a)}catch(o){ze(e,e.return,o)}}}function Ty(e,n,a){a.props=xo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ze(e,n,o)}}function yu(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){ze(e,n,f)}}function us(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ze(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ze(e,n,f)}else a.current=null}function Sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ze(e,e.return,f)}}function Td(e,n,a){try{var o=e.stateNode;KT(o,e.type,a,n),o[Ke]=n}catch(f){ze(e,e.return,f)}}function wy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function Sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=sr));else if(o!==4&&(o===27&&ja(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(wd(e,n,a),e=e.sibling;e!==null;)wd(e,n,a),e=e.sibling}function qc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ja(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qc(e,n,a),e=e.sibling;e!==null;)qc(e,n,a),e=e.sibling}function Ay(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Zn(n,o,a),n[ke]=e,n[Ke]=a}catch(p){ze(e,e.return,p)}}var Hs=!1,On=!1,Ad=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function wT(e,n){if(e=e.containerInfo,Gd=uh,e=w(e),A(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,R=-1,k=-1,nt=0,ct=0,mt=e,it=null;e:for(;;){for(var at;mt!==a||f!==0&&mt.nodeType!==3||(R=E+f),mt!==p||o!==0&&mt.nodeType!==3||(k=E+o),mt.nodeType===3&&(E+=mt.nodeValue.length),(at=mt.firstChild)!==null;)it=mt,mt=at;for(;;){if(mt===e)break e;if(it===a&&++nt===f&&(R=E),it===p&&++ct===o&&(k=E),(at=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=at}a=R===-1||k===-1?null:{start:R,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},uh=!1,Fn=n;Fn!==null;)if(n=Fn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fn=e;else for(;Fn!==null;){switch(n=Fn,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,f=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var Pt=xo(a.type,f);e=o.getSnapshotBeforeUpdate(Pt,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(Yt){ze(a,a.return,Yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Fn=e;break}Fn=n.return}}function Cy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ks(e,a),o&4&&gu(5,a);break;case 1:if(Ks(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(E){ze(a,a.return,E)}else{var f=xo(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ze(a,a.return,E)}}o&64&&by(a),o&512&&yu(a,a.return);break;case 3:if(Ks(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hg(e,n)}catch(E){ze(a,a.return,E)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Ks(e,a),n===null&&o&4&&Sy(a),o&512&&yu(a,a.return);break;case 12:Ks(e,a);break;case 31:Ks(e,a),o&4&&Oy(e,a);break;case 13:Ks(e,a),o&4&&Ny(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=MT.bind(null,a),WT(e,a))));break;case 22:if(o=a.memoizedState!==null||Hs,!o){n=n!==null&&n.memoizedState!==null||On,f=Hs;var p=On;Hs=o,(On=n)&&!p?Gs(e,a,(a.subtreeFlags&8772)!==0):Ks(e,a),Hs=f,On=p}break;case 30:break;default:Ks(e,a)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Cs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Pr=!1;function Fs(e,n,a){for(a=a.child;a!==null;)Dy(e,n,a),a=a.sibling}function Dy(e,n,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(nr,a)}catch{}switch(a.tag){case 26:On||us(a,n),Fs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:On||us(a,n);var o=Ze,f=Pr;ja(a.type)&&(Ze=a.stateNode,Pr=!1),Fs(e,n,a),Ru(a.stateNode),Ze=o,Pr=f;break;case 5:On||us(a,n);case 6:if(o=Ze,f=Pr,Ze=null,Fs(e,n,a),Ze=o,Pr=f,Ze!==null)if(Pr)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(p){ze(a,n,p)}else try{Ze.removeChild(a.stateNode)}catch(p){ze(a,n,p)}break;case 18:Ze!==null&&(Pr?(e=Ze,bv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):bv(Ze,a.stateNode));break;case 4:o=Ze,f=Pr,Ze=a.stateNode.containerInfo,Pr=!0,Fs(e,n,a),Ze=o,Pr=f;break;case 0:case 11:case 14:case 15:Ma(2,a,n),On||Ma(4,a,n),Fs(e,n,a);break;case 1:On||(us(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),Fs(e,n,a);break;case 21:Fs(e,n,a);break;case 22:On=(o=On)||a.memoizedState!==null,Fs(e,n,a),On=o;break;default:Fs(e,n,a)}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rl(e)}catch(a){ze(n,n.return,a)}}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){ze(n,n.return,a)}}function AT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(s(435,e.tag))}}function Hc(e,n){var a=AT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var f=VT.bind(null,e,o);o.then(f,f)}})}function Ur(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],p=e,E=n,R=E;t:for(;R!==null;){switch(R.tag){case 27:if(ja(R.type)){Ze=R.stateNode,Pr=!1;break t}break;case 5:Ze=R.stateNode,Pr=!1;break t;case 3:case 4:Ze=R.stateNode.containerInfo,Pr=!0;break t}R=R.return}if(Ze===null)throw Error(s(160));Dy(p,E,f),Ze=null,Pr=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var Fi=null;function xy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ur(n,e),Lr(e),o&4&&(Ma(3,e,e.return),gu(3,e),Ma(5,e,e.return));break;case 1:Ur(n,e),Lr(e),o&512&&(On||a===null||us(a,a.return)),o&64&&Hs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Fi;if(Ur(n,e),Lr(e),o&512&&(On||a===null||us(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":p=f.getElementsByTagName("title")[0],(!p||p[jn]||p[ke]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(o),f.head.insertBefore(p,f.querySelector("head > title"))),Zn(p,o,a),p[ke]=e,nn(p),o=p;break t;case"link":var E=xv("link","href",f).get(o+(a.href||""));if(E){for(var R=0;R<E.length;R++)if(p=E[R],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(R,1);break e}}p=f.createElement(o),Zn(p,o,a),f.head.appendChild(p);break;case"meta":if(E=xv("meta","content",f).get(o+(a.content||""))){for(R=0;R<E.length;R++)if(p=E[R],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(R,1);break e}}p=f.createElement(o),Zn(p,o,a),f.head.appendChild(p);break;default:throw Error(s(468,o))}p[ke]=e,nn(p),o=p}e.stateNode=o}else Mv(f,e.type,e.stateNode);else e.stateNode=Nv(f,o,e.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?Mv(f,e.type,e.stateNode):Nv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Td(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ur(n,e),Lr(e),o&512&&(On||a===null||us(a,a.return)),a!==null&&o&4&&Td(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ur(n,e),Lr(e),o&512&&(On||a===null||us(a,a.return)),e.flags&32){f=e.stateNode;try{Yn(f,"")}catch(Pt){ze(e,e.return,Pt)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Td(e,f,a!==null?a.memoizedProps:f)),o&1024&&(Ad=!0);break;case 6:if(Ur(n,e),Lr(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Pt){ze(e,e.return,Pt)}}break;case 3:if(sh=null,f=Fi,Fi=rh(n.containerInfo),Ur(n,e),Fi=f,Lr(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(Pt){ze(e,e.return,Pt)}Ad&&(Ad=!1,My(e));break;case 4:o=Fi,Fi=rh(e.stateNode.containerInfo),Ur(n,e),Lr(e),Fi=o;break;case 12:Ur(n,e),Lr(e);break;case 31:Ur(n,e),Lr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hc(e,o)));break;case 13:Ur(n,e),Lr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kc=zn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hc(e,o)));break;case 22:f=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,nt=Hs,ct=On;if(Hs=nt||f,On=ct||k,Ur(n,e),On=ct,Hs=nt,Lr(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||k||Hs||On||Mo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){k=a=n;try{if(p=k.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=k.stateNode;var mt=k.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;R.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Pt){ze(k,k.return,Pt)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Pt){ze(k,k.return,Pt)}}}else if(n.tag===18){if(a===null){k=n;try{var at=k.stateNode;f?Tv(at,!0):Tv(k.stateNode,!1)}catch(Pt){ze(k,k.return,Pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Hc(e,a))));break;case 19:Ur(n,e),Lr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hc(e,o)));break;case 30:break;case 21:break;default:Ur(n,e),Lr(e)}}function Lr(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(wy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=Sd(e);qc(e,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Yn(E,""),a.flags&=-33);var R=Sd(e);qc(e,R,E);break;case 3:case 4:var k=a.stateNode.containerInfo,nt=Sd(e);wd(e,nt,k);break;default:throw Error(s(161))}}catch(ct){ze(e,e.return,ct)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ks(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function Mo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ma(4,n,n.return),Mo(n);break;case 1:us(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Mo(n);break;case 27:Ru(n.stateNode);case 26:case 5:us(n,n.return),Mo(n);break;case 22:n.memoizedState===null&&Mo(n);break;case 30:Mo(n);break;default:Mo(n)}e=e.sibling}}function Gs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,p=n,E=p.flags;switch(p.tag){case 0:case 11:case 15:Gs(f,p,a),gu(4,p);break;case 1:if(Gs(f,p,a),o=p,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(nt){ze(o,o.return,nt)}if(o=p,f=o.updateQueue,f!==null){var R=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)cg(k[f],R)}catch(nt){ze(o,o.return,nt)}}a&&E&64&&by(p),yu(p,p.return);break;case 27:Ay(p);case 26:case 5:Gs(f,p,a),a&&o===null&&E&4&&Sy(p),yu(p,p.return);break;case 12:Gs(f,p,a);break;case 31:Gs(f,p,a),a&&E&4&&Oy(f,p);break;case 13:Gs(f,p,a),a&&E&4&&Ny(f,p);break;case 22:p.memoizedState===null&&Gs(f,p,a),yu(p,p.return);break;case 30:break;default:Gs(f,p,a)}n=n.sibling}}function Rd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ru(a))}function Cd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ru(e))}function Ki(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(e,n,a,o),f&2048&&gu(9,n);break;case 1:Ki(e,n,a,o);break;case 3:Ki(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ru(e)));break;case 12:if(f&2048){Ki(e,n,a,o),e=n.stateNode;try{var p=n.memoizedProps,E=p.id,R=p.onPostCommit;typeof R=="function"&&R(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){ze(n,n.return,k)}}else Ki(e,n,a,o);break;case 31:Ki(e,n,a,o);break;case 13:Ki(e,n,a,o);break;case 23:break;case 22:p=n.stateNode,E=n.alternate,n.memoizedState!==null?p._visibility&2?Ki(e,n,a,o):vu(e,n):p._visibility&2?Ki(e,n,a,o):(p._visibility|=2,pl(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Rd(E,n);break;case 24:Ki(e,n,a,o),f&2048&&Cd(n.alternate,n);break;default:Ki(e,n,a,o)}}function pl(e,n,a,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,E=n,R=a,k=o,nt=E.flags;switch(E.tag){case 0:case 11:case 15:pl(p,E,R,k,f),gu(8,E);break;case 23:break;case 22:var ct=E.stateNode;E.memoizedState!==null?ct._visibility&2?pl(p,E,R,k,f):vu(p,E):(ct._visibility|=2,pl(p,E,R,k,f)),f&&nt&2048&&Rd(E.alternate,E);break;case 24:pl(p,E,R,k,f),f&&nt&2048&&Cd(E.alternate,E);break;default:pl(p,E,R,k,f)}n=n.sibling}}function vu(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:vu(a,o),f&2048&&Rd(o.alternate,o);break;case 24:vu(a,o),f&2048&&Cd(o.alternate,o);break;default:vu(a,o)}n=n.sibling}}var _u=8192;function gl(e,n,a){if(e.subtreeFlags&_u)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:gl(e,n,a),e.flags&_u&&e.memoizedState!==null&&h1(a,Fi,e.memoizedState,e.memoizedProps);break;case 5:gl(e,n,a);break;case 3:case 4:var o=Fi;Fi=rh(e.stateNode.containerInfo),gl(e,n,a),Fi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=_u,_u=16777216,gl(e,n,a),_u=o):gl(e,n,a));break;default:gl(e,n,a)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Eu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fn=o,Ly(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:Eu(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:Eu(e);break;case 12:Eu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fc(e)):Eu(e);break;default:Eu(e)}}function Fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fn=o,Ly(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ma(8,n,n.return),Fc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(n));break;default:Fc(n)}e=e.sibling}}function Ly(e,n){for(;Fn!==null;){var a=Fn;switch(a.tag){case 0:case 11:case 15:Ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ru(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Fn=o;else t:for(a=e;Fn!==null;){o=Fn;var f=o.sibling,p=o.return;if(Iy(o),o===a){Fn=null;break t}if(f!==null){f.return=p,Fn=f;break t}Fn=p}}}var RT={getCacheForType:function(e){var n=$n(Cn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return $n(Cn).controller.signal}},CT=typeof WeakMap=="function"?WeakMap:Map,xe=0,He=null,ge=null,ve=0,Le=0,oi=null,Va=!1,yl=!1,Id=!1,Qs=0,dn=0,ka=0,Vo=0,Dd=0,li=0,vl=0,bu=null,zr=null,Od=!1,Kc=0,zy=0,Gc=1/0,Qc=null,Pa=null,kn=0,Ua=null,_l=null,Ys=0,Nd=0,xd=null,jy=null,Tu=0,Md=null;function ui(){return(xe&2)!==0&&ve!==0?ve&-ve:ut.T!==null?zd():Rs()}function By(){if(li===0)if((ve&536870912)===0||Ae){var e=ki;ki<<=1,(ki&3932160)===0&&(ki=262144),li=e}else li=536870912;return e=si.current,e!==null&&(e.flags|=32),li}function jr(e,n,a){(e===He&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(El(e,0),La(e,ve,li,!1)),Tr(e,a),((xe&2)===0||e!==He)&&(e===He&&((xe&2)===0&&(Vo|=a),dn===4&&La(e,ve,li,!1)),cs(e))}function qy(e,n,a){if((xe&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||dr(e,n),f=o?OT(e,n):kd(e,n,!0),p=o;do{if(f===0){yl&&!o&&La(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!IT(a)){f=kd(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var R=e;f=bu;var k=R.current.memoizedState.isDehydrated;if(k&&(El(R,E).flags|=256),E=kd(R,E,!1),E!==2){if(Id&&!k){R.errorRecoveryDisabledLanes|=p,Vo|=p,f=4;break t}p=zr,zr=f,p!==null&&(zr===null?zr=p:zr.push.apply(zr,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){El(e,0),La(e,n,0,!0);break}t:{switch(o=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:La(o,n,li,!Va);break t;case 2:zr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Kc+300-zn(),10<f)){if(La(o,n,li,!Va),Gr(o,0,!0)!==0)break t;Ys=n,o.timeoutHandle=_v(Hy.bind(null,o,a,zr,Qc,Od,n,li,Vo,vl,Va,p,"Throttled",-0,0),f);break t}Hy(o,a,zr,Qc,Od,n,li,Vo,vl,Va,p,null,-0,0)}}break}while(!0);cs(e)}function Hy(e,n,a,o,f,p,E,R,k,nt,ct,mt,it,at){if(e.timeoutHandle=-1,mt=n.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},ky(n,p,mt);var Pt=(p&62914560)===p?Kc-zn():(p&4194048)===p?zy-zn():0;if(Pt=f1(mt,Pt),Pt!==null){Ys=p,e.cancelPendingCommit=Pt(Jy.bind(null,e,n,p,a,o,f,E,R,k,ct,mt,null,it,at)),La(e,p,E,!nt);return}}Jy(e,n,p,a,o,f,E,R,k)}function IT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],p=f.getSnapshot;f=f.value;try{if(!ar(p(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(e,n,a,o){n&=~Dd,n&=~Vo,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var p=31-Dt(f),E=1<<p;o[p]=-1,f&=~E}a!==0&&mi(e,a,n)}function Yc(){return(xe&6)===0?(Su(0),!1):!0}function Vd(){if(ge!==null){if(Le===0)var e=ge.return;else e=ge,Us=Ao=null,$f(e),cl=null,su=0,e=ge;for(;e!==null;)Ey(e.alternate,e),e=e.return;ge=null}}function El(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,YT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ys=0,Vd(),He=e,ge=a=ks(e.current,null),ve=n,Le=0,oi=null,Va=!1,yl=dr(e,n),Id=!1,vl=li=Dd=Vo=ka=dn=0,zr=bu=null,Od=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Dt(o),p=1<<f;n|=e[f],o&=~p}return Qs=n,Hn(),a}function Fy(e,n){le=null,ut.H=du,n===ul||n===Sc?(n=ag(),Le=3):n===Lf?(n=ag(),Le=4):Le=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,oi=n,ge===null&&(dn=1,Uc(e,wi(n,e.current)))}function Ky(){var e=si.current;return e===null?!0:(ve&4194048)===ve?Ii===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Ii:!1}function Gy(){var e=ut.H;return ut.H=du,e===null?du:e}function Qy(){var e=ut.A;return ut.A=RT,e}function Xc(){dn=4,Va||(ve&4194048)!==ve&&si.current!==null||(yl=!0),(ka&134217727)===0&&(Vo&134217727)===0||He===null||La(He,ve,li,!1)}function kd(e,n,a){var o=xe;xe|=2;var f=Gy(),p=Qy();(He!==e||ve!==n)&&(Qc=null,El(e,n)),n=!1;var E=dn;t:do try{if(Le!==0&&ge!==null){var R=ge,k=oi;switch(Le){case 8:Vd(),E=6;break t;case 3:case 2:case 9:case 6:si.current===null&&(n=!0);var nt=Le;if(Le=0,oi=null,bl(e,R,k,nt),a&&yl){E=0;break t}break;default:nt=Le,Le=0,oi=null,bl(e,R,k,nt)}}DT(),E=dn;break}catch(ct){Fy(e,ct)}while(!0);return n&&e.shellSuspendCounter++,Us=Ao=null,xe=o,ut.H=f,ut.A=p,ge===null&&(He=null,ve=0,Hn()),E}function DT(){for(;ge!==null;)Yy(ge)}function OT(e,n){var a=xe;xe|=2;var o=Gy(),f=Qy();He!==e||ve!==n?(Qc=null,Gc=zn()+500,El(e,n)):yl=dr(e,n);t:do try{if(Le!==0&&ge!==null){n=ge;var p=oi;e:switch(Le){case 1:Le=0,oi=null,bl(e,n,p,1);break;case 2:case 9:if(ig(p)){Le=0,oi=null,Xy(n);break}n=function(){Le!==2&&Le!==9||He!==e||(Le=7),cs(e)},p.then(n,n);break t;case 3:Le=7;break t;case 4:Le=5;break t;case 7:ig(p)?(Le=0,oi=null,Xy(n)):(Le=0,oi=null,bl(e,n,p,7));break;case 5:var E=null;switch(ge.tag){case 26:E=ge.memoizedState;case 5:case 27:var R=ge;if(E?Vv(E):R.stateNode.complete){Le=0,oi=null;var k=R.sibling;if(k!==null)ge=k;else{var nt=R.return;nt!==null?(ge=nt,$c(nt)):ge=null}break e}}Le=0,oi=null,bl(e,n,p,5);break;case 6:Le=0,oi=null,bl(e,n,p,6);break;case 8:Vd(),dn=6;break t;default:throw Error(s(462))}}NT();break}catch(ct){Fy(e,ct)}while(!0);return Us=Ao=null,ut.H=o,ut.A=f,xe=a,ge!==null?0:(He=null,ve=0,Hn(),dn)}function NT(){for(;ge!==null&&!$o();)Yy(ge)}function Yy(e){var n=vy(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,n===null?$c(e):ge=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:$f(n);default:Ey(a,n),n=ge=Qp(n,Qs),n=vy(a,n,Qs)}e.memoizedProps=e.pendingProps,n===null?$c(e):ge=n}function bl(e,n,a,o){Us=Ao=null,$f(n),cl=null,su=0;var f=n.return;try{if(_T(e,f,n,a,ve)){dn=1,Uc(e,wi(a,e.current)),ge=null;return}}catch(p){if(f!==null)throw ge=f,p;dn=1,Uc(e,wi(a,e.current)),ge=null;return}n.flags&32768?(Ae||o===1?e=!0:yl||(ve&536870912)!==0?e=!1:(Va=e=!0,(o===2||o===9||o===3||o===6)&&(o=si.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):$c(n)}function $c(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Va);return}e=n.return;var a=TT(n.alternate,n,Qs);if(a!==null){ge=a;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=e}while(n!==null);dn===0&&(dn=5)}function $y(e,n){do{var a=ST(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);dn=6,ge=null}function Jy(e,n,a,o,f,p,E,R,k){e.cancelPendingCommit=null;do Jc();while(kn!==0);if((xe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=oe,fo(e,a,p,E,R,k),e===He&&(ge=He=null,ve=0),_l=n,Ua=e,Ys=a,Nd=p,xd=f,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kT(fi,function(){return nv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=ut.T,ut.T=null,f=xt.p,xt.p=2,E=xe,xe|=4;try{wT(e,n,a)}finally{xe=E,xt.p=f,ut.T=o}}kn=1,Zy(),Wy(),tv()}}function Zy(){if(kn===1){kn=0;var e=Ua,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=ut.T,ut.T=null;var o=xt.p;xt.p=2;var f=xe;xe|=4;try{xy(n,e);var p=Qd,E=w(e.containerInfo),R=p.focusedElem,k=p.selectionRange;if(E!==R&&R&&R.ownerDocument&&_(R.ownerDocument.documentElement,R)){if(k!==null&&A(R)){var nt=k.start,ct=k.end;if(ct===void 0&&(ct=nt),"selectionStart"in R)R.selectionStart=nt,R.selectionEnd=Math.min(ct,R.value.length);else{var mt=R.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Pt=R.textContent.length,Yt=Math.min(k.start,Pt),qe=k.end===void 0?Yt:Math.min(k.end,Pt);!at.extend&&Yt>qe&&(E=qe,qe=Yt,Yt=E);var J=g(R,Yt),H=g(R,qe);if(J&&H&&(at.rangeCount!==1||at.anchorNode!==J.node||at.anchorOffset!==J.offset||at.focusNode!==H.node||at.focusOffset!==H.offset)){var et=mt.createRange();et.setStart(J.node,J.offset),at.removeAllRanges(),Yt>qe?(at.addRange(et),at.extend(H.node,H.offset)):(et.setEnd(H.node,H.offset),at.addRange(et))}}}}for(mt=[],at=R;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<mt.length;R++){var ht=mt[R];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}uh=!!Gd,Qd=Gd=null}finally{xe=f,xt.p=o,ut.T=a}}e.current=n,kn=2}}function Wy(){if(kn===2){kn=0;var e=Ua,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=ut.T,ut.T=null;var o=xt.p;xt.p=2;var f=xe;xe|=4;try{Cy(e,n.alternate,n)}finally{xe=f,xt.p=o,ut.T=a}}kn=3}}function tv(){if(kn===4||kn===3){kn=0,Ji();var e=Ua,n=_l,a=Ys,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kn=5:(kn=0,_l=Ua=null,ev(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Pa=null),Sr(a),n=n.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(nr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=ut.T,f=xt.p,xt.p=2,ut.T=null;try{for(var p=e.onRecoverableError,E=0;E<o.length;E++){var R=o[E];p(R.value,{componentStack:R.stack})}}finally{ut.T=n,xt.p=f}}(Ys&3)!==0&&Jc(),cs(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Md?Tu++:(Tu=0,Md=e):Tu=0,Su(0)}}function ev(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ru(n)))}function Jc(){return Zy(),Wy(),tv(),nv()}function nv(){if(kn!==5)return!1;var e=Ua,n=Nd;Nd=0;var a=Sr(Ys),o=ut.T,f=xt.p;try{xt.p=32>a?32:a,ut.T=null,a=xd,xd=null;var p=Ua,E=Ys;if(kn=0,_l=Ua=null,Ys=0,(xe&6)!==0)throw Error(s(331));var R=xe;if(xe|=4,Uy(p.current),Vy(p,p.current,E,a),xe=R,Su(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(nr,p)}catch{}return!0}finally{xt.p=f,ut.T=o,ev(e,n)}}function rv(e,n,a){n=wi(a,n),n=hd(e.stateNode,n,2),e=Oa(e,n,2),e!==null&&(Tr(e,2),cs(e))}function ze(e,n,a){if(e.tag===3)rv(e,e,a);else for(;n!==null;){if(n.tag===3){rv(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pa===null||!Pa.has(o))){e=wi(a,e),a=iy(2),o=Oa(n,a,2),o!==null&&(sy(a,o,n,e),Tr(o,2),cs(o));break}}n=n.return}}function Pd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new CT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(Id=!0,f.add(a),e=xT.bind(null,e,n,a),n.then(e,e))}function xT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(ve&a)===a&&(dn===4||dn===3&&(ve&62914560)===ve&&300>zn()-Kc?(xe&2)===0&&El(e,0):Dd|=a,vl===ve&&(vl=0)),cs(e)}function iv(e,n){n===0&&(n=Jo()),e=Je(e,n),e!==null&&(Tr(e,n),cs(e))}function MT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),iv(e,a)}function VT(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),iv(e,a)}function kT(e,n){return tn(e,n)}var Zc=null,Tl=null,Ud=!1,Wc=!1,Ld=!1,za=0;function cs(e){e!==Tl&&e.next===null&&(Tl===null?Zc=Tl=e:Tl=Tl.next=e),Wc=!0,Ud||(Ud=!0,UT())}function Su(e,n){if(!Ld&&Wc){Ld=!0;do for(var a=!1,o=Zc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var p=0;else{var E=o.suspendedLanes,R=o.pingedLanes;p=(1<<31-Dt(42|e)+1)-1,p&=f&~(E&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,lv(o,p))}else p=ve,p=Gr(o,o===He?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||dr(o,p)||(a=!0,lv(o,p));o=o.next}while(a);Ld=!1}}function PT(){sv()}function sv(){Wc=Ud=!1;var e=0;za!==0&&QT()&&(e=za);for(var n=zn(),a=null,o=Zc;o!==null;){var f=o.next,p=av(o,n);p===0?(o.next=null,a===null?Zc=f:a.next=f,f===null&&(Tl=a)):(a=o,(e!==0||(p&3)!==0)&&(Wc=!0)),o=f}kn!==0&&kn!==5||Su(e),za!==0&&(za=0)}function av(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var E=31-Dt(p),R=1<<E,k=f[E];k===-1?((R&a)===0||(R&o)!==0)&&(f[E]=$l(R,n)):k<=n&&(e.expiredLanes|=R),p&=~R}if(n=He,a=ve,a=Gr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||dr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Mn(o),Sr(a)){case 2:case 8:a=Kr;break;case 32:a=fi;break;case 268435456:a=oa;break;default:a=fi}return o=ov.bind(null,e),a=tn(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Mn(o),e.callbackPriority=2,e.callbackNode=null,2}function ov(e,n){if(kn!==0&&kn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jc()&&e.callbackNode!==a)return null;var o=ve;return o=Gr(e,e===He?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),av(e,zn()),e.callbackNode!=null&&e.callbackNode===a?ov.bind(null,e):null)}function lv(e,n){if(Jc())return null;qy(e,n,!0)}function UT(){XT(function(){(xe&6)!==0?tn(Fr,PT):sv()})}function zd(){if(za===0){var e=ol;e===0&&(e=wt,wt<<=1,(wt&261888)===0&&(wt=256)),za=e}return za}function uv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ti(""+e)}function cv(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function LT(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var p=uv((f[Ke]||null).action),E=o.submitter;E&&(n=(n=E[Ke]||null)?uv(n.formAction):E.getAttribute("formAction"),n!==null&&(p=n,E=null));var R=new vi("action","action",null,o,f);e.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(za!==0){var k=E?cv(f,E):new FormData(f);sd(a,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(R.preventDefault(),k=E?cv(f,E):new FormData(f),sd(a,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var jd=0;jd<Ct.length;jd++){var Bd=Ct[jd],zT=Bd.toLowerCase(),jT=Bd[0].toUpperCase()+Bd.slice(1);vt(zT,"on"+jT)}vt(tt,"onAnimationEnd"),vt(rt,"onAnimationIteration"),vt(lt,"onAnimationStart"),vt("dblclick","onDoubleClick"),vt("focusin","onFocus"),vt("focusout","onBlur"),vt(dt,"onTransitionRun"),vt(bt,"onTransitionStart"),vt(It,"onTransitionCancel"),vt(yt,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function hv(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var p=void 0;if(n)for(var E=o.length-1;0<=E;E--){var R=o[E],k=R.instance,nt=R.currentTarget;if(R=R.listener,k!==p&&f.isPropagationStopped())break t;p=R,f.currentTarget=nt;try{p(f)}catch(ct){Mt(ct)}f.currentTarget=null,p=k}else for(E=0;E<o.length;E++){if(R=o[E],k=R.instance,nt=R.currentTarget,R=R.listener,k!==p&&f.isPropagationStopped())break t;p=R,f.currentTarget=nt;try{p(f)}catch(ct){Mt(ct)}f.currentTarget=null,p=k}}}}function ye(e,n){var a=n[Pi];a===void 0&&(a=n[Pi]=new Set);var o=e+"__bubble";a.has(o)||(fv(n,e,2,!1),a.add(o))}function qd(e,n,a){var o=0;n&&(o|=4),fv(a,e,o,n)}var th="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[th]){e[th]=!0,pi.forEach(function(a){a!=="selectionchange"&&(BT.has(a)||qd(a,!1,e),qd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[th]||(n[th]=!0,qd("selectionchange",!1,n))}}function fv(e,n,a,o){switch(Bv(n)){case 2:var f=p1;break;case 8:f=g1;break;default:f=im}a=f.bind(null,n,a,e),f=void 0,!Ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Fd(e,n,a,o,f){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===f)break;if(E===4)for(E=o.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;R!==null;){if(E=wr(R),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){o=p=E;continue t}R=R.parentNode}}o=o.return}Dr(function(){var nt=p,ct=mr(a),mt=[];t:{var it=St.get(e);if(it!==void 0){var at=vi,Pt=e;switch(e){case"keypress":if(ji(a)===0)break t;case"keydown":case"keyup":at=xs;break;case"focusin":Pt="focus",at=bi;break;case"focusout":Pt="blur",at=bi;break;case"beforeblur":case"afterblur":at=bi;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=y;break;case tt:case rt:case lt:at=vo;break;case yt:at=C;break;case"scroll":case"scrollend":at=ns;break;case"wheel":at=st;break;case"copy":case"cut":case"paste":at=Hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Ti;break;case"toggle":case"beforetoggle":at=ee}var Yt=(n&4)!==0,qe=!Yt&&(e==="scroll"||e==="scrollend"),J=Yt?it!==null?it+"Capture":null:it;Yt=[];for(var H=nt,et;H!==null;){var ht=H;if(et=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||et===null||J===null||(ht=pr(H,J),ht!=null&&Yt.push(Au(H,ht,et))),qe)break;H=H.return}0<Yt.length&&(it=new at(it,Pt,null,a,ct),mt.push({event:it,listeners:Yt}))}}if((n&7)===0){t:{if(it=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",it&&a!==Ir&&(Pt=a.relatedTarget||a.fromElement)&&(wr(Pt)||Pt[Vn]))break t;if((at||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Pt=a.relatedTarget||a.toElement,at=nt,Pt=Pt?wr(Pt):null,Pt!==null&&(qe=h(Pt),Yt=Pt.tag,Pt!==qe||Yt!==5&&Yt!==27&&Yt!==6)&&(Pt=null)):(at=null,Pt=nt),at!==Pt)){if(Yt=Os,ht="onMouseLeave",J="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Yt=Ti,ht="onPointerLeave",J="onPointerEnter",H="pointer"),qe=at==null?it:yn(at),et=Pt==null?it:yn(Pt),it=new Yt(ht,H+"leave",at,a,ct),it.target=qe,it.relatedTarget=et,ht=null,wr(ct)===nt&&(Yt=new Yt(J,H+"enter",Pt,a,ct),Yt.target=et,Yt.relatedTarget=qe,ht=Yt),qe=ht,at&&Pt)e:{for(Yt=qT,J=at,H=Pt,et=0,ht=J;ht;ht=Yt(ht))et++;ht=0;for(var Ht=H;Ht;Ht=Yt(Ht))ht++;for(;0<et-ht;)J=Yt(J),et--;for(;0<ht-et;)H=Yt(H),ht--;for(;et--;){if(J===H||H!==null&&J===H.alternate){Yt=J;break e}J=Yt(J),H=Yt(H)}Yt=null}else Yt=null;at!==null&&dv(mt,it,at,Yt,!1),Pt!==null&&qe!==null&&dv(mt,qe,Pt,Yt,!0)}}t:{if(it=nt?yn(nt):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var De=bo;else if(tl(it))if(Si)De=Sa;else{De=Vs;var Lt=yc}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&fa(nt.elementType)&&(De=bo):De=Wl;if(De&&(De=De(e,nt))){Zl(mt,De,a,ct);break t}Lt&&Lt(e,it,nt),e==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&Is(it,"number",it.value)}switch(Lt=nt?yn(nt):window,e){case"focusin":(tl(Lt)||Lt.contentEditable==="true")&&(N=Lt,L=nt,z=null);break;case"focusout":z=L=N=null;break;case"mousedown":Y=!0;break;case"contextmenu":case"mouseup":case"dragend":Y=!1,U(mt,a,ct);break;case"selectionchange":if(D)break;case"keydown":case"keyup":U(mt,a,ct)}var ue;if(we)t:{switch(e){case"compositionstart":var _e="onCompositionStart";break t;case"compositionend":_e="onCompositionEnd";break t;case"compositionupdate":_e="onCompositionUpdate";break t}_e=void 0}else Ms?ss(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Vr&&a.locale!=="ko"&&(Ms||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ms&&(ue=zi()):(Or=ct,da="value"in Or?Or.value:Or.textContent,Ms=!0)),Lt=eh(nt,_e),0<Lt.length&&(_e=new Nr(_e,e,null,a,ct),mt.push({event:_e,listeners:Lt}),ue?_e.data=ue:(ue=Ea(a),ue!==null&&(_e.data=ue)))),(ue=Mr?mc(e,a):Sf(e,a))&&(_e=eh(nt,"onBeforeInput"),0<_e.length&&(Lt=new Nr("onBeforeInput","beforeinput",null,a,ct),mt.push({event:Lt,listeners:_e}),Lt.data=ue)),LT(mt,e,nt,a,ct)}hv(mt,n)})}function Au(e,n,a){return{instance:e,listener:n,currentTarget:a}}function eh(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=pr(e,a),f!=null&&o.unshift(Au(e,f,p)),f=pr(e,n),f!=null&&o.push(Au(e,f,p))),e.tag===3)return o;e=e.return}return[]}function qT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dv(e,n,a,o,f){for(var p=n._reactName,E=[];a!==null&&a!==o;){var R=a,k=R.alternate,nt=R.stateNode;if(R=R.tag,k!==null&&k===o)break;R!==5&&R!==26&&R!==27||nt===null||(k=nt,f?(nt=pr(a,p),nt!=null&&E.unshift(Au(a,nt,k))):f||(nt=pr(a,p),nt!=null&&E.push(Au(a,nt,k)))),a=a.return}E.length!==0&&e.push({event:n,listeners:E})}var HT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function mv(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(FT,"")}function pv(e,n){return n=mv(n),mv(e)===n}function Be(e,n,a,o,f,p){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Yn(e,""+o);break;case"className":ir(e,"class",o);break;case"tabIndex":ir(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,a,o);break;case"style":ha(e,o,p);break;case"data":if(n!=="object"){ir(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ti(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Be(e,n,"name",f.name,f,null),Be(e,n,"formEncType",f.formEncType,f,null),Be(e,n,"formMethod",f.formMethod,f,null),Be(e,n,"formTarget",f.formTarget,f,null)):(Be(e,n,"encType",f.encType,f,null),Be(e,n,"method",f.method,f,null),Be(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ti(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=sr);break;case"onScroll":o!=null&&ye("scroll",e);break;case"onScrollEnd":o!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ti(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ye("beforetoggle",e),ye("toggle",e),ae(e,"popover",o);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ae(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wo.get(a)||a,ae(e,a,o))}}function Kd(e,n,a,o,f,p){switch(a){case"style":ha(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Yn(e,o):(typeof o=="number"||typeof o=="bigint")&&Yn(e,""+o);break;case"onScroll":o!=null&&ye("scroll",e);break;case"onScrollEnd":o!=null&&ye("scrollend",e);break;case"onClick":o!=null&&(e.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wi.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),p=e[Ke]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof o=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ae(e,a,o)}}}function Zn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var o=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,p,E,a,null)}}f&&Be(e,n,"srcSet",a.srcSet,a,null),o&&Be(e,n,"src",a.src,a,null);return;case"input":ye("invalid",e);var R=p=E=f=null,k=null,nt=null;for(o in a)if(a.hasOwnProperty(o)){var ct=a[o];if(ct!=null)switch(o){case"name":f=ct;break;case"type":E=ct;break;case"checked":k=ct;break;case"defaultChecked":nt=ct;break;case"value":p=ct;break;case"defaultValue":R=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(s(137,n));break;default:Be(e,n,o,ct,a,null)}}ca(e,p,R,k,nt,E,f,!1);return;case"select":ye("invalid",e),o=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":p=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:Be(e,n,f,R,a,null)}n=p,a=E,e.multiple=!!o,n!=null?Zr(e,!!o,n,!1):a!=null&&Zr(e,!!o,a,!0);return;case"textarea":ye("invalid",e),p=f=o=null;for(E in a)if(a.hasOwnProperty(E)&&(R=a[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":f=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Be(e,n,E,R,a,null)}Wr(e,o,f,p);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Be(e,n,k,o,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(o=0;o<wu.length;o++)ye(wu[o],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in a)if(a.hasOwnProperty(nt)&&(o=a[nt],o!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,nt,o,a,null)}return;default:if(fa(n)){for(ct in a)a.hasOwnProperty(ct)&&(o=a[ct],o!==void 0&&Kd(e,n,ct,o,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null&&Be(e,n,R,o,a,null))}function KT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,R=null,k=null,nt=null,ct=null;for(at in a){var mt=a[at];if(a.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":k=mt;default:o.hasOwnProperty(at)||Be(e,n,at,null,o,mt)}}for(var it in o){var at=o[it];if(mt=a[it],o.hasOwnProperty(it)&&(at!=null||mt!=null))switch(it){case"type":p=at;break;case"name":f=at;break;case"checked":nt=at;break;case"defaultChecked":ct=at;break;case"value":E=at;break;case"defaultValue":R=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,n));break;default:at!==mt&&Be(e,n,it,at,o,mt)}}Jr(e,E,R,k,nt,ct,p,f);return;case"select":at=E=R=it=null;for(p in a)if(k=a[p],a.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":at=k;default:o.hasOwnProperty(p)||Be(e,n,p,null,o,k)}for(f in o)if(p=o[f],k=a[f],o.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":it=p;break;case"defaultValue":R=p;break;case"multiple":E=p;default:p!==k&&Be(e,n,f,p,o,k)}n=R,a=E,o=at,it!=null?Zr(e,!!a,it,!1):!!o!=!!a&&(n!=null?Zr(e,!!a,n,!0):Zr(e,!!a,a?[]:"",!1));return;case"textarea":at=it=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Be(e,n,R,null,o,f)}for(E in o)if(f=o[E],p=a[E],o.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":it=f;break;case"defaultValue":at=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Be(e,n,E,f,o,p)}go(e,it,at);return;case"option":for(var Pt in a)if(it=a[Pt],a.hasOwnProperty(Pt)&&it!=null&&!o.hasOwnProperty(Pt))switch(Pt){case"selected":e.selected=!1;break;default:Be(e,n,Pt,null,o,it)}for(k in o)if(it=o[k],at=a[k],o.hasOwnProperty(k)&&it!==at&&(it!=null||at!=null))switch(k){case"selected":e.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Be(e,n,k,it,o,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in a)it=a[Yt],a.hasOwnProperty(Yt)&&it!=null&&!o.hasOwnProperty(Yt)&&Be(e,n,Yt,null,o,it);for(nt in o)if(it=o[nt],at=a[nt],o.hasOwnProperty(nt)&&it!==at&&(it!=null||at!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,n));break;default:Be(e,n,nt,it,o,at)}return;default:if(fa(n)){for(var qe in a)it=a[qe],a.hasOwnProperty(qe)&&it!==void 0&&!o.hasOwnProperty(qe)&&Kd(e,n,qe,void 0,o,it);for(ct in o)it=o[ct],at=a[ct],!o.hasOwnProperty(ct)||it===at||it===void 0&&at===void 0||Kd(e,n,ct,it,o,at);return}}for(var J in a)it=a[J],a.hasOwnProperty(J)&&it!=null&&!o.hasOwnProperty(J)&&Be(e,n,J,null,o,it);for(mt in o)it=o[mt],at=a[mt],!o.hasOwnProperty(mt)||it===at||it==null&&at==null||Be(e,n,mt,it,o,at)}function gv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],p=f.transferSize,E=f.initiatorType,R=f.duration;if(p&&R&&gv(E)){for(E=0,R=f.responseEnd,o+=1;o<a.length;o++){var k=a[o],nt=k.startTime;if(nt>R)break;var ct=k.transferSize,mt=k.initiatorType;ct&&gv(mt)&&(k=k.responseEnd,E+=ct*(k<R?1:(R-nt)/(k-nt)))}if(--o,n+=8*(p+E)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gd=null,Qd=null;function nh(e){return e.nodeType===9?e:e.ownerDocument}function yv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xd=null;function QT(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch($T)}:_v;function $T(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function bv(e,n){var a=n,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(f),Rl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ru(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ru(a);for(var p=a.firstChild;p;){var E=p.nextSibling,R=p.nodeName;p[jn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}else a==="body"&&Ru(e.ownerDocument.body);a=f}while(a);Rl(n)}function Tv(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function $d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JT(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[jn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Di(e.nextSibling),e===null)break}return null}function ZT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Di(e.nextSibling),e===null))return null;return e}function Sv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Di(e.nextSibling),e===null))return null;return e}function Jd(e){return e.data==="$?"||e.data==="$~"}function Zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WT(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Wd=null;function wv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Di(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Av(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Rv(e,n,a){switch(n=nh(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ru(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Cs(e)}var Oi=new Map,Cv=new Set;function rh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xs=xt.d;xt.d={f:t1,r:e1,D:n1,C:r1,L:i1,m:s1,X:o1,S:a1,M:l1};function t1(){var e=Xs.f(),n=Yc();return e||n}function e1(e){var n=Re(e);n!==null&&n.tag===5&&n.type==="form"?Fg(n):Xs.r(e)}var Sl=typeof document>"u"?null:document;function Iv(e,n,a){var o=Sl;if(o&&typeof n=="string"&&n){var f=wn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Cv.has(f)||(Cv.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Zn(n,"link",e),nn(n),o.head.appendChild(n)))}}function n1(e){Xs.D(e),Iv("dns-prefetch",e,null)}function r1(e,n){Xs.C(e,n),Iv("preconnect",e,n)}function i1(e,n,a){Xs.L(e,n,a);var o=Sl;if(o&&e&&n){var f='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wn(a.imageSizes)+'"]')):f+='[href="'+wn(e)+'"]';var p=f;switch(n){case"style":p=wl(e);break;case"script":p=Al(e)}Oi.has(p)||(e=O({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Oi.set(p,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Cu(p))||n==="script"&&o.querySelector(Iu(p))||(n=o.createElement("link"),Zn(n,"link",e),nn(n),o.head.appendChild(n)))}}function s1(e,n){Xs.m(e,n);var a=Sl;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(e)+'"]',p=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Al(e)}if(!Oi.has(p)&&(e=O({rel:"modulepreload",href:e},n),Oi.set(p,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Iu(p)))return}o=a.createElement("link"),Zn(o,"link",e),nn(o),a.head.appendChild(o)}}}function a1(e,n,a){Xs.S(e,n,a);var o=Sl;if(o&&e){var f=Sn(o).hoistableStyles,p=wl(e);n=n||"default";var E=f.get(p);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(Cu(p)))R.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Oi.get(p))&&tm(e,a);var k=E=o.createElement("link");nn(k),Zn(k,"link",e),k._p=new Promise(function(nt,ct){k.onload=nt,k.onerror=ct}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ih(E,n,o)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(p,E)}}}function o1(e,n){Xs.X(e,n);var a=Sl;if(a&&e){var o=Sn(a).hoistableScripts,f=Al(e),p=o.get(f);p||(p=a.querySelector(Iu(f)),p||(e=O({src:e,async:!0},n),(n=Oi.get(f))&&em(e,n),p=a.createElement("script"),nn(p),Zn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function l1(e,n){Xs.M(e,n);var a=Sl;if(a&&e){var o=Sn(a).hoistableScripts,f=Al(e),p=o.get(f);p||(p=a.querySelector(Iu(f)),p||(e=O({src:e,async:!0,type:"module"},n),(n=Oi.get(f))&&em(e,n),p=a.createElement("script"),nn(p),Zn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Dv(e,n,a,o){var f=(f=$t.current)?rh(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=wl(a.href),a=Sn(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wl(a.href);var p=Sn(f).hoistableStyles,E=p.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,E),(p=f.querySelector(Cu(e)))&&!p._p&&(E.instance=p,E.state.loading=5),Oi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Oi.set(e,a),p||u1(f,e,a,E.state))),n&&o===null)throw Error(s(528,""));return E}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Al(a),a=Sn(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wl(e){return'href="'+wn(e)+'"'}function Cu(e){return'link[rel="stylesheet"]['+e+"]"}function Ov(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function u1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zn(n,"link",a),nn(n),e.head.appendChild(n))}function Al(e){return'[src="'+wn(e)+'"]'}function Iu(e){return"script[async]"+e}function Nv(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+wn(a.href)+'"]');if(o)return n.instance=o,nn(o),o;var f=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),nn(o),Zn(o,"style",f),ih(o,a.precedence,e),n.instance=o;case"stylesheet":f=wl(a.href);var p=e.querySelector(Cu(f));if(p)return n.state.loading|=4,n.instance=p,nn(p),p;o=Ov(a),(f=Oi.get(f))&&tm(o,f),p=(e.ownerDocument||e).createElement("link"),nn(p);var E=p;return E._p=new Promise(function(R,k){E.onload=R,E.onerror=k}),Zn(p,"link",o),n.state.loading|=4,ih(p,a.precedence,e),n.instance=p;case"script":return p=Al(a.src),(f=e.querySelector(Iu(p)))?(n.instance=f,nn(f),f):(o=a,(f=Oi.get(p))&&(o=O({},a),em(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),nn(f),Zn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,e));return n.instance}function ih(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,p=f,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===n)p=R;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function tm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function em(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sh=null;function xv(e,n,a){if(sh===null){var o=new Map,f=sh=new Map;f.set(a,o)}else f=sh,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[jn]||p[ke]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(n)||"";E=e+E;var R=o.get(E);R?R.push(p):o.set(E,[p])}}return o}function Mv(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function c1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h1(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=wl(o.href),p=n.querySelector(Cu(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ah.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=p,nn(p);return}p=n.ownerDocument||n,o=Ov(o),(f=Oi.get(f))&&tm(o,f),p=p.createElement("link"),nn(p);var E=p;E._p=new Promise(function(R,k){E.onload=R,E.onerror=k}),Zn(p,"link",o),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ah.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var nm=0;function f1(e,n){return e.stylesheets&&e.count===0&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&nm===0&&(nm=62500*GT());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>nm?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oh=null;function lh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oh=new Map,n.forEach(d1,e),oh=null,ah.call(e))}function d1(e,n){if(!(n.state.loading&4)){var a=oh.get(e);if(a)var o=a.get(null);else{a=new Map,oh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),o=E)}o&&a.set(null,o)}f=n.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||o,p===o&&a.set(null,f),a.set(E,f),this.count++,o=ah.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Du={$$typeof:Nt,Provider:null,Consumer:null,_currentValue:Ut,_currentValue2:Ut,_threadCount:0};function m1(e,n,a,o,f,p,E,R,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function kv(e,n,a,o,f,p,E,R,k,nt,ct,mt){return e=new m1(e,n,a,E,k,nt,ct,mt,R),n=1,p===!0&&(n|=24),p=ii(3,null,null,n),e.current=p,p.stateNode=e,n=kf(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:n},zf(p),e}function Pv(e){return e?(e=kr,e):kr}function Uv(e,n,a,o,f,p){f=Pv(f),o.context===null?o.context=f:o.pendingContext=f,o=Da(n),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=Oa(e,o,n),a!==null&&(jr(a,e,n),ou(a,e,n))}function Lv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function rm(e,n){Lv(e,n),(e=e.alternate)&&Lv(e,n)}function zv(e){if(e.tag===13||e.tag===31){var n=Je(e,67108864);n!==null&&jr(n,e,67108864),rm(e,67108864)}}function jv(e){if(e.tag===13||e.tag===31){var n=ui();n=As(n);var a=Je(e,n);a!==null&&jr(a,e,n),rm(e,n)}}var uh=!0;function p1(e,n,a,o){var f=ut.T;ut.T=null;var p=xt.p;try{xt.p=2,im(e,n,a,o)}finally{xt.p=p,ut.T=f}}function g1(e,n,a,o){var f=ut.T;ut.T=null;var p=xt.p;try{xt.p=8,im(e,n,a,o)}finally{xt.p=p,ut.T=f}}function im(e,n,a,o){if(uh){var f=sm(o);if(f===null)Fd(e,n,o,ch,a),qv(e,o);else if(v1(f,e,n,a,o))o.stopPropagation();else if(qv(e,o),n&4&&-1<y1.indexOf(e)){for(;f!==null;){var p=Re(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=br(p.pendingLanes);if(E!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var k=1<<31-Dt(E);R.entanglements[1]|=k,E&=~k}cs(p),(xe&6)===0&&(Gc=zn()+500,Su(0))}}break;case 31:case 13:R=Je(p,2),R!==null&&jr(R,p,2),Yc(),rm(p,2)}if(p=sm(o),p===null&&Fd(e,n,o,ch,a),p===f)break;f=p}f!==null&&o.stopPropagation()}else Fd(e,n,o,null,a)}}function sm(e){return e=mr(e),am(e)}var ch=null;function am(e){if(ch=null,e=wr(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=v(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ch=e,null}function Bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case Fr:return 2;case Kr:return 8;case fi:case Ts:return 32;case oa:return 268435456;default:return 32}default:return 32}}var om=!1,Ba=null,qa=null,Ha=null,Ou=new Map,Nu=new Map,Fa=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(e,n){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(n.pointerId)}}function xu(e,n,a,o,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Re(n),n!==null&&zv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function v1(e,n,a,o,f){switch(n){case"focusin":return Ba=xu(Ba,e,n,a,o,f),!0;case"dragenter":return qa=xu(qa,e,n,a,o,f),!0;case"mouseover":return Ha=xu(Ha,e,n,a,o,f),!0;case"pointerover":var p=f.pointerId;return Ou.set(p,xu(Ou.get(p)||null,e,n,a,o,f)),!0;case"gotpointercapture":return p=f.pointerId,Nu.set(p,xu(Nu.get(p)||null,e,n,a,o,f)),!0}return!1}function Hv(e){var n=wr(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,rr(e.priority,function(){jv(a)});return}}else if(n===31){if(n=v(a),n!==null){e.blockedOn=n,rr(e.priority,function(){jv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hh(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=sm(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ir=o,a.target.dispatchEvent(o),Ir=null}else return n=Re(a),n!==null&&zv(n),e.blockedOn=a,!1;n.shift()}return!0}function Fv(e,n,a){hh(e)&&a.delete(n)}function _1(){om=!1,Ba!==null&&hh(Ba)&&(Ba=null),qa!==null&&hh(qa)&&(qa=null),Ha!==null&&hh(Ha)&&(Ha=null),Ou.forEach(Fv),Nu.forEach(Fv)}function fh(e,n){e.blockedOn===n&&(e.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_1)))}var dh=null;function Kv(e){dh!==e&&(dh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dh===e&&(dh=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(am(o||a)===null)continue;break}var p=Re(a);p!==null&&(e.splice(n,3),n-=3,sd(p,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Rl(e){function n(k){return fh(k,e)}Ba!==null&&fh(Ba,e),qa!==null&&fh(qa,e),Ha!==null&&fh(Ha,e),Ou.forEach(n),Nu.forEach(n);for(var a=0;a<Fa.length;a++){var o=Fa[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fa.length&&(a=Fa[0],a.blockedOn===null);)Hv(a),a.blockedOn===null&&Fa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],p=a[o+1],E=f[Ke]||null;if(typeof p=="function")E||Kv(a);else if(E){var R=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Ke]||null)R=E.formAction;else if(am(f)!==null)continue}else R=E.action;typeof R=="function"?a[o+1]=R:(a.splice(o,3),o-=3),Kv(a)}}}function Gv(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function lm(e){this._internalRoot=e}mh.prototype.render=lm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=ui();Uv(a,o,e,n,null,null)},mh.prototype.unmount=lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Uv(e.current,2,null,e,null,null),Yc(),n[Vn]=null}};function mh(e){this._internalRoot=e}mh.prototype.unstable_scheduleHydration=function(e){if(e){var n=Rs();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Fa.length&&n!==0&&n<Fa[a].priority;a++);Fa.splice(a,0,e),a===0&&Hv(e)}};var Qv=t.version;if(Qv!=="19.2.0")throw Error(s(527,Qv,"19.2.0"));xt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=T(n),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ut,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{nr=ph.inject(E1),pn=ph}catch{}}return Vu.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",f=ty,p=ey,E=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=kv(e,1,!1,null,null,a,o,null,f,p,E,Gv),e[Vn]=n.current,Hd(e),new lm(n)},Vu.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,f="",p=ty,E=ey,R=ny,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),n=kv(e,1,!0,n,a??null,o,f,k,p,E,R,Gv),n.context=Pv(null),a=n.current,o=ui(),o=As(o),f=Da(o),f.callback=null,Oa(a,f,o),a=o,n.current.lanes=a,Tr(n,a),cs(n),e[Vn]=n.current,Hd(e),new mh(n)},Vu.version="19.2.0",Vu}var r_;function x1(){if(r_)return hm.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hm.exports=N1(),hm.exports}var M1=x1();const V1=tp(M1);var wh={exports:{}},k1=wh.exports,i_;function P1(){return i_||(i_=1,(function(i,t){(function(r,s){i.exports=s()})(k1,function(){var r=function(c,m){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(g[w]=_[w])})(c,m)},s=function(){return(s=Object.assign||function(c){for(var m,g=1,_=arguments.length;g<_;g++)for(var w in m=arguments[g])Object.prototype.hasOwnProperty.call(m,w)&&(c[w]=m[w]);return c}).apply(this,arguments)};function l(c,m,g){for(var _,w=0,A=m.length;w<A;w++)!_&&w in m||((_=_||Array.prototype.slice.call(m,0,w))[w]=m[w]);return c.concat(_||Array.prototype.slice.call(m))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:T1,d=Object.keys,v=Array.isArray;function b(c,m){return typeof m!="object"||d(m).forEach(function(g){c[g]=m[g]}),c}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var T=Object.getPrototypeOf,I={}.hasOwnProperty;function O(c,m){return I.call(c,m)}function B(c,m){typeof m=="function"&&(m=m(T(c))),(typeof Reflect>"u"?d:Reflect.ownKeys)(m).forEach(function(g){_t(c,g,m[g])})}var ot=Object.defineProperty;function _t(c,m,g,_){ot(c,m,b(g&&O(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},_))}function Rt(c){return{from:function(m){return c.prototype=Object.create(m.prototype),_t(c.prototype,"constructor",c),{extend:B.bind(null,c.prototype)}}}}var Et=Object.getOwnPropertyDescriptor,Bt=[].slice;function Ft(c,m,g){return Bt.call(c,m,g)}function Nt(c,m){return m(c)}function zt(c){if(!c)throw new Error("Assertion Failed")}function Ne(c){h.setImmediate?setImmediate(c):setTimeout(c,0)}function te(c,m){if(typeof m=="string"&&O(c,m))return c[m];if(!m)return c;if(typeof m!="string"){for(var g=[],_=0,w=m.length;_<w;++_){var A=te(c,m[_]);g.push(A)}return g}var D=m.indexOf(".");if(D!==-1){var N=c[m.substr(0,D)];return N==null?void 0:te(N,m.substr(D+1))}}function V(c,m,g){if(c&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof m!="string"&&"length"in m){zt(typeof g!="string"&&"length"in g);for(var _=0,w=m.length;_<w;++_)V(c,m[_],g[_])}else{var A,D,N=m.indexOf(".");N!==-1?(A=m.substr(0,N),(D=m.substr(N+1))===""?g===void 0?v(c)&&!isNaN(parseInt(A))?c.splice(A,1):delete c[A]:c[A]=g:V(N=!(N=c[A])||!O(c,A)?c[A]={}:N,D,g)):g===void 0?v(c)&&!isNaN(parseInt(m))?c.splice(m,1):delete c[m]:c[m]=g}}function x(c){var m,g={};for(m in c)O(c,m)&&(g[m]=c[m]);return g}var P=[].concat;function Q(c){return P.apply([],c)}var Fr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Q([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(m){return m+c+"Array"})}))).filter(function(c){return h[c]}),q=new Set(Fr.map(function(c){return h[c]})),Z=null;function M(c){return Z=new WeakMap,c=(function m(g){if(!g||typeof g!="object")return g;var _=Z.get(g);if(_)return _;if(v(g)){_=[],Z.set(g,_);for(var w=0,A=g.length;w<A;++w)_.push(m(g[w]))}else if(q.has(g.constructor))_=g;else{var D,N=T(g);for(D in _=N===Object.prototype?{}:Object.create(N),Z.set(g,_),g)O(g,D)&&(_[D]=m(g[D]))}return _})(c),Z=null,c}var Fe={}.toString;function We(c){return Fe.call(c).slice(8,-1)}var ut=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xt=typeof ut=="symbol"?function(c){var m;return c!=null&&(m=c[ut])&&m.apply(c)}:function(){return null};function Ut(c,m){return m=c.indexOf(m),0<=m&&c.splice(m,1),0<=m}var ce={};function he(c){var m,g,_,w;if(arguments.length===1){if(v(c))return c.slice();if(this===ce&&typeof c=="string")return[c];if(w=xt(c)){for(g=[];!(_=w.next()).done;)g.push(_.value);return g}if(c==null)return[c];if(typeof(m=c.length)!="number")return[c];for(g=new Array(m);m--;)g[m]=c[m];return g}for(m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return g}var F=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Hr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Hr),ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function At(c,m){this.name=c,this.message=m}function Vt(c,m){return c+". Errors: "+Object.keys(m).map(function(g){return m[g].toString()}).filter(function(g,_,w){return w.indexOf(g)===_}).join(`
`)}function Qt(c,m,g,_){this.failures=m,this.failedKeys=_,this.successCount=g,this.message=Vt(c,m)}function $t(c,m){this.name="BulkError",this.failures=Object.keys(m).map(function(g){return m[g]}),this.failuresByPos=m,this.message=Vt(c,this.failures)}Rt(At).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Rt(Qt).from(At),Rt($t).from(At);var de=yr.reduce(function(c,m){return c[m]=m+"Error",c},{}),mn=At,Ot=yr.reduce(function(c,m){var g=m+"Error";function _(w,A){this.name=g,w?typeof w=="string"?(this.message="".concat(w).concat(A?`
 `+A:""),this.inner=A||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=ft[m]||g,this.inner=null)}return Rt(_).from(mn),c[m]=_,c},{});Ot.Syntax=SyntaxError,Ot.Type=TypeError,Ot.Range=RangeError;var $i=Hr.reduce(function(c,m){return c[m+"Error"]=Ot[m],c},{}),Vi=yr.reduce(function(c,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(c[m+"Error"]=Ot[m]),c},{});function Se(){}function ci(c){return c}function hi(c,m){return c==null||c===ci?m:function(g){return m(c(g))}}function qr(c,m){return function(){c.apply(this,arguments),m.apply(this,arguments)}}function bs(c,m){return c===Se?m:function(){var g=c.apply(this,arguments);g!==void 0&&(arguments[0]=g);var _=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var A=m.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?qr(_,this.onsuccess):_),w&&(this.onerror=this.onerror?qr(w,this.onerror):w),A!==void 0?A:g}}function co(c,m){return c===Se?m:function(){c.apply(this,arguments);var g=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?qr(g,this.onsuccess):g),_&&(this.onerror=this.onerror?qr(_,this.onerror):_)}}function ho(c,m){return c===Se?m:function(g){var _=c.apply(this,arguments);b(g,_);var w=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,g=m.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?qr(w,this.onsuccess):w),A&&(this.onerror=this.onerror?qr(A,this.onerror):A),_===void 0?g===void 0?void 0:g:b(_,g)}}function cn(c,m){return c===Se?m:function(){return m.apply(this,arguments)!==!1&&c.apply(this,arguments)}}function tn(c,m){return c===Se?m:function(){var g=c.apply(this,arguments);if(g&&typeof g.then=="function"){for(var _=this,w=arguments.length,A=new Array(w);w--;)A[w]=arguments[w];return g.then(function(){return m.apply(_,A)})}return m.apply(this,arguments)}}Vi.ModifyError=Qt,Vi.DexieError=At,Vi.BulkError=$t;var Mn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $o(c){Mn=c}var Ji={},zn=100,Fr=typeof Promise>"u"?[]:(function(){var c=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[c,T(c),c];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,T(m),c]})(),Hr=Fr[0],yr=Fr[1],Fr=Fr[2],yr=yr&&yr.then,Kr=Hr&&Hr.constructor,fi=!!Fr,Ts=function(c,m){Zi.push([c,m]),Ss&&(queueMicrotask(Jo),Ss=!1)},oa=!0,Ss=!0,di=[],nr=[],pn=ci,gn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},Dt=gn,Zi=[],Er=0,ws=[];function wt(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Dt;if(typeof c!="function"){if(c!==Ji)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&br(this,this._value))}this._state=null,this._value=null,++m.ref,(function g(_,w){try{w(function(A){if(_._state===null){if(A===_)throw new TypeError("A promise cannot be resolved with itself.");var D=_._lib&&Qn();A&&typeof A.then=="function"?g(_,function(N,L){A instanceof wt?A._then(N,L):A.then(N,L)}):(_._state=!0,_._value=A,Gr(_)),D&&Tr()}},br.bind(null,_))}catch(A){br(_,A)}})(this,c)}var ki={get:function(){var c=Dt,m=rr;function g(_,w){var A=this,D=!c.global&&(c!==Dt||m!==rr),N=D&&!Vn(),L=new wt(function(z,Y){dr(A,new en(Cs(_,c,D,N),Cs(w,c,D,N),z,Y,c))});return this._consoleTask&&(L._consoleTask=this._consoleTask),L}return g.prototype=Ji,g},set:function(c){_t(this,"then",c&&c.prototype===Ji?ki:{get:function(){return c},set:ki.set})}};function en(c,m,g,_,w){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof m=="function"?m:null,this.resolve=g,this.reject=_,this.psd=w}function br(c,m){var g,_;nr.push(m),c._state===null&&(g=c._lib&&Qn(),m=pn(m),c._state=!1,c._value=m,_=c,di.some(function(w){return w._value===_._value})||di.push(_),Gr(c),g&&Tr())}function Gr(c){var m=c._listeners;c._listeners=[];for(var g=0,_=m.length;g<_;++g)dr(c,m[g]);var w=c._PSD;--w.ref||w.finalize(),Er===0&&(++Er,Ts(function(){--Er==0&&fo()},[]))}function dr(c,m){if(c._state!==null){var g=c._state?m.onFulfilled:m.onRejected;if(g===null)return(c._state?m.resolve:m.reject)(c._value);++m.psd.ref,++Er,Ts($l,[g,c,m])}else c._listeners.push(m)}function $l(c,m,g){try{var _,w=m._value;!m._state&&nr.length&&(nr=[]),_=Mn&&m._consoleTask?m._consoleTask.run(function(){return c(w)}):c(w),m._state||nr.indexOf(w)!==-1||(function(A){for(var D=di.length;D;)if(di[--D]._value===A._value)return di.splice(D,1)})(m),g.resolve(_)}catch(A){g.reject(A)}finally{--Er==0&&fo(),--g.psd.ref||g.psd.finalize()}}function Jo(){jn(gn,function(){Qn()&&Tr()})}function Qn(){var c=oa;return Ss=oa=!1,c}function Tr(){var c,m,g;do for(;0<Zi.length;)for(c=Zi,Zi=[],g=c.length,m=0;m<g;++m){var _=c[m];_[0].apply(null,_[1])}while(0<Zi.length);Ss=oa=!0}function fo(){var c=di;di=[],c.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var m=ws.slice(0),g=m.length;g;)m[--g]()}function mi(c){return new wt(Ji,!1,c)}function Me(c,m){var g=Dt;return function(){var _=Qn(),w=Dt;try{return Yr(g,!0),c.apply(this,arguments)}catch(A){m&&m(A)}finally{Yr(w,!1),_&&Tr()}}}B(wt.prototype,{then:ki,_then:function(c,m){dr(this,new en(null,null,c,m,Dt))},catch:function(c){if(arguments.length===1)return this.then(null,c);var m=c,g=arguments[1];return typeof m=="function"?this.then(null,function(_){return(_ instanceof m?g:mi)(_)}):this.then(null,function(_){return(_&&_.name===m?g:mi)(_)})},finally:function(c){return this.then(function(m){return wt.resolve(c()).then(function(){return m})},function(m){return wt.resolve(c()).then(function(){return mi(m)})})},timeout:function(c,m){var g=this;return c<1/0?new wt(function(_,w){var A=setTimeout(function(){return w(new Ot.Timeout(m))},c);g.then(_,w).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_t(wt.prototype,Symbol.toStringTag,"Dexie.Promise"),gn.env=mo(),B(wt,{all:function(){var c=he.apply(null,arguments).map(Pi);return new wt(function(m,g){c.length===0&&m([]);var _=c.length;c.forEach(function(w,A){return wt.resolve(w).then(function(D){c[A]=D,--_||m(c)},g)})})},resolve:function(c){return c instanceof wt?c:c&&typeof c.then=="function"?new wt(function(m,g){c.then(m,g)}):new wt(Ji,!0,c)},reject:mi,race:function(){var c=he.apply(null,arguments).map(Pi);return new wt(function(m,g){c.map(function(_){return wt.resolve(_).then(m,g)})})},PSD:{get:function(){return Dt},set:function(c){return Dt=c}},totalEchoes:{get:function(){return rr}},newPSD:ke,usePSD:jn,scheduler:{get:function(){return Ts},set:function(c){Ts=c}},rejectionMapper:{get:function(){return pn},set:function(c){pn=c}},follow:function(c,m){return new wt(function(g,_){return ke(function(w,A){var D=Dt;D.unhandleds=[],D.onunhandled=A,D.finalize=qr(function(){var N,L=this;N=function(){L.unhandleds.length===0?w():A(L.unhandleds[0])},ws.push(function z(){N(),ws.splice(ws.indexOf(z),1)}),++Er,Ts(function(){--Er==0&&fo()},[])},D.finalize),c()},m,g,_)})}}),Kr&&(Kr.allSettled&&_t(wt,"allSettled",function(){var c=he.apply(null,arguments).map(Pi);return new wt(function(m){c.length===0&&m([]);var g=c.length,_=new Array(g);c.forEach(function(w,A){return wt.resolve(w).then(function(D){return _[A]={status:"fulfilled",value:D}},function(D){return _[A]={status:"rejected",reason:D}}).then(function(){return--g||m(_)})})})}),Kr.any&&typeof AggregateError<"u"&&_t(wt,"any",function(){var c=he.apply(null,arguments).map(Pi);return new wt(function(m,g){c.length===0&&g(new AggregateError([]));var _=c.length,w=new Array(_);c.forEach(function(A,D){return wt.resolve(A).then(function(N){return m(N)},function(N){w[D]=N,--_||g(new AggregateError(w))})})})}),Kr.withResolvers&&(wt.withResolvers=Kr.withResolvers));var $e={awaits:0,echoes:0,id:0},As=0,Sr=[],Rs=0,rr=0,Qr=0;function ke(c,m,g,_){var w=Dt,A=Object.create(w);return A.parent=w,A.ref=0,A.global=!1,A.id=++Qr,gn.env,A.env=fi?{Promise:wt,PromiseProp:{value:wt,configurable:!0,writable:!0},all:wt.all,race:wt.race,allSettled:wt.allSettled,any:wt.any,resolve:wt.resolve,reject:wt.reject}:{},m&&b(A,m),++w.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},_=jn(A,c,g,_),A.ref===0&&A.finalize(),_}function Ke(){return $e.id||($e.id=++As),++$e.awaits,$e.echoes+=zn,$e.id}function Vn(){return!!$e.awaits&&(--$e.awaits==0&&($e.id=0),$e.echoes=$e.awaits*zn,!0)}function Pi(c){return $e.echoes&&c&&c.constructor===Kr?(Ke(),c.then(function(m){return Vn(),m},function(m){return Vn(),Re(m)})):c}function Jl(){var c=Sr[Sr.length-1];Sr.pop(),Yr(c,!1)}function Yr(c,m){var g,_=Dt;(m?!$e.echoes||Rs++&&c===Dt:!Rs||--Rs&&c===Dt)||queueMicrotask(m?(function(w){++rr,$e.echoes&&--$e.echoes!=0||($e.echoes=$e.awaits=$e.id=0),Sr.push(Dt),Yr(w,!0)}).bind(null,c):Jl),c!==Dt&&(Dt=c,_===gn&&(gn.env=mo()),fi&&(g=gn.env.Promise,m=c.env,(_.global||c.global)&&(Object.defineProperty(h,"Promise",m.PromiseProp),g.all=m.all,g.race=m.race,g.resolve=m.resolve,g.reject=m.reject,m.allSettled&&(g.allSettled=m.allSettled),m.any&&(g.any=m.any))))}function mo(){var c=h.Promise;return fi?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function jn(c,m,g,_,w){var A=Dt;try{return Yr(c,!0),m(g,_,w)}finally{Yr(A,!1)}}function Cs(c,m,g,_){return typeof c!="function"?c:function(){var w=Dt;g&&Ke(),Yr(m,!0);try{return c.apply(this,arguments)}finally{Yr(w,!1),_&&queueMicrotask(Vn)}}}function wr(c){Promise===Kr&&$e.echoes===0?Rs===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}(""+yr).indexOf("[native code]")===-1&&(Ke=Vn=Se);var Re=wt.reject,yn="",Sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",nn="String expected.",pi=[],Wi="__dbnames",Ar="readonly",Rr="readwrite";function Xr(c,m){return c?m?function(){return c.apply(this,arguments)&&m.apply(this,arguments)}:c:m}var la={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ts(c){return typeof c!="string"||/\./.test(c)?function(m){return m}:function(m){return m[c]===void 0&&c in m&&delete(m=M(m))[c],m}}function po(){throw Ot.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ae(c,m){try{var g=ir(c),_=ir(m);if(g!==_)return g==="Array"?1:_==="Array"?-1:g==="binary"?1:_==="binary"?-1:g==="string"?1:_==="string"?-1:g==="Date"?1:_!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return m<c?1:c<m?-1:0;case"binary":return(function(w,A){for(var D=w.length,N=A.length,L=D<N?D:N,z=0;z<L;++z)if(w[z]!==A[z])return w[z]<A[z]?-1:1;return D===N?0:D<N?-1:1})(rn(c),rn(m));case"Array":return(function(w,A){for(var D=w.length,N=A.length,L=D<N?D:N,z=0;z<L;++z){var Y=ae(w[z],A[z]);if(Y!==0)return Y}return D===N?0:D<N?-1:1})(c,m)}}catch{}return NaN}function ir(c){var m=typeof c;return m!="object"?m:ArrayBuffer.isView(c)?"binary":(c=We(c),c==="ArrayBuffer"?"binary":c)}function rn(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}function sn(c,m,g){var _=c.schema.yProps;return _?(m&&0<g.numFailures&&(m=m.filter(function(w,A){return!g.failures[A]})),Promise.all(_.map(function(w){return w=w.updatesTable,m?c.db.table(w).where("k").anyOf(m).delete():c.db.table(w).clear()})).then(function(){return g})):g}var Cr=(ua.prototype.execute=function(c){var m=this["@@propmod"];if(m.add!==void 0){var g=m.add;if(v(g))return l(l([],v(c)?c:[],!0),g).sort();if(typeof g=="number")return(Number(c)||0)+g;if(typeof g=="bigint")try{return BigInt(c)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(m.remove!==void 0){var _=m.remove;if(v(_))return v(c)?c.filter(function(w){return!_.includes(w)}).sort():[];if(typeof _=="number")return Number(c)-_;if(typeof _=="bigint")try{return BigInt(c)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return g=(g=m.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof c=="string"&&c.startsWith(g)?m.replacePrefix[1]+c.substring(g.length):c},ua);function ua(c){this["@@propmod"]=c}function Ie(c,m){for(var g=d(m),_=g.length,w=!1,A=0;A<_;++A){var D=g[A],N=m[D],L=te(c,D);N instanceof Cr?(V(c,D,N.execute(L)),w=!0):L!==N&&(V(c,D,N),w=!0)}return w}var es=(pe.prototype._trans=function(c,m,g){var _=this._tx||Dt.trans,w=this.name,A=Mn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function D(z,Y,U){if(!U.schema[w])throw new Ot.NotFound("Table "+w+" not part of transaction");return m(U.idbtrans,U)}var N=Qn();try{var L=_&&_.db._novip===this.db._novip?_===Dt.trans?_._promise(c,D,g):ke(function(){return _._promise(c,D,g)},{trans:_,transless:Dt.transless||Dt}):(function z(Y,U,$,j){if(Y.idbdb&&(Y._state.openComplete||Dt.letThrough||Y._vip)){var K=Y._createTransaction(U,$,Y._dbSchema);try{K.create(),Y._state.PR1398_maxLoop=3}catch(G){return G.name===de.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return z(Y,U,$,j)})):Re(G)}return K._promise(U,function(G,X){return ke(function(){return Dt.trans=K,j(G,X,K)})}).then(function(G){if(U==="readwrite")try{K.idbtrans.commit()}catch{}return U==="readonly"?G:K._completion.then(function(){return G})})}if(Y._state.openComplete)return Re(new Ot.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return Re(new Ot.DatabaseClosed);Y.open().catch(Se)}return Y._state.dbReadyPromise.then(function(){return z(Y,U,$,j)})})(this.db,c,[this.name],D);return A&&(L._consoleTask=A,L=L.catch(function(z){return console.trace(z),Re(z)})),L}finally{N&&Tr()}},pe.prototype.get=function(c,m){var g=this;return c&&c.constructor===Object?this.where(c).first(m):c==null?Re(new Ot.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return g.core.get({trans:_,key:c}).then(function(w){return g.hook.reading.fire(w)})}).then(m)},pe.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(v(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var m=d(c);if(m.length===1)return this.where(m[0]).equals(c[m[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&m.every(function(z){return 0<=N.keyPath.indexOf(z)})){for(var L=0;L<m.length;++L)if(m.indexOf(N.keyPath[L])===-1)return!1;return!0}return!1}).sort(function(N,L){return N.keyPath.length-L.keyPath.length})[0];if(g&&this.db._maxKey!==yn){var A=g.keyPath.slice(0,m.length);return this.where(A).equals(A.map(function(L){return c[L]}))}!g&&Mn&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var _=this.schema.idxByName;function w(N,L){return ae(N,L)===0}var D=m.reduce(function(U,L){var z=U[0],Y=U[1],U=_[L],$=c[L];return[z||U,z||!U?Xr(Y,U&&U.multi?function(j){return j=te(j,L),v(j)&&j.some(function(K){return w($,K)})}:function(j){return w($,te(j,L))}):Y]},[null,null]),A=D[0],D=D[1];return A?this.where(A.name).equals(c[A.keyPath]).filter(D):g?this.filter(D):this.where(m).equals("")},pe.prototype.filter=function(c){return this.toCollection().and(c)},pe.prototype.count=function(c){return this.toCollection().count(c)},pe.prototype.offset=function(c){return this.toCollection().offset(c)},pe.prototype.limit=function(c){return this.toCollection().limit(c)},pe.prototype.each=function(c){return this.toCollection().each(c)},pe.prototype.toArray=function(c){return this.toCollection().toArray(c)},pe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pe.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,v(c)?"[".concat(c.join("+"),"]"):c))},pe.prototype.reverse=function(){return this.toCollection().reverse()},pe.prototype.mapToClass=function(c){var m,g=this.db,_=this.name;function w(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=c).prototype instanceof po&&((function(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Y(){this.constructor=L}r(L,z),L.prototype=z===null?Object.create(z):(Y.prototype=z.prototype,new Y)})(w,m=c),Object.defineProperty(w.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),w.prototype.table=function(){return _},c=w);for(var A=new Set,D=c.prototype;D;D=T(D))Object.getOwnPropertyNames(D).forEach(function(L){return A.add(L)});function N(L){if(!L)return L;var z,Y=Object.create(c.prototype);for(z in L)if(!A.has(z))try{Y[z]=L[z]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),c},pe.prototype.defineClass=function(){return this.mapToClass(function(c){b(this,c)})},pe.prototype.add=function(c,m){var g=this,_=this.schema.primKey,w=_.auto,A=_.keyPath,D=c;return A&&w&&(D=ts(A)(c)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"add",keys:m!=null?[m]:null,values:[D]})}).then(function(N){return N.numFailures?wt.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{V(c,A,N)}catch{}return N})},pe.prototype.upsert=function(c,m){var g=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return g.core.get({trans:w,key:c}).then(function(A){var D=A??{};return Ie(D,m),_&&V(D,_,c),g.core.mutate({trans:w,type:"put",values:[D],keys:[c],upsert:!0,updates:{keys:[c],changeSpecs:[m]}}).then(function(N){return N.numFailures?wt.reject(N.failures[0]):!!A})})})},pe.prototype.update=function(c,m){return typeof c!="object"||v(c)?this.where(":id").equals(c).modify(m):(c=te(c,this.schema.primKey.keyPath),c===void 0?Re(new Ot.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(m))},pe.prototype.put=function(c,m){var g=this,_=this.schema.primKey,w=_.auto,A=_.keyPath,D=c;return A&&w&&(D=ts(A)(c)),this._trans("readwrite",function(N){return g.core.mutate({trans:N,type:"put",values:[D],keys:m!=null?[m]:null})}).then(function(N){return N.numFailures?wt.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{V(c,A,N)}catch{}return N})},pe.prototype.delete=function(c){var m=this;return this._trans("readwrite",function(g){return m.core.mutate({trans:g,type:"delete",keys:[c]}).then(function(_){return sn(m,[c],_)}).then(function(_){return _.numFailures?wt.reject(_.failures[0]):void 0})})},pe.prototype.clear=function(){var c=this;return this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"deleteRange",range:la}).then(function(g){return sn(c,null,g)})}).then(function(m){return m.numFailures?wt.reject(m.failures[0]):void 0})},pe.prototype.bulkGet=function(c){var m=this;return this._trans("readonly",function(g){return m.core.getMany({keys:c,trans:g}).then(function(_){return _.map(function(w){return m.hook.reading.fire(w)})})})},pe.prototype.bulkAdd=function(c,m,g){var _=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(D){var z=_.schema.primKey,N=z.auto,z=z.keyPath;if(z&&w)throw new Ot.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==c.length)throw new Ot.InvalidArgument("Arguments objects and keys must have the same length");var L=c.length,z=z&&N?c.map(ts(z)):c;return _.core.mutate({trans:D,type:"add",keys:w,values:z,wantResults:A}).then(function(K){var U=K.numFailures,$=K.results,j=K.lastResult,K=K.failures;if(U===0)return A?$:j;throw new $t("".concat(_.name,".bulkAdd(): ").concat(U," of ").concat(L," operations failed"),K)})})},pe.prototype.bulkPut=function(c,m,g){var _=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(D){var z=_.schema.primKey,N=z.auto,z=z.keyPath;if(z&&w)throw new Ot.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==c.length)throw new Ot.InvalidArgument("Arguments objects and keys must have the same length");var L=c.length,z=z&&N?c.map(ts(z)):c;return _.core.mutate({trans:D,type:"put",keys:w,values:z,wantResults:A}).then(function(K){var U=K.numFailures,$=K.results,j=K.lastResult,K=K.failures;if(U===0)return A?$:j;throw new $t("".concat(_.name,".bulkPut(): ").concat(U," of ").concat(L," operations failed"),K)})})},pe.prototype.bulkUpdate=function(c){var m=this,g=this.core,_=c.map(function(D){return D.key}),w=c.map(function(D){return D.changes}),A=[];return this._trans("readwrite",function(D){return g.getMany({trans:D,keys:_,cache:"clone"}).then(function(N){var L=[],z=[];c.forEach(function(U,$){var j=U.key,K=U.changes,G=N[$];if(G){for(var X=0,tt=Object.keys(K);X<tt.length;X++){var rt=tt[X],lt=K[rt];if(rt===m.schema.primKey.keyPath){if(ae(lt,j)!==0)throw new Ot.Constraint("Cannot update primary key in bulkUpdate()")}else V(G,rt,lt)}A.push($),L.push(j),z.push(G)}});var Y=L.length;return g.mutate({trans:D,type:"put",keys:L,values:z,updates:{keys:_,changeSpecs:w}}).then(function(U){var $=U.numFailures,j=U.failures;if($===0)return Y;for(var K=0,G=Object.keys(j);K<G.length;K++){var X,tt=G[K],rt=A[Number(tt)];rt!=null&&(X=j[tt],delete j[tt],j[rt]=X)}throw new $t("".concat(m.name,".bulkUpdate(): ").concat($," of ").concat(Y," operations failed"),j)})})})},pe.prototype.bulkDelete=function(c){var m=this,g=c.length;return this._trans("readwrite",function(_){return m.core.mutate({trans:_,type:"delete",keys:c}).then(function(w){return sn(m,c,w)})}).then(function(D){var w=D.numFailures,A=D.lastResult,D=D.failures;if(w===0)return A;throw new $t("".concat(m.name,".bulkDelete(): ").concat(w," of ").concat(g," operations failed"),D)})},pe);function pe(){}function $r(c){function m(D,N){if(N){for(var L=arguments.length,z=new Array(L-1);--L;)z[L-1]=arguments[L];return g[D].subscribe.apply(null,z),c}if(typeof D=="string")return g[D]}var g={};m.addEventType=A;for(var _=1,w=arguments.length;_<w;++_)A(arguments[_]);return m;function A(D,N,L){if(typeof D!="object"){var z;N=N||cn;var Y={subscribers:[],fire:L=L||Se,subscribe:function(U){Y.subscribers.indexOf(U)===-1&&(Y.subscribers.push(U),Y.fire=N(Y.fire,U))},unsubscribe:function(U){Y.subscribers=Y.subscribers.filter(function($){return $!==U}),Y.fire=Y.subscribers.reduce(N,L)}};return g[D]=m[D]=Y}d(z=D).forEach(function(U){var $=z[U];if(v($))A(U,z[U][0],z[U][1]);else{if($!=="asap")throw new Ot.InvalidArgument("Invalid event config");var j=A(U,ci,function(){for(var K=arguments.length,G=new Array(K);K--;)G[K]=arguments[K];j.subscribers.forEach(function(X){Ne(function(){X.apply(null,G)})})})}})}}function wn(c,m){return Rt(m).from({prototype:c}),m}function Jr(c,m){return!(c.filter||c.algorithm||c.or)&&(m?c.justLimit:!c.replayFilter)}function ca(c,m){c.filter=Xr(c.filter,m)}function Is(c,m,g){var _=c.replayFilter;c.replayFilter=_?function(){return Xr(_(),m())}:m,c.justLimit=g&&!_}function Zr(c,m){if(c.isPrimKey)return m.primaryKey;var g=m.getIndexByKeyPath(c.index);if(!g)throw new Ot.Schema("KeyPath "+c.index+" on object store "+m.name+" is not indexed");return g}function go(c,m,g){var _=Zr(c,m.schema);return m.openCursor({trans:g,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:_,range:c.range}})}function Wr(c,m,g,_){var w=c.replayFilter?Xr(c.filter,c.replayFilter()):c.filter;if(c.or){var A={},D=function(N,L,z){var Y,U;w&&!w(L,z,function($){return L.stop($)},function($){return L.fail($)})||((U=""+(Y=L.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Y)),O(A,U)||(A[U]=!0,m(N,L,z)))};return Promise.all([c.or._iterate(D,g),Yn(go(c,_,g),c.algorithm,D,!c.keysOnly&&c.valueMapper)])}return Yn(go(c,_,g),Xr(c.algorithm,w),m,!c.keysOnly&&c.valueMapper)}function Yn(c,m,g,_){var w=Me(_?function(A,D,N){return g(_(A),D,N)}:g);return c.then(function(A){if(A)return A.start(function(){var D=function(){return A.continue()};m&&!m(A,function(N){return D=N},function(N){A.stop(N),D=Se},function(N){A.fail(N),D=Se})||w(A.value,A,function(N){return D=N}),D()})})}var Zo=(me.prototype._read=function(c,m){var g=this._ctx;return g.error?g.table._trans(null,Re.bind(null,g.error)):g.table._trans("readonly",c).then(m)},me.prototype._write=function(c){var m=this._ctx;return m.error?m.table._trans(null,Re.bind(null,m.error)):m.table._trans("readwrite",c,"locked")},me.prototype._addAlgorithm=function(c){var m=this._ctx;m.algorithm=Xr(m.algorithm,c)},me.prototype._iterate=function(c,m){return Wr(this._ctx,c,m,this._ctx.table.core)},me.prototype.clone=function(c){var m=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return c&&b(g,c),m._ctx=g,m},me.prototype.raw=function(){return this._ctx.valueMapper=null,this},me.prototype.each=function(c){var m=this._ctx;return this._read(function(g){return Wr(m,c,g,m.table.core)})},me.prototype.count=function(c){var m=this;return this._read(function(g){var _=m._ctx,w=_.table.core;if(Jr(_,!0))return w.count({trans:g,query:{index:Zr(_,w.schema),range:_.range}}).then(function(D){return Math.min(D,_.limit)});var A=0;return Wr(_,function(){return++A,!1},g,w).then(function(){return A})}).then(c)},me.prototype.sortBy=function(c,m){var g=c.split(".").reverse(),_=g[0],w=g.length-1;function A(L,z){return z?A(L[g[z]],z-1):L[_]}var D=this._ctx.dir==="next"?1:-1;function N(L,z){return ae(A(L,w),A(z,w))*D}return this.toArray(function(L){return L.sort(N)}).then(m)},me.prototype.toArray=function(c){var m=this;return this._read(function(g){var _=m._ctx;if(_.dir==="next"&&Jr(_,!0)&&0<_.limit){var w=_.valueMapper,A=Zr(_,_.table.core.schema);return _.table.core.query({trans:g,limit:_.limit,values:!0,query:{index:A,range:_.range}}).then(function(N){return N=N.result,w?N.map(w):N})}var D=[];return Wr(_,function(N){return D.push(N)},g,_.table.core).then(function(){return D})},c)},me.prototype.offset=function(c){var m=this._ctx;return c<=0||(m.offset+=c,Jr(m)?Is(m,function(){var g=c;return function(_,w){return g===0||(g===1?--g:w(function(){_.advance(g),g=0}),!1)}}):Is(m,function(){var g=c;return function(){return--g<0}})),this},me.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),Is(this._ctx,function(){var m=c;return function(g,_,w){return--m<=0&&_(w),0<=m}},!0),this},me.prototype.until=function(c,m){return ca(this._ctx,function(g,_,w){return!c(g.value)||(_(w),m)}),this},me.prototype.first=function(c){return this.limit(1).toArray(function(m){return m[0]}).then(c)},me.prototype.last=function(c){return this.reverse().first(c)},me.prototype.filter=function(c){var m;return ca(this._ctx,function(g){return c(g.value)}),(m=this._ctx).isMatch=Xr(m.isMatch,c),this},me.prototype.and=function(c){return this.filter(c)},me.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},me.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},me.prototype.desc=function(){return this.reverse()},me.prototype.eachKey=function(c){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,_){c(_.key,_)})},me.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},me.prototype.eachPrimaryKey=function(c){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,_){c(_.primaryKey,_)})},me.prototype.keys=function(c){var m=this._ctx;m.keysOnly=!m.isMatch;var g=[];return this.each(function(_,w){g.push(w.key)}).then(function(){return g}).then(c)},me.prototype.primaryKeys=function(c){var m=this._ctx;if(m.dir==="next"&&Jr(m,!0)&&0<m.limit)return this._read(function(_){var w=Zr(m,m.table.core.schema);return m.table.core.query({trans:_,values:!1,limit:m.limit,query:{index:w,range:m.range}})}).then(function(_){return _.result}).then(c);m.keysOnly=!m.isMatch;var g=[];return this.each(function(_,w){g.push(w.primaryKey)}).then(function(){return g}).then(c)},me.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},me.prototype.firstKey=function(c){return this.limit(1).keys(function(m){return m[0]}).then(c)},me.prototype.lastKey=function(c){return this.reverse().firstKey(c)},me.prototype.distinct=function(){var c=this._ctx,c=c.index&&c.table.schema.idxByName[c.index];if(!c||!c.multi)return this;var m={};return ca(this._ctx,function(w){var _=w.primaryKey.toString(),w=O(m,_);return m[_]=!0,!w}),this},me.prototype.modify=function(c){var m=this,g=this._ctx;return this._write(function(_){var w=typeof c=="function"?c:function(G){return Ie(G,c)},A=g.table.core,z=A.schema.primaryKey,D=z.outbound,N=z.extractKey,L=200,z=m.db._options.modifyChunkSize;z&&(L=typeof z=="object"?z[A.name]||z["*"]||200:z);function Y(G,rt){var tt=rt.failures,rt=rt.numFailures;$+=G-rt;for(var lt=0,dt=d(tt);lt<dt.length;lt++){var bt=dt[lt];U.push(tt[bt])}}var U=[],$=0,j=[],K=c===ha;return m.clone().primaryKeys().then(function(G){function X(rt){var lt=Math.min(L,G.length-rt),dt=G.slice(rt,rt+lt);return(K?Promise.resolve([]):A.getMany({trans:_,keys:dt,cache:"immutable"})).then(function(bt){var It=[],yt=[],St=D?[]:null,Ct=K?dt:[];if(!K)for(var vt=0;vt<lt;++vt){var Mt=bt[vt],qt={value:M(Mt),primKey:G[rt+vt]};w.call(qt,qt.value,qt)!==!1&&(qt.value==null?Ct.push(G[rt+vt]):D||ae(N(Mt),N(qt.value))===0?(yt.push(qt.value),D&&St.push(G[rt+vt])):(Ct.push(G[rt+vt]),It.push(qt.value)))}return Promise.resolve(0<It.length&&A.mutate({trans:_,type:"add",values:It}).then(function(Zt){for(var oe in Zt.failures)Ct.splice(parseInt(oe),1);Y(It.length,Zt)})).then(function(){return(0<yt.length||tt&&typeof c=="object")&&A.mutate({trans:_,type:"put",keys:St,values:yt,criteria:tt,changeSpec:typeof c!="function"&&c,isAdditionalChunk:0<rt}).then(function(Zt){return Y(yt.length,Zt)})}).then(function(){return(0<Ct.length||tt&&K)&&A.mutate({trans:_,type:"delete",keys:Ct,criteria:tt,isAdditionalChunk:0<rt}).then(function(Zt){return sn(g.table,Ct,Zt)}).then(function(Zt){return Y(Ct.length,Zt)})}).then(function(){return G.length>rt+lt&&X(rt+L)})})}var tt=Jr(g)&&g.limit===1/0&&(typeof c!="function"||K)&&{index:g.index,range:g.range};return X(0).then(function(){if(0<U.length)throw new Qt("Error modifying one or more objects",U,$,j);return G.length})})})},me.prototype.delete=function(){var c=this._ctx,m=c.range;return!Jr(c)||c.table.schema.yProps||!c.isPrimKey&&m.type!==3?this.modify(ha):this._write(function(g){var _=c.table.core.schema.primaryKey,w=m;return c.table.core.count({trans:g,query:{index:_,range:w}}).then(function(A){return c.table.core.mutate({trans:g,type:"deleteRange",range:w}).then(function(L){var N=L.failures,L=L.numFailures;if(L)throw new Qt("Could not delete some values",Object.keys(N).map(function(z){return N[z]}),A-L);return A-L})})})},me);function me(){}var ha=function(c,m){return m.value=null};function fa(c,m){return c<m?-1:c===m?0:1}function Wo(c,m){return m<c?-1:c===m?0:1}function hn(c,m,g){return c=c instanceof Ui?new c.Collection(c):c,c._ctx.error=new(g||TypeError)(m),c}function ti(c){return new c.Collection(c,function(){return mr("")}).limit(0)}function sr(c,m,g,_){var w,A,D,N,L,z,Y,U=g.length;if(!g.every(function(K){return typeof K=="string"}))return hn(c,nn);function $(K){w=K==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=K==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},D=K==="next"?fa:Wo;var G=g.map(function(X){return{lower:A(X),upper:w(X)}}).sort(function(X,tt){return D(X.lower,tt.lower)});N=G.map(function(X){return X.upper}),L=G.map(function(X){return X.lower}),Y=(z=K)==="next"?"":_}$("next"),c=new c.Collection(c,function(){return Ir(N[0],L[U-1]+_)}),c._ondirectionchange=function(K){$(K)};var j=0;return c._addAlgorithm(function(K,G,X){var tt=K.key;if(typeof tt!="string")return!1;var rt=A(tt);if(m(rt,L,j))return!0;for(var lt=null,dt=j;dt<U;++dt){var bt=(function(It,yt,St,Ct,vt,Mt){for(var qt=Math.min(It.length,Ct.length),Zt=-1,oe=0;oe<qt;++oe){var Hn=yt[oe];if(Hn!==Ct[oe])return vt(It[oe],St[oe])<0?It.substr(0,oe)+St[oe]+St.substr(oe+1):vt(It[oe],Ct[oe])<0?It.substr(0,oe)+Ct[oe]+St.substr(oe+1):0<=Zt?It.substr(0,Zt)+yt[Zt]+St.substr(Zt+1):null;vt(It[oe],Hn)<0&&(Zt=oe)}return qt<Ct.length&&Mt==="next"?It+St.substr(It.length):qt<It.length&&Mt==="prev"?It.substr(0,St.length):Zt<0?null:It.substr(0,Zt)+Ct[Zt]+St.substr(Zt+1)})(tt,rt,N[dt],L[dt],D,z);bt===null&&lt===null?j=dt+1:(lt===null||0<D(lt,bt))&&(lt=bt)}return G(lt!==null?function(){K.continue(lt+Y)}:X),!1}),c}function Ir(c,m,g,_){return{type:2,lower:c,upper:m,lowerOpen:g,upperOpen:_}}function mr(c){return{type:1,lower:c,upper:c}}var Ui=(Object.defineProperty(Pe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pe.prototype.between=function(c,m,g,_){g=g!==!1,_=_===!0;try{return 0<this._cmp(c,m)||this._cmp(c,m)===0&&(g||_)&&(!g||!_)?ti(this):new this.Collection(this,function(){return Ir(c,m,!g,!_)})}catch{return hn(this,Sn)}},Pe.prototype.equals=function(c){return c==null?hn(this,Sn):new this.Collection(this,function(){return mr(c)})},Pe.prototype.above=function(c){return c==null?hn(this,Sn):new this.Collection(this,function(){return Ir(c,void 0,!0)})},Pe.prototype.aboveOrEqual=function(c){return c==null?hn(this,Sn):new this.Collection(this,function(){return Ir(c,void 0,!1)})},Pe.prototype.below=function(c){return c==null?hn(this,Sn):new this.Collection(this,function(){return Ir(void 0,c,!1,!0)})},Pe.prototype.belowOrEqual=function(c){return c==null?hn(this,Sn):new this.Collection(this,function(){return Ir(void 0,c)})},Pe.prototype.startsWith=function(c){return typeof c!="string"?hn(this,nn):this.between(c,c+yn,!0,!0)},Pe.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):sr(this,function(m,g){return m.indexOf(g[0])===0},[c],yn)},Pe.prototype.equalsIgnoreCase=function(c){return sr(this,function(m,g){return m===g[0]},[c],"")},Pe.prototype.anyOfIgnoreCase=function(){var c=he.apply(ce,arguments);return c.length===0?ti(this):sr(this,function(m,g){return g.indexOf(m)!==-1},c,"")},Pe.prototype.startsWithAnyOfIgnoreCase=function(){var c=he.apply(ce,arguments);return c.length===0?ti(this):sr(this,function(m,g){return g.some(function(_){return m.indexOf(_)===0})},c,yn)},Pe.prototype.anyOf=function(){var c=this,m=he.apply(ce,arguments),g=this._cmp;try{m.sort(g)}catch{return hn(this,Sn)}if(m.length===0)return ti(this);var _=new this.Collection(this,function(){return Ir(m[0],m[m.length-1])});_._ondirectionchange=function(A){g=A==="next"?c._ascending:c._descending,m.sort(g)};var w=0;return _._addAlgorithm(function(A,D,N){for(var L=A.key;0<g(L,m[w]);)if(++w===m.length)return D(N),!1;return g(L,m[w])===0||(D(function(){A.continue(m[w])}),!1)}),_},Pe.prototype.notEqual=function(c){return this.inAnyRange([[-1/0,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pe.prototype.noneOf=function(){var c=he.apply(ce,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return hn(this,Sn)}var m=c.reduce(function(g,_){return g?g.concat([[g[g.length-1][1],_]]):[[-1/0,_]]},null);return m.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Pe.prototype.inAnyRange=function(tt,m){var g=this,_=this._cmp,w=this._ascending,A=this._descending,D=this._min,N=this._max;if(tt.length===0)return ti(this);if(!tt.every(function(rt){return rt[0]!==void 0&&rt[1]!==void 0&&w(rt[0],rt[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ot.InvalidArgument);var L=!m||m.includeLowers!==!1,z=m&&m.includeUppers===!0,Y,U=w;function $(rt,lt){return U(rt[0],lt[0])}try{(Y=tt.reduce(function(rt,lt){for(var dt=0,bt=rt.length;dt<bt;++dt){var It=rt[dt];if(_(lt[0],It[1])<0&&0<_(lt[1],It[0])){It[0]=D(It[0],lt[0]),It[1]=N(It[1],lt[1]);break}}return dt===bt&&rt.push(lt),rt},[])).sort($)}catch{return hn(this,Sn)}var j=0,K=z?function(rt){return 0<w(rt,Y[j][1])}:function(rt){return 0<=w(rt,Y[j][1])},G=L?function(rt){return 0<A(rt,Y[j][0])}:function(rt){return 0<=A(rt,Y[j][0])},X=K,tt=new this.Collection(this,function(){return Ir(Y[0][0],Y[Y.length-1][1],!L,!z)});return tt._ondirectionchange=function(rt){U=rt==="next"?(X=K,w):(X=G,A),Y.sort($)},tt._addAlgorithm(function(rt,lt,dt){for(var bt,It=rt.key;X(It);)if(++j===Y.length)return lt(dt),!1;return!K(bt=It)&&!G(bt)||(g._cmp(It,Y[j][1])===0||g._cmp(It,Y[j][0])===0||lt(function(){U===w?rt.continue(Y[j][0]):rt.continue(Y[j][1])}),!1)}),tt},Pe.prototype.startsWithAnyOf=function(){var c=he.apply(ce,arguments);return c.every(function(m){return typeof m=="string"})?c.length===0?ti(this):this.inAnyRange(c.map(function(m){return[m,m+yn]})):hn(this,"startsWithAnyOf() only works with strings")},Pe);function Pe(){}function Bn(c){return Me(function(m){return gi(m),c(m.target.error),!1})}function gi(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var Dr="storagemutated",pr="x-storagemutated-1",vn=$r(null,Dr),Ds=(fe.prototype._lock=function(){return zt(!Dt.global),++this._reculock,this._reculock!==1||Dt.global||(Dt.lockOwnerFor=this),this},fe.prototype._unlock=function(){if(zt(!Dt.global),--this._reculock==0)for(Dt.global||(Dt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var c=this._blockedFuncs.shift();try{jn(c[1],c[0])}catch{}}return this},fe.prototype._locked=function(){return this._reculock&&Dt.lockOwnerFor!==this},fe.prototype.create=function(c){var m=this;if(!this.mode)return this;var g=this.db.idbdb,_=this.db._state.dbOpenError;if(zt(!this.idbtrans),!c&&!g)switch(_&&_.name){case"DatabaseClosedError":throw new Ot.DatabaseClosed(_);case"MissingAPIError":throw new Ot.MissingAPI(_.message,_);default:throw new Ot.OpenFailed(_)}if(!this.active)throw new Ot.TransactionInactive;return zt(this._completion._state===null),(c=this.idbtrans=c||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Me(function(w){gi(w),m._reject(c.error)}),c.onabort=Me(function(w){gi(w),m.active&&m._reject(new Ot.Abort(c.error)),m.active=!1,m.on("abort").fire(w)}),c.oncomplete=Me(function(){m.active=!1,m._resolve(),"mutatedParts"in c&&vn.storagemutated.fire(c.mutatedParts)}),this},fe.prototype._promise=function(c,m,g){var _=this;if(c==="readwrite"&&this.mode!=="readwrite")return Re(new Ot.ReadOnly("Transaction is readonly"));if(!this.active)return Re(new Ot.TransactionInactive);if(this._locked())return new wt(function(A,D){_._blockedFuncs.push([function(){_._promise(c,m,g).then(A,D)},Dt])});if(g)return ke(function(){var A=new wt(function(D,N){_._lock();var L=m(D,N,_);L&&L.then&&L.then(D,N)});return A.finally(function(){return _._unlock()}),A._lib=!0,A});var w=new wt(function(A,D){var N=m(A,D,_);N&&N.then&&N.then(A,D)});return w._lib=!0,w},fe.prototype._root=function(){return this.parent?this.parent._root():this},fe.prototype.waitFor=function(c){var m,g=this._root(),_=wt.resolve(c);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return _}):(g._waitingFor=_,g._waitingQueue=[],m=g.idbtrans.objectStore(g.storeNames[0]),(function A(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(m.get(-1/0).onsuccess=A)})());var w=g._waitingFor;return new wt(function(A,D){_.then(function(N){return g._waitingQueue.push(Me(A.bind(null,N)))},function(N){return g._waitingQueue.push(Me(D.bind(null,N)))}).finally(function(){g._waitingFor===w&&(g._waitingFor=null)})})},fe.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ot.Abort))},fe.prototype.table=function(c){var m=this._memoizedTables||(this._memoizedTables={});if(O(m,c))return m[c];var g=this.schema[c];if(!g)throw new Ot.NotFound("Table "+c+" not part of transaction");return g=new this.db.Table(c,g,this),g.core=this.db.core.table(c),m[c]=g},fe);function fe(){}function Or(c,m,g,_,w,A,D,N){return{name:c,keyPath:m,unique:g,multi:_,auto:w,compound:A,src:(g&&!D?"&":"")+(_?"*":"")+(w?"++":"")+da(m),type:N}}function da(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function Li(c,m,g){return{name:c,primKey:m,indexes:g,mappedClass:null,idxByName:(_=function(w){return[w.name,w]},g.reduce(function(w,A,D){return D=_(A,D),D&&(w[D[0]]=D[1]),w},{}))};var _}var zi=function(c){try{return c.only([[]]),zi=function(){return[[]]},[[]]}catch{return zi=function(){return yn},yn}};function ji(c){return c==null?function(){}:typeof c=="string"?(m=c).split(".").length===1?function(g){return g[m]}:function(g){return te(g,m)}:function(g){return te(g,c)};var m}function yi(c){return[].slice.call(c)}var ei=0;function an(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function Bi(c,m,L){function _(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var j=X.lower,K=X.upper,G=X.lowerOpen,X=X.upperOpen;return j===void 0?K===void 0?null:m.upperBound(K,!!X):K===void 0?m.lowerBound(j,!!G):m.bound(j,K,!!G,!!X)}function w($){var j,K=$.name;return{name:K,schema:$,mutate:function(G){var X=G.trans,tt=G.type,rt=G.keys,lt=G.values,dt=G.range;return new Promise(function(bt,It){bt=Me(bt);var yt=X.objectStore(K),St=yt.keyPath==null,Ct=tt==="put"||tt==="add";if(!Ct&&tt!=="delete"&&tt!=="deleteRange")throw new Error("Invalid operation type: "+tt);var vt,Mt=(rt||lt||{length:1}).length;if(rt&&lt&&rt.length!==lt.length)throw new Error("Given keys array must have same length as given values array.");if(Mt===0)return bt({numFailures:0,failures:{},results:[],lastResult:void 0});function qt(Rn){++Hn,gi(Rn)}var Zt=[],oe=[],Hn=0;if(tt==="deleteRange"){if(dt.type===4)return bt({numFailures:Hn,failures:oe,results:[],lastResult:void 0});dt.type===3?Zt.push(vt=yt.clear()):Zt.push(vt=yt.delete(_(dt)))}else{var St=Ct?St?[lt,rt]:[lt,null]:[rt,null],Jt=St[0],An=St[1];if(Ct)for(var Je=0;Je<Mt;++Je)Zt.push(vt=An&&An[Je]!==void 0?yt[tt](Jt[Je],An[Je]):yt[tt](Jt[Je])),vt.onerror=qt;else for(Je=0;Je<Mt;++Je)Zt.push(vt=yt[tt](Jt[Je])),vt.onerror=qt}function To(Rn){Rn=Rn.target.result,Zt.forEach(function(kr,tu){return kr.error!=null&&(oe[tu]=kr.error)}),bt({numFailures:Hn,failures:oe,results:tt==="delete"?rt:Zt.map(function(kr){return kr.result}),lastResult:Rn})}vt.onerror=function(Rn){qt(Rn),To(Rn)},vt.onsuccess=To})},getMany:function(G){var X=G.trans,tt=G.keys;return new Promise(function(rt,lt){rt=Me(rt);for(var dt,bt=X.objectStore(K),It=tt.length,yt=new Array(It),St=0,Ct=0,vt=function(Zt){Zt=Zt.target,yt[Zt._pos]=Zt.result,++Ct===St&&rt(yt)},Mt=Bn(lt),qt=0;qt<It;++qt)tt[qt]!=null&&((dt=bt.get(tt[qt]))._pos=qt,dt.onsuccess=vt,dt.onerror=Mt,++St);St===0&&rt(yt)})},get:function(G){var X=G.trans,tt=G.key;return new Promise(function(rt,lt){rt=Me(rt);var dt=X.objectStore(K).get(tt);dt.onsuccess=function(bt){return rt(bt.target.result)},dt.onerror=Bn(lt)})},query:(j=z,function(G){return new Promise(function(X,tt){X=Me(X);var rt,lt,dt,St=G.trans,bt=G.values,It=G.limit,vt=G.query,yt=It===1/0?void 0:It,Ct=vt.index,vt=vt.range,St=St.objectStore(K),Ct=Ct.isPrimaryKey?St:St.index(Ct.name),vt=_(vt);if(It===0)return X({result:[]});j?((yt=bt?Ct.getAll(vt,yt):Ct.getAllKeys(vt,yt)).onsuccess=function(Mt){return X({result:Mt.target.result})},yt.onerror=Bn(tt)):(rt=0,lt=!bt&&"openKeyCursor"in Ct?Ct.openKeyCursor(vt):Ct.openCursor(vt),dt=[],lt.onsuccess=function(Mt){var qt=lt.result;return qt?(dt.push(bt?qt.value:qt.primaryKey),++rt===It?X({result:dt}):void qt.continue()):X({result:dt})},lt.onerror=Bn(tt))})}),openCursor:function(G){var X=G.trans,tt=G.values,rt=G.query,lt=G.reverse,dt=G.unique;return new Promise(function(bt,It){bt=Me(bt);var Ct=rt.index,yt=rt.range,St=X.objectStore(K),St=Ct.isPrimaryKey?St:St.index(Ct.name),Ct=lt?dt?"prevunique":"prev":dt?"nextunique":"next",vt=!tt&&"openKeyCursor"in St?St.openKeyCursor(_(yt),Ct):St.openCursor(_(yt),Ct);vt.onerror=Bn(It),vt.onsuccess=Me(function(Mt){var qt,Zt,oe,Hn,Jt=vt.result;Jt?(Jt.___id=++ei,Jt.done=!1,qt=Jt.continue.bind(Jt),Zt=(Zt=Jt.continuePrimaryKey)&&Zt.bind(Jt),oe=Jt.advance.bind(Jt),Hn=function(){throw new Error("Cursor not stopped")},Jt.trans=X,Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=function(){throw new Error("Cursor not started")},Jt.fail=Me(It),Jt.next=function(){var An=this,Je=1;return this.start(function(){return Je--?An.continue():An.stop()}).then(function(){return An})},Jt.start=function(An){function Je(){if(vt.result)try{An()}catch(Rn){Jt.fail(Rn)}else Jt.done=!0,Jt.start=function(){throw new Error("Cursor behind last entry")},Jt.stop()}var To=new Promise(function(Rn,kr){Rn=Me(Rn),vt.onerror=Bn(kr),Jt.fail=kr,Jt.stop=function(tu){Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=Hn,Rn(tu)}});return vt.onsuccess=Me(function(Rn){vt.onsuccess=Je,Je()}),Jt.continue=qt,Jt.continuePrimaryKey=Zt,Jt.advance=oe,Je(),To},bt(Jt)):bt(null)},It)})},count:function(G){var X=G.query,tt=G.trans,rt=X.index,lt=X.range;return new Promise(function(dt,bt){var It=tt.objectStore(K),yt=rt.isPrimaryKey?It:It.index(rt.name),It=_(lt),yt=It?yt.count(It):yt.count();yt.onsuccess=Me(function(St){return dt(St.target.result)}),yt.onerror=Bn(bt)})}}}var A,D,N,Y=(D=L,N=yi((A=c).objectStoreNames),{schema:{name:A.name,tables:N.map(function($){return D.objectStore($)}).map(function($){var j=$.keyPath,X=$.autoIncrement,K=v(j),G={},X={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:j==null,compound:K,keyPath:j,autoIncrement:X,unique:!0,extractKey:ji(j)},indexes:yi($.indexNames).map(function(tt){return $.index(tt)}).map(function(dt){var rt=dt.name,lt=dt.unique,bt=dt.multiEntry,dt=dt.keyPath,bt={name:rt,compound:v(dt),keyPath:dt,unique:lt,multiEntry:bt,extractKey:ji(dt)};return G[an(dt)]=bt}),getIndexByKeyPath:function(tt){return G[an(tt)]}};return G[":id"]=X.primaryKey,j!=null&&(G[an(j)]=X.primaryKey),X})},hasGetAll:0<N.length&&"getAll"in D.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),L=Y.schema,z=Y.hasGetAll,Y=L.tables.map(w),U={};return Y.forEach(function($){return U[$.name]=$}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function($){if(!U[$])throw new Error("Table '".concat($,"' not found"));return U[$]},MIN_KEY:-1/0,MAX_KEY:zi(m),schema:L}}function vi(c,m,g,_){var w=g.IDBKeyRange;return g.indexedDB,{dbcore:(_=Bi(m,w,_),c.dbcore.reduce(function(A,D){return D=D.create,s(s({},A),D(A))},_))}}function ni(c,_){var g=_.db,_=vi(c._middlewares,g,c._deps,_);c.core=_.dbcore,c.tables.forEach(function(w){var A=w.name;c.core.schema.tables.some(function(D){return D.name===A})&&(w.core=c.core.table(A),c[A]instanceof c.Table&&(c[A].core=w.core))})}function ns(c,m,g,_){g.forEach(function(w){var A=_[w];m.forEach(function(D){var N=(function L(z,Y){return Et(z,Y)||(z=T(z))&&L(z,Y)})(D,w);(!N||"value"in N&&N.value===void 0)&&(D===c.Transaction.prototype||D instanceof c.Transaction?_t(D,w,{get:function(){return this.table(w)},set:function(L){ot(this,w,{value:L,writable:!0,configurable:!0,enumerable:!0})}}):D[w]=new c.Table(w,A))})})}function _i(c,m){m.forEach(function(g){for(var _ in g)g[_]instanceof c.Table&&delete g[_]})}function ma(c,m){return c._cfg.version-m._cfg.version}function Ei(c,m,g,_){var w=c._dbSchema;g.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Li("$meta",vo("")[0],[]),c._storeNames.push("$meta"));var A=c._createTransaction("readwrite",c._storeNames,w);A.create(g),A._completion.catch(_);var D=A._reject.bind(A),N=Dt.transless||Dt;ke(function(){return Dt.trans=A,Dt.transless=N,m!==0?(ni(c,g),z=m,((L=A).storeNames.includes("$meta")?L.table("$meta").get("version").then(function(Y){return Y??z}):wt.resolve(z)).then(function(Y){return $=Y,j=A,K=g,G=[],Y=(U=c)._versions,X=U._dbSchema=bi(0,U.idbdb,K),(Y=Y.filter(function(tt){return tt._cfg.version>=$})).length!==0?(Y.forEach(function(tt){G.push(function(){var rt=X,lt=tt._cfg.dbschema;rs(U,rt,K),rs(U,lt,K),X=U._dbSchema=lt;var dt=Os(rt,lt);dt.add.forEach(function(Ct){qi(K,Ct[0],Ct[1].primKey,Ct[1].indexes)}),dt.change.forEach(function(Ct){if(Ct.recreate)throw new Ot.Upgrade("Not yet support for changing primary key");var vt=K.objectStore(Ct.name);Ct.add.forEach(function(Mt){return Ns(vt,Mt)}),Ct.change.forEach(function(Mt){vt.deleteIndex(Mt.name),Ns(vt,Mt)}),Ct.del.forEach(function(Mt){return vt.deleteIndex(Mt)})});var bt=tt._cfg.contentUpgrade;if(bt&&tt._cfg.version>$){ni(U,K),j._memoizedTables={};var It=x(lt);dt.del.forEach(function(Ct){It[Ct]=rt[Ct]}),_i(U,[U.Transaction.prototype]),ns(U,[U.Transaction.prototype],d(It),It),j.schema=It;var yt,St=F(bt);return St&&Ke(),dt=wt.follow(function(){var Ct;(yt=bt(j))&&St&&(Ct=Vn.bind(null,null),yt.then(Ct,Ct))}),yt&&typeof yt.then=="function"?wt.resolve(yt):dt.then(function(){return yt})}}),G.push(function(rt){var lt,dt,bt=tt._cfg.dbschema;lt=bt,dt=rt,[].slice.call(dt.db.objectStoreNames).forEach(function(It){return lt[It]==null&&dt.db.deleteObjectStore(It)}),_i(U,[U.Transaction.prototype]),ns(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),j.schema=U._dbSchema}),G.push(function(rt){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===tt._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(lt){return lt!=="$meta"})):rt.objectStore("$meta").put(tt._cfg.version,"version"))})}),(function tt(){return G.length?wt.resolve(G.shift()(j.idbtrans)).then(tt):wt.resolve()})().then(function(){yo(X,K)})):wt.resolve();var U,$,j,K,G,X}).catch(D)):(d(w).forEach(function(Y){qi(g,Y,w[Y].primKey,w[Y].indexes)}),ni(c,g),void wt.follow(function(){return c.on.populate.fire(A)}).catch(D));var L,z})}function pa(c,m){yo(c._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var g=bi(0,c.idbdb,m);rs(c,c._dbSchema,m);for(var _=0,w=Os(g,c._dbSchema).change;_<w.length;_++){var A=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=m.objectStore(D.name);D.add.forEach(function(L){Mn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(L.src)),Ns(N,L)})})(w[_]);if(typeof A=="object")return A.value}}function Os(c,m){var g,_={del:[],add:[],change:[]};for(g in c)m[g]||_.del.push(g);for(g in m){var w=c[g],A=m[g];if(w){var D={name:g,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||w.primKey.auto!==A.primKey.auto)D.recreate=!0,_.change.push(D);else{var N=w.idxByName,L=A.idxByName,z=void 0;for(z in N)L[z]||D.del.push(z);for(z in L){var Y=N[z],U=L[z];Y?Y.src!==U.src&&D.change.push(U):D.add.push(U)}(0<D.del.length||0<D.add.length||0<D.change.length)&&_.change.push(D)}}else _.add.push([g,A])}return _}function qi(c,m,g,_){var w=c.db.createObjectStore(m,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return _.forEach(function(A){return Ns(w,A)}),w}function yo(c,m){d(c).forEach(function(g){m.db.objectStoreNames.contains(g)||(Mn&&console.debug("Dexie: Creating missing table",g),qi(m,g,c[g].primKey,c[g].indexes))})}function Ns(c,m){c.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function bi(c,m,g){var _={};return Ft(m.objectStoreNames,0).forEach(function(w){for(var A=g.objectStore(w),D=Or(da(z=A.keyPath),z||"",!0,!1,!!A.autoIncrement,z&&typeof z!="string",!0),N=[],L=0;L<A.indexNames.length;++L){var Y=A.index(A.indexNames[L]),z=Y.keyPath,Y=Or(Y.name,z,!!Y.unique,!!Y.multiEntry,!1,z&&typeof z!="string",!1);N.push(Y)}_[w]=Li(w,D,N)}),_}function rs(c,m,g){for(var _=g.db.objectStoreNames,w=0;w<_.length;++w){var A=_[w],D=g.objectStore(A);c._hasGetAll="getAll"in D;for(var N=0;N<D.indexNames.length;++N){var L=D.indexNames[N],z=D.index(L).keyPath,Y=typeof z=="string"?z:"["+Ft(z).join("+")+"]";!m[A]||(z=m[A].idxByName[Y])&&(z.name=L,delete m[A].idxByName[Y],m[A].idxByName[L]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function vo(c){return c.split(",").map(function(m,g){var A=m.split(":"),_=(w=A[1])===null||w===void 0?void 0:w.trim(),w=(m=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Or(w,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),v(A),g===0,_)})}var ga=(Hi.prototype._createTableSchema=Li,Hi.prototype._parseIndexSyntax=vo,Hi.prototype._parseStoresSpec=function(c,m){var g=this;d(c).forEach(function(_){if(c[_]!==null){var w=g._parseIndexSyntax(c[_]),A=w.shift();if(!A)throw new Ot.Schema("Invalid schema for table "+_+": "+c[_]);if(A.unique=!0,A.multi)throw new Ot.Schema("Primary key cannot be multiEntry*");w.forEach(function(D){if(D.auto)throw new Ot.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ot.Schema("Index must have a name and cannot be an empty string")}),w=g._createTableSchema(_,A,w),m[_]=w}})},Hi.prototype.stores=function(g){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,g):g;var g=m._versions,_={},w={};return g.forEach(function(A){b(_,A._cfg.storesSource),w=A._cfg.dbschema={},A._parseStoresSpec(_,w)}),m._dbSchema=w,_i(m,[m._allTables,m,m.Transaction.prototype]),ns(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],d(w),w),m._storeNames=d(w),this},Hi.prototype.upgrade=function(c){return this._cfg.contentUpgrade=tn(this._cfg.contentUpgrade||Se,c),this},Hi);function Hi(){}function ya(c,m){var g=c._dbNamesDB;return g||(g=c._dbNamesDB=new Si(Wi,{addons:[],indexedDB:c,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Nr(c){return c&&typeof c.databases=="function"}function va(c){return ke(function(){return Dt.letThrough=!0,c()})}function _a(c){return!("from"in c)}var _n=function(c,m){if(!this){var g=new _n;return c&&"d"in c&&b(g,c),g}b(this,arguments.length?{d:1,from:c,to:1<arguments.length?m:c}:{d:0})};function is(c,m,g){var _=ae(m,g);if(!isNaN(_)){if(0<_)throw RangeError();if(_a(c))return b(c,{from:m,to:g,d:1});var w=c.l,_=c.r;if(ae(g,c.from)<0)return w?is(w,m,g):c.l={from:m,to:g,d:1,l:null,r:null},_o(c);if(0<ae(m,c.to))return _?is(_,m,g):c.r={from:m,to:g,d:1,l:null,r:null},_o(c);ae(m,c.from)<0&&(c.from=m,c.l=null,c.d=_?_.d+1:1),0<ae(g,c.to)&&(c.to=g,c.r=null,c.d=c.l?c.l.d+1:1),g=!c.r,w&&!c.l&&xr(c,w),_&&g&&xr(c,_)}}function xr(c,m){_a(m)||(function g(_,L){var A=L.from,D=L.to,N=L.l,L=L.r;is(_,A,D),N&&g(_,N),L&&g(_,L)})(c,m)}function qn(c,m){var g=xs(m),_=g.next();if(_.done)return!1;for(var w=_.value,A=xs(c),D=A.next(w.from),N=D.value;!_.done&&!D.done;){if(ae(N.from,w.to)<=0&&0<=ae(N.to,w.from))return!0;ae(w.from,N.from)<0?w=(_=g.next(N.from)).value:N=(D=A.next(w.from)).value}return!1}function xs(c){var m=_a(c)?null:{s:0,n:c};return{next:function(g){for(var _=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,_)for(;m.n.l&&ae(g,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!_||ae(g,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function _o(c){var m,g,_=(((m=c.r)===null||m===void 0?void 0:m.d)||0)-(((g=c.l)===null||g===void 0?void 0:g.d)||0),w=1<_?"r":_<-1?"l":"";w&&(m=w=="r"?"l":"r",g=s({},c),_=c[w],c.from=_.from,c.to=_.to,c[w]=_[w],g[w]=_[m],(c[m]=g).d=Ti(g)),c.d=Ti(c)}function Ti(g){var m=g.r,g=g.l;return(m?g?Math.max(m.d,g.d):m.d:g?g.d:0)+1}function u(c,m){return d(m).forEach(function(g){c[g]?xr(c[g],m[g]):c[g]=(function _(w){var A,D,N={};for(A in w)O(w,A)&&(D=w[A],N[A]=!D||typeof D!="object"||q.has(D.constructor)?D:_(D));return N})(m[g])}),c}function y(c,m){return c.all||m.all||Object.keys(c).some(function(g){return m[g]&&qn(m[g],c[g])})}B(_n.prototype,((yr={add:function(c){return xr(this,c),this},addKey:function(c){return is(this,c,c),this},addKeys:function(c){var m=this;return c.forEach(function(g){return is(m,g,g)}),this},hasKey:function(c){var m=xs(this).next(c).value;return m&&ae(m.from,c)<=0&&0<=ae(m.to,c)}})[ut]=function(){return xs(this)},yr));var S={},C={},W=!1;function st(c){u(C,c),W||(W=!0,setTimeout(function(){W=!1,Tt(C,!(C={}))},0))}function Tt(c,m){m===void 0&&(m=!1);var g=new Set;if(c.all)for(var _=0,w=Object.values(S);_<w.length;_++)ee(D=w[_],c,g,m);else for(var A in c){var D,N=/^idb\:\/\/(.*)\/(.*)\//.exec(A);N&&(A=N[1],N=N[2],(D=S["idb://".concat(A,"/").concat(N)])&&ee(D,c,g,m))}g.forEach(function(L){return L()})}function ee(c,m,g,_){for(var w=[],A=0,D=Object.entries(c.queries.query);A<D.length;A++){for(var N=D[A],L=N[0],z=[],Y=0,U=N[1];Y<U.length;Y++){var $=U[Y];y(m,$.obsSet)?$.subscribers.forEach(function(X){return g.add(X)}):_&&z.push($)}_&&w.push([L,z])}if(_)for(var j=0,K=w;j<K.length;j++){var G=K[j],L=G[0],z=G[1];c.queries.query[L]=z}}function on(c){var m=c._state,g=c._deps.indexedDB;if(m.isBeingOpened||c.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Re(m.dbOpenError):c});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var _=m.openCanceller,w=Math.round(10*c.verno),A=!1;function D(){if(m.openCanceller!==_)throw new Ot.DatabaseClosed("db.open() was cancelled")}function N(){return new wt(function($,j){if(D(),!g)throw new Ot.MissingAPI;var K=c.name,G=m.autoSchema||!w?g.open(K):g.open(K,w);if(!G)throw new Ot.MissingAPI;G.onerror=Bn(j),G.onblocked=Me(c._fireOnBlocked),G.onupgradeneeded=Me(function(X){var tt;Y=G.transaction,m.autoSchema&&!c._options.allowEmptyDB?(G.onerror=gi,Y.abort(),G.result.close(),(tt=g.deleteDatabase(K)).onsuccess=tt.onerror=Me(function(){j(new Ot.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(Y.onerror=Bn(j),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,U=X<1,c.idbdb=G.result,A&&pa(c,Y),Ei(c,X/10,Y,j))},j),G.onsuccess=Me(function(){Y=null;var X,tt,rt,lt,dt,bt=c.idbdb=G.result,It=Ft(bt.objectStoreNames);if(0<It.length)try{var yt=bt.transaction((lt=It).length===1?lt[0]:lt,"readonly");if(m.autoSchema)tt=bt,rt=yt,(X=c).verno=tt.version/10,rt=X._dbSchema=bi(0,tt,rt),X._storeNames=Ft(tt.objectStoreNames,0),ns(X,[X._allTables],d(rt),rt);else if(rs(c,c._dbSchema,yt),((dt=Os(bi(0,(dt=c).idbdb,yt),dt._dbSchema)).add.length||dt.change.some(function(St){return St.add.length||St.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),bt.close(),w=bt.version+1,A=!0,$(N());ni(c,yt)}catch{}pi.push(c),bt.onversionchange=Me(function(St){m.vcFired=!0,c.on("versionchange").fire(St)}),bt.onclose=Me(function(){c.close({disableAutoOpen:!1})}),U&&(dt=c._deps,yt=K,bt=dt.indexedDB,dt=dt.IDBKeyRange,Nr(bt)||yt===Wi||ya(bt,dt).put({name:yt}).catch(Se)),$()},j)}).catch(function($){switch($?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<w)return w=0,N()}return wt.reject($)})}var L,z=m.dbReadyResolve,Y=null,U=!1;return wt.race([_,(typeof navigator>"u"?wt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function j(){return indexedDB.databases().finally($)}L=setInterval(j,100),j()}).finally(function(){return clearInterval(L)}):Promise.resolve()).then(N)]).then(function(){return D(),m.onReadyBeingFired=[],wt.resolve(va(function(){return c.on.ready.fire(c.vip)})).then(function $(){if(0<m.onReadyBeingFired.length){var j=m.onReadyBeingFired.reduce(tn,Se);return m.onReadyBeingFired=[],wt.resolve(va(function(){return j(c.vip)})).then($)}})}).finally(function(){m.openCanceller===_&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function($){m.dbOpenError=$;try{Y&&Y.abort()}catch{}return _===m.openCanceller&&c._close(),Re($)}).finally(function(){m.openComplete=!0,z()}).then(function(){var $;return U&&($={},c.tables.forEach(function(j){j.schema.indexes.forEach(function(K){K.name&&($["idb://".concat(c.name,"/").concat(j.name,"/").concat(K.name)]=new _n(-1/0,[[[]]]))}),$["idb://".concat(c.name,"/").concat(j.name,"/")]=$["idb://".concat(c.name,"/").concat(j.name,"/:dels")]=new _n(-1/0,[[[]]])}),vn(Dr).fire($),Tt($,!0)),c})}function we(c){function m(A){return c.next(A)}var g=w(m),_=w(function(A){return c.throw(A)});function w(A){return function(L){var N=A(L),L=N.value;return N.done?L:L&&typeof L.then=="function"?L.then(g,_):v(L)?Promise.all(L).then(g,_):g(L)}}return w(m)()}function Ue(c,m,g){for(var _=v(c)?c.slice():[c],w=0;w<g;++w)_.push(m);return _}var Mr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(c){return s(s({},c),{table:function(m){var g=c.table(m),_=g.schema,w={},A=[];function D(U,$,j){var K=an(U),G=w[K]=w[K]||[],X=U==null?0:typeof U=="string"?1:U.length,tt=0<$,tt=s(s({},j),{name:tt?"".concat(K,"(virtual-from:").concat(j.name,")"):j.name,lowLevelIndex:j,isVirtual:tt,keyTail:$,keyLength:X,extractKey:ji(U),unique:!tt&&j.unique});return G.push(tt),tt.isPrimaryKey||A.push(tt),1<X&&D(X===2?U[0]:U.slice(0,X-1),$+1,j),G.sort(function(rt,lt){return rt.keyTail-lt.keyTail}),tt}m=D(_.primaryKey.keyPath,0,_.primaryKey),w[":id"]=[m];for(var N=0,L=_.indexes;N<L.length;N++){var z=L[N];D(z.keyPath,0,z)}function Y(U){var $,j=U.query.index;return j.isVirtual?s(s({},U),{query:{index:j.lowLevelIndex,range:($=U.query.range,j=j.keyTail,{type:$.type===1?2:$.type,lower:Ue($.lower,$.lowerOpen?c.MAX_KEY:c.MIN_KEY,j),lowerOpen:!0,upper:Ue($.upper,$.upperOpen?c.MIN_KEY:c.MAX_KEY,j),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},_),{primaryKey:m,indexes:A,getIndexByKeyPath:function(U){return(U=w[an(U)])&&U[0]}}),count:function(U){return g.count(Y(U))},query:function(U){return g.query(Y(U))},openCursor:function(U){var $=U.query.index,j=$.keyTail,K=$.isVirtual,G=$.keyLength;return K?g.openCursor(Y(U)).then(function(tt){return tt&&X(tt)}):g.openCursor(U);function X(tt){return Object.create(tt,{continue:{value:function(rt){rt!=null?tt.continue(Ue(rt,U.reverse?c.MAX_KEY:c.MIN_KEY,j)):U.unique?tt.continue(tt.key.slice(0,G).concat(U.reverse?c.MIN_KEY:c.MAX_KEY,j)):tt.continue()}},continuePrimaryKey:{value:function(rt,lt){tt.continuePrimaryKey(Ue(rt,c.MAX_KEY,j),lt)}},primaryKey:{get:function(){return tt.primaryKey}},key:{get:function(){var rt=tt.key;return G===1?rt[0]:rt.slice(0,G)}},value:{get:function(){return tt.value}}})}}})}})}};function Vr(c,m,g,_){return g=g||{},_=_||"",d(c).forEach(function(w){var A,D,N;O(m,w)?(A=c[w],D=m[w],typeof A=="object"&&typeof D=="object"&&A&&D?(N=We(A))!==We(D)?g[_+w]=m[w]:N==="Object"?Vr(A,D,g,_+w+"."):A!==D&&(g[_+w]=m[w]):A!==D&&(g[_+w]=m[w])):g[_+w]=void 0}),d(m).forEach(function(w){O(c,w)||(g[_+w]=m[w])}),g}function gr(c,m){return m.type==="delete"?m.keys:m.keys||m.values.map(c.extractKey)}var ri={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return s(s({},c),{table:function(m){var g=c.table(m),_=g.schema.primaryKey;return s(s({},g),{mutate:function(w){var A=Dt.trans,D=A.table(m).hook,N=D.deleting,L=D.creating,z=D.updating;switch(w.type){case"add":if(L.fire===Se)break;return A._promise("readwrite",function(){return Y(w)},!0);case"put":if(L.fire===Se&&z.fire===Se)break;return A._promise("readwrite",function(){return Y(w)},!0);case"delete":if(N.fire===Se)break;return A._promise("readwrite",function(){return Y(w)},!0);case"deleteRange":if(N.fire===Se)break;return A._promise("readwrite",function(){return(function U($,j,K){return g.query({trans:$,values:!1,query:{index:_,range:j},limit:K}).then(function(G){var X=G.result;return Y({type:"delete",keys:X,trans:$}).then(function(tt){return 0<tt.numFailures?Promise.reject(tt.failures[0]):X.length<K?{failures:[],numFailures:0,lastResult:void 0}:U($,s(s({},j),{lower:X[X.length-1],lowerOpen:!0}),K)})})})(w.trans,w.range,1e4)},!0)}return g.mutate(w);function Y(U){var $,j,K,G=Dt.trans,X=U.keys||gr(_,U);if(!X)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:X}):s({},U)).type!=="delete"&&(U.values=l([],U.values)),U.keys&&(U.keys=l([],U.keys)),$=g,K=X,((j=U).type==="add"?Promise.resolve([]):$.getMany({trans:j.trans,keys:K,cache:"immutable"})).then(function(tt){var rt=X.map(function(lt,dt){var bt,It,yt,St=tt[dt],Ct={onerror:null,onsuccess:null};return U.type==="delete"?N.fire.call(Ct,lt,St,G):U.type==="add"||St===void 0?(bt=L.fire.call(Ct,lt,U.values[dt],G),lt==null&&bt!=null&&(U.keys[dt]=lt=bt,_.outbound||V(U.values[dt],_.keyPath,lt))):(bt=Vr(St,U.values[dt]),(It=z.fire.call(Ct,bt,lt,St,G))&&(yt=U.values[dt],Object.keys(It).forEach(function(vt){O(yt,vt)?yt[vt]=It[vt]:V(yt,vt,It[vt])}))),Ct});return g.mutate(U).then(function(lt){for(var dt=lt.failures,bt=lt.results,It=lt.numFailures,lt=lt.lastResult,yt=0;yt<X.length;++yt){var St=(bt||X)[yt],Ct=rt[yt];St==null?Ct.onerror&&Ct.onerror(dt[yt]):Ct.onsuccess&&Ct.onsuccess(U.type==="put"&&tt[yt]?U.values[yt]:St)}return{failures:dt,results:bt,numFailures:It,lastResult:lt}}).catch(function(lt){return rt.forEach(function(dt){return dt.onerror&&dt.onerror(lt)}),Promise.reject(lt)})})}}})}})}};function ss(c,m,g){try{if(!m||m.keys.length<c.length)return null;for(var _=[],w=0,A=0;w<m.keys.length&&A<c.length;++w)ae(m.keys[w],c[A])===0&&(_.push(g?M(m.values[w]):m.values[w]),++A);return _.length===c.length?_:null}catch{return null}}var Ea={stack:"dbcore",level:-1,create:function(c){return{table:function(m){var g=c.table(m);return s(s({},g),{getMany:function(_){if(!_.cache)return g.getMany(_);var w=ss(_.keys,_.trans._cache,_.cache==="clone");return w?wt.resolve(w):g.getMany(_).then(function(A){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?M(A):A},A})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),g.mutate(_)}})}}}};function Ms(c,m){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function mc(c,m){switch(c){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sf={stack:"dbcore",level:0,name:"Observability",create:function(c){var m=c.schema.name,g=new _n(c.MIN_KEY,c.MAX_KEY);return s(s({},c),{transaction:function(_,w,A){if(Dt.subscr&&w!=="readonly")throw new Ot.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Dt.querier));return c.transaction(_,w,A)},table:function(_){var w=c.table(_),A=w.schema,D=A.primaryKey,U=A.indexes,N=D.extractKey,L=D.outbound,z=D.autoIncrement&&U.filter(function(j){return j.compound&&j.keyPath.includes(D.keyPath)}),Y=s(s({},w),{mutate:function(j){function K(vt){return vt="idb://".concat(m,"/").concat(_,"/").concat(vt),lt[vt]||(lt[vt]=new _n)}var G,X,tt,rt=j.trans,lt=j.mutatedParts||(j.mutatedParts={}),dt=K(""),bt=K(":dels"),It=j.type,Ct=j.type==="deleteRange"?[j.range]:j.type==="delete"?[j.keys]:j.values.length<50?[gr(D,j).filter(function(vt){return vt}),j.values]:[],yt=Ct[0],St=Ct[1],Ct=j.trans._cache;return v(yt)?(dt.addKeys(yt),(Ct=It==="delete"||yt.length===St.length?ss(yt,Ct):null)||bt.addKeys(yt),(Ct||St)&&(G=K,X=Ct,tt=St,A.indexes.forEach(function(vt){var Mt=G(vt.name||"");function qt(oe){return oe!=null?vt.extractKey(oe):null}function Zt(oe){return vt.multiEntry&&v(oe)?oe.forEach(function(Hn){return Mt.addKey(Hn)}):Mt.addKey(oe)}(X||tt).forEach(function(oe,An){var Jt=X&&qt(X[An]),An=tt&&qt(tt[An]);ae(Jt,An)!==0&&(Jt!=null&&Zt(Jt),An!=null&&Zt(An))})}))):yt?(St={from:(St=yt.lower)!==null&&St!==void 0?St:c.MIN_KEY,to:(St=yt.upper)!==null&&St!==void 0?St:c.MAX_KEY},bt.add(St),dt.add(St)):(dt.add(g),bt.add(g),A.indexes.forEach(function(vt){return K(vt.name).add(g)})),w.mutate(j).then(function(vt){return!yt||j.type!=="add"&&j.type!=="put"||(dt.addKeys(vt.results),z&&z.forEach(function(Mt){for(var qt=j.values.map(function(Jt){return Mt.extractKey(Jt)}),Zt=Mt.keyPath.findIndex(function(Jt){return Jt===D.keyPath}),oe=0,Hn=vt.results.length;oe<Hn;++oe)qt[oe][Zt]=vt.results[oe];K(Mt.name).addKeys(qt)})),rt.mutatedParts=u(rt.mutatedParts||{},lt),vt})}}),U=function(K){var G=K.query,K=G.index,G=G.range;return[K,new _n((K=G.lower)!==null&&K!==void 0?K:c.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:c.MAX_KEY)]},$={get:function(j){return[D,new _n(j.key)]},getMany:function(j){return[D,new _n().addKeys(j.keys)]},count:U,query:U,openCursor:U};return d($).forEach(function(j){Y[j]=function(K){var G=Dt.subscr,X=!!G,tt=Ms(Dt,w)&&mc(j,K)?K.obsSet={}:G;if(X){var rt=function(St){return St="idb://".concat(m,"/").concat(_,"/").concat(St),tt[St]||(tt[St]=new _n)},lt=rt(""),dt=rt(":dels"),G=$[j](K),X=G[0],G=G[1];if((j==="query"&&X.isPrimaryKey&&!K.values?dt:rt(X.name||"")).add(G),!X.isPrimaryKey){if(j!=="count"){var bt=j==="query"&&L&&K.values&&w.query(s(s({},K),{values:!1}));return w[j].apply(this,arguments).then(function(St){if(j==="query"){if(L&&K.values)return bt.then(function(qt){return qt=qt.result,lt.addKeys(qt),St});var Ct=K.values?St.result.map(N):St.result;(K.values?lt:dt).addKeys(Ct)}else if(j==="openCursor"){var vt=St,Mt=K.values;return vt&&Object.create(vt,{key:{get:function(){return dt.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var qt=vt.primaryKey;return dt.addKey(qt),qt}},value:{get:function(){return Mt&&lt.addKey(vt.primaryKey),vt.value}}})}return St})}dt.add(g)}}return w[j].apply(this,arguments)}}),Y}})}};function pc(c,m,g){if(g.numFailures===0)return m;if(m.type==="deleteRange")return null;var _=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return g.numFailures===_?null:(m=s({},m),v(m.keys)&&(m.keys=m.keys.filter(function(w,A){return!(A in g.failures)})),"values"in m&&v(m.values)&&(m.values=m.values.filter(function(w,A){return!(A in g.failures)})),m)}function tl(c,m){return g=c,((_=m).lower===void 0||(_.lowerOpen?0<ae(g,_.lower):0<=ae(g,_.lower)))&&(c=c,(m=m).upper===void 0||(m.upperOpen?ae(c,m.upper)<0:ae(c,m.upper)<=0));var g,_}function Zl(c,m,$,_,w,A){if(!$||$.length===0)return c;var D=m.query.index,N=D.multiEntry,L=m.query.range,z=_.schema.primaryKey.extractKey,Y=D.extractKey,U=(D.lowLevelIndex||D).extractKey,$=$.reduce(function(j,K){var G=j,X=[];if(K.type==="add"||K.type==="put")for(var tt=new _n,rt=K.values.length-1;0<=rt;--rt){var lt,dt=K.values[rt],bt=z(dt);tt.hasKey(bt)||(lt=Y(dt),(N&&v(lt)?lt.some(function(vt){return tl(vt,L)}):tl(lt,L))&&(tt.addKey(bt),X.push(dt)))}switch(K.type){case"add":var It=new _n().addKeys(m.values?j.map(function(Mt){return z(Mt)}):j),G=j.concat(m.values?X.filter(function(Mt){return Mt=z(Mt),!It.hasKey(Mt)&&(It.addKey(Mt),!0)}):X.map(function(Mt){return z(Mt)}).filter(function(Mt){return!It.hasKey(Mt)&&(It.addKey(Mt),!0)}));break;case"put":var yt=new _n().addKeys(K.values.map(function(Mt){return z(Mt)}));G=j.filter(function(Mt){return!yt.hasKey(m.values?z(Mt):Mt)}).concat(m.values?X:X.map(function(Mt){return z(Mt)}));break;case"delete":var St=new _n().addKeys(K.keys);G=j.filter(function(Mt){return!St.hasKey(m.values?z(Mt):Mt)});break;case"deleteRange":var Ct=K.range;G=j.filter(function(Mt){return!tl(z(Mt),Ct)})}return G},c);return $===c?c:($.sort(function(j,K){return ae(U(j),U(K))||ae(z(j),z(K))}),m.limit&&m.limit<1/0&&($.length>m.limit?$.length=m.limit:c.length===m.limit&&$.length<m.limit&&(w.dirty=!0)),A?Object.freeze($):$)}function ba(c,m){return ae(c.lower,m.lower)===0&&ae(c.upper,m.upper)===0&&!!c.lowerOpen==!!m.lowerOpen&&!!c.upperOpen==!!m.upperOpen}function Eo(c,m){return(function(g,_,w,A){if(g===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=ae(g,_))===0){if(w&&A)return 0;if(w)return 1;if(A)return-1}return _})(c.lower,m.lower,c.lowerOpen,m.lowerOpen)<=0&&0<=(function(g,_,w,A){if(g===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=ae(g,_))===0){if(w&&A)return 0;if(w)return-1;if(A)return 1}return _})(c.upper,m.upper,c.upperOpen,m.upperOpen)}function wf(c,m,g,_){c.subscribers.add(g),_.addEventListener("abort",function(){var w,A;c.subscribers.delete(g),c.subscribers.size===0&&(w=c,A=m,setTimeout(function(){w.subscribers.size===0&&Ut(A,w)},3e3))})}var el={stack:"dbcore",level:0,name:"Cache",create:function(c){var m=c.schema.name;return s(s({},c),{transaction:function(g,_,w){var A,D,N=c.transaction(g,_,w);return _==="readwrite"&&(D=(A=new AbortController).signal,w=function(L){return function(){if(A.abort(),_==="readwrite"){for(var z=new Set,Y=0,U=g;Y<U.length;Y++){var $=U[Y],j=S["idb://".concat(m,"/").concat($)];if(j){var K=c.table($),G=j.optimisticOps.filter(function(Mt){return Mt.trans===N});if(N._explicit&&L&&N.mutatedParts)for(var X=0,tt=Object.values(j.queries.query);X<tt.length;X++)for(var rt=0,lt=(It=tt[X]).slice();rt<lt.length;rt++)y((yt=lt[rt]).obsSet,N.mutatedParts)&&(Ut(It,yt),yt.subscribers.forEach(function(Mt){return z.add(Mt)}));else if(0<G.length){j.optimisticOps=j.optimisticOps.filter(function(Mt){return Mt.trans!==N});for(var dt=0,bt=Object.values(j.queries.query);dt<bt.length;dt++)for(var It,yt,St,Ct=0,vt=(It=bt[dt]).slice();Ct<vt.length;Ct++)(yt=vt[Ct]).res!=null&&N.mutatedParts&&(L&&!yt.dirty?(St=Object.isFrozen(yt.res),St=Zl(yt.res,yt.req,G,K,yt,St),yt.dirty?(Ut(It,yt),yt.subscribers.forEach(function(Mt){return z.add(Mt)})):St!==yt.res&&(yt.res=St,yt.promise=wt.resolve({result:St}))):(yt.dirty&&Ut(It,yt),yt.subscribers.forEach(function(Mt){return z.add(Mt)})))}}}z.forEach(function(Mt){return Mt()})}}},N.addEventListener("abort",w(!1),{signal:D}),N.addEventListener("error",w(!1),{signal:D}),N.addEventListener("complete",w(!0),{signal:D})),N},table:function(g){var _=c.table(g),w=_.schema.primaryKey;return s(s({},_),{mutate:function(A){var D=Dt.trans;if(w.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return _.mutate(A);var N=S["idb://".concat(m,"/").concat(g)];return N?(D=_.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||gr(w,A).some(function(L){return L==null}))?(N.optimisticOps.push(A),A.mutatedParts&&st(A.mutatedParts),D.then(function(L){0<L.numFailures&&(Ut(N.optimisticOps,A),(L=pc(0,A,L))&&N.optimisticOps.push(L),A.mutatedParts&&st(A.mutatedParts))}),D.catch(function(){Ut(N.optimisticOps,A),A.mutatedParts&&st(A.mutatedParts)})):D.then(function(L){var z=pc(0,s(s({},A),{values:A.values.map(function(Y,U){var $;return L.failures[U]?Y:(Y=($=w.keyPath)!==null&&$!==void 0&&$.includes(".")?M(Y):s({},Y),V(Y,w.keyPath,L.results[U]),Y)})}),L);N.optimisticOps.push(z),queueMicrotask(function(){return A.mutatedParts&&st(A.mutatedParts)})}),D):_.mutate(A)},query:function(A){if(!Ms(Dt,_)||!mc("query",A))return _.query(A);var D=((z=Dt.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=Dt,N=U.requery,L=U.signal,z=(function(K,G,X,tt){var rt=S["idb://".concat(K,"/").concat(G)];if(!rt)return[];if(!(G=rt.queries[X]))return[null,!1,rt,null];var lt=G[(tt.query?tt.query.index.name:null)||""];if(!lt)return[null,!1,rt,null];switch(X){case"query":var dt=lt.find(function(bt){return bt.req.limit===tt.limit&&bt.req.values===tt.values&&ba(bt.req.query.range,tt.query.range)});return dt?[dt,!0,rt,lt]:[lt.find(function(bt){return("limit"in bt.req?bt.req.limit:1/0)>=tt.limit&&(!tt.values||bt.req.values)&&Eo(bt.req.query.range,tt.query.range)}),!1,rt,lt];case"count":return dt=lt.find(function(bt){return ba(bt.req.query.range,tt.query.range)}),[dt,!!dt,rt,lt]}})(m,g,"query",A),Y=z[0],U=z[1],$=z[2],j=z[3];return Y&&U?Y.obsSet=A.obsSet:(U=_.query(A).then(function(K){var G=K.result;if(Y&&(Y.res=G),D){for(var X=0,tt=G.length;X<tt;++X)Object.freeze(G[X]);Object.freeze(G)}else K.result=M(G);return K}).catch(function(K){return j&&Y&&Ut(j,Y),Promise.reject(K)}),Y={obsSet:A.obsSet,promise:U,subscribers:new Set,type:"query",req:A,dirty:!1},j?j.push(Y):(j=[Y],($=$||(S["idb://".concat(m,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=j)),wf(Y,j,N,L),Y.promise.then(function(K){return{result:Zl(K.result,A,$?.optimisticOps,_,Y,D)}})}})}})}};function bo(c,m){return new Proxy(c,{get:function(g,_,w){return _==="db"?m:Reflect.get(g,_,w)}})}var Si=(Ge.prototype.version=function(c){if(isNaN(c)||c<.1)throw new Ot.Type("Given version is not a positive number");if(c=Math.round(10*c)/10,this.idbdb||this._state.isBeingOpened)throw new Ot.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var m=this._versions,g=m.filter(function(_){return _._cfg.version===c})[0];return g||(g=new this.Version(c),m.push(g),m.sort(ma),g.stores({}),this._state.autoSchema=!1,g)},Ge.prototype._whenReady=function(c){var m=this;return this.idbdb&&(this._state.openComplete||Dt.letThrough||this._vip)?c():new wt(function(g,_){if(m._state.openComplete)return _(new Ot.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void _(new Ot.DatabaseClosed);m.open().catch(Se)}m._state.dbReadyPromise.then(g,_)}).then(c)},Ge.prototype.use=function(c){var m=c.stack,g=c.create,_=c.level,w=c.name;return w&&this.unuse({stack:m,name:w}),c=this._middlewares[m]||(this._middlewares[m]=[]),c.push({stack:m,create:g,level:_??10,name:w}),c.sort(function(A,D){return A.level-D.level}),this},Ge.prototype.unuse=function(c){var m=c.stack,g=c.name,_=c.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(w){return _?w.create!==_:!!g&&w.name!==g})),this},Ge.prototype.open=function(){var c=this;return jn(gn,function(){return on(c)})},Ge.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var c=this._state,m=pi.indexOf(this);if(0<=m&&pi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new wt(function(g){c.dbReadyResolve=g}),c.openCanceller=new wt(function(g,_){c.cancelOpen=_}))},Ge.prototype.close=function(g){var m=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;m?(g.isBeingOpened&&g.cancelOpen(new Ot.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Ot.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Ge.prototype.delete=function(c){var m=this;c===void 0&&(c={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new wt(function(w,A){function D(){m.close(c);var N=m._deps.indexedDB.deleteDatabase(m.name);N.onsuccess=Me(function(){var L,z,Y;L=m._deps,z=m.name,Y=L.indexedDB,L=L.IDBKeyRange,Nr(Y)||z===Wi||ya(Y,L).delete(z).catch(Se),w()}),N.onerror=Bn(A),N.onblocked=m._fireOnBlocked}if(g)throw new Ot.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(D):D()})},Ge.prototype.backendDB=function(){return this.idbdb},Ge.prototype.isOpen=function(){return this.idbdb!==null},Ge.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},Ge.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ge.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ge.prototype,"tables",{get:function(){var c=this;return d(this._allTables).map(function(m){return c._allTables[m]})},enumerable:!1,configurable:!0}),Ge.prototype.transaction=function(){var c=(function(m,g,_){var w=arguments.length;if(w<2)throw new Ot.InvalidArgument("Too few arguments");for(var A=new Array(w-1);--w;)A[w-1]=arguments[w];return _=A.pop(),[m,Q(A),_]}).apply(this,arguments);return this._transaction.apply(this,c)},Ge.prototype._transaction=function(c,m,g){var _=this,w=Dt.trans;w&&w.db===this&&c.indexOf("!")===-1||(w=null);var A,D,N=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");try{if(D=m.map(function(z){if(z=z instanceof _.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),c=="r"||c===Ar)A=Ar;else{if(c!="rw"&&c!=Rr)throw new Ot.InvalidArgument("Invalid transaction mode: "+c);A=Rr}if(w){if(w.mode===Ar&&A===Rr){if(!N)throw new Ot.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&D.forEach(function(z){if(w&&w.storeNames.indexOf(z)===-1){if(!N)throw new Ot.SubTransaction("Table "+z+" not included in parent transaction.");w=null}}),N&&w&&!w.active&&(w=null)}}catch(z){return w?w._promise(null,function(Y,U){U(z)}):Re(z)}var L=(function z(Y,U,$,j,K){return wt.resolve().then(function(){var G=Dt.transless||Dt,X=Y._createTransaction(U,$,Y._dbSchema,j);if(X.explicit=!0,G={trans:X,transless:G},j)X.idbtrans=j.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(lt){return lt.name===de.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return z(Y,U,$,null,K)})):Re(lt)}var tt,rt=F(K);return rt&&Ke(),G=wt.follow(function(){var lt;(tt=K.call(X,X))&&(rt?(lt=Vn.bind(null,null),tt.then(lt,lt)):typeof tt.next=="function"&&typeof tt.throw=="function"&&(tt=we(tt)))},G),(tt&&typeof tt.then=="function"?wt.resolve(tt).then(function(lt){return X.active?lt:Re(new Ot.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return tt})).then(function(lt){return j&&X._resolve(),X._completion.then(function(){return lt})}).catch(function(lt){return X._reject(lt),Re(lt)})})}).bind(null,this,A,D,w,g);return w?w._promise(A,L,"lock"):Dt.trans?jn(Dt.transless,function(){return _._whenReady(L)}):this._whenReady(L)},Ge.prototype.table=function(c){if(!O(this._allTables,c))throw new Ot.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},Ge);function Ge(c,m){var g=this;this._middlewares={},this.verno=0;var _=Ge.dependencies;this._options=m=s({addons:Ge.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},_=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,A,D,N,L,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};z.dbReadyPromise=new wt(function(U){z.dbReadyResolve=U}),z.openCanceller=new wt(function(U,$){z.cancelOpen=$}),this._state=z,this.name=c,this.on=$r(this,"populate","blocked","versionchange","close",{ready:[tn,Se]}),this.once=function(U,$){var j=function(){for(var K=[],G=0;G<arguments.length;G++)K[G]=arguments[G];g.on(U).unsubscribe(j),$.apply(g,K)};return g.on(U,j)},this.on.ready.subscribe=Nt(this.on.ready.subscribe,function(U){return function($,j){Ge.vip(function(){var K,G=g._state;G.openComplete?(G.dbOpenError||wt.resolve().then($),j&&U($)):G.onReadyBeingFired?(G.onReadyBeingFired.push($),j&&U($)):(U($),K=g,j||U(function X(){K.on.ready.unsubscribe($),K.on.ready.unsubscribe(X)}))})}}),this.Collection=(w=this,wn(Zo.prototype,function(tt,X){this.db=w;var j=la,K=null;if(X)try{j=X()}catch(rt){K=rt}var G=tt._ctx,X=G.table,tt=X.hook.reading.fire;this._ctx={table:X,index:G.index,isPrimKey:!G.index||X.schema.primKey.keyPath&&G.index===X.schema.primKey.name,range:j,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:G.or,valueMapper:tt!==ci?tt:null}})),this.Table=(A=this,wn(es.prototype,function(U,$,j){this.db=A,this._tx=j,this.name=U,this.schema=$,this.hook=A._allTables[U]?A._allTables[U].hook:$r(null,{creating:[bs,Se],reading:[hi,ci],updating:[ho,Se],deleting:[co,Se]})})),this.Transaction=(D=this,wn(Ds.prototype,function(U,$,j,K,G){var X=this;U!=="readonly"&&$.forEach(function(tt){tt=(tt=j[tt])===null||tt===void 0?void 0:tt.yProps,tt&&($=$.concat(tt.map(function(rt){return rt.updatesTable})))}),this.db=D,this.mode=U,this.storeNames=$,this.schema=j,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=$r(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wt(function(tt,rt){X._resolve=tt,X._reject=rt}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(tt){var rt=X.active;return X.active=!1,X.on.error.fire(tt),X.parent?X.parent._reject(tt):rt&&X.idbtrans&&X.idbtrans.abort(),Re(tt)})})),this.Version=(N=this,wn(ga.prototype,function(U){this.db=N,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(L=this,wn(Ui.prototype,function(U,$,j){if(this.db=L,this._ctx={table:U,index:$===":id"?null:$,or:j},this._cmp=this._ascending=ae,this._descending=function(K,G){return ae(G,K)},this._max=function(K,G){return 0<ae(K,G)?K:G},this._min=function(K,G){return ae(K,G)<0?K:G},this._IDBKeyRange=L._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ot.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=zi(m.IDBKeyRange),this._createTransaction=function(U,$,j,K){return new g.Transaction(U,$,j,g._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),pi.filter(function($){return $.name===g.name&&$!==g&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(U)})},this.use(Ea),this.use(el),this.use(Sf),this.use(Mr),this.use(ri);var Y=new Proxy(this,{get:function(U,$,j){if($==="_vip")return!0;if($==="table")return function(G){return bo(g.table(G),Y)};var K=Reflect.get(U,$,j);return K instanceof es?bo(K,Y):$==="tables"?K.map(function(G){return bo(G,Y)}):$==="_createTransaction"?function(){return bo(K.apply(this,arguments),Y)}:K}});this.vip=Y,_.forEach(function(U){return U(g)})}var Ta,yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",gc=(nl.prototype.subscribe=function(c,m,g){return this._subscribe(c&&typeof c!="function"?c:{next:c,error:m,complete:g})},nl.prototype[yr]=function(){return this},nl);function nl(c){this._subscribe=c}try{Ta={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Ta={indexedDB:null,IDBKeyRange:null}}function yc(c){var m,g=!1,_=new gc(function(w){var A=F(c),D,N=!1,L={},z={},Y={get closed(){return N},unsubscribe:function(){N||(N=!0,D&&D.abort(),U&&vn.storagemutated.unsubscribe(j))}};w.start&&w.start(Y);var U=!1,$=function(){return wr(K)},j=function(G){u(L,G),y(z,L)&&$()},K=function(){var G,X,tt;!N&&Ta.indexedDB&&(L={},G={},D&&D.abort(),D=new AbortController,tt=(function(rt){var lt=Qn();try{A&&Ke();var dt=ke(c,rt);return dt=A?dt.finally(Vn):dt}finally{lt&&Tr()}})(X={subscr:G,signal:D.signal,requery:$,querier:c,trans:null}),Promise.resolve(tt).then(function(rt){g=!0,m=rt,N||X.signal.aborted||(L={},(function(lt){for(var dt in lt)if(O(lt,dt))return;return 1})(z=G)||U||(vn(Dr,j),U=!0),wr(function(){return!N&&w.next&&w.next(rt)}))},function(rt){g=!1,["DatabaseClosedError","AbortError"].includes(rt?.name)||N||wr(function(){N||w.error&&w.error(rt)})}))};return setTimeout($,0),Y});return _.hasValue=function(){return g},_.getValue=function(){return m},_}var Vs=Si;function Wl(c){var m=as;try{as=!0,vn.storagemutated.fire(c),Tt(c,!0)}finally{as=m}}B(Vs,s(s({},Vi),{delete:function(c){return new Vs(c,{addons:[]}).delete()},exists:function(c){return new Vs(c,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return m=Vs.dependencies,g=m.indexedDB,m=m.IDBKeyRange,(Nr(g)?Promise.resolve(g.databases()).then(function(_){return _.map(function(w){return w.name}).filter(function(w){return w!==Wi})}):ya(g,m).toCollection().primaryKeys()).then(c)}catch{return Re(new Ot.MissingAPI)}var m,g},defineClass:function(){return function(c){b(this,c)}},ignoreTransaction:function(c){return Dt.trans?jn(Dt.transless,c):c()},vip:va,async:function(c){return function(){try{var m=we(c.apply(this,arguments));return m&&typeof m.then=="function"?m:wt.resolve(m)}catch(g){return Re(g)}}},spawn:function(c,m,g){try{var _=we(c.apply(g,m||[]));return _&&typeof _.then=="function"?_:wt.resolve(_)}catch(w){return Re(w)}},currentTransaction:{get:function(){return Dt.trans||null}},waitFor:function(c,m){return m=wt.resolve(typeof c=="function"?Vs.ignoreTransaction(c):c).timeout(m||6e4),Dt.trans?Dt.trans.waitFor(m):m},Promise:wt,debug:{get:function(){return Mn},set:function(c){$o(c)}},derive:Rt,extend:b,props:B,override:Nt,Events:$r,on:vn,liveQuery:yc,extendObservabilitySet:u,getByKeyPath:te,setByKeyPath:V,delByKeyPath:function(c,m){typeof m=="string"?V(c,m,void 0):"length"in m&&[].map.call(m,function(g){V(c,g,void 0)})},shallowClone:x,deepClone:M,getObjectDiff:Vr,cmp:ae,asap:Ne,minKey:-1/0,addons:[],connections:pi,errnames:de,dependencies:Ta,cache:S,semVer:"4.2.1",version:"4.2.1".split(".").map(function(c){return parseInt(c)}).reduce(function(c,m,g){return c+m/Math.pow(10,2*g)})})),Vs.maxKey=zi(Vs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vn(Dr,function(c){as||(c=new CustomEvent(pr,{detail:c}),as=!0,dispatchEvent(c),as=!1)}),addEventListener(pr,function(c){c=c.detail,as||Wl(c)}));var Sa,as=!1,ar=function(){};return typeof BroadcastChannel<"u"&&((ar=function(){(Sa=new BroadcastChannel(pr)).onmessage=function(c){return c.data&&Wl(c.data)}})(),typeof Sa.unref=="function"&&Sa.unref(),vn(Dr,function(c){as||Sa.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!Si.disableBfCache&&c.persisted){Mn&&console.debug("Dexie: handling persisted pagehide"),Sa?.close();for(var m=0,g=pi;m<g.length;m++)g[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(c){!Si.disableBfCache&&c.persisted&&(Mn&&console.debug("Dexie: handling persisted pageshow"),ar(),Wl({all:new _n(-1/0,[[]])}))})),wt.rejectionMapper=function(c,m){return!c||c instanceof At||c instanceof TypeError||c instanceof SyntaxError||!c.name||!$i[c.name]?c:(m=new $i[c.name](m||c.message,c),"stack"in c&&_t(m,"stack",{get:function(){return this.inner.stack}}),m)},$o(Mn),s(Si,Object.freeze({__proto__:null,Dexie:Si,liveQuery:yc,Entity:po,cmp:ae,PropModification:Cr,replacePrefix:function(c,m){return new Cr({replacePrefix:[c,m]})},add:function(c){return new Cr({add:c})},remove:function(c){return new Cr({remove:c})},default:Si,RangeSet:_n,mergeRanges:xr,rangesOverlap:qn}),{default:Si}),Si})})(wh)),wh.exports}var U1=P1();const Cm=tp(U1),s_=Symbol.for("Dexie"),Ph=globalThis[s_]||(globalThis[s_]=Cm);if(Cm.semVer!==Ph.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cm.semVer} and ${Ph.semVer}`);const{liveQuery:HD,mergeRanges:FD,rangesOverlap:KD,RangeSet:GD,cmp:QD,Entity:YD,PropModification:XD,replacePrefix:$D,add:JD,remove:ZD,DexieYProvider:WD}=Ph,_r=new Ph("GeminiPodcastFlashcards");_r.version(1).stores({vocab:"id, word, status, nextReview, reviewCount, updatedAt"});async function L1(){if(await _r.vocab.count()===0)try{const r="/public/flashcards/data.json".replace("//","/");console.log(`Fetching data from: ${r}`);const s=await fetch(r);if(!s.ok)throw new Error(`Failed to fetch data.json (${s.status})`);const h=(await s.json()).map(d=>({...d,status:d.status||"new",reviewCount:d.reviewCount||0,nextReview:d.nextReview||Date.now(),updatedAt:Date.now()}));await _r.vocab.bulkAdd(h),console.log(`Initialized DB with ${h.length} cards.`)}catch(t){console.error("Error initializing database:",t)}}function z1(i,t){const r=Date.now(),s=60*1e3,h=24*(60*s);let d=i.status,v=r,b=i.reviewCount||0;if(t==="remember")d="review",v=r+h,b+=1;else if(t==="forget")d="learning",v=r+10*s;else throw new Error(`Unknown action: ${t}`);return{status:d,nextReview:v,reviewCount:b,updatedAt:r}}function j1({card:i,onUpdate:t}){const[r,s]=se.useState(!1),l=()=>{s(!r)},h=(d,v)=>{v.stopPropagation();try{const b=z1(i,d),T={...i,...b};t(T),s(!1)}catch(b){console.error("Error updating card:",b)}};return Kt.jsxs("div",{className:"flashcard-container",onClick:l,style:{border:"1px solid #444",padding:"2rem",borderRadius:"12px",textAlign:"center",cursor:"pointer",minHeight:"240px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#25262b",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"transform 0.2s",color:"#e0e0e0"},children:[!r&&Kt.jsxs("div",{className:"front",children:[Kt.jsx("h2",{style:{fontSize:"2.5rem",margin:"0 0 0.5rem 0",fontWeight:"bold"},children:i.word}),i.ipa&&Kt.jsxs("p",{style:{fontSize:"1.2rem",color:"#88ccca",fontFamily:"monospace",margin:"0 0 1.5rem 0"},children:["/",i.ipa,"/"]}),Kt.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"(Click to flip)"})]}),r&&Kt.jsxs("div",{className:"back",children:[Kt.jsx("h2",{style:{fontSize:"1.5rem",color:"#888",marginBottom:"0.5rem"},children:i.word}),i.ipa&&Kt.jsxs("p",{style:{fontSize:"1rem",color:"#666",fontFamily:"monospace",margin:"0 0 1rem 0"},children:["/",i.ipa,"/"]}),Kt.jsxs("div",{style:{margin:"1rem 0",textAlign:"left",lineHeight:"1.6"},children:[Kt.jsxs("p",{style:{marginBottom:"0.8rem"},children:[Kt.jsx("strong",{style:{color:"#aaa"},children:"Definition:"}),Kt.jsx("br",{}),i.definition]}),Kt.jsxs("p",{children:[Kt.jsx("strong",{style:{color:"#aaa"},children:"Context:"}),Kt.jsx("br",{}),Kt.jsx("em",{style:{color:"#a5d6a7"},children:i.context})]})]}),Kt.jsxs("div",{className:"actions",style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[Kt.jsx("button",{onClick:d=>h("forget",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#e53935",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Forgot (10m)"}),Kt.jsx("button",{onClick:d=>h("remember",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#43a047",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Remember (1d)"})]})]})]})}class B1{_generateId(){const t=Date.now(),r=Math.random().toString(36).substring(2,8);return`${t}_${r}`}async importCards(t){try{const r=JSON.parse(t);if(!Array.isArray(r))throw new Error("Input must be a JSON array");const s=await _r.vocab.toArray(),l=new Set(s.map(v=>v.word.toLowerCase())),h=[];let d=0;for(const v of r)v.word&&(l.has(v.word.toLowerCase())?d++:(h.push({...v,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()}),l.add(v.word.toLowerCase())));return h.length>0&&await _r.vocab.bulkAdd(h),{addedCount:h.length,skippedCount:d}}catch(r){throw console.error("Import failed:",r),r}}async addCard(t){if((await _r.vocab.toArray()).some(h=>h.word.toLowerCase()===t.word.toLowerCase()))throw new Error(`Duplicate word: ${t.word}`);const l={...t,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()};return await _r.vocab.add(l),l}async updateCard(t){const r={...t,updatedAt:Date.now()};return await _r.vocab.put(r),r}async deleteCard(t){await _r.vocab.delete(t)}async getAllCards(){return await _r.vocab.toArray()}}const q1=new B1;let H1={data:""},F1=i=>{if(typeof window=="object"){let t=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(i||document.head).appendChild(t),t.firstChild}return i||H1},K1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,G1=/\/\*[^]*?\*\/|  +/g,a_=/\n+/g,Qa=(i,t)=>{let r="",s="",l="";for(let h in i){let d=i[h];h[0]=="@"?h[1]=="i"?r=h+" "+d+";":s+=h[1]=="f"?Qa(d,h):h+"{"+Qa(d,h[1]=="k"?"":t)+"}":typeof d=="object"?s+=Qa(d,t?t.replace(/([^,])+/g,v=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,v):v?v+" "+b:b)):h):d!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Qa.p?Qa.p(h,d):h+":"+d+";")}return r+(t&&l?t+"{"+l+"}":l)+s},$s={},x0=i=>{if(typeof i=="object"){let t="";for(let r in i)t+=r+x0(i[r]);return t}return i},Q1=(i,t,r,s,l)=>{let h=x0(i),d=$s[h]||($s[h]=(b=>{let T=0,I=11;for(;T<b.length;)I=101*I+b.charCodeAt(T++)>>>0;return"go"+I})(h));if(!$s[d]){let b=h!==i?i:(T=>{let I,O,B=[{}];for(;I=K1.exec(T.replace(G1,""));)I[4]?B.shift():I[3]?(O=I[3].replace(a_," ").trim(),B.unshift(B[0][O]=B[0][O]||{})):B[0][I[1]]=I[2].replace(a_," ").trim();return B[0]})(i);$s[d]=Qa(l?{["@keyframes "+d]:b}:b,r?"":"."+d)}let v=r&&$s.g?$s.g:null;return r&&($s.g=$s[d]),((b,T,I,O)=>{O?T.data=T.data.replace(O,b):T.data.indexOf(b)===-1&&(T.data=I?b+T.data:T.data+b)})($s[d],t,s,v),d},Y1=(i,t,r)=>i.reduce((s,l,h)=>{let d=t[h];if(d&&d.call){let v=d(r),b=v&&v.props&&v.props.className||/^go/.test(v)&&v;d=b?"."+b:v&&typeof v=="object"?v.props?"":Qa(v,""):v===!1?"":v}return s+l+(d??"")},"");function sf(i){let t=this||{},r=i.call?i(t.p):i;return Q1(r.unshift?r.raw?Y1(r,[].slice.call(arguments,1),t.p):r.reduce((s,l)=>Object.assign(s,l&&l.call?l(t.p):l),{}):r,F1(t.target),t.g,t.o,t.k)}let M0,Im,Dm;sf.bind({g:1});let ea=sf.bind({k:1});function X1(i,t,r,s){Qa.p=t,M0=i,Im=r,Dm=s}function uo(i,t){let r=this||{};return function(){let s=arguments;function l(h,d){let v=Object.assign({},h),b=v.className||l.className;r.p=Object.assign({theme:Im&&Im()},v),r.o=/ *go\d+/.test(b),v.className=sf.apply(r,s)+(b?" "+b:"");let T=i;return i[0]&&(T=v.as||i,delete v.as),Dm&&T[0]&&Dm(v),M0(T,v)}return l}}var $1=i=>typeof i=="function",Uh=(i,t)=>$1(i)?i(t):i,J1=(()=>{let i=0;return()=>(++i).toString()})(),V0=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");i=!t||t.matches}return i}})(),Z1=20,np="default",k0=(i,t)=>{let{toastLimit:r}=i.settings;switch(t.type){case 0:return{...i,toasts:[t.toast,...i.toasts].slice(0,r)};case 1:return{...i,toasts:i.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:s}=t;return k0(i,{type:i.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:l}=t;return{...i,toasts:i.toasts.map(d=>d.id===l||l===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...i,pausedAt:t.time};case 6:let h=t.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+h}))}}},Ah=[],P0={toasts:[],pausedAt:void 0,settings:{toastLimit:Z1}},fs={},U0=(i,t=np)=>{fs[t]=k0(fs[t]||P0,i),Ah.forEach(([r,s])=>{r===t&&s(fs[t])})},L0=i=>Object.keys(fs).forEach(t=>U0(i,t)),W1=i=>Object.keys(fs).find(t=>fs[t].toasts.some(r=>r.id===i)),af=(i=np)=>t=>{U0(t,i)},tS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},eS=(i={},t=np)=>{let[r,s]=se.useState(fs[t]||P0),l=se.useRef(fs[t]);se.useEffect(()=>(l.current!==fs[t]&&s(fs[t]),Ah.push([t,s]),()=>{let d=Ah.findIndex(([v])=>v===t);d>-1&&Ah.splice(d,1)}),[t]);let h=r.toasts.map(d=>{var v,b,T;return{...i,...i[d.type],...d,removeDelay:d.removeDelay||((v=i[d.type])==null?void 0:v.removeDelay)||i?.removeDelay,duration:d.duration||((b=i[d.type])==null?void 0:b.duration)||i?.duration||tS[d.type],style:{...i.style,...(T=i[d.type])==null?void 0:T.style,...d.style}}});return{...r,toasts:h}},nS=(i,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...r,id:r?.id||J1()}),rc=i=>(t,r)=>{let s=nS(t,i,r);return af(s.toasterId||W1(s.id))({type:2,toast:s}),s.id},Pn=(i,t)=>rc("blank")(i,t);Pn.error=rc("error");Pn.success=rc("success");Pn.loading=rc("loading");Pn.custom=rc("custom");Pn.dismiss=(i,t)=>{let r={type:3,toastId:i};t?af(t)(r):L0(r)};Pn.dismissAll=i=>Pn.dismiss(void 0,i);Pn.remove=(i,t)=>{let r={type:4,toastId:i};t?af(t)(r):L0(r)};Pn.removeAll=i=>Pn.remove(void 0,i);Pn.promise=(i,t,r)=>{let s=Pn.loading(t.loading,{...r,...r?.loading});return typeof i=="function"&&(i=i()),i.then(l=>{let h=t.success?Uh(t.success,l):void 0;return h?Pn.success(h,{id:s,...r,...r?.success}):Pn.dismiss(s),l}).catch(l=>{let h=t.error?Uh(t.error,l):void 0;h?Pn.error(h,{id:s,...r,...r?.error}):Pn.dismiss(s)}),i};var rS=1e3,iS=(i,t="default")=>{let{toasts:r,pausedAt:s}=eS(i,t),l=se.useRef(new Map).current,h=se.useCallback((O,B=rS)=>{if(l.has(O))return;let ot=setTimeout(()=>{l.delete(O),d({type:4,toastId:O})},B);l.set(O,ot)},[]);se.useEffect(()=>{if(s)return;let O=Date.now(),B=r.map(ot=>{if(ot.duration===1/0)return;let _t=(ot.duration||0)+ot.pauseDuration-(O-ot.createdAt);if(_t<0){ot.visible&&Pn.dismiss(ot.id);return}return setTimeout(()=>Pn.dismiss(ot.id,t),_t)});return()=>{B.forEach(ot=>ot&&clearTimeout(ot))}},[r,s,t]);let d=se.useCallback(af(t),[t]),v=se.useCallback(()=>{d({type:5,time:Date.now()})},[d]),b=se.useCallback((O,B)=>{d({type:1,toast:{id:O,height:B}})},[d]),T=se.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),I=se.useCallback((O,B)=>{let{reverseOrder:ot=!1,gutter:_t=8,defaultPosition:Rt}=B||{},Et=r.filter(Nt=>(Nt.position||Rt)===(O.position||Rt)&&Nt.height),Bt=Et.findIndex(Nt=>Nt.id===O.id),Ft=Et.filter((Nt,zt)=>zt<Bt&&Nt.visible).length;return Et.filter(Nt=>Nt.visible).slice(...ot?[Ft+1]:[0,Ft]).reduce((Nt,zt)=>Nt+(zt.height||0)+_t,0)},[r]);return se.useEffect(()=>{r.forEach(O=>{if(O.dismissed)h(O.id,O.removeDelay);else{let B=l.get(O.id);B&&(clearTimeout(B),l.delete(O.id))}})},[r,h]),{toasts:r,handlers:{updateHeight:b,startPause:v,endPause:T,calculateOffset:I}}},sS=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aS=ea`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oS=ea`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lS=uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uS=ea`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cS=uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${uS} 1s linear infinite;
`,hS=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fS=ea`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dS=uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mS=uo("div")`
  position: absolute;
`,pS=uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gS=ea`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yS=uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vS=({toast:i})=>{let{icon:t,type:r,iconTheme:s}=i;return t!==void 0?typeof t=="string"?se.createElement(yS,null,t):t:r==="blank"?null:se.createElement(pS,null,se.createElement(cS,{...s}),r!=="loading"&&se.createElement(mS,null,r==="error"?se.createElement(lS,{...s}):se.createElement(dS,{...s})))},_S=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ES=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,bS="0%{opacity:0;} 100%{opacity:1;}",TS="0%{opacity:1;} 100%{opacity:0;}",SS=uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wS=uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AS=(i,t)=>{let r=i.includes("top")?1:-1,[s,l]=V0()?[bS,TS]:[_S(r),ES(r)];return{animation:t?`${ea(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ea(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RS=se.memo(({toast:i,position:t,style:r,children:s})=>{let l=i.height?AS(i.position||t||"top-center",i.visible):{opacity:0},h=se.createElement(vS,{toast:i}),d=se.createElement(wS,{...i.ariaProps},Uh(i.message,i));return se.createElement(SS,{className:i.className,style:{...l,...r,...i.style}},typeof s=="function"?s({icon:h,message:d}):se.createElement(se.Fragment,null,h,d))});X1(se.createElement);var CS=({id:i,className:t,style:r,onHeightUpdate:s,children:l})=>{let h=se.useCallback(d=>{if(d){let v=()=>{let b=d.getBoundingClientRect().height;s(i,b)};v(),new MutationObserver(v).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return se.createElement("div",{ref:h,className:t,style:r},l)},IS=(i,t)=>{let r=i.includes("top"),s=r?{top:0}:{bottom:0},l=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:V0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...l}},DS=sf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gh=16,OS=({reverseOrder:i,position:t="top-center",toastOptions:r,gutter:s,children:l,toasterId:h,containerStyle:d,containerClassName:v})=>{let{toasts:b,handlers:T}=iS(r,h);return se.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:gh,left:gh,right:gh,bottom:gh,pointerEvents:"none",...d},className:v,onMouseEnter:T.startPause,onMouseLeave:T.endPause},b.map(I=>{let O=I.position||t,B=T.calculateOffset(I,{reverseOrder:i,gutter:s,defaultPosition:t}),ot=IS(O,B);return se.createElement(CS,{id:I.id,key:I.id,onHeightUpdate:T.updateHeight,className:I.visible?DS:"",style:ot},I.type==="custom"?Uh(I.message,I):l?l(I):se.createElement(RS,{toast:I,position:O}))}))},ur=Pn;function NS({isOpen:i,onClose:t,onSuccess:r}){const[s,l]=se.useState(""),[h,d]=se.useState(!1),[v,b]=se.useState(null);if(!i)return null;const T=async()=>{if(!s.trim())return;d(!0),b(null);const I=ur.loading("...");try{const O=await q1.importCards(s);ur.success(`
: ${O.addedCount}
 (): ${O.skippedCount}`,{id:I,duration:4e3}),l(""),r(),t()}catch(O){console.error(O);const B=O.message||"Unknown error";b(B),ur.error(`: ${B}`,{id:I})}finally{d(!1)}};return Kt.jsx("div",{style:ko.overlay,children:Kt.jsxs("div",{style:ko.modal,children:[Kt.jsx("h2",{style:{marginTop:0,color:"#fff"},children:"Import Cards"}),Kt.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Paste the JSON content generated by Gemini below:"}),Kt.jsx("textarea",{value:s,onChange:I=>l(I.target.value),placeholder:'[ { "word": "...", "definition": "..." }, ... ]',style:ko.textarea}),v&&Kt.jsxs("div",{style:ko.error,children:[" ",v]}),Kt.jsxs("div",{style:ko.actions,children:[Kt.jsx("button",{onClick:t,disabled:h,style:{...ko.btn,backgroundColor:"#555"},children:"Cancel"}),Kt.jsx("button",{onClick:T,disabled:h||!s.trim(),style:{...ko.btn,backgroundColor:h?"#777":"#4caf50"},children:h?"Importing...":"Import"})]})]})})}const ko={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"500px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)"},textarea:{width:"100%",height:"200px",backgroundColor:"#1a1b1e",color:"#fff",border:"1px solid #444",borderRadius:"4px",padding:"0.5rem",fontFamily:"monospace",marginTop:"1rem",resize:"vertical"},error:{color:"#ff6b6b",marginTop:"1rem",fontSize:"0.9rem"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},btn:{padding:"0.5rem 1rem",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"}},xS=()=>{};var o_={};const z0=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},MS=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const l=i[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[r++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[r++],d=i[r++],v=i[r++],b=((l&7)<<18|(h&63)<<12|(d&63)<<6|v&63)-65536;t[s++]=String.fromCharCode(55296+(b>>10)),t[s++]=String.fromCharCode(56320+(b&1023))}else{const h=i[r++],d=i[r++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],d=l+1<i.length,v=d?i[l+1]:0,b=l+2<i.length,T=b?i[l+2]:0,I=h>>2,O=(h&3)<<4|v>>4;let B=(v&15)<<2|T>>6,ot=T&63;b||(ot=64,d||(B=64)),s.push(r[I],r[O],r[B],r[ot])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(z0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):MS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=r[i.charAt(l++)],v=l<i.length?r[i.charAt(l)]:0;++l;const T=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,h==null||v==null||T==null||O==null)throw new VS;const B=h<<2|v>>4;if(s.push(B),T!==64){const ot=v<<4&240|T>>2;if(s.push(ot),O!==64){const _t=T<<6&192|O;s.push(_t)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(i){const t=z0(i);return j0.encodeByteArray(t,!0)},Lh=function(i){return kS(i).replace(/\./g,"")},B0=function(i){try{return j0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const US=()=>PS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof o_>"u")return;const i=o_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&B0(i[1]);return t&&JSON.parse(t)},of=()=>{try{return xS()||US()||LS()||zS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},q0=i=>of()?.emulatorHosts?.[i],jS=i=>{const t=q0(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},H0=()=>of()?.config,F0=i=>of()?.[`_${i}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}function Hl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K0(i){return(await fetch(i,{credentials:"include"})).ok}function qS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Lh(JSON.stringify(r)),Lh(JSON.stringify(d)),""].join(".")}const ju={};function HS(){const i={prod:[],emulator:[]};for(const t of Object.keys(ju))ju[t]?i.emulator.push(t):i.prod.push(t);return i}function FS(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let l_=!1;function G0(i,t){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||ju[i]===t||ju[i]||l_)return;ju[i]=t;function r(B){return`__firebase__banner__${B}`}const s="__firebase__banner",h=HS().prod.length>0;function d(){const B=document.getElementById(s);B&&B.remove()}function v(B){B.style.display="flex",B.style.background="#7faaf0",B.style.position="fixed",B.style.bottom="5px",B.style.left="5px",B.style.padding=".5em",B.style.borderRadius="5px",B.style.alignItems="center"}function b(B,ot){B.setAttribute("width","24"),B.setAttribute("id",ot),B.setAttribute("height","24"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.style.marginLeft="-6px"}function T(){const B=document.createElement("span");return B.style.cursor="pointer",B.style.marginLeft="16px",B.style.fontSize="24px",B.innerHTML=" &times;",B.onclick=()=>{l_=!0,d()},B}function I(B,ot){B.setAttribute("id",ot),B.innerText="Learn more",B.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",B.setAttribute("target","__blank"),B.style.paddingLeft="5px",B.style.textDecoration="underline"}function O(){const B=FS(s),ot=r("text"),_t=document.getElementById(ot)||document.createElement("span"),Rt=r("learnmore"),Et=document.getElementById(Rt)||document.createElement("a"),Bt=r("preprendIcon"),Ft=document.getElementById(Bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(B.created){const Nt=B.element;v(Nt),I(Et,Rt);const zt=T();b(Ft,Bt),Nt.append(Ft,_t,Et,zt),document.body.appendChild(Nt)}h?(_t.innerText="Preview backend disconnected.",Ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_t.innerText="Preview backend running in this workspace."),_t.setAttribute("id",ot)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function GS(){const i=of()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const i=fr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JS(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}const tw="FirebaseError";class aa extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=tw,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?ew(h,s):"Error",v=`${this.serviceName}: ${d} (${l}).`;return new aa(l,v,s)}}function ew(i,t){return i.replace(nw,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const nw=/\{\$([^}]+)}/g;function rw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Bo(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const h=i[l],d=t[l];if(u_(h)&&u_(d)){if(!Bo(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function u_(i){return i!==null&&typeof i=="object"}function sc(i){const t=[];for(const[r,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function iw(i,t){const r=new sw(i,t);return r.subscribe.bind(r)}class sw{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let l;if(t===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");aw(t,["next","error","complete"])?l=t:l={next:t,error:r,complete:s},l.next===void 0&&(l.next=pm),l.error===void 0&&(l.error=pm),l.complete===void 0&&(l.complete=pm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aw(i,t){if(typeof i!="object"||i===null)return!1;for(const r of t)if(r in i&&typeof i[r]=="function")return!0;return!1}function pm(){}function Mi(i){return i&&i._delegate?i._delegate:i}class qo{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Po="[DEFAULT]";class ow{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new BS;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uw(t))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Po){return this.instances.has(t)}getOptions(t=Po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[h,d]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);s===v&&d.resolve(l)}return l}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lw(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Po){return this.component?this.component.multipleInstances?t:Po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lw(i){return i===Po?void 0:i}function uw(i){return i.instantiationMode==="EAGER"}class cw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ow(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var Ee;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ee||(Ee={}));const hw={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},fw=Ee.INFO,dw={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},mw=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=dw[t];if(l)console[l](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rp{constructor(t){this.name=t,this._logLevel=fw,this._logHandler=mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}}const pw=(i,t)=>t.some(r=>i instanceof r);let c_,h_;function gw(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yw(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Om=new WeakMap,Y0=new WeakMap,gm=new WeakMap,ip=new WeakMap;function vw(i){const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",d)},h=()=>{r(Za(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&Q0.set(r,i)}).catch(()=>{}),ip.set(t,i),t}function _w(i){if(Om.has(i))return;const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",d),i.removeEventListener("abort",d)},h=()=>{r(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",d),i.addEventListener("abort",d)});Om.set(i,t)}let Nm={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Om.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Y0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Za(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ew(i){Nm=i(Nm)}function bw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(ym(this),t,...r);return Y0.set(s,t.sort?t.sort():[t]),Za(s)}:yw().includes(i)?function(...t){return i.apply(ym(this),t),Za(Q0.get(this))}:function(...t){return Za(i.apply(ym(this),t))}}function Tw(i){return typeof i=="function"?bw(i):(i instanceof IDBTransaction&&_w(i),pw(i,gw())?new Proxy(i,Nm):i)}function Za(i){if(i instanceof IDBRequest)return vw(i);if(gm.has(i))return gm.get(i);const t=Tw(i);return t!==i&&(gm.set(i,t),ip.set(t,i)),t}const ym=i=>ip.get(i);function Sw(i,t,{blocked:r,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(i,t),v=Za(d);return s&&d.addEventListener("upgradeneeded",b=>{s(Za(d.result),b.oldVersion,b.newVersion,Za(d.transaction),b)}),r&&d.addEventListener("blocked",b=>r(b.oldVersion,b.newVersion,b)),v.then(b=>{h&&b.addEventListener("close",()=>h()),l&&b.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),v}const ww=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],vm=new Map;function f_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=Aw.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ww.includes(r)))return;const h=async function(d,...v){const b=this.transaction(d,l?"readwrite":"readonly");let T=b.store;return s&&(T=T.index(v.shift())),(await Promise.all([T[r](...v),l&&b.done]))[0]};return vm.set(t,h),h}Ew(i=>({...i,get:(t,r,s)=>f_(t,r)||i.get(t,r,s),has:(t,r)=>!!f_(t,r)||i.has(t,r)}));class Rw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Cw(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Cw(i){return i.getComponent()?.type==="VERSION"}const xm="@firebase/app",d_="0.14.6";const na=new rp("@firebase/app"),Iw="@firebase/app-compat",Dw="@firebase/analytics-compat",Ow="@firebase/analytics",Nw="@firebase/app-check-compat",xw="@firebase/app-check",Mw="@firebase/auth",Vw="@firebase/auth-compat",kw="@firebase/database",Pw="@firebase/data-connect",Uw="@firebase/database-compat",Lw="@firebase/functions",zw="@firebase/functions-compat",jw="@firebase/installations",Bw="@firebase/installations-compat",qw="@firebase/messaging",Hw="@firebase/messaging-compat",Fw="@firebase/performance",Kw="@firebase/performance-compat",Gw="@firebase/remote-config",Qw="@firebase/remote-config-compat",Yw="@firebase/storage",Xw="@firebase/storage-compat",$w="@firebase/firestore",Jw="@firebase/ai",Zw="@firebase/firestore-compat",Ww="firebase",tA="12.6.0";const Mm="[DEFAULT]",eA={[xm]:"fire-core",[Iw]:"fire-core-compat",[Ow]:"fire-analytics",[Dw]:"fire-analytics-compat",[xw]:"fire-app-check",[Nw]:"fire-app-check-compat",[Mw]:"fire-auth",[Vw]:"fire-auth-compat",[kw]:"fire-rtdb",[Pw]:"fire-data-connect",[Uw]:"fire-rtdb-compat",[Lw]:"fire-fn",[zw]:"fire-fn-compat",[jw]:"fire-iid",[Bw]:"fire-iid-compat",[qw]:"fire-fcm",[Hw]:"fire-fcm-compat",[Fw]:"fire-perf",[Kw]:"fire-perf-compat",[Gw]:"fire-rc",[Qw]:"fire-rc-compat",[Yw]:"fire-gcs",[Xw]:"fire-gcs-compat",[$w]:"fire-fst",[Zw]:"fire-fst-compat",[Jw]:"fire-vertex","fire-js":"fire-js",[Ww]:"fire-js-all"};const zh=new Map,nA=new Map,Vm=new Map;function m_(i,t){try{i.container.addComponent(t)}catch(r){na.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function kl(i){const t=i.name;if(Vm.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,i);for(const r of zh.values())m_(r,i);for(const r of nA.values())m_(r,i);return!0}function sp(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function Gi(i){return i==null?!1:i.settings!==void 0}const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new ic("app","Firebase",rA);class iA{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const Fl=tA;function X0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s={name:Mm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Wa.create("bad-app-name",{appName:String(l)});if(r||(r=H0()),!r)throw Wa.create("no-options");const h=zh.get(l);if(h){if(Bo(r,h.options)&&Bo(s,h.config))return h;throw Wa.create("duplicate-app",{appName:l})}const d=new cw(l);for(const b of Vm.values())d.addComponent(b);const v=new iA(r,s,d);return zh.set(l,v),v}function $0(i=Mm){const t=zh.get(i);if(!t&&i===Mm&&H0())return X0();if(!t)throw Wa.create("no-app",{appName:i});return t}function to(i,t,r){let s=eA[i]??i;r&&(s+=`-${r}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(d.join(" "));return}kl(new qo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const sA="firebase-heartbeat-database",aA=1,Qu="firebase-heartbeat-store";let _m=null;function J0(){return _m||(_m=Sw(sA,aA,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Qu)}catch(r){console.warn(r)}}}}).catch(i=>{throw Wa.create("idb-open",{originalErrorMessage:i.message})})),_m}async function oA(i){try{const r=(await J0()).transaction(Qu),s=await r.objectStore(Qu).get(Z0(i));return await r.done,s}catch(t){if(t instanceof aa)na.warn(t.message);else{const r=Wa.create("idb-get",{originalErrorMessage:t?.message});na.warn(r.message)}}}async function p_(i,t){try{const s=(await J0()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(t,Z0(i)),await s.done}catch(r){if(r instanceof aa)na.warn(r.message);else{const s=Wa.create("idb-set",{originalErrorMessage:r?.message});na.warn(s.message)}}}function Z0(i){return`${i.name}!${i.options.appId}`}const lA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fA(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>uA){const l=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){na.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g_(),{heartbeatsToSend:r,unsentEntries:s}=hA(this._heartbeatsCache.heartbeats),l=Lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return na.warn(t),""}}}function g_(){return new Date().toISOString().substring(0,10)}function hA(i,t=lA){const r=[];let s=i.slice();for(const l of i){const h=r.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),y_(r)>t){h.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),y_(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await oA(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function y_(i){return Lh(JSON.stringify({version:2,heartbeats:i})).length}function dA(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}function mA(i){kl(new qo("platform-logger",t=>new Rw(t),"PRIVATE")),kl(new qo("heartbeat",t=>new cA(t),"PRIVATE")),to(xm,d_,i),to(xm,d_,"esm2020"),to("fire-js","")}mA("");var pA="firebase",gA="12.6.0";to(pA,gA,"app");function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yA=W0,tE=new ic("auth","Firebase",W0());const jh=new rp("@firebase/auth");function vA(i,...t){jh.logLevel<=Ee.WARN&&jh.warn(`Auth (${Fl}): ${i}`,...t)}function Rh(i,...t){jh.logLevel<=Ee.ERROR&&jh.error(`Auth (${Fl}): ${i}`,...t)}function vs(i,...t){throw op(i,...t)}function Xi(i,...t){return op(i,...t)}function ap(i,t,r){const s={...yA(),[t]:r};return new ic("auth","Firebase",s).create(t,{appName:i.name})}function zo(i){return ap(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _A(i,t,r){const s=r;if(!(t instanceof s))throw s.name!==t.constructor.name&&vs(i,"argument-error"),ap(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function op(i,...t){if(typeof i!="string"){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(r,...s)}return tE.create(i,...t)}function Wt(i,t,...r){if(!i)throw op(t,...r)}function Zs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Rh(t),new Error(t)}function ra(i,t){i||Zs(t)}function km(){return typeof self<"u"&&self.location?.href||""}function EA(){return v_()==="http:"||v_()==="https:"}function v_(){return typeof self<"u"&&self.location?.protocol||null}function bA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EA()||YS()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class ac{constructor(t,r){this.shortDelay=t,this.longDelay=r,ra(r>t,"Short delay should be less than long delay!"),this.isMobile=KS()||XS()}get(){return bA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(i,t){ra(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class eE{static initialize(t,r,s){this.fetchImpl=t,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AA=new ac(3e4,6e4);function up(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Kl(i,t,r,s,l={}){return nE(i,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const v=sc({key:i.config.apiKey,...d}).slice(1),b=await i._getAdditionalHeaders();b["Content-Type"]="application/json",i.languageCode&&(b["X-Firebase-Locale"]=i.languageCode);const T={method:t,headers:b,...h};return QS()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&Hl(i.emulatorConfig.host)&&(T.credentials="include"),eE.fetch()(await rE(i,i.config.apiHost,r,v),T)})}async function nE(i,t,r){i._canInitEmulator=!1;const s={...SA,...t};try{const l=new CA(i),h=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw yh(i,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const v=h.ok?d.errorMessage:d.error.message,[b,T]=v.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(i,"credential-already-in-use",d);if(b==="EMAIL_EXISTS")throw yh(i,"email-already-in-use",d);if(b==="USER_DISABLED")throw yh(i,"user-disabled",d);const I=s[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw ap(i,I,T);vs(i,I)}}catch(l){if(l instanceof aa)throw l;vs(i,"network-request-failed",{message:String(l)})}}async function RA(i,t,r,s,l={}){const h=await Kl(i,t,r,s,l);return"mfaPendingCredential"in h&&vs(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function rE(i,t,r,s){const l=`${t}${r}?${s}`,h=i,d=h.config.emulator?lp(i.config,l):`${i.config.apiScheme}://${l}`;return wA.includes(r)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class CA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),AA.get())})}}function yh(i,t,r){const s={appName:i.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const l=Xi(i,t,s);return l.customData._tokenResponse=r,l}async function IA(i,t){return Kl(i,"POST","/v1/accounts:delete",t)}async function Bh(i,t){return Kl(i,"POST","/v1/accounts:lookup",t)}function Bu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(i,t=!1){const r=Mi(i),s=await r.getIdToken(t),l=cp(s);Wt(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:Bu(Em(l.auth_time)),issuedAtTime:Bu(Em(l.iat)),expirationTime:Bu(Em(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Em(i){return Number(i)*1e3}function cp(i){const[t,r,s]=i.split(".");if(t===void 0||r===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const l=B0(r);return l?JSON.parse(l):(Rh("Failed to decode base64 JWT payload"),null)}catch(l){return Rh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function __(i){const t=cp(i);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Yu(i,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof aa&&OA(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function OA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class NA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qh(i){const t=i.auth,r=await i.getIdToken(),s=await Yu(i,Bh(t,{idToken:r}));Wt(s?.users.length,t,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?iE(l.providerUserInfo):[],d=MA(i.providerData,h),v=i.isAnonymous,b=!(i.email&&l.passwordHash)&&!d?.length,T=v?b:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(i,I)}async function xA(i){const t=Mi(i);await qh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MA(i,t){return[...i.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function iE(i){return i.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function VA(i,t){const r=await nE(i,{},async()=>{const s=sc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,d=await rE(i,l,"/v1/token",`key=${h}`),v=await i._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:v,body:s};return i.emulatorConfig&&Hl(i.emulatorConfig.host)&&(b.credentials="include"),eE.fetch()(d,b)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function kA(i,t){return Kl(i,"POST","/v2/accounts:revokeToken",up(i,t))}class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):__(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Wt(t.length!==0,"internal-error");const r=__(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:s,refreshToken:l,expiresIn:h}=await VA(t,r);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,r,s){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,r){const{refreshToken:s,accessToken:l,expirationTime:h}=r,d=new Nl;return s&&(Wt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Wt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Wt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Ga(i,t){Wt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Qi{constructor({uid:t,auth:r,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new NA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const r=await Yu(this,this.stsTokenManager.getToken(this.auth,t));return Wt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return DA(this,t)}reload(){return xA(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Qi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),r&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(zo(this.auth));const t=await this.getIdToken();return await Yu(this,IA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const s=r.displayName??void 0,l=r.email??void 0,h=r.phoneNumber??void 0,d=r.photoURL??void 0,v=r.tenantId??void 0,b=r._redirectEventId??void 0,T=r.createdAt??void 0,I=r.lastLoginAt??void 0,{uid:O,emailVerified:B,isAnonymous:ot,providerData:_t,stsTokenManager:Rt}=r;Wt(O&&Rt,t,"internal-error");const Et=Nl.fromJSON(this.name,Rt);Wt(typeof O=="string",t,"internal-error"),Ga(s,t.name),Ga(l,t.name),Wt(typeof B=="boolean",t,"internal-error"),Wt(typeof ot=="boolean",t,"internal-error"),Ga(h,t.name),Ga(d,t.name),Ga(v,t.name),Ga(b,t.name),Ga(T,t.name),Ga(I,t.name);const Bt=new Qi({uid:O,auth:t,email:l,emailVerified:B,displayName:s,isAnonymous:ot,photoURL:d,phoneNumber:h,tenantId:v,stsTokenManager:Et,createdAt:T,lastLoginAt:I});return _t&&Array.isArray(_t)&&(Bt.providerData=_t.map(Ft=>({...Ft}))),b&&(Bt._redirectEventId=b),Bt}static async _fromIdTokenResponse(t,r,s=!1){const l=new Nl;l.updateFromServerResponse(r);const h=new Qi({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await qh(h),h}static async _fromGetAccountInfoResponse(t,r,s){const l=r.users[0];Wt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?iE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,v=new Nl;v.updateFromIdToken(s);const b=new Qi({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:d}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(b,T),b}}const E_=new Map;function Ws(i){ra(i instanceof Function,"Expected a class definition");let t=E_.get(i);return t?(ra(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,E_.set(i,t),t)}class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}sE.type="NONE";const b_=sE;function Ch(i,t,r){return`firebase:${i}:${t}:${r}`}class xl{constructor(t,r,s){this.persistence=t,this.auth=r,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Ch(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ch("persistence",l.apiKey,h),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Bh(this.auth,{idToken:t}).catch(()=>{});return r?Qi._fromGetAccountInfoResponse(this.auth,r,t):null}return Qi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,s="authUser"){if(!r.length)return new xl(Ws(b_),t,s);const l=(await Promise.all(r.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Ws(b_);const d=Ch(s,t.config.apiKey,t.name);let v=null;for(const T of r)try{const I=await T._get(d);if(I){let O;if(typeof I=="string"){const B=await Bh(t,{idToken:I}).catch(()=>{});if(!B)break;O=await Qi._fromGetAccountInfoResponse(t,B,I)}else O=Qi._fromJSON(t,I);T!==h&&(v=O),h=T;break}}catch{}const b=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!b.length?new xl(h,t,s):(h=b[0],v&&await h._set(d,v.toJSON()),await Promise.all(r.map(async T=>{if(T!==h)try{await T._remove(d)}catch{}})),new xl(h,t,s))}}function T_(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hE(t))return"Blackberry";if(fE(t))return"Webos";if(oE(t))return"Safari";if((t.includes("chrome/")||lE(t))&&!t.includes("edge/"))return"Chrome";if(cE(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(r);if(s?.length===2)return s[1]}return"Other"}function aE(i=fr()){return/firefox\//i.test(i)}function oE(i=fr()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lE(i=fr()){return/crios\//i.test(i)}function uE(i=fr()){return/iemobile/i.test(i)}function cE(i=fr()){return/android/i.test(i)}function hE(i=fr()){return/blackberry/i.test(i)}function fE(i=fr()){return/webos/i.test(i)}function hp(i=fr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function PA(i=fr()){return hp(i)&&!!window.navigator?.standalone}function UA(){return $S()&&document.documentMode===10}function dE(i=fr()){return hp(i)||cE(i)||fE(i)||hE(i)||/windows phone/i.test(i)||uE(i)}function mE(i,t=[]){let r;switch(i){case"Browser":r=T_(fr());break;case"Worker":r=`${T_(fr())}-${i}`;break;default:r=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Fl}/${s}`}class LA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const s=h=>new Promise((d,v)=>{try{const b=t(h);d(b)}catch(b){v(b)}});s.onAbort=r,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function zA(i,t={}){return Kl(i,"GET","/v2/passwordPolicy",up(i,t))}const jA=6;class BA{constructor(t){const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??jA,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=t.length>=s),l&&(r.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,r,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class qA{constructor(t,r,s,l){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new LA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ws(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Bh(this,{idToken:t}),s=await Qi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===d)&&v?.user&&(s=v.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await qh(t)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gi(this.app))return Promise.reject(zo(this));const r=t?Mi(t):null;return r&&Wt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gi(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zA(this),r=new BA(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ic("auth","Firebase",t())}onAuthStateChanged(t,r,s){return this.registerStateListener(this.authStateSubscription,t,r,s)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,s){return this.registerStateListener(this.idTokenSubscription,t,r,s)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await kA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,r){const s=await this.getOrInitRedirectPersistenceManager(r);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ws(t)||this._popupRedirectResolver;Wt(r,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Ws(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,s,l){if(this._deleted)return()=>{};const h=typeof r=="function"?r:r.next.bind(r);let d=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(v,this,"internal-error"),v.then(()=>{d||h(this.currentUser)}),typeof r=="function"){const b=t.addObserver(r,s,l);return()=>{d=!0,b()}}else{const b=t.addObserver(r);return()=>{d=!0,b()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lf(i){return Mi(i)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=iw(r=>this.observer=r)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HA(i){fp=i}function FA(i){return fp.loadJS(i)}function KA(){return fp.gapiScript}function GA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function QA(i,t){const r=sp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),h=r.getOptions();if(Bo(h,t??{}))return l;vs(l,"already-initialized")}return r.initialize({options:t})}function YA(i,t){const r=t?.persistence||[],s=(Array.isArray(r)?r:[r]).map(Ws);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function XA(i,t,r){const s=lf(i);Wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=pE(t),{host:d,port:v}=$A(t),b=v===null?"":`:${v}`,T={url:`${h}//${d}${b}/`},I=Object.freeze({host:d,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Wt(Bo(T,s.config.emulator)&&Bo(I,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=T,s.emulatorConfig=I,s.settings.appVerificationDisabledForTesting=!0,Hl(d)?(K0(`${h}//${d}${b}`),G0("Auth",!0)):JA()}function pE(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function $A(i){const t=pE(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:w_(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:w_(d)}}}function w_(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function JA(){function i(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class gE{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Zs("not implemented")}_getIdTokenResponse(t){return Zs("not implemented")}_linkToIdToken(t,r){return Zs("not implemented")}_getReauthenticationResolver(t){return Zs("not implemented")}}async function Ml(i,t){return RA(i,"POST","/v1/accounts:signInWithIdp",up(i,t))}const ZA="http://localhost";class Ho extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Ho(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):vs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=r;if(!s||!l)return null;const d=new Ho(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const r=this.buildRequest();return Ml(t,r)}_linkToIdToken(t,r){const s=this.buildRequest();return s.idToken=r,Ml(t,s)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ml(t,r)}buildRequest(){const t={requestUri:ZA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=sc(r)}return t}}class dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class oc extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ya extends oc{constructor(){super("facebook.com")}static credential(t){return Ho._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ya.credential(t.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";class Js extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ho._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return Js.credential(r,s)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Xa extends oc{constructor(){super("github.com")}static credential(t){return Ho._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xa.credentialFromTaggedObject(t)}static credentialFromError(t){return Xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xa.credential(t.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";class $a extends oc{constructor(){super("twitter.com")}static credential(t,r){return Ho._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return $a.credential(r,s)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";class Pl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,s,l=!1){const h=await Qi._fromIdTokenResponse(t,s,l),d=A_(s);return new Pl({user:h,providerId:d,_tokenResponse:s,operationType:r})}static async _forOperation(t,r,s){await t._updateTokensIfNecessary(s,!0);const l=A_(s);return new Pl({user:t,providerId:l,_tokenResponse:s,operationType:r})}}function A_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Hh extends aa{constructor(t,r,s,l){super(r.code,r.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,r,s,l){return new Hh(t,r,s,l)}}function yE(i,t,r,s){return(t==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,h,t,s):h})}async function WA(i,t,r=!1){const s=await Yu(i,t._linkToIdToken(i.auth,await i.getIdToken()),r);return Pl._forOperation(i,"link",s)}async function tR(i,t,r=!1){const{auth:s}=i;if(Gi(s.app))return Promise.reject(zo(s));const l="reauthenticate";try{const h=await Yu(i,yE(s,l,t,i),r);Wt(h.idToken,s,"internal-error");const d=cp(h.idToken);Wt(d,s,"internal-error");const{sub:v}=d;return Wt(i.uid===v,s,"user-mismatch"),Pl._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&vs(s,"user-mismatch"),h}}async function eR(i,t,r=!1){if(Gi(i.app))return Promise.reject(zo(i));const s="signIn",l=await yE(i,s,t),h=await Pl._fromIdTokenResponse(i,s,l);return r||await i._updateCurrentUser(h.user),h}function nR(i,t,r,s){return Mi(i).onIdTokenChanged(t,r,s)}function rR(i,t,r){return Mi(i).beforeAuthStateChanged(t,r)}function iR(i,t,r,s){return Mi(i).onAuthStateChanged(t,r,s)}function R_(i){return Mi(i).signOut()}const Fh="__sak";class vE{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sR=1e3,aR=10;class _E extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),l=this.localCache[r];s!==l&&t(r,l,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((d,v,b)=>{this.notifyListeners(d,b)});return}const s=t.key;r?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!r&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);UA()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aR):l()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}_E.type="LOCAL";const oR=_E;class EE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}EE.type="SESSION";const bE=EE;function lR(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}class uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(l=>l.isListeningto(t));if(r)return r;const s=new uf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:s,eventType:l,data:h}=r.data,d=this.handlersMap[l];if(!d?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const v=Array.from(d).map(async T=>T(r.origin,h)),b=await lR(v);r.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:b})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function mp(i="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(Math.random()*10);return i+r}class uR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((v,b)=>{const T=mp("",20);l.port1.start();const I=setTimeout(()=>{b(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(O){const B=O;if(B.data.eventId===T)switch(B.data.status){case"ack":clearTimeout(I),h=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(B.data.response);break;default:clearTimeout(I),clearTimeout(h),b(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:T,data:r},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ds(){return window}function cR(i){ds().location.href=i}function TE(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function hR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){return navigator?.serviceWorker?.controller||null}function dR(){return TE()?self:null}const SE="firebaseLocalStorageDb",mR=1,Kh="firebaseLocalStorage",wE="fbase_key";class lc{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function cf(i,t){return i.transaction([Kh],t?"readwrite":"readonly").objectStore(Kh)}function pR(){const i=indexedDB.deleteDatabase(SE);return new lc(i).toPromise()}function Um(){const i=indexedDB.open(SE,mR);return new Promise((t,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:wE})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?t(s):(s.close(),await pR(),t(await Um()))})})}async function C_(i,t,r){const s=cf(i,!0).put({[wE]:t,value:r});return new lc(s).toPromise()}async function gR(i,t){const r=cf(i,!1).get(t),s=await new lc(r).toPromise();return s===void 0?null:s.value}function I_(i,t){const r=cf(i,!0).delete(t);return new lc(r).toPromise()}const yR=800,vR=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(t){let r=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(r++>vR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(dR()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Um();return await C_(t,Fh,"1"),await I_(t,Fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>C_(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(s=>gR(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=cf(l,!1).getAll();return new lc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const _R=AE;new ac(3e4,6e4);function RE(i,t){return t?Ws(t):(Wt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class pp extends gE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ml(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ml(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ml(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function ER(i){return eR(i.auth,new pp(i),i.bypassAuthState)}function bR(i){const{auth:t,user:r}=i;return Wt(r,t,"internal-error"),tR(r,new pp(i),i.bypassAuthState)}async function TR(i){const{auth:t,user:r}=i;return Wt(r,t,"internal-error"),WA(r,new pp(i),i.bypassAuthState)}class CE{constructor(t,r,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:s,postBody:l,tenantId:h,error:d,type:v}=t;if(d){this.reject(d);return}const b={auth:this.auth,requestUri:r,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(b))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return TR;case"reauthViaPopup":case"reauthViaRedirect":return bR;default:vs(this.auth,"internal-error")}}resolve(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SR=new ac(2e3,1e4);async function wR(i,t,r){if(Gi(i.app))return Promise.reject(Xi(i,"operation-not-supported-in-this-environment"));const s=lf(i);_A(i,t,dp);const l=RE(s,r);return new Uo(s,"signInViaPopup",t,l).executeNotNull()}class Uo extends CE{constructor(t,r,s,l,h){super(t,r,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Wt(t,this.auth,"internal-error"),t}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SR.get())};t()}}Uo.currentPopupAction=null;const AR="pendingRedirect",Ih=new Map;class RR extends CE{constructor(t,r,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let t=Ih.get(this.auth._key());if(!t){try{const s=await CR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(r){t=()=>Promise.reject(r)}Ih.set(this.auth._key(),t)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(i,t){const r=OR(t),s=DR(i);if(!await s._isAvailable())return!1;const l=await s._get(r)==="true";return await s._remove(r),l}function IR(i,t){Ih.set(i._key(),t)}function DR(i){return Ws(i._redirectPersistence)}function OR(i){return Ch(AR,i.config.apiKey,i.name)}async function NR(i,t,r=!1){if(Gi(i.app))return Promise.reject(zo(i));const s=lf(i),l=RE(s,t),d=await new RR(s,l,r).execute();return d&&!r&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const xR=600*1e3;class MR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(r=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VR(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){if(t.error&&!IE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";r.onError(Xi(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const s=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(t))}saveEventToCache(t){this.cachedEventUids.add(D_(t)),this.lastProcessedEventTime=Date.now()}}function D_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function IE({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function VR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(i);default:return!1}}async function kR(i,t={}){return Kl(i,"GET","/v1/projects",t)}const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UR=/^https?/;async function LR(i){if(i.config.emulator)return;const{authorizedDomains:t}=await kR(i);for(const r of t)try{if(zR(r))return}catch{}vs(i,"unauthorized-domain")}function zR(i){const t=km(),{protocol:r,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&d.hostname===s}if(!UR.test(r))return!1;if(PR.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const jR=new ac(3e4,6e4);function O_(){const i=ds().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function BR(i){return new Promise((t,r)=>{function s(){O_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{O_(),r(Xi(i,"network-request-failed"))},timeout:jR.get()})}if(ds().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ds().gapi?.load)s();else{const l=GA("iframefcb");return ds()[l]=()=>{gapi.load?s():r(Xi(i,"network-request-failed"))},FA(`${KA()}?onload=${l}`).catch(h=>r(h))}}).catch(t=>{throw Dh=null,t})}let Dh=null;function qR(i){return Dh=Dh||BR(i),Dh}const HR=new ac(5e3,15e3),FR="__/auth/iframe",KR="emulator/auth/iframe",GR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(i){const t=i.config;Wt(t.authDomain,i,"auth-domain-config-required");const r=t.emulator?lp(t,KR):`https://${i.config.authDomain}/${FR}`,s={apiKey:t.apiKey,appName:i.name,v:Fl},l=QR.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${r}?${sc(s).slice(1)}`}async function XR(i){const t=await qR(i),r=ds().gapi;return Wt(r,i,"internal-error"),t.open({where:document.body,url:YR(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GR,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Xi(i,"network-request-failed"),v=ds().setTimeout(()=>{h(d)},HR.get());function b(){ds().clearTimeout(v),l(s)}s.ping(b).then(b,()=>{h(d)})}))}const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,ZR=600,WR="_blank",tC="http://localhost";class N_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eC(i,t,r,s=JR,l=ZR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let v="";const b={...$R,width:s.toString(),height:l.toString(),top:h,left:d},T=fr().toLowerCase();r&&(v=lE(T)?WR:r),aE(T)&&(t=t||tC,b.scrollbars="yes");const I=Object.entries(b).reduce((B,[ot,_t])=>`${B}${ot}=${_t},`,"");if(PA(T)&&v!=="_self")return nC(t||"",v),new N_(null);const O=window.open(t||"",v,I);Wt(O,i,"popup-blocked");try{O.focus()}catch{}return new N_(O)}function nC(i,t){const r=document.createElement("a");r.href=i,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}const rC="__/auth/handler",iC="emulator/auth/handler",sC=encodeURIComponent("fac");async function x_(i,t,r,s,l,h){Wt(i.config.authDomain,i,"auth-domain-config-required"),Wt(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:s,v:Fl,eventId:l};if(t instanceof dp){t.setDefaultLanguage(i.languageCode),d.providerId=t.providerId||"",rw(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[I,O]of Object.entries({}))d[I]=O}if(t instanceof oc){const I=t.getScopes().filter(O=>O!=="");I.length>0&&(d.scopes=I.join(","))}i.tenantId&&(d.tid=i.tenantId);const v=d;for(const I of Object.keys(v))v[I]===void 0&&delete v[I];const b=await i._getAppCheckToken(),T=b?`#${sC}=${encodeURIComponent(b)}`:"";return`${aC(i)}?${sc(v).slice(1)}${T}`}function aC({config:i}){return i.emulator?lp(i,iC):`https://${i.authDomain}/${rC}`}const bm="webStorageSupport";class oC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=NR,this._overrideRedirectResult=IR}async _openPopup(t,r,s,l){ra(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await x_(t,r,s,km(),l);return eC(t,h,mp())}async _openRedirect(t,r,s,l){await this._originValidation(t);const h=await x_(t,r,s,km(),l);return cR(h),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:l,promise:h}=this.eventManagers[r];return l?Promise.resolve(l):(ra(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(t){const r=await XR(t),s=new MR(t);return r.register("authEvent",l=>(Wt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=r,s}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(bm,{type:bm},l=>{const h=l?.[0]?.[bm];h!==void 0&&r(!!h),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=LR(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return dE()||oE()||hp()}}const lC=oC;var M_="@firebase/auth",V_="1.11.1";class uC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hC(i){kl(new qo("auth",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:v}=s.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const b={apiKey:d,authDomain:v,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(i)},T=new qA(s,l,h,b);return YA(T,r),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,s)=>{t.getProvider("auth-internal").initialize()})),kl(new qo("auth-internal",t=>{const r=lf(t.getProvider("auth").getImmediate());return(s=>new uC(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(M_,V_,cC(i)),to(M_,V_,"esm2020")}const fC=300,dC=F0("authIdTokenMaxAge")||fC;let k_=null;const mC=i=>async t=>{const r=t&&await t.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>dC)return;const l=r?.token;k_!==l&&(k_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pC(i=$0()){const t=sp(i,"auth");if(t.isInitialized())return t.getImmediate();const r=QA(i,{popupRedirectResolver:lC,persistence:[_R,oR,bE]}),s=F0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=mC(h.toString());rR(r,d,()=>d(r.currentUser)),nR(r,v=>d(v))}}const l=q0("auth");return l&&XA(r,`http://${l}`),r}function gC(){return document.getElementsByTagName("head")?.[0]??document}HA({loadJS(i){return new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=l=>{const h=Xi("internal-error");h.customData=l,r(h)},s.type="text/javascript",s.charset="UTF-8",gC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hC("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eo,DE;(function(){var i;function t(V,x){function P(){}P.prototype=x.prototype,V.F=x.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(Q,q,Z){for(var M=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)M[Fe-2]=arguments[Fe];return x.prototype[q].apply(Q,M)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,x,P){P||(P=0);const Q=Array(16);if(typeof x=="string")for(var q=0;q<16;++q)Q[q]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(q=0;q<16;++q)Q[q]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=V.g[0],P=V.g[1],q=V.g[2];let Z=V.g[3],M;M=x+(Z^P&(q^Z))+Q[0]+3614090360&4294967295,x=P+(M<<7&4294967295|M>>>25),M=Z+(q^x&(P^q))+Q[1]+3905402710&4294967295,Z=x+(M<<12&4294967295|M>>>20),M=q+(P^Z&(x^P))+Q[2]+606105819&4294967295,q=Z+(M<<17&4294967295|M>>>15),M=P+(x^q&(Z^x))+Q[3]+3250441966&4294967295,P=q+(M<<22&4294967295|M>>>10),M=x+(Z^P&(q^Z))+Q[4]+4118548399&4294967295,x=P+(M<<7&4294967295|M>>>25),M=Z+(q^x&(P^q))+Q[5]+1200080426&4294967295,Z=x+(M<<12&4294967295|M>>>20),M=q+(P^Z&(x^P))+Q[6]+2821735955&4294967295,q=Z+(M<<17&4294967295|M>>>15),M=P+(x^q&(Z^x))+Q[7]+4249261313&4294967295,P=q+(M<<22&4294967295|M>>>10),M=x+(Z^P&(q^Z))+Q[8]+1770035416&4294967295,x=P+(M<<7&4294967295|M>>>25),M=Z+(q^x&(P^q))+Q[9]+2336552879&4294967295,Z=x+(M<<12&4294967295|M>>>20),M=q+(P^Z&(x^P))+Q[10]+4294925233&4294967295,q=Z+(M<<17&4294967295|M>>>15),M=P+(x^q&(Z^x))+Q[11]+2304563134&4294967295,P=q+(M<<22&4294967295|M>>>10),M=x+(Z^P&(q^Z))+Q[12]+1804603682&4294967295,x=P+(M<<7&4294967295|M>>>25),M=Z+(q^x&(P^q))+Q[13]+4254626195&4294967295,Z=x+(M<<12&4294967295|M>>>20),M=q+(P^Z&(x^P))+Q[14]+2792965006&4294967295,q=Z+(M<<17&4294967295|M>>>15),M=P+(x^q&(Z^x))+Q[15]+1236535329&4294967295,P=q+(M<<22&4294967295|M>>>10),M=x+(q^Z&(P^q))+Q[1]+4129170786&4294967295,x=P+(M<<5&4294967295|M>>>27),M=Z+(P^q&(x^P))+Q[6]+3225465664&4294967295,Z=x+(M<<9&4294967295|M>>>23),M=q+(x^P&(Z^x))+Q[11]+643717713&4294967295,q=Z+(M<<14&4294967295|M>>>18),M=P+(Z^x&(q^Z))+Q[0]+3921069994&4294967295,P=q+(M<<20&4294967295|M>>>12),M=x+(q^Z&(P^q))+Q[5]+3593408605&4294967295,x=P+(M<<5&4294967295|M>>>27),M=Z+(P^q&(x^P))+Q[10]+38016083&4294967295,Z=x+(M<<9&4294967295|M>>>23),M=q+(x^P&(Z^x))+Q[15]+3634488961&4294967295,q=Z+(M<<14&4294967295|M>>>18),M=P+(Z^x&(q^Z))+Q[4]+3889429448&4294967295,P=q+(M<<20&4294967295|M>>>12),M=x+(q^Z&(P^q))+Q[9]+568446438&4294967295,x=P+(M<<5&4294967295|M>>>27),M=Z+(P^q&(x^P))+Q[14]+3275163606&4294967295,Z=x+(M<<9&4294967295|M>>>23),M=q+(x^P&(Z^x))+Q[3]+4107603335&4294967295,q=Z+(M<<14&4294967295|M>>>18),M=P+(Z^x&(q^Z))+Q[8]+1163531501&4294967295,P=q+(M<<20&4294967295|M>>>12),M=x+(q^Z&(P^q))+Q[13]+2850285829&4294967295,x=P+(M<<5&4294967295|M>>>27),M=Z+(P^q&(x^P))+Q[2]+4243563512&4294967295,Z=x+(M<<9&4294967295|M>>>23),M=q+(x^P&(Z^x))+Q[7]+1735328473&4294967295,q=Z+(M<<14&4294967295|M>>>18),M=P+(Z^x&(q^Z))+Q[12]+2368359562&4294967295,P=q+(M<<20&4294967295|M>>>12),M=x+(P^q^Z)+Q[5]+4294588738&4294967295,x=P+(M<<4&4294967295|M>>>28),M=Z+(x^P^q)+Q[8]+2272392833&4294967295,Z=x+(M<<11&4294967295|M>>>21),M=q+(Z^x^P)+Q[11]+1839030562&4294967295,q=Z+(M<<16&4294967295|M>>>16),M=P+(q^Z^x)+Q[14]+4259657740&4294967295,P=q+(M<<23&4294967295|M>>>9),M=x+(P^q^Z)+Q[1]+2763975236&4294967295,x=P+(M<<4&4294967295|M>>>28),M=Z+(x^P^q)+Q[4]+1272893353&4294967295,Z=x+(M<<11&4294967295|M>>>21),M=q+(Z^x^P)+Q[7]+4139469664&4294967295,q=Z+(M<<16&4294967295|M>>>16),M=P+(q^Z^x)+Q[10]+3200236656&4294967295,P=q+(M<<23&4294967295|M>>>9),M=x+(P^q^Z)+Q[13]+681279174&4294967295,x=P+(M<<4&4294967295|M>>>28),M=Z+(x^P^q)+Q[0]+3936430074&4294967295,Z=x+(M<<11&4294967295|M>>>21),M=q+(Z^x^P)+Q[3]+3572445317&4294967295,q=Z+(M<<16&4294967295|M>>>16),M=P+(q^Z^x)+Q[6]+76029189&4294967295,P=q+(M<<23&4294967295|M>>>9),M=x+(P^q^Z)+Q[9]+3654602809&4294967295,x=P+(M<<4&4294967295|M>>>28),M=Z+(x^P^q)+Q[12]+3873151461&4294967295,Z=x+(M<<11&4294967295|M>>>21),M=q+(Z^x^P)+Q[15]+530742520&4294967295,q=Z+(M<<16&4294967295|M>>>16),M=P+(q^Z^x)+Q[2]+3299628645&4294967295,P=q+(M<<23&4294967295|M>>>9),M=x+(q^(P|~Z))+Q[0]+4096336452&4294967295,x=P+(M<<6&4294967295|M>>>26),M=Z+(P^(x|~q))+Q[7]+1126891415&4294967295,Z=x+(M<<10&4294967295|M>>>22),M=q+(x^(Z|~P))+Q[14]+2878612391&4294967295,q=Z+(M<<15&4294967295|M>>>17),M=P+(Z^(q|~x))+Q[5]+4237533241&4294967295,P=q+(M<<21&4294967295|M>>>11),M=x+(q^(P|~Z))+Q[12]+1700485571&4294967295,x=P+(M<<6&4294967295|M>>>26),M=Z+(P^(x|~q))+Q[3]+2399980690&4294967295,Z=x+(M<<10&4294967295|M>>>22),M=q+(x^(Z|~P))+Q[10]+4293915773&4294967295,q=Z+(M<<15&4294967295|M>>>17),M=P+(Z^(q|~x))+Q[1]+2240044497&4294967295,P=q+(M<<21&4294967295|M>>>11),M=x+(q^(P|~Z))+Q[8]+1873313359&4294967295,x=P+(M<<6&4294967295|M>>>26),M=Z+(P^(x|~q))+Q[15]+4264355552&4294967295,Z=x+(M<<10&4294967295|M>>>22),M=q+(x^(Z|~P))+Q[6]+2734768916&4294967295,q=Z+(M<<15&4294967295|M>>>17),M=P+(Z^(q|~x))+Q[13]+1309151649&4294967295,P=q+(M<<21&4294967295|M>>>11),M=x+(q^(P|~Z))+Q[4]+4149444226&4294967295,x=P+(M<<6&4294967295|M>>>26),M=Z+(P^(x|~q))+Q[11]+3174756917&4294967295,Z=x+(M<<10&4294967295|M>>>22),M=q+(x^(Z|~P))+Q[2]+718787259&4294967295,q=Z+(M<<15&4294967295|M>>>17),M=P+(Z^(q|~x))+Q[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(q+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+q&4294967295,V.g[3]=V.g[3]+Z&4294967295}s.prototype.v=function(V,x){x===void 0&&(x=V.length);const P=x-this.blockSize,Q=this.C;let q=this.h,Z=0;for(;Z<x;){if(q==0)for(;Z<=P;)l(this,V,Z),Z+=this.blockSize;if(typeof V=="string"){for(;Z<x;)if(Q[q++]=V.charCodeAt(Z++),q==this.blockSize){l(this,Q),q=0;break}}else for(;Z<x;)if(Q[q++]=V[Z++],q==this.blockSize){l(this,Q),q=0;break}}this.h=q,this.o+=x},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;x=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=x&255,x/=256;for(this.v(V),V=Array(16),x=0,P=0;P<4;++P)for(let Q=0;Q<32;Q+=8)V[x++]=this.g[P]>>>Q&255;return V};function h(V,x){var P=v;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=x(V)}function d(V,x){this.h=x;const P=[];let Q=!0;for(let q=V.length-1;q>=0;q--){const Z=V[q]|0;Q&&Z==x||(P[q]=Z,Q=!1)}this.g=P}var v={};function b(V){return-128<=V&&V<128?h(V,function(x){return new d([x|0],x<0?-1:0)}):new d([V|0],V<0?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return O;if(V<0)return Et(T(-V));const x=[];let P=1;for(let Q=0;V>=P;Q++)x[Q]=V/P|0,P*=4294967296;return new d(x,0)}function I(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return Et(I(V.substring(1),x));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=T(Math.pow(x,8));let Q=O;for(let Z=0;Z<V.length;Z+=8){var q=Math.min(8,V.length-Z);const M=parseInt(V.substring(Z,Z+q),x);q<8?(q=T(Math.pow(x,q)),Q=Q.j(q).add(T(M))):(Q=Q.j(P),Q=Q.add(T(M)))}return Q}var O=b(0),B=b(1),ot=b(16777216);i=d.prototype,i.m=function(){if(Rt(this))return-Et(this).m();let V=0,x=1;for(let P=0;P<this.g.length;P++){const Q=this.i(P);V+=(Q>=0?Q:4294967296+Q)*x,x*=4294967296}return V},i.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(_t(this))return"0";if(Rt(this))return"-"+Et(this).toString(V);const x=T(Math.pow(V,6));var P=this;let Q="";for(;;){const q=zt(P,x).g;P=Bt(P,q.j(x));let Z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=q,_t(P))return Z+Q;for(;Z.length<6;)Z="0"+Z;Q=Z+Q}},i.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function _t(V){if(V.h!=0)return!1;for(let x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function Rt(V){return V.h==-1}i.l=function(V){return V=Bt(this,V),Rt(V)?-1:_t(V)?0:1};function Et(V){const x=V.g.length,P=[];for(let Q=0;Q<x;Q++)P[Q]=~V.g[Q];return new d(P,~V.h).add(B)}i.abs=function(){return Rt(this)?Et(this):this},i.add=function(V){const x=Math.max(this.g.length,V.g.length),P=[];let Q=0;for(let q=0;q<=x;q++){let Z=Q+(this.i(q)&65535)+(V.i(q)&65535),M=(Z>>>16)+(this.i(q)>>>16)+(V.i(q)>>>16);Q=M>>>16,Z&=65535,M&=65535,P[q]=M<<16|Z}return new d(P,P[P.length-1]&-2147483648?-1:0)};function Bt(V,x){return V.add(Et(x))}i.j=function(V){if(_t(this)||_t(V))return O;if(Rt(this))return Rt(V)?Et(this).j(Et(V)):Et(Et(this).j(V));if(Rt(V))return Et(this.j(Et(V)));if(this.l(ot)<0&&V.l(ot)<0)return T(this.m()*V.m());const x=this.g.length+V.g.length,P=[];for(var Q=0;Q<2*x;Q++)P[Q]=0;for(Q=0;Q<this.g.length;Q++)for(let q=0;q<V.g.length;q++){const Z=this.i(Q)>>>16,M=this.i(Q)&65535,Fe=V.i(q)>>>16,We=V.i(q)&65535;P[2*Q+2*q]+=M*We,Ft(P,2*Q+2*q),P[2*Q+2*q+1]+=Z*We,Ft(P,2*Q+2*q+1),P[2*Q+2*q+1]+=M*Fe,Ft(P,2*Q+2*q+1),P[2*Q+2*q+2]+=Z*Fe,Ft(P,2*Q+2*q+2)}for(V=0;V<x;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=x;V<2*x;V++)P[V]=0;return new d(P,0)};function Ft(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function Nt(V,x){this.g=V,this.h=x}function zt(V,x){if(_t(x))throw Error("division by zero");if(_t(V))return new Nt(O,O);if(Rt(V))return x=zt(Et(V),x),new Nt(Et(x.g),Et(x.h));if(Rt(x))return x=zt(V,Et(x)),new Nt(Et(x.g),x.h);if(V.g.length>30){if(Rt(V)||Rt(x))throw Error("slowDivide_ only works with positive integers.");for(var P=B,Q=x;Q.l(V)<=0;)P=Ne(P),Q=Ne(Q);var q=te(P,1),Z=te(Q,1);for(Q=te(Q,2),P=te(P,2);!_t(Q);){var M=Z.add(Q);M.l(V)<=0&&(q=q.add(P),Z=M),Q=te(Q,1),P=te(P,1)}return x=Bt(V,q.j(x)),new Nt(q,x)}for(q=O;V.l(x)>=0;){for(P=Math.max(1,Math.floor(V.m()/x.m())),Q=Math.ceil(Math.log(P)/Math.LN2),Q=Q<=48?1:Math.pow(2,Q-48),Z=T(P),M=Z.j(x);Rt(M)||M.l(V)>0;)P-=Q,Z=T(P),M=Z.j(x);_t(Z)&&(Z=B),q=q.add(Z),V=Bt(V,M)}return new Nt(q,V)}i.B=function(V){return zt(this,V).h},i.and=function(V){const x=Math.max(this.g.length,V.g.length),P=[];for(let Q=0;Q<x;Q++)P[Q]=this.i(Q)&V.i(Q);return new d(P,this.h&V.h)},i.or=function(V){const x=Math.max(this.g.length,V.g.length),P=[];for(let Q=0;Q<x;Q++)P[Q]=this.i(Q)|V.i(Q);return new d(P,this.h|V.h)},i.xor=function(V){const x=Math.max(this.g.length,V.g.length),P=[];for(let Q=0;Q<x;Q++)P[Q]=this.i(Q)^V.i(Q);return new d(P,this.h^V.h)};function Ne(V){const x=V.g.length+1,P=[];for(let Q=0;Q<x;Q++)P[Q]=V.i(Q)<<1|V.i(Q-1)>>>31;return new d(P,V.h)}function te(V,x){const P=x>>5;x%=32;const Q=V.g.length-P,q=[];for(let Z=0;Z<Q;Z++)q[Z]=x>0?V.i(Z+P)>>>x|V.i(Z+P+1)<<32-x:V.i(Z+P);return new d(q,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=T,d.fromString=I,eo=d}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OE,Pu,NE,Oh,Lm,xE,ME,VE;(function(){var i,t=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var y=0;y<u.length;++y){var S=u[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=r(this);function l(u,y){if(y)t:{var S=s;u=u.split(".");for(var C=0;C<u.length-1;C++){var W=u[C];if(!(W in S))break t;S=S[W]}u=u[u.length-1],C=S[u],y=y(C),y!=C&&y!=null&&t(S,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var S=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&S.push([C,y[C]]);return S}});var h=h||{},d=this||self;function v(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function b(u,y,S){return u.call.apply(u.bind,arguments)}function T(u,y,S){return T=b,T.apply(null,arguments)}function I(u,y){var S=Array.prototype.slice.call(arguments,1);return function(){var C=S.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function O(u,y){function S(){}S.prototype=y.prototype,u.Z=y.prototype,u.prototype=new S,u.prototype.constructor=u,u.Ob=function(C,W,st){for(var Tt=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)Tt[ee-2]=arguments[ee];return y.prototype[W].apply(C,Tt)}}var B=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ot(u){const y=u.length;if(y>0){const S=Array(y);for(let C=0;C<y;C++)S[C]=u[C];return S}return[]}function _t(u,y){for(let C=1;C<arguments.length;C++){const W=arguments[C];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=u.length||0;const st=W.length||0;u.length=S+st;for(let Tt=0;Tt<st;Tt++)u[S+Tt]=W[Tt]}else u.push(W)}}class Rt{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Et(u){d.setTimeout(()=>{throw u},0)}function Bt(){var u=V;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ft{constructor(){this.h=this.g=null}add(y,S){const C=Nt.get();C.set(y,S),this.h?this.h.next=C:this.g=C,this.h=C}}var Nt=new Rt(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,te=!1,V=new Ft,x=()=>{const u=Promise.resolve(void 0);Ne=()=>{u.then(P)}};function P(){for(var u;u=Bt();){try{u.h.call(u.g)}catch(S){Et(S)}var y=Nt;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}te=!1}function Q(){this.u=this.u,this.C=this.C}Q.prototype.u=!1,Q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Q.prototype[Symbol.dispose]=function(){this.dispose()},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const S=()=>{};d.addEventListener("test",S,y),d.removeEventListener("test",S,y)}catch{}return u})();function M(u){return/^[\s\xa0]*$/.test(u)}function Fe(u,y){q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O(Fe,q),Fe.prototype.init=function(u,y){const S=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(S=="mouseover"?y=u.fromElement:S=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),ut=0;function xt(u,y,S,C,W){this.listener=u,this.proxy=null,this.src=y,this.type=S,this.capture=!!C,this.ha=W,this.key=++ut,this.da=this.fa=!1}function Ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,y,S){for(const C in u)y.call(S,u[C],C,u)}function he(u,y){for(const S in u)y.call(void 0,u[S],S,u)}function F(u){const y={};for(const S in u)y[S]=u[S];return y}const ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(u,y){let S,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(S in C)u[S]=C[S];for(let st=0;st<ft.length;st++)S=ft[st],Object.prototype.hasOwnProperty.call(C,S)&&(u[S]=C[S])}}function Vt(u){this.src=u,this.g={},this.h=0}Vt.prototype.add=function(u,y,S,C,W){const st=u.toString();u=this.g[st],u||(u=this.g[st]=[],this.h++);const Tt=$t(u,y,C,W);return Tt>-1?(y=u[Tt],S||(y.fa=!1)):(y=new xt(y,this.src,st,!!C,W),y.fa=S,u.push(y)),y};function Qt(u,y){const S=y.type;if(S in u.g){var C=u.g[S],W=Array.prototype.indexOf.call(C,y,void 0),st;(st=W>=0)&&Array.prototype.splice.call(C,W,1),st&&(Ut(y),u.g[S].length==0&&(delete u.g[S],u.h--))}}function $t(u,y,S,C){for(let W=0;W<u.length;++W){const st=u[W];if(!st.da&&st.listener==y&&st.capture==!!S&&st.ha==C)return W}return-1}var de="closure_lm_"+(Math.random()*1e6|0),mn={};function Ot(u,y,S,C,W){if(Array.isArray(y)){for(let st=0;st<y.length;st++)Ot(u,y[st],S,C,W);return null}return S=ho(S),u&&u[We]?u.J(y,S,v(C)?!!C.capture:!1,W):$i(u,y,S,!1,C,W)}function $i(u,y,S,C,W,st){if(!y)throw Error("Invalid event type");const Tt=v(W)?!!W.capture:!!W;let ee=bs(u);if(ee||(u[de]=ee=new Vt(u)),S=ee.add(y,S,C,Tt,st),S.proxy)return S;if(C=Vi(),S.proxy=C,C.src=u,C.listener=S,u.addEventListener)Z||(W=Tt),W===void 0&&(W=!1),u.addEventListener(y.toString(),C,W);else if(u.attachEvent)u.attachEvent(hi(y.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Vi(){function u(S){return y.call(u.src,u.listener,S)}const y=qr;return u}function Se(u,y,S,C,W){if(Array.isArray(y))for(var st=0;st<y.length;st++)Se(u,y[st],S,C,W);else C=v(C)?!!C.capture:!!C,S=ho(S),u&&u[We]?(u=u.i,st=String(y).toString(),st in u.g&&(y=u.g[st],S=$t(y,S,C,W),S>-1&&(Ut(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete u.g[st],u.h--)))):u&&(u=bs(u))&&(y=u.g[y.toString()],u=-1,y&&(u=$t(y,S,C,W)),(S=u>-1?y[u]:null)&&ci(S))}function ci(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[We])Qt(y.i,u);else{var S=u.type,C=u.proxy;y.removeEventListener?y.removeEventListener(S,C,u.capture):y.detachEvent?y.detachEvent(hi(S),C):y.addListener&&y.removeListener&&y.removeListener(C),(S=bs(y))?(Qt(S,u),S.h==0&&(S.src=null,y[de]=null)):Ut(u)}}}function hi(u){return u in mn?mn[u]:mn[u]="on"+u}function qr(u,y){if(u.da)u=!0;else{y=new Fe(y,this);const S=u.listener,C=u.ha||u.src;u.fa&&ci(u),u=S.call(C,y)}return u}function bs(u){return u=u[de],u instanceof Vt?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(y){return u.handleEvent(y)}),u[co])}function cn(){Q.call(this),this.i=new Vt(this),this.M=this,this.G=null}O(cn,Q),cn.prototype[We]=!0,cn.prototype.removeEventListener=function(u,y,S,C){Se(this,u,y,S,C)};function tn(u,y){var S,C=u.G;if(C)for(S=[];C;C=C.G)S.push(C);if(u=u.M,C=y.type||y,typeof y=="string")y=new q(y,u);else if(y instanceof q)y.target=y.target||u;else{var W=y;y=new q(C,u),At(y,W)}W=!0;let st,Tt;if(S)for(Tt=S.length-1;Tt>=0;Tt--)st=y.g=S[Tt],W=Mn(st,C,!0,y)&&W;if(st=y.g=u,W=Mn(st,C,!0,y)&&W,W=Mn(st,C,!1,y)&&W,S)for(Tt=0;Tt<S.length;Tt++)st=y.g=S[Tt],W=Mn(st,C,!1,y)&&W}cn.prototype.N=function(){if(cn.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const S=u.g[y];for(let C=0;C<S.length;C++)Ut(S[C]);delete u.g[y],u.h--}}this.G=null},cn.prototype.J=function(u,y,S,C){return this.i.add(String(u),y,!1,S,C)},cn.prototype.K=function(u,y,S,C){return this.i.add(String(u),y,!0,S,C)};function Mn(u,y,S,C){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let W=!0;for(let st=0;st<y.length;++st){const Tt=y[st];if(Tt&&!Tt.da&&Tt.capture==S){const ee=Tt.listener,on=Tt.ha||Tt.src;Tt.fa&&Qt(u.i,Tt),W=ee.call(on,C)!==!1&&W}}return W&&!C.defaultPrevented}function $o(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:d.setTimeout(u,y||0)}function Ji(u){u.g=$o(()=>{u.g=null,u.i&&(u.i=!1,Ji(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class zn extends Q{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){Q.call(this),this.h=u,this.g={}}O(Hr,Q);var Fr=[];function Kr(u){ce(u.g,function(y,S){this.g.hasOwnProperty(S)&&ci(y)},u),u.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),Kr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=d.JSON.stringify,Ts=d.JSON.parse,oa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ss(){}function di(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){q.call(this,"d")}O(pn,q);function gn(){q.call(this,"c")}O(gn,q);var Dt={},Zi=null;function Er(){return Zi=Zi||new cn}Dt.Ia="serverreachability";function ws(u){q.call(this,Dt.Ia,u)}O(ws,q);function wt(u){const y=Er();tn(y,new ws(y))}Dt.STAT_EVENT="statevent";function ki(u,y){q.call(this,Dt.STAT_EVENT,u),this.stat=y}O(ki,q);function en(u){const y=Er();tn(y,new ki(y,u))}Dt.Ja="timingevent";function br(u,y){q.call(this,Dt.Ja,u),this.size=y}O(br,q);function Gr(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function $l(u,y,S,C,W,st){u.info(function(){if(u.g)if(st){var Tt="",ee=st.split("&");for(let we=0;we<ee.length;we++){var on=ee[we].split("=");if(on.length>1){const Ue=on[0];on=on[1];const Mr=Ue.split("_");Tt=Mr.length>=2&&Mr[1]=="type"?Tt+(Ue+"="+on+"&"):Tt+(Ue+"=redacted&")}}}else Tt=null;else Tt=st;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+y+`
`+S+`
`+Tt})}function Jo(u,y,S,C,W,st,Tt){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+y+`
`+S+`
`+st+" "+Tt})}function Qn(u,y,S,C){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+fo(u,S)+(C?" "+C:"")})}function Tr(u,y){u.info(function(){return"TIMEOUT: "+y})}dr.prototype.info=function(){};function fo(u,y){if(!u.g)return y;if(!y)return null;try{const st=JSON.parse(y);if(st){for(u=0;u<st.length;u++)if(Array.isArray(st[u])){var S=st[u];if(!(S.length<2)){var C=S[1];if(Array.isArray(C)&&!(C.length<1)){var W=C[0];if(W!="noop"&&W!="stop"&&W!="close")for(let Tt=1;Tt<C.length;Tt++)C[Tt]=""}}}}return fi(st)}catch{return y}}var mi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Me={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$e;function As(){}O(As,Ss),As.prototype.g=function(){return new XMLHttpRequest},$e=new As;function Sr(u){return encodeURIComponent(String(u))}function Rs(u){var y=1;u=u.split(":");const S=[];for(;y>0&&u.length;)S.push(u.shift()),y--;return u.length&&S.push(u.join(":")),S}function rr(u,y,S,C){this.j=u,this.i=y,this.l=S,this.S=C||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}var ke={},Ke={};function Vn(u,y,S){u.M=1,u.A=es(rn(y)),u.u=S,u.R=!0,Pi(u,null)}function Pi(u,y){u.F=Date.now(),jn(u),u.B=rn(u.A);var S=u.B,C=u.S;Array.isArray(C)||(C=[String(C)]),fa(S.i,"t",C),u.C=0,S=u.j.L,u.h=new Qr,u.g=_n(u.j,S?y:null,!u.u),u.P>0&&(u.O=new zn(T(u.Y,u,u.g),u.P)),y=u.V,S=u.g,C=u.ba;var W="readystatechange";Array.isArray(W)||(W&&(Fr[0]=W.toString()),W=Fr);for(let st=0;st<W.length;st++){const Tt=Ot(S,W[st],C||y.handleEvent,!1,y.h||y);if(!Tt)break;y.g[Tt.key]=Tt}y=u.J?F(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),wt(),$l(u.i,u.v,u.B,u.l,u.S,u.u)}rr.prototype.ba=function(u){u=u.target;const y=this.O;y&&ei(u)==3?y.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)t:{const ee=ei(this.g),on=this.g.ya(),we=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||ee!=4||on==7||(on==8||we<=0?wt(3):wt(2)),wr(this);var y=this.g.ca();this.X=y;var S=Jl(this);if(this.o=y==200,Jo(this.i,this.v,this.B,this.l,this.S,ee,y),this.o){if(this.U&&!this.L){e:{if(this.g){var C,W=this.g;if((C=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(C)){var st=C;break e}}st=null}if(u=st)Qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sn(this,u);else{this.o=!1,this.m=3,en(12),yn(this),Re(this);break t}}if(this.R){u=!0;let Ue;for(;!this.K&&this.C<S.length;)if(Ue=mo(this,S),Ue==Ke){ee==4&&(this.m=4,en(14),u=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ke){this.m=4,en(15),Qn(this.i,this.l,S,"[Invalid Chunk]"),u=!1;break}else Qn(this.i,this.l,Ue,null),Sn(this,Ue);if(Yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||S.length!=0||this.h.h||(this.m=1,en(16),u=!1),this.o=this.o&&u,!u)Qn(this.i,this.l,S,"[Invalid Chunked Response]"),yn(this),Re(this);else if(S.length>0&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.aa&&!Tt.P&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),rs(Tt),Tt.P=!0,en(11))}}else Qn(this.i,this.l,S,null),Sn(this,S);ee==4&&yn(this),this.o&&!this.K&&(ee==4?Hi(this.j,this):(this.o=!1,jn(this)))}else Bi(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),yn(this),Re(this)}}}catch{}finally{}};function Jl(u){if(!Yr(u))return u.g.la();const y=an(u.g);if(y==="")return"";let S="";const C=y.length,W=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Re(u),"";u.h.i=new d.TextDecoder}for(let st=0;st<C;st++)u.h.h=!0,S+=u.h.i.decode(y[st],{stream:!(W&&st==C-1)});return y.length=0,u.h.g+=S,u.C=0,u.h.g}function Yr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mo(u,y){var S=u.C,C=y.indexOf(`
`,S);return C==-1?Ke:(S=Number(y.substring(S,C)),isNaN(S)?ke:(C+=1,C+S>y.length?Ke:(y=y.slice(C,C+S),u.C=C+S,y)))}rr.prototype.cancel=function(){this.K=!0,yn(this)};function jn(u){u.T=Date.now()+u.H,Cs(u,u.H)}function Cs(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gr(T(u.aa,u),y)}function wr(u){u.D&&(d.clearTimeout(u.D),u.D=null)}rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(wt(),en(17)),yn(this),this.m=2,Re(this)):Cs(this,this.T-u)};function Re(u){u.j.I==0||u.K||Hi(u.j,u)}function yn(u){wr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Kr(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Sn(u,y){try{var S=u.j;if(S.I!=0&&(S.g==u||Rr(S.h,u))){if(!u.L&&Rr(S.h,u)&&S.I==3){try{var C=S.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<u.F)ga(S),_i(S);else break t;bi(S),en(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Gr(T(S.Va,S),6e3));Ar(S.h)<=1&&S.ta&&(S.ta=void 0)}else Nr(S,11)}else if((u.L||S.g==u)&&ga(S),!M(y))for(W=S.Ba.g.parse(y),y=0;y<W.length;y++){let we=W[y];const Ue=we[0];if(!(Ue<=S.K))if(S.K=Ue,we=we[1],S.I==2)if(we[0]=="c"){S.M=we[1],S.ba=we[2];const Mr=we[3];Mr!=null&&(S.ka=Mr,S.j.info("VER="+S.ka));const Vr=we[4];Vr!=null&&(S.za=Vr,S.j.info("SVER="+S.za));const gr=we[5];gr!=null&&typeof gr=="number"&&gr>0&&(C=1.5*gr,S.O=C,S.j.info("backChannelRequestTimeoutMs_="+C)),C=S;const ri=u.g;if(ri){const ss=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var st=C.h;st.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(Xr(st,st.h),st.h=null))}if(C.G){const Ea=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(C.wa=Ea,Ie(C.J,C.G,Ea))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-u.F,S.j.info("Handshake RTT: "+S.T+"ms")),C=S;var Tt=u;if(C.na=_a(C,C.L?C.ba:null,C.W),Tt.L){la(C.h,Tt);var ee=Tt,on=C.O;on&&(ee.H=on),ee.D&&(wr(ee),jn(ee)),C.g=Tt}else Ns(C);S.i.length>0&&Ei(S)}else we[0]!="stop"&&we[0]!="close"||Nr(S,7);else S.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Nr(S,7):ns(S):we[0]!="noop"&&S.l&&S.l.qa(we),S.A=0)}}wt(4)}catch{}}var nn=class{constructor(u,y){this.g=u,this.map=y}};function pi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ar(u){return u.h?1:u.g?u.g.size:0}function Rr(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Xr(u,y){u.g?u.g.add(y):u.h=y}function la(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}pi.prototype.cancel=function(){if(this.i=ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ts(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const S of u.g.values())y=y.concat(S.G);return y}return ot(u.i)}var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ae(u,y){if(u){u=u.split("&");for(let S=0;S<u.length;S++){const C=u[S].indexOf("=");let W,st=null;C>=0?(W=u[S].substring(0,C),st=u[S].substring(C+1)):W=u[S],y(W,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function ir(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof ir?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Cr(this,u.u),this.h=u.h,ua(this,Wo(u.i)),this.m=u.m):u&&(y=String(u).match(po))?(this.l=!1,sn(this,y[1]||"",!0),this.o=pe(y[2]||""),this.g=pe(y[3]||"",!0),Cr(this,y[4]),this.h=pe(y[5]||"",!0),ua(this,y[6]||"",!0),this.m=pe(y[7]||"")):(this.l=!1,this.i=new Wr(null,this.l))}ir.prototype.toString=function(){const u=[];var y=this.j;y&&u.push($r(y,Jr,!0),":");var S=this.g;return(S||y=="file")&&(u.push("//"),(y=this.o)&&u.push($r(y,Jr,!0),"@"),u.push(Sr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&u.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&u.push("/"),u.push($r(S,S.charAt(0)=="/"?Is:ca,!0))),(S=this.i.toString())&&u.push("?",S),(S=this.m)&&u.push("#",$r(S,go)),u.join("")},ir.prototype.resolve=function(u){const y=rn(this);let S=!!u.j;S?sn(y,u.j):S=!!u.o,S?y.o=u.o:S=!!u.g,S?y.g=u.g:S=u.u!=null;var C=u.h;if(S)Cr(y,u.u);else if(S=!!u.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var W=y.h.lastIndexOf("/");W!=-1&&(C=y.h.slice(0,W+1)+C)}if(W=C,W==".."||W==".")C="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){C=W.lastIndexOf("/",0)==0,W=W.split("/");const st=[];for(let Tt=0;Tt<W.length;){const ee=W[Tt++];ee=="."?C&&Tt==W.length&&st.push(""):ee==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),C&&Tt==W.length&&st.push("")):(st.push(ee),C=!0)}C=st.join("/")}else C=W}return S?y.h=C:S=u.i.toString()!=="",S?ua(y,Wo(u.i)):S=!!u.m,S&&(y.m=u.m),y};function rn(u){return new ir(u)}function sn(u,y,S){u.j=S?pe(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Cr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ua(u,y,S){y instanceof Wr?(u.i=y,ti(u.i,u.l)):(S||(y=$r(y,Zr)),u.i=new Wr(y,u.l))}function Ie(u,y,S){u.i.set(y,S)}function es(u){return Ie(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pe(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,y,S){return typeof u=="string"?(u=encodeURI(u).replace(y,wn),S&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,ca=/[#\?:]/g,Is=/[#\?]/g,Zr=/[#\?@]/g,go=/#/g;function Wr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ae(u.i,function(y,S){u.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}i=Wr.prototype,i.add=function(u,y){Yn(this),this.i=null,u=hn(this,u);let S=this.g.get(u);return S||this.g.set(u,S=[]),S.push(y),this.h+=1,this};function Zo(u,y){Yn(u),y=hn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function me(u,y){return Yn(u),y=hn(u,y),u.g.has(y)}i.forEach=function(u,y){Yn(this),this.g.forEach(function(S,C){S.forEach(function(W){u.call(y,W,C,this)},this)},this)};function ha(u,y){Yn(u);let S=[];if(typeof y=="string")me(u,y)&&(S=S.concat(u.g.get(hn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)S=S.concat(u[y]);return S}i.set=function(u,y){return Yn(this),this.i=null,u=hn(this,u),me(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=ha(this,u),u.length>0?String(u[0]):y):y};function fa(u,y,S){Zo(u,y),S.length>0&&(u.i=null,u.g.set(hn(u,y),ot(S)),u.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var S=y[C];const W=Sr(S);S=ha(this,S);for(let st=0;st<S.length;st++){let Tt=W;S[st]!==""&&(Tt+="="+Sr(S[st])),u.push(Tt)}}return this.i=u.join("&")};function Wo(u){const y=new Wr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function hn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ti(u,y){y&&!u.j&&(Yn(u),u.i=null,u.g.forEach(function(S,C){const W=C.toLowerCase();C!=W&&(Zo(this,C),fa(this,W,S))},u)),u.j=y}function sr(u,y){const S=new dr;if(d.Image){const C=new Image;C.onload=I(mr,S,"TestLoadImage: loaded",!0,y,C),C.onerror=I(mr,S,"TestLoadImage: error",!1,y,C),C.onabort=I(mr,S,"TestLoadImage: abort",!1,y,C),C.ontimeout=I(mr,S,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else y(!1)}function Ir(u,y){const S=new dr,C=new AbortController,W=setTimeout(()=>{C.abort(),mr(S,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:C.signal}).then(st=>{clearTimeout(W),st.ok?mr(S,"TestPingServer: ok",!0,y):mr(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),mr(S,"TestPingServer: error",!1,y)})}function mr(u,y,S,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(S)}catch{}}function Ui(){this.g=new oa}function Pe(u){this.i=u.Sb||null,this.h=u.ab||!1}O(Pe,Ss),Pe.prototype.g=function(){return new Bn(this.i,this.h)};function Bn(u,y){cn.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(Bn,cn),i=Bn.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,pr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||d).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function gi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Dr(this):pr(this),this.readyState==3&&gi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Dr(this))},i.Na=function(u){this.g&&(this.response=u,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,pr(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,u.push(S[0]+": "+S[1]),S=y.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vn(u){let y="";return ce(u,function(S,C){y+=C,y+=":",y+=S,y+=`\r
`}),y}function Ds(u,y,S){t:{for(C in S){var C=!1;break t}C=!0}C||(S=vn(S),typeof u=="string"?S!=null&&Sr(S):Ie(u,y,S))}function fe(u){cn.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(fe,cn);var Or=/^https?$/i,da=["POST","PUT"];i=fe.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,S,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$e.g(),this.g.onreadystatechange=B(T(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(st){Li(this,st);return}if(u=S||"",S=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)S.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const st of C.keys())S.set(st,C.get(st));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(S.keys()).find(st=>st.toLowerCase()=="content-type"),W=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(da,y,void 0)>=0)||C||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,Tt]of S)this.g.setRequestHeader(st,Tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(st){Li(this,st)}};function Li(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,zi(u),yi(u)}function zi(u){u.A||(u.A=!0,tn(u,"complete"),tn(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tn(this,"complete"),tn(this,"abort"),yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),fe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},i.Xa=function(){ji(this)};function ji(u){if(u.h&&typeof h<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(tn(u,"readystatechange"),ei(u)==4){u.h=!1;try{const st=u.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var C;if(C=st===0){let Tt=String(u.D).match(po)[1]||null;!Tt&&d.self&&d.self.location&&(Tt=d.self.location.protocol.slice(0,-1)),C=!Or.test(Tt?Tt.toLowerCase():"")}S=C}if(S)tn(u,"complete"),tn(u,"success");else{u.o=6;try{var W=ei(u)>2?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.ca()+"]",zi(u)}}finally{yi(u)}}}}function yi(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const S=u.g;u.g=null,y||tn(u,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Ts(y)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const y={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(M(u[C]))continue;var S=Rs(u[C]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const st=y[W]||[];y[W]=st,st.push(S)}he(y,function(C){return C.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[u]||y}function ni(u){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pi(u&&u.concurrentRequestLimit),this.Ba=new Ui,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ni.prototype,i.ka=8,i.I=1,i.connect=function(u,y,S,C){en(0),this.W=u,this.H=y||{},S&&C!==void 0&&(this.H.OSID=S,this.H.OAID=C),this.F=this.X,this.J=_a(this,null,this.W),Ei(this)};function ns(u){if(ma(u),u.I==3){var y=u.V++,S=rn(u.J);if(Ie(S,"SID",u.M),Ie(S,"RID",y),Ie(S,"TYPE","terminate"),qi(u,S),y=new rr(u,u.j,y),y.M=2,y.A=es(rn(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&d.Image&&(new Image().src=y.A,S=!0),S||(y.g=_n(y.j,null),y.g.ea(y.A)),y.F=Date.now(),jn(y)}va(u)}function _i(u){u.g&&(rs(u),u.g.cancel(),u.g=null)}function ma(u){_i(u),u.v&&(d.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!Wi(u.h)&&!u.m){u.m=!0;var y=u.Ea;Ne||x(),te||(Ne(),te=!0),V.add(y,u),u.D=0}}function pa(u,y){return Ar(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gr(T(u.Ea,u,y),ya(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const W=new rr(this,this.j,u);let st=this.o;if(this.U&&(st?(st=F(st),At(st,this.U)):st=this.U),this.u!==null||this.R||(W.J=st,st=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var C=this.i[S];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=yo(this,W,y),S=rn(this.J),Ie(S,"RID",u),Ie(S,"CVER",22),this.G&&Ie(S,"X-HTTP-Session-Id",this.G),qi(this,S),st&&(this.R?y="headers="+Sr(vn(st))+"&"+y:this.u&&Ds(S,this.u,st)),Xr(this.h,W),this.Ra&&Ie(S,"TYPE","init"),this.S?(Ie(S,"$req",y),Ie(S,"SID","null"),W.U=!0,Vn(W,S,null)):Vn(W,S,y),this.I=2}}else this.I==3&&(u?Os(this,u):this.i.length==0||Wi(this.h)||Os(this))};function Os(u,y){var S;y?S=y.l:S=u.V++;const C=rn(u.J);Ie(C,"SID",u.M),Ie(C,"RID",S),Ie(C,"AID",u.K),qi(u,C),u.u&&u.o&&Ds(C,u.u,u.o),S=new rr(u,u.j,S,u.D+1),u.u===null&&(S.J=u.o),y&&(u.i=y.G.concat(u.i)),y=yo(u,S,1e3),S.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xr(u.h,S),Vn(S,C,y)}function qi(u,y){u.H&&ce(u.H,function(S,C){Ie(y,C,S)}),u.l&&ce({},function(S,C){Ie(y,C,S)})}function yo(u,y,S){S=Math.min(u.i.length,S);const C=u.l?T(u.l.Ka,u.l,u):null;t:{var W=u.i;let ee=-1;for(;;){const on=["count="+S];ee==-1?S>0?(ee=W[0].g,on.push("ofs="+ee)):ee=0:on.push("ofs="+ee);let we=!0;for(let Ue=0;Ue<S;Ue++){var st=W[Ue].g;const Mr=W[Ue].map;if(st-=ee,st<0)ee=Math.max(0,W[Ue].g-100),we=!1;else try{st="req"+st+"_"||"";try{var Tt=Mr instanceof Map?Mr:Object.entries(Mr);for(const[Vr,gr]of Tt){let ri=gr;v(gr)&&(ri=fi(gr)),on.push(st+Vr+"="+encodeURIComponent(ri))}}catch(Vr){throw on.push(st+"type="+encodeURIComponent("_badmap")),Vr}}catch{C&&C(Mr)}}if(we){Tt=on.join("&");break t}}Tt=void 0}return u=u.i.splice(0,S),y.G=u,Tt}function Ns(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Ne||x(),te||(Ne(),te=!0),V.add(y,u),u.A=0}}function bi(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gr(T(u.Da,u),ya(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,vo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gr(T(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),_i(this),vo(this))};function rs(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vo(u){u.g=new rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=rn(u.na);Ie(y,"RID","rpc"),Ie(y,"SID",u.M),Ie(y,"AID",u.K),Ie(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ie(y,"TO",u.ia),Ie(y,"TYPE","xmlhttp"),qi(u,y),u.u&&u.o&&Ds(y,u.u,u.o),u.O&&(u.g.H=u.O);var S=u.g;u=u.ba,S.M=1,S.A=es(rn(y)),S.u=null,S.R=!0,Pi(S,u)}i.Va=function(){this.C!=null&&(this.C=null,_i(this),bi(this),en(19))};function ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Hi(u,y){var S=null;if(u.g==y){ga(u),rs(u),u.g=null;var C=2}else if(Rr(u.h,y))S=y.G,la(u.h,y),C=1;else return;if(u.I!=0){if(y.o)if(C==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var W=u.D;C=Er(),tn(C,new br(C,S)),Ei(u)}else Ns(u);else if(W=y.m,W==3||W==0&&y.X>0||!(C==1&&pa(u,y)||C==2&&bi(u)))switch(S&&S.length>0&&(y=u.h,y.i=y.i.concat(S)),W){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function ya(u,y){let S=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(S*=2),S*y}function Nr(u,y){if(u.j.info("Error code "+y),y==2){var S=T(u.bb,u),C=u.Ua;const W=!C;C=new ir(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(C,"https"),es(C),W?sr(C.toString(),S):Ir(C.toString(),S)}else en(2);u.I=0,u.l&&u.l.pa(y),va(u),ma(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function va(u){if(u.I=0,u.ja=[],u.l){const y=ts(u.h);(y.length!=0||u.i.length!=0)&&(_t(u.ja,y),_t(u.ja,u.i),u.h.i.length=0,ot(u.i),u.i.length=0),u.l.oa()}}function _a(u,y,S){var C=S instanceof ir?rn(S):new ir(S);if(C.g!="")y&&(C.g=y+"."+C.g),Cr(C,C.u);else{var W=d.location;C=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;const st=new ir(null);C&&sn(st,C),y&&(st.g=y),W&&Cr(st,W),S&&(st.h=S),C=st}return S=u.G,y=u.wa,S&&y&&Ie(C,S,y),Ie(C,"VER",u.ka),qi(u,C),C}function _n(u,y,S){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new fe(new Pe({ab:S})):new fe(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function is(){}i=is.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xr(){}xr.prototype.g=function(u,y){return new qn(u,y)};function qn(u,y){cn.call(this),this.g=new ni(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!M(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ti(this)}O(qn,cn),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){ns(this.g)},qn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var S={};S.__data__=u,u=S}else this.v&&(S={},S.__data__=fi(u),u=S);y.i.push(new nn(y.Ya++,u)),y.I==3&&Ei(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,ns(this.g),delete this.g,qn.Z.N.call(this)};function xs(u){pn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){t:{for(const S in y){u=S;break t}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(xs,pn);function _o(){gn.call(this),this.status=1}O(_o,gn);function Ti(u){this.g=u}O(Ti,is),Ti.prototype.ra=function(){tn(this.g,"a")},Ti.prototype.qa=function(u){tn(this.g,new xs(u))},Ti.prototype.pa=function(u){tn(this.g,new _o)},Ti.prototype.oa=function(){tn(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,VE=function(){return new xr},ME=function(){return Er()},xE=Dt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,Oh=mi,Me.COMPLETE="complete",NE=Me,di.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",cn.prototype.listen=cn.prototype.J,Pu=di,fe.prototype.listenOnce=fe.prototype.K,fe.prototype.getLastError=fe.prototype.Ha,fe.prototype.getLastErrorCode=fe.prototype.ya,fe.prototype.getStatus=fe.prototype.ca,fe.prototype.getResponseJson=fe.prototype.La,fe.prototype.getResponseText=fe.prototype.la,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Fa,OE=fe}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore",L_="4.9.2";class cr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let Gl="12.3.0";const Fo=new rp("@firebase/firestore");function Cl(){return Fo.logLevel}function kt(i,...t){if(Fo.logLevel<=Ee.DEBUG){const r=t.map(gp);Fo.debug(`Firestore (${Gl}): ${i}`,...r)}}function ia(i,...t){if(Fo.logLevel<=Ee.ERROR){const r=t.map(gp);Fo.error(`Firestore (${Gl}): ${i}`,...r)}}function Ul(i,...t){if(Fo.logLevel<=Ee.WARN){const r=t.map(gp);Fo.warn(`Firestore (${Gl}): ${i}`,...r)}}function gp(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function Xt(i,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,kE(i,s,r)}function kE(i,t,r){let s=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw ia(s),new Error(s)}function Ve(i,t,r,s){let l="Unexpected state";typeof r=="string"?l=r:s=r,i||kE(t,l,s)}function ie(i,t){return i}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends aa{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class no{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class PE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(cr.UNAUTHENTICATED)))}shutdown(){}}class vC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class _C{constructor(t){this.t=t,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ve(this.o===void 0,42304);let s=this.i;const l=b=>this.i!==s?(s=this.i,r(b)):Promise.resolve();let h=new no;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new no,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const b=h;t.enqueueRetryable((async()=>{await b.promise,await l(this.currentUser)}))},v=b=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((b=>v(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?v(b):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new no)}}),0),d()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ve(typeof s.accessToken=="string",31837,{l:s}),new PE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ve(t===null||typeof t=="string",2055,{h:t}),new cr(t)}}class EC{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bC{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new EC(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(cr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ve(this.o===void 0,3512);const s=h=>{h.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,kt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const l=h=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new z_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class yp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=SC(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<r&&(s+=t.charAt(l[h]%62))}return s}}function be(i,t){return i<t?-1:i>t?1:0}function zm(i,t){const r=Math.min(i.length,t.length);for(let s=0;s<r;s++){const l=i.charAt(s),h=t.charAt(s);if(l!==h)return Tm(l)===Tm(h)?be(l,h):Tm(l)?1:-1}return be(i.length,t.length)}const wC=55296,AC=57343;function Tm(i){const t=i.charCodeAt(0);return t>=wC&&t<=AC}function Ll(i,t,r){return i.length===t.length&&i.every(((s,l)=>r(s,t[l])))}const j_="__name__";class hs{constructor(t,r,s){r===void 0?r=0:r>t.length&&Xt(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&Xt(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const h=hs.compareSegments(t.get(l),r.get(l));if(h!==0)return h}return be(t.length,r.length)}static compareSegments(t,r){const s=hs.isNumericId(t),l=hs.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?hs.extractNumericId(t).compare(hs.extractNumericId(r)):zm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return eo.fromString(t.substring(4,t.length-2))}}class ln extends hs{construct(t,r,s){return new ln(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new jt(gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((l=>l.length>0)))}return new ln(r)}static emptyPath(){return new ln([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends hs{construct(t,r,s){return new tr(t,r,s)}static isValidIdentifier(t){return RC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new tr([j_])}static fromServerFormat(t){const r=[];let s="",l=0;const h=()=>{if(s.length===0)throw new jt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let d=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new jt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new jt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,l+=2}else v==="`"?(d=!d,l++):v!=="."||d?(s+=v,l++):(h(),l++)}if(h(),d)throw new jt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tr(r)}static emptyPath(){return new tr([])}}class Gt{constructor(t){this.path=t}static fromPath(t){return new Gt(ln.fromString(t))}static fromName(t){return new Gt(ln.fromString(t).popFirst(5))}static empty(){return new Gt(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ln.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return ln.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Gt(new ln(t.slice()))}}function CC(i,t,r){if(!r)throw new jt(gt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function IC(i,t,r,s){if(t===!0&&s===!0)throw new jt(gt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function B_(i){if(!Gt.isDocumentKey(i))throw new jt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function UE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function vp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Xt(12329,{type:typeof i})}function Xu(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new jt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vp(i);throw new jt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}function xn(i,t){const r={typeString:i};return t&&(r.value=t),r}function uc(i,t){if(!UE(i))throw new jt(gt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){r=`JSON missing required field: '${s}'`;break}const d=i[s];if(l&&typeof d!==l){r=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){r=`Expected '${s}' field to equal '${h.value}'`;break}}if(r)throw new jt(gt.INVALID_ARGUMENT,r);return!0}const q_=-62135596800,H_=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*H_);return new Xe(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<q_)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uc(t,Xe._jsonSchema))return new Xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:xn("string",Xe._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};class ne{static fromTimestamp(t){return new ne(t)}static min(){return new ne(new Xe(0,0))}static max(){return new ne(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function DC(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=ne.fromTimestamp(s===1e9?new Xe(r+1,0):new Xe(r,s));return new ro(l,Gt.empty(),t)}function OC(i){return new ro(i.readTime,i.key,$u)}class ro{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new ro(ne.min(),Gt.empty(),$u)}static max(){return new ro(ne.max(),Gt.empty(),$u)}}function NC(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=Gt.comparator(i.documentKey,t.documentKey),r!==0?r:be(i.largestBatchId,t.largestBatchId))}const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ql(i){if(i.code!==gt.FAILED_PRECONDITION||i.message!==xC)throw i;kt("LocalStore","Unexpectedly lost primary lease")}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new pt(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof pt?r:pt.resolve(r)}catch(r){return pt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):pt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):pt.reject(r)}static resolve(t){return new pt(((r,s)=>{r(t)}))}static reject(t){return new pt(((r,s)=>{s(t)}))}static waitFor(t){return new pt(((r,s)=>{let l=0,h=0,d=!1;t.forEach((v=>{++l,v.next((()=>{++h,d&&h===l&&r()}),(b=>s(b)))})),d=!0,h===l&&r()}))}static or(t){let r=pt.resolve(!1);for(const s of t)r=r.next((l=>l?pt.resolve(l):s()));return r}static forEach(t,r){const s=[];return t.forEach(((l,h)=>{s.push(r.call(this,l,h))})),this.waitFor(s)}static mapArray(t,r){return new pt(((s,l)=>{const h=t.length,d=new Array(h);let v=0;for(let b=0;b<h;b++){const T=b;r(t[T]).next((I=>{d[T]=I,++v,v===h&&s(d)}),(I=>l(I)))}}))}static doWhile(t,r){return new pt(((s,l)=>{const h=()=>{t()===!0?r().next((()=>{h()}),l):s()};h()}))}}function VC(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Yl(i){return i.name==="IndexedDbTransactionError"}class hf{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hf.ce=-1;const _p=-1;function ff(i){return i==null}function Gh(i){return i===0&&1/i==-1/0}function kC(i){return typeof i=="number"&&Number.isInteger(i)&&!Gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const LE="";function PC(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=F_(t)),t=UC(i.get(r),t);return F_(t)}function UC(i,t){let r=t;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":r+="";break;case LE:r+="";break;default:r+=h}}return r}function F_(i){return i+LE+""}function K_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Go(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function zE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class un{constructor(t,r){this.comparator=t,this.root=r||Wn.EMPTY}insert(t,r){return new un(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(t){return new un(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,s)=>(t(r,s),!1)))}toString(){const t=[];return this.inorderTraversal(((r,s)=>(t.push(`${r}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _h(this.root,t,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _h(this.root,t,this.comparator,!0)}}class _h{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?s(t.key,r):1,r&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wn{constructor(t,r,s,l,h){this.key=t,this.value=r,this.color=s??Wn.RED,this.left=l??Wn.EMPTY,this.right=h??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,h){return new Wn(t??this.key,r??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,r,s),null):h===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return Wn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Xt(27949);return t+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(t,r,s,l,h){return this}insert(t,r,s){return new Wn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(t){this.comparator=t,this.data=new un(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,s)=>(t(r),!1)))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(t){return new G_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((s=>{r=r.add(s)})),r}isEqual(t){if(!(t instanceof Ln)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Ln(this.comparator);return r.data=t,r}}class G_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yi{constructor(t){this.fields=t,t.sort(tr.comparator)}static empty(){return new Yi([])}unionWith(t){let r=new Ln(tr.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Yi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ll(this.fields,t.fields,((r,s)=>r.isEqual(s)))}}class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class er{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new jE("Invalid base64 string: "+h):h}})(t);return new er(r)}static fromUint8Array(t){const r=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new er(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return be(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}er.EMPTY_BYTE_STRING=new er("");const LC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(i){if(Ve(!!i,39018),typeof i=="string"){let t=0;const r=LC.exec(i);if(Ve(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Tn(i.seconds),nanos:Tn(i.nanos)}}function Tn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function so(i){return typeof i=="string"?er.fromBase64String(i):er.fromUint8Array(i)}const BE="server_timestamp",qE="__type__",HE="__previous_value__",FE="__local_write_time__";function Ep(i){return(i?.mapValue?.fields||{})[qE]?.stringValue===BE}function df(i){const t=i.mapValue.fields[HE];return Ep(t)?df(t):t}function Ju(i){const t=io(i.mapValue.fields[FE].timestampValue);return new Xe(t.seconds,t.nanos)}class zC{constructor(t,r,s,l,h,d,v,b,T,I){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=v,this.longPollingOptions=b,this.useFetchStreams=T,this.isUsingEmulator=I}}const Qh="(default)";class Zu{constructor(t,r){this.projectId=t,this.database=r||Qh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(t){return t instanceof Zu&&t.projectId===this.projectId&&t.database===this.database}}const KE="__type__",jC="__max__",Eh={mapValue:{}},GE="__vector__",Yh="value";function ao(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ep(i)?4:qC(i)?9007199254740991:BC(i)?10:11:Xt(28295,{value:i})}function _s(i,t){if(i===t)return!0;const r=ao(i);if(r!==ao(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ju(i).isEqual(Ju(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=io(l.timestampValue),v=io(h.timestampValue);return d.seconds===v.seconds&&d.nanos===v.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,h){return so(l.bytesValue).isEqual(so(h.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,h){return Tn(l.geoPointValue.latitude)===Tn(h.geoPointValue.latitude)&&Tn(l.geoPointValue.longitude)===Tn(h.geoPointValue.longitude)})(i,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Tn(l.integerValue)===Tn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Tn(l.doubleValue),v=Tn(h.doubleValue);return d===v?Gh(d)===Gh(v):isNaN(d)&&isNaN(v)}return!1})(i,t);case 9:return Ll(i.arrayValue.values||[],t.arrayValue.values||[],_s);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},v=h.mapValue.fields||{};if(K_(d)!==K_(v))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(v[b]===void 0||!_s(d[b],v[b])))return!1;return!0})(i,t);default:return Xt(52216,{left:i})}}function Wu(i,t){return(i.values||[]).find((r=>_s(r,t)))!==void 0}function zl(i,t){if(i===t)return 0;const r=ao(i),s=ao(t);if(r!==s)return be(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return be(i.booleanValue,t.booleanValue);case 2:return(function(h,d){const v=Tn(h.integerValue||h.doubleValue),b=Tn(d.integerValue||d.doubleValue);return v<b?-1:v>b?1:v===b?0:isNaN(v)?isNaN(b)?0:-1:1})(i,t);case 3:return Q_(i.timestampValue,t.timestampValue);case 4:return Q_(Ju(i),Ju(t));case 5:return zm(i.stringValue,t.stringValue);case 6:return(function(h,d){const v=so(h),b=so(d);return v.compareTo(b)})(i.bytesValue,t.bytesValue);case 7:return(function(h,d){const v=h.split("/"),b=d.split("/");for(let T=0;T<v.length&&T<b.length;T++){const I=be(v[T],b[T]);if(I!==0)return I}return be(v.length,b.length)})(i.referenceValue,t.referenceValue);case 8:return(function(h,d){const v=be(Tn(h.latitude),Tn(d.latitude));return v!==0?v:be(Tn(h.longitude),Tn(d.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return Y_(i.arrayValue,t.arrayValue);case 10:return(function(h,d){const v=h.fields||{},b=d.fields||{},T=v[Yh]?.arrayValue,I=b[Yh]?.arrayValue,O=be(T?.values?.length||0,I?.values?.length||0);return O!==0?O:Y_(T,I)})(i.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Eh.mapValue&&d===Eh.mapValue)return 0;if(h===Eh.mapValue)return 1;if(d===Eh.mapValue)return-1;const v=h.fields||{},b=Object.keys(v),T=d.fields||{},I=Object.keys(T);b.sort(),I.sort();for(let O=0;O<b.length&&O<I.length;++O){const B=zm(b[O],I[O]);if(B!==0)return B;const ot=zl(v[b[O]],T[I[O]]);if(ot!==0)return ot}return be(b.length,I.length)})(i.mapValue,t.mapValue);default:throw Xt(23264,{he:r})}}function Q_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return be(i,t);const r=io(i),s=io(t),l=be(r.seconds,s.seconds);return l!==0?l:be(r.nanos,s.nanos)}function Y_(i,t){const r=i.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const h=zl(r[l],s[l]);if(h)return h}return be(r.length,s.length)}function jl(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const s=io(r);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return so(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return Gt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let s="[",l=!0;for(const h of r.values||[])l?l=!1:s+=",",s+=jm(h);return s+"]"})(i.arrayValue):"mapValue"in i?(function(r){const s=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${jm(r.fields[d])}`;return l+"}"})(i.mapValue):Xt(61005,{value:i})}function Nh(i){switch(ao(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=df(i);return t?16+Nh(t):16;case 5:return 2*i.stringValue.length;case 6:return so(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+Nh(h)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return Go(s.fields,((h,d)=>{l+=h.length+Nh(d)})),l})(i.mapValue);default:throw Xt(13486,{value:i})}}function Bm(i){return!!i&&"integerValue"in i}function bp(i){return!!i&&"arrayValue"in i}function X_(i){return!!i&&"nullValue"in i}function $_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function BC(i){return(i?.mapValue?.fields||{})[KE]?.stringValue===GE}function qu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Go(i.mapValue.fields,((r,s)=>t.mapValue.fields[r]=qu(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=qu(i.arrayValue.values[r]);return t}return{...i}}function qC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jC}class Ni{constructor(t){this.value=t}static empty(){return new Ni({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!xh(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(r)}setAll(t){let r=tr.emptyPath(),s={},l=[];t.forEach(((d,v)=>{if(!r.isImmediateParentOf(v)){const b=this.getFieldsMap(r);this.applyChanges(b,s,l),s={},l=[],r=v.popLast()}d?s[v.lastSegment()]=qu(d):l.push(v.lastSegment())}));const h=this.getFieldsMap(r);this.applyChanges(h,s,l)}delete(t){const r=this.field(t.popLast());xh(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return _s(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];xh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){Go(r,((l,h)=>t[l]=h));for(const l of s)delete t[l]}clone(){return new Ni(qu(this.value))}}function QE(i){const t=[];return Go(i.fields,((r,s)=>{const l=new tr([r]);if(xh(s)){const h=QE(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Yi(t)}class hr{constructor(t,r,s,l,h,d,v){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=v}static newInvalidDocument(t){return new hr(t,0,ne.min(),ne.min(),ne.min(),Ni.empty(),0)}static newFoundDocument(t,r,s,l){return new hr(t,1,r,ne.min(),s,l,0)}static newNoDocument(t,r){return new hr(t,2,r,ne.min(),ne.min(),Ni.empty(),0)}static newUnknownDocument(t,r){return new hr(t,3,r,ne.min(),ne.min(),Ni.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(t,r){this.position=t,this.inclusive=r}}function J_(i,t,r){let s=0;for(let l=0;l<i.position.length;l++){const h=t[l],d=i.position[l];if(h.field.isKeyField()?s=Gt.comparator(Gt.fromName(d.referenceValue),r.key):s=zl(d,r.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Z_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!_s(i.position[r],t.position[r]))return!1;return!0}class $h{constructor(t,r="asc"){this.field=t,this.dir=r}}function HC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class YE{}class Un extends YE{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new KC(t,r,s):r==="array-contains"?new YC(t,s):r==="in"?new XC(t,s):r==="not-in"?new $C(t,s):r==="array-contains-any"?new JC(t,s):new Un(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new GC(t,s):new QC(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(zl(r,this.value)):r!==null&&ao(this.value)===ao(r)&&this.matchesComparison(zl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends YE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Es(t,r)}matches(t){return XE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(i){return i.op==="and"}function $E(i){return FC(i)&&XE(i)}function FC(i){for(const t of i.filters)if(t instanceof Es)return!1;return!0}function qm(i){if(i instanceof Un)return i.field.canonicalString()+i.op.toString()+jl(i.value);if($E(i))return i.filters.map((t=>qm(t))).join(",");{const t=i.filters.map((r=>qm(r))).join(",");return`${i.op}(${t})`}}function JE(i,t){return i instanceof Un?(function(s,l){return l instanceof Un&&s.op===l.op&&s.field.isEqual(l.field)&&_s(s.value,l.value)})(i,t):i instanceof Es?(function(s,l){return l instanceof Es&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,d,v)=>h&&JE(d,l.filters[v])),!0):!1})(i,t):void Xt(19439)}function ZE(i){return i instanceof Un?(function(r){return`${r.field.canonicalString()} ${r.op} ${jl(r.value)}`})(i):i instanceof Es?(function(r){return r.op.toString()+" {"+r.getFilters().map(ZE).join(" ,")+"}"})(i):"Filter"}class KC extends Un{constructor(t,r,s){super(t,r,s),this.key=Gt.fromName(s.referenceValue)}matches(t){const r=Gt.comparator(t.key,this.key);return this.matchesComparison(r)}}class GC extends Un{constructor(t,r){super(t,"in",r),this.keys=WE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class QC extends Un{constructor(t,r){super(t,"not-in",r),this.keys=WE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function WE(i,t){return(t.arrayValue?.values||[]).map((r=>Gt.fromName(r.referenceValue)))}class YC extends Un{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return bp(r)&&Wu(r.arrayValue,this.value)}}class XC extends Un{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Wu(this.value.arrayValue,r)}}class $C extends Un{constructor(t,r){super(t,"not-in",r)}matches(t){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Wu(this.value.arrayValue,r)}}class JC extends Un{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!bp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Wu(this.value.arrayValue,s)))}}class ZC{constructor(t,r=null,s=[],l=[],h=null,d=null,v=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=v,this.Te=null}}function W_(i,t=null,r=[],s=[],l=null,h=null,d=null){return new ZC(i,t,r,s,l,h,d)}function Tp(i){const t=ie(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((s=>qm(s))).join(","),r+="|ob:",r+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),ff(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>jl(s))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>jl(s))).join(",")),t.Te=r}return t.Te}function Sp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!HC(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!JE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Z_(i.startAt,t.startAt)&&Z_(i.endAt,t.endAt)}function Hm(i){return Gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class mf{constructor(t,r=null,s=[],l=[],h=null,d="F",v=null,b=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=v,this.endAt=b,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WC(i,t,r,s,l,h,d,v){return new mf(i,t,r,s,l,h,d,v)}function wp(i){return new mf(i)}function t0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function tI(i){return i.collectionGroup!==null}function Hu(i){const t=ie(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),r.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let v=new Ln(tr.comparator);return d.filters.forEach((b=>{b.getFlattenedFilters().forEach((T=>{T.isInequality()&&(v=v.add(T.field))}))})),v})(t).forEach((h=>{r.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new $h(h,s))})),r.has(tr.keyField().canonicalString())||t.Ie.push(new $h(tr.keyField(),s))}return t.Ie}function ms(i){const t=ie(i);return t.Ee||(t.Ee=eI(t,Hu(i))),t.Ee}function eI(i,t){if(i.limitType==="F")return W_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new $h(l.field,h)}));const r=i.endAt?new Xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xh(i.startAt.position,i.startAt.inclusive):null;return W_(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function Fm(i,t,r){return new mf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function pf(i,t){return Sp(ms(i),ms(t))&&i.limitType===t.limitType}function tb(i){return`${Tp(ms(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((l=>ZE(l))).join(", ")}]`),ff(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((l=>jl(l))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((l=>jl(l))).join(",")),`Target(${s})`})(ms(i))}; limitType=${i.limitType})`}function gf(i,t){return t.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(i,t)&&(function(s,l){for(const h of Hu(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(i,t)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(i,t)&&(function(s,l){return!(s.startAt&&!(function(d,v,b){const T=J_(d,v,b);return d.inclusive?T<=0:T<0})(s.startAt,Hu(s),l)||s.endAt&&!(function(d,v,b){const T=J_(d,v,b);return d.inclusive?T>=0:T>0})(s.endAt,Hu(s),l))})(i,t)}function nI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eb(i){return(t,r)=>{let s=!1;for(const l of Hu(i)){const h=rI(l,t,r);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function rI(i,t,r){const s=i.field.isKeyField()?Gt.comparator(t.key,r.key):(function(h,d,v){const b=d.data.field(h),T=v.data.field(h);return b!==null&&T!==null?zl(b,T):Xt(42886)})(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Xt(19790,{direction:i.dir})}}class Qo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,((r,s)=>{for(const[l,h]of s)t(l,h)}))}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}const iI=new un(Gt.comparator);function sa(){return iI}const nb=new un(Gt.comparator);function Uu(...i){let t=nb;for(const r of i)t=t.insert(r.key,r);return t}function rb(i){let t=nb;return i.forEach(((r,s)=>t=t.insert(r,s.overlayedDocument))),t}function Lo(){return Fu()}function ib(){return Fu()}function Fu(){return new Qo((i=>i.toString()),((i,t)=>i.isEqual(t)))}const sI=new un(Gt.comparator),aI=new Ln(Gt.comparator);function Te(...i){let t=aI;for(const r of i)t=t.add(r);return t}const oI=new Ln(be);function lI(){return oI}function Ap(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(t)?"-0":t}}function sb(i){return{integerValue:""+i}}function uI(i,t){return kC(t)?sb(t):Ap(i,t)}class yf{constructor(){this._=void 0}}function cI(i,t,r){return i instanceof Jh?(function(l,h){const d={fields:{[qE]:{stringValue:BE},[FE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Ep(h)&&(h=df(h)),h&&(d.fields[HE]=h),{mapValue:d}})(r,t):i instanceof tc?ob(i,t):i instanceof ec?lb(i,t):(function(l,h){const d=ab(l,h),v=e0(d)+e0(l.Ae);return Bm(d)&&Bm(l.Ae)?sb(v):Ap(l.serializer,v)})(i,t)}function hI(i,t,r){return i instanceof tc?ob(i,t):i instanceof ec?lb(i,t):r}function ab(i,t){return i instanceof Zh?(function(s){return Bm(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class Jh extends yf{}class tc extends yf{constructor(t){super(),this.elements=t}}function ob(i,t){const r=ub(t);for(const s of i.elements)r.some((l=>_s(l,s)))||r.push(s);return{arrayValue:{values:r}}}class ec extends yf{constructor(t){super(),this.elements=t}}function lb(i,t){let r=ub(t);for(const s of i.elements)r=r.filter((l=>!_s(l,s)));return{arrayValue:{values:r}}}class Zh extends yf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function e0(i){return Tn(i.integerValue||i.doubleValue)}function ub(i){return bp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function fI(i,t){return i.field.isEqual(t.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof ec&&l instanceof ec?Ll(s.elements,l.elements,_s):s instanceof Zh&&l instanceof Zh?_s(s.Ae,l.Ae):s instanceof Jh&&l instanceof Jh})(i.transform,t.transform)}class dI{constructor(t,r){this.version=t,this.transformResults=r}}class ta{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ta}static exists(t){return new ta(void 0,t)}static updateTime(t){return new ta(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class vf{}function cb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new fb(i.key,ta.none()):new cc(i.key,i.data,ta.none());{const r=i.data,s=Ni.empty();let l=new Ln(tr.comparator);for(let h of t.fields)if(!l.has(h)){let d=r.field(h);d===null&&h.length>1&&(h=h.popLast(),d=r.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Yo(i.key,s,new Yi(l.toArray()),ta.none())}}function mI(i,t,r){i instanceof cc?(function(l,h,d){const v=l.value.clone(),b=r0(l.fieldTransforms,h,d.transformResults);v.setAll(b),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,t,r):i instanceof Yo?(function(l,h,d){if(!Mh(l.precondition,h))return void h.convertToUnknownDocument(d.version);const v=r0(l.fieldTransforms,h,d.transformResults),b=h.data;b.setAll(hb(l)),b.setAll(v),h.convertToFoundDocument(d.version,b).setHasCommittedMutations()})(i,t,r):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,r)}function Ku(i,t,r,s){return i instanceof cc?(function(h,d,v,b){if(!Mh(h.precondition,d))return v;const T=h.value.clone(),I=i0(h.fieldTransforms,b,d);return T.setAll(I),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),null})(i,t,r,s):i instanceof Yo?(function(h,d,v,b){if(!Mh(h.precondition,d))return v;const T=i0(h.fieldTransforms,b,d),I=d.data;return I.setAll(hb(h)),I.setAll(T),d.convertToFoundDocument(d.version,I).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(i,t,r,s):(function(h,d,v){return Mh(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):v})(i,t,r)}function pI(i,t){let r=null;for(const s of i.fieldTransforms){const l=t.data.field(s.field),h=ab(s.transform,l||null);h!=null&&(r===null&&(r=Ni.empty()),r.set(s.field,h))}return r||null}function n0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ll(s,l,((h,d)=>fI(h,d)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class cc extends vf{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Yo extends vf{constructor(t,r,s,l,h=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hb(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}})),t}function r0(i,t,r){const s=new Map;Ve(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const h=i[l],d=h.transform,v=t.data.field(h.field);s.set(h.field,hI(d,v,r[l]))}return s}function i0(i,t,r){const s=new Map;for(const l of i){const h=l.transform,d=r.data.field(l.field);s.set(l.field,cI(h,d,t))}return s}class fb extends vf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends vf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&mI(h,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=Ku(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=Ku(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=ib();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let v=this.applyToLocalView(d,h.mutatedFields);v=r.has(l.key)?null:v;const b=cb(d,v);b!==null&&s.set(l.key,b),d.isValidDocument()||d.convertToNoDocument(ne.min())})),s}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Te())}isEqual(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,((r,s)=>n0(r,s)))&&Ll(this.baseMutations,t.baseMutations,((r,s)=>n0(r,s)))}}class Rp{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){Ve(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return sI})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new Rp(t,r,s,l)}}class vI{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _I{constructor(t,r){this.count=t,this.unchangedNames=r}}var Nn,Ce;function EI(i){switch(i){case gt.OK:return Xt(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Xt(15467,{code:i})}}function db(i){if(i===void 0)return ia("GRPC error has no .code"),gt.UNKNOWN;switch(i){case Nn.OK:return gt.OK;case Nn.CANCELLED:return gt.CANCELLED;case Nn.UNKNOWN:return gt.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return gt.INTERNAL;case Nn.UNAVAILABLE:return gt.UNAVAILABLE;case Nn.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Nn.NOT_FOUND:return gt.NOT_FOUND;case Nn.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Nn.ABORTED:return gt.ABORTED;case Nn.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Nn.DATA_LOSS:return gt.DATA_LOSS;default:return Xt(39323,{code:i})}}(Ce=Nn||(Nn={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const TI=new eo([4294967295,4294967295],0);function s0(i){const t=bI().encode(i),r=new DE;return r.update(t),new Uint8Array(r.digest())}function a0(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new eo([r,s],0),new eo([l,h],0)]}class Cp{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Lu(`Invalid padding: ${r}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=eo.fromNumber(this.ge)}ye(t,r,s){let l=t.add(r.multiply(eo.fromNumber(s)));return l.compare(TI)===1&&(l=new eo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=s0(t),[s,l]=a0(r);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Cp(h,l,r);return s.forEach((v=>d.insert(v))),d}insert(t){if(this.ge===0)return;const r=s0(t),[s,l]=a0(r);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(t,r,s,l,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,hc.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new _f(ne.min(),l,new un(be),sa(),Te())}}class hc{constructor(t,r,s,l,h){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new hc(s,r,Te(),Te(),Te())}}class Vh{constructor(t,r,s,l){this.be=t,this.removedTargetIds=r,this.key=s,this.De=l}}class mb{constructor(t,r){this.targetId=t,this.Ce=r}}class pb{constructor(t,r,s=er.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class o0{constructor(){this.ve=0,this.Fe=l0(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Te(),r=Te(),s=Te();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Xt(38017,{changeType:h})}})),new hc(this.Me,this.xe,t,r,s)}qe(){this.Oe=!1,this.Fe=l0()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SI{constructor(t){this.Ge=t,this.ze=new Map,this.je=sa(),this.Je=bh(),this.He=bh(),this.Ye=new un(be)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const s=this.nt(r);switch(t.state){case 0:this.rt(r)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(t.resumeToken));break;default:Xt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((s,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,s=t.Ce.count,l=this.ot(r);if(l){const h=l.target;if(Hm(h))if(s===0){const d=new Gt(h.path);this.et(r,d,hr.newNoDocument(d,ne.min()))}else Ve(s===1,20013,{expectedCount:s});else{const d=this._t(r);if(d!==s){const v=this.ut(t),b=v?this.ct(v,t,d):1;if(b!==0){this.it(r);const T=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,T)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=r;let d,v;try{d=so(s).toUint8Array()}catch(b){if(b instanceof jE)return Ul("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{v=new Cp(d,l,h)}catch(b){return Ul(b instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return v.ge===0?null:v}ct(t,r,s){return r.Ce.count===s-this.Pt(t,r.targetId)?0:2}Pt(t,r){const s=this.Ge.getRemoteKeysForTarget(r);let l=0;return s.forEach((h=>{const d=this.Ge.ht(),v=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(r,h,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((h,d)=>{const v=this.ot(d);if(v){if(h.current&&Hm(v.target)){const b=new Gt(v.target.path);this.It(b).has(d)||this.Et(d,b)||this.et(d,b,hr.newNoDocument(b,t))}h.Be&&(r.set(d,h.ke()),h.qe())}}));let s=Te();this.He.forEach(((h,d)=>{let v=!0;d.forEachWhile((b=>{const T=this.ot(b);return!T||T.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new _f(t,r,this.Ye,this.je,s);return this.je=sa(),this.Je=bh(),this.He=bh(),this.Ye=new un(be),l}Xe(t,r){if(!this.rt(t))return;const s=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),s&&(this.je=this.je.insert(r,s))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new o0,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Ln(be),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Ln(be),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||kt("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new o0),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function bh(){return new un(Gt.comparator)}function l0(){return new un(Gt.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},AI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class CI{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Km(i,t){return i.useProto3Json||ff(t)?t:{value:t}}function Wh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function II(i,t){return Wh(i,t.toTimestamp())}function ps(i){return Ve(!!i,49232),ne.fromTimestamp((function(r){const s=io(r);return new Xe(s.seconds,s.nanos)})(i))}function Ip(i,t){return Gm(i,t).canonicalString()}function Gm(i,t){const r=(function(l){return new ln(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?r:r.child(t)}function yb(i){const t=ln.fromString(i);return Ve(Tb(t),10190,{key:t.toString()}),t}function Qm(i,t){return Ip(i.databaseId,t.path)}function Sm(i,t){const r=yb(t);if(r.get(1)!==i.databaseId.projectId)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Gt(_b(r))}function vb(i,t){return Ip(i.databaseId,t)}function DI(i){const t=yb(i);return t.length===4?ln.emptyPath():_b(t)}function Ym(i){return new ln(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return Ve(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function u0(i,t,r){return{name:Qm(i,t),fields:r.value.mapValue.fields}}function OI(i,t){let r;if("targetChange"in t){t.targetChange;const s=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Xt(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,I){return T.useProto3Json?(Ve(I===void 0||typeof I=="string",58123),er.fromBase64String(I||"")):(Ve(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),er.fromUint8Array(I||new Uint8Array))})(i,t.targetChange.resumeToken),d=t.targetChange.cause,v=d&&(function(T){const I=T.code===void 0?gt.UNKNOWN:db(T.code);return new jt(I,T.message||"")})(d);r=new pb(s,l,h,v||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Sm(i,s.document.name),h=ps(s.document.updateTime),d=s.document.createTime?ps(s.document.createTime):ne.min(),v=new Ni({mapValue:{fields:s.document.fields}}),b=hr.newFoundDocument(l,h,d,v),T=s.targetIds||[],I=s.removedTargetIds||[];r=new Vh(T,I,b.key,b)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Sm(i,s.document),h=s.readTime?ps(s.readTime):ne.min(),d=hr.newNoDocument(l,h),v=s.removedTargetIds||[];r=new Vh([],v,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Sm(i,s.document),h=s.removedTargetIds||[];r=new Vh([],h,l,null)}else{if(!("filter"in t))return Xt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new _I(l,h),v=s.targetId;r=new mb(v,d)}}return r}function NI(i,t){let r;if(t instanceof cc)r={update:u0(i,t.key,t.value)};else if(t instanceof fb)r={delete:Qm(i,t.key)};else if(t instanceof Yo)r={update:u0(i,t.key,t.data),updateMask:jI(t.fieldMask)};else{if(!(t instanceof gI))return Xt(16599,{Vt:t.type});r={verify:Qm(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((s=>(function(h,d){const v=d.transform;if(v instanceof Jh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof tc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ec)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Zh)return{fieldPath:d.field.canonicalString(),increment:v.Ae};throw Xt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(r.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:II(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Xt(27497)})(i,t.precondition)),r}function xI(i,t){return i&&i.length>0?(Ve(t!==void 0,14353),i.map((r=>(function(l,h){let d=l.updateTime?ps(l.updateTime):ps(h);return d.isEqual(ne.min())&&(d=ps(h)),new dI(d,l.transformResults||[])})(r,t)))):[]}function MI(i,t){return{documents:[vb(i,t.path)]}}function VI(i,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=vb(i,l);const h=(function(T){if(T.length!==0)return bb(Es.create(T,"and"))})(t.filters);h&&(r.structuredQuery.where=h);const d=(function(T){if(T.length!==0)return T.map((I=>(function(B){return{field:Dl(B.field),direction:UI(B.dir)}})(I)))})(t.orderBy);d&&(r.structuredQuery.orderBy=d);const v=Km(i,t.limit);return v!==null&&(r.structuredQuery.limit=v),t.startAt&&(r.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{ft:r,parent:l}}function kI(i){let t=DI(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Ve(s===1,65062);const I=r.from[0];I.allDescendants?l=I.collectionId:t=t.child(I.collectionId)}let h=[];r.where&&(h=(function(O){const B=Eb(O);return B instanceof Es&&$E(B)?B.getFilters():[B]})(r.where));let d=[];r.orderBy&&(d=(function(O){return O.map((B=>(function(_t){return new $h(Ol(_t.field),(function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_t.direction))})(B)))})(r.orderBy));let v=null;r.limit&&(v=(function(O){let B;return B=typeof O=="object"?O.value:O,ff(B)?null:B})(r.limit));let b=null;r.startAt&&(b=(function(O){const B=!!O.before,ot=O.values||[];return new Xh(ot,B)})(r.startAt));let T=null;return r.endAt&&(T=(function(O){const B=!O.before,ot=O.values||[];return new Xh(ot,B)})(r.endAt)),WC(t,l,d,h,v,"F",b,T)}function PI(i,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Eb(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ol(r.unaryFilter.field);return Un.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ol(r.unaryFilter.field);return Un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ol(r.unaryFilter.field);return Un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ol(r.unaryFilter.field);return Un.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return Un.create(Ol(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Es.create(r.compositeFilter.filters.map((s=>Eb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}})(r.compositeFilter.op))})(i):Xt(30097,{filter:i})}function UI(i){return wI[i]}function LI(i){return AI[i]}function zI(i){return RI[i]}function Dl(i){return{fieldPath:i.canonicalString()}}function Ol(i){return tr.fromServerFormat(i.fieldPath)}function bb(i){return i instanceof Un?(function(r){if(r.op==="=="){if($_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NAN"}};if(X_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NOT_NAN"}};if(X_(r.value))return{unaryFilter:{field:Dl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(r.field),op:LI(r.op),value:r.value}}})(i):i instanceof Es?(function(r){const s=r.getFilters().map((l=>bb(l)));return s.length===1?s[0]:{compositeFilter:{op:zI(r.op),filters:s}}})(i):Xt(54877,{filter:i})}function jI(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ja{constructor(t,r,s,l,h=ne.min(),d=ne.min(),v=er.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=v,this.expectedCount=b}withSequenceNumber(t){return new Ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BI{constructor(t){this.yt=t}}function qI(i){const t=kI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fm(t,t.limit,"L"):t}class HI{constructor(){this.Cn=new FI}addToCollectionParentIndex(t,r){return this.Cn.add(r),pt.resolve()}getCollectionParents(t,r){return pt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return pt.resolve()}deleteFieldIndex(t,r){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,r){return pt.resolve()}getDocumentsMatchingTarget(t,r){return pt.resolve(null)}getIndexType(t,r){return pt.resolve(0)}getFieldIndexes(t,r){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,r){return pt.resolve(ro.min())}getMinOffsetFromCollectionGroup(t,r){return pt.resolve(ro.min())}updateCollectionGroup(t,r,s){return pt.resolve()}updateIndexEntries(t,r){return pt.resolve()}}class FI{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new Ln(ln.comparator),h=!l.has(s);return this.index[r]=l.add(s),h}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ln(ln.comparator)).toArray()}}const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class Br{static withCacheSize(t){return new Br(t,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(Sb,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}const h0="LruGarbageCollector",KI=1048576;function f0([i,t],[r,s]){const l=be(i,r);return l===0?be(t,s):l}class GI{constructor(t){this.Ir=t,this.buffer=new Ln(f0),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();f0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){kt(h0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Yl(r)?kt(h0,"Ignoring IndexedDB error during garbage collection: ",r):await Ql(r)}await this.Vr(3e5)}))}}class YI{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(t,r){if(r===0)return pt.resolve(hf.ce);const s=new GI(r);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,r,s){return this.mr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(c0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let s,l,h,d,v,b,T;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,d=Date.now(),this.nthSequenceNumber(t,l)))).next((O=>(s=O,v=Date.now(),this.removeTargets(t,s,r)))).next((O=>(h=O,b=Date.now(),this.removeOrphanedDocuments(t,s)))).next((O=>(T=Date.now(),Cl()<=Ee.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-I}ms
	Determined least recently used ${l} in `+(v-d)+`ms
	Removed ${h} targets in `+(b-v)+`ms
	Removed ${O} documents in `+(T-b)+`ms
Total Duration: ${T-I}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:O}))))}}function XI(i,t){return new YI(i,t)}class $I{constructor(){this.changes=new Qo((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,hr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?pt.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JI{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class ZI{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(s!==null&&Ku(s.mutation,l,Yi.empty(),Xe.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.getLocalViewOfDocuments(t,s,Te()).next((()=>s))))}getLocalViewOfDocuments(t,r,s=Te()){const l=Lo();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,s).next((h=>{let d=Uu();return h.forEach(((v,b)=>{d=d.insert(v,b.overlayedDocument)})),d}))))}getOverlayedDocuments(t,r){const s=Lo();return this.populateOverlays(t,s,r).next((()=>this.computeViews(t,r,s,Te())))}populateOverlays(t,r,s){const l=[];return s.forEach((h=>{r.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,v)=>{r.set(d,v)}))}))}computeViews(t,r,s,l){let h=sa();const d=Fu(),v=(function(){return Fu()})();return r.forEach(((b,T)=>{const I=s.get(T.key);l.has(T.key)&&(I===void 0||I.mutation instanceof Yo)?h=h.insert(T.key,T):I!==void 0?(d.set(T.key,I.mutation.getFieldMask()),Ku(I.mutation,T,I.mutation.getFieldMask(),Xe.now())):d.set(T.key,Yi.empty())})),this.recalculateAndSaveOverlays(t,h).next((b=>(b.forEach(((T,I)=>d.set(T,I))),r.forEach(((T,I)=>v.set(T,new JI(I,d.get(T)??null)))),v)))}recalculateAndSaveOverlays(t,r){const s=Fu();let l=new un(((d,v)=>d-v)),h=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((d=>{for(const v of d)v.keys().forEach((b=>{const T=r.get(b);if(T===null)return;let I=s.get(b)||Yi.empty();I=v.applyToLocalView(T,I),s.set(b,I);const O=(l.get(v.batchId)||Te()).add(b);l=l.insert(v.batchId,O)}))})).next((()=>{const d=[],v=l.getReverseIterator();for(;v.hasNext();){const b=v.getNext(),T=b.key,I=b.value,O=ib();I.forEach((B=>{if(!h.has(B)){const ot=cb(r.get(B),s.get(B));ot!==null&&O.set(B,ot),h=h.add(B)}})),d.push(this.documentOverlayCache.saveOverlays(t,T,O))}return pt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,r,s,l){return(function(d){return Gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):tI(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-h.size):pt.resolve(Lo());let v=$u,b=h;return d.next((T=>pt.forEach(T,((I,O)=>(v<O.largestBatchId&&(v=O.largestBatchId),h.get(I)?pt.resolve():this.remoteDocumentCache.getEntry(t,I).next((B=>{b=b.insert(I,B)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,b,T,Te()))).next((I=>({batchId:v,changes:rb(I)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Gt(r)).next((s=>{let l=Uu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const h=r.collectionGroup;let d=Uu();return this.indexManager.getCollectionParents(t,h).next((v=>pt.forEach(v,(b=>{const T=(function(O,B){return new mf(B,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,b.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,s,l).next((I=>{I.forEach(((O,B)=>{d=d.insert(O,B)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,r,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,h,l)))).next((d=>{h.forEach(((b,T)=>{const I=T.getKey();d.get(I)===null&&(d=d.insert(I,hr.newInvalidDocument(I)))}));let v=Uu();return d.forEach(((b,T)=>{const I=h.get(b);I!==void 0&&Ku(I.mutation,T,Yi.empty(),Xe.now()),gf(r,T)&&(v=v.insert(b,T))})),v}))}}class WI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return pt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:ps(l.createTime)}})(r)),pt.resolve()}getNamedQuery(t,r){return pt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:qI(l.bundledQuery),readTime:ps(l.readTime)}})(r)),pt.resolve()}}class t2{constructor(){this.overlays=new un(Gt.comparator),this.qr=new Map}getOverlay(t,r){return pt.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Lo();return pt.forEach(r,(l=>this.getOverlay(t,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(t,r,s){return s.forEach(((l,h)=>{this.St(t,r,h)})),pt.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),pt.resolve()}getOverlaysForCollection(t,r,s){const l=Lo(),h=r.length+1,d=new Gt(r.child("")),v=this.overlays.getIteratorFrom(d);for(;v.hasNext();){const b=v.getNext().value,T=b.getKey();if(!r.isPrefixOf(T.path))break;T.path.length===h&&b.largestBatchId>s&&l.set(b.getKey(),b)}return pt.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let h=new un(((T,I)=>T-I));const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===r&&T.largestBatchId>s){let I=h.get(T.largestBatchId);I===null&&(I=Lo(),h=h.insert(T.largestBatchId,I)),I.set(T.getKey(),T)}}const v=Lo(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((T,I)=>v.set(T,I))),!(v.size()>=l)););return pt.resolve(v)}St(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vI(r,s));let h=this.qr.get(r);h===void 0&&(h=Te(),this.qr.set(r,h)),this.qr.set(r,h.add(s.key))}}class e2{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,pt.resolve()}}class Dp{constructor(){this.Qr=new Ln(Kn.$r),this.Ur=new Ln(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const s=new Kn(t,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,r){t.forEach((s=>this.addReference(s,r)))}removeReference(t,r){this.Gr(new Kn(t,r))}zr(t,r){t.forEach((s=>this.removeReference(s,r)))}jr(t){const r=new Gt(new ln([])),s=new Kn(r,t),l=new Kn(r,t+1),h=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Gt(new ln([])),s=new Kn(r,t),l=new Kn(r,t+1);let h=Te();return this.Ur.forEachInRange([s,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const r=new Kn(t,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class Kn{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Gt.comparator(t.key,r.key)||be(t.Yr,r.Yr)}static Kr(t,r){return be(t.Yr,r.Yr)||Gt.comparator(t.key,r.key)}}class n2{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Kn.$r)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yI(h,r,s,l);this.mutationQueue.push(d);for(const v of l)this.Zr=this.Zr.add(new Kn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return pt.resolve(d)}lookupMutationBatch(t,r){return pt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.ei(s),h=l<0?0:l;return pt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new Kn(r,0),l=new Kn(r,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(d=>{const v=this.Xr(d.Yr);h.push(v)})),pt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Ln(be);return r.forEach((l=>{const h=new Kn(l,0),d=new Kn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(v=>{s=s.add(v.Yr)}))})),pt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let h=s;Gt.isDocumentKey(h)||(h=h.child(""));const d=new Kn(new Gt(h),0);let v=new Ln(be);return this.Zr.forEachWhile((b=>{const T=b.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(v=v.add(b.Yr)),!0)}),d),pt.resolve(this.ti(v))}ti(t){const r=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Ve(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return pt.forEach(r.mutations,(l=>{const h=new Kn(l.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,r){const s=new Kn(r,0),l=this.Zr.firstAfterOrEqual(s);return pt.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class r2{constructor(t){this.ri=t,this.docs=(function(){return new un(Gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return pt.resolve(s?s.document.mutableCopy():hr.newInvalidDocument(r))}getEntries(t,r){let s=sa();return r.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():hr.newInvalidDocument(l))})),pt.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let h=sa();const d=r.path,v=new Gt(d.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(v);for(;b.hasNext();){const{key:T,value:{document:I}}=b.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||NC(OC(I),s)<=0||(l.has(I.key)||gf(r,I))&&(h=h.insert(I.key,I.mutableCopy()))}return pt.resolve(h)}getAllFromCollectionGroup(t,r,s,l){Xt(9500)}ii(t,r){return pt.forEach(this.docs,(s=>r(s)))}newChangeBuffer(t){return new i2(this)}getSize(t){return pt.resolve(this.size)}}class i2 extends $I{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),pt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class s2{constructor(t){this.persistence=t,this.si=new Qo((r=>Tp(r)),Sp),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,r){return this.si.forEach(((s,l)=>r(l))),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),pt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Bl(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,pt.resolve()}updateTargetData(t,r){return this.Pr(r),pt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,r,s){let l=0;const h=[];return this.si.forEach(((d,v)=>{v.sequenceNumber<=r&&s.get(v.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),pt.waitFor(h).next((()=>l))}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,r){const s=this.si.get(r)||null;return pt.resolve(s)}addMatchingKeys(t,r,s){return this._i.Wr(r,s),pt.resolve()}removeMatchingKeys(t,r,s){this._i.zr(r,s);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),pt.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),pt.resolve()}getMatchingKeysForTargetId(t,r){const s=this._i.Hr(r);return pt.resolve(s)}containsKey(t,r){return pt.resolve(this._i.containsKey(r))}}class wb{constructor(t,r){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new e2,this.referenceDelegate=t(this),this.Pi=new s2(this),this.indexManager=new HI,this.remoteDocumentCache=(function(l){return new r2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BI(r),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new t2,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ui[t.toKey()];return s||(s=new n2(r,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,s){kt("MemoryPersistence","Starting transaction:",t);const l=new a2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,r){return pt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,r))))}}class a2 extends MC{constructor(t){super(),this.currentSequenceNumber=t}}class Op{constructor(t){this.persistence=t,this.Ri=new Dp,this.Vi=null}static mi(t){return new Op(t)}get fi(){if(this.Vi)return this.Vi;throw Xt(60996)}addReference(t,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),pt.resolve()}removeReference(t,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),pt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),pt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(s=>{const l=Gt.fromPath(s);return this.gi(t,l).next((h=>{h||r.removeEntry(l,ne.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return pt.or([()=>pt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class tf{constructor(t,r){this.persistence=t,this.pi=new Qo((s=>PC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=XI(this,r)}static mi(t,r){return new tf(t,r)}Ei(){}di(t){return pt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>r.next((l=>s+l))))}wr(t){let r=0;return this.pr(t,(s=>{r++})).next((()=>r))}pr(t,r){return pt.forEach(this.pi,((s,l)=>this.br(t,s,l).next((h=>h?pt.resolve():r(l)))))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,r).next((v=>{v||(s++,h.removeEntry(d,ne.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),pt.resolve()}removeReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Nh(t.data.value)),r}br(t,r,s){return pt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return pt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Np{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.Es=s,this.ds=l}static As(t,r){let s=Te(),l=Te();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Np(t,r.fromCache,s,l)}}class o2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class l2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JS()?8:VC(fr())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,s,l){const h={result:null};return this.ys(t,r).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,r,l,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new o2;return this.Ss(t,r,d).next((v=>{if(h.result=v,this.Vs)return this.bs(t,r,d,v.size)}))})).next((()=>h.result))}bs(t,r,s,l){return s.documentReadCount<this.fs?(Cl()<=Ee.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(Cl()<=Ee.DEBUG&&kt("QueryEngine","Query:",Il(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Cl()<=Ee.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ms(r))):pt.resolve())}ys(t,r){if(t0(r))return pt.resolve(null);let s=ms(r);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=Fm(r,null,"F"),s=ms(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const d=Te(...h);return this.ps.getDocuments(t,d).next((v=>this.indexManager.getMinOffset(t,s).next((b=>{const T=this.Ds(r,v);return this.Cs(r,T,d,b.readTime)?this.ys(t,Fm(r,null,"F")):this.vs(t,T,r,b)}))))})))))}ws(t,r,s,l){return t0(r)||l.isEqual(ne.min())?pt.resolve(null):this.ps.getDocuments(t,s).next((h=>{const d=this.Ds(r,h);return this.Cs(r,d,s,l)?pt.resolve(null):(Cl()<=Ee.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(r)),this.vs(t,d,r,DC(l,$u)).next((v=>v)))}))}Ds(t,r){let s=new Ln(eb(t));return r.forEach(((l,h)=>{gf(t,h)&&(s=s.add(h))})),s}Cs(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const h=t.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,r,s){return Cl()<=Ee.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",Il(r)),this.ps.getDocumentsMatchingQuery(t,r,ro.min(),s)}vs(t,r,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((h=>(r.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const xp="LocalStore",u2=3e8;class c2{constructor(t,r,s,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new un(be),this.xs=new Qo((h=>Tp(h)),Sp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function h2(i,t,r,s){return new c2(i,t,r,s)}async function Ab(i,t){const r=ie(i);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,r.Bs(t),r.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],v=[];let b=Te();for(const T of l){d.push(T.batchId);for(const I of T.mutations)b=b.add(I.key)}for(const T of h){v.push(T.batchId);for(const I of T.mutations)b=b.add(I.key)}return r.localDocuments.getDocuments(s,b).next((T=>({Ls:T,removedBatchIds:d,addedBatchIds:v})))}))}))}function f2(i,t){const r=ie(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),h=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,b,T,I){const O=T.batch,B=O.keys();let ot=pt.resolve();return B.forEach((_t=>{ot=ot.next((()=>I.getEntry(b,_t))).next((Rt=>{const Et=T.docVersions.get(_t);Ve(Et!==null,48541),Rt.version.compareTo(Et)<0&&(O.applyToRemoteDocument(Rt,T),Rt.isValidDocument()&&(Rt.setReadTime(T.commitVersion),I.addEntry(Rt)))}))})),ot.next((()=>v.mutationQueue.removeMutationBatch(b,O)))})(r,s,t,h).next((()=>h.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(v){let b=Te();for(let T=0;T<v.mutationResults.length;++T)v.mutationResults[T].transformResults.length>0&&(b=b.add(v.batch.mutations[T].key));return b})(t)))).next((()=>r.localDocuments.getDocuments(s,l)))}))}function Rb(i){const t=ie(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function d2(i,t){const r=ie(i),s=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const v=[];t.targetChanges.forEach(((I,O)=>{const B=l.get(O);if(!B)return;v.push(r.Pi.removeMatchingKeys(h,I.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(h,I.addedDocuments,O))));let ot=B.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(O)!==null?ot=ot.withResumeToken(er.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):I.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(I.resumeToken,s)),l=l.insert(O,ot),(function(Rt,Et,Bt){return Rt.resumeToken.approximateByteSize()===0||Et.snapshotVersion.toMicroseconds()-Rt.snapshotVersion.toMicroseconds()>=u2?!0:Bt.addedDocuments.size+Bt.modifiedDocuments.size+Bt.removedDocuments.size>0})(B,ot,I)&&v.push(r.Pi.updateTargetData(h,ot))}));let b=sa(),T=Te();if(t.documentUpdates.forEach((I=>{t.resolvedLimboDocuments.has(I)&&v.push(r.persistence.referenceDelegate.updateLimboDocument(h,I))})),v.push(m2(h,d,t.documentUpdates).next((I=>{b=I.ks,T=I.qs}))),!s.isEqual(ne.min())){const I=r.Pi.getLastRemoteSnapshotVersion(h).next((O=>r.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));v.push(I)}return pt.waitFor(v).next((()=>d.apply(h))).next((()=>r.localDocuments.getLocalViewOfDocuments(h,b,T))).next((()=>b))})).then((h=>(r.Ms=l,h)))}function m2(i,t,r){let s=Te(),l=Te();return r.forEach((h=>s=s.add(h))),t.getEntries(i,s).next((h=>{let d=sa();return r.forEach(((v,b)=>{const T=h.get(v);b.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(v)),b.isNoDocument()&&b.version.isEqual(ne.min())?(t.removeEntry(v,b.readTime),d=d.insert(v,b)):!T.isValidDocument()||b.version.compareTo(T.version)>0||b.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(b),d=d.insert(v,b)):kt(xp,"Ignoring outdated watch update for ",v,". Current version:",T.version," Watch version:",b.version)})),{ks:d,qs:l}}))}function p2(i,t){const r=ie(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=_p),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function g2(i,t){const r=ie(i);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return r.Pi.getTargetData(s,t).next((h=>h?(l=h,pt.resolve(l)):r.Pi.allocateTargetId(s).next((d=>(l=new Ja(t,d,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=r.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(t,s.targetId)),s}))}async function Xm(i,t,r){const s=ie(i),l=s.Ms.get(t),h=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Yl(d))throw d;kt(xp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function d0(i,t,r){const s=ie(i);let l=ne.min(),h=Te();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(b,T,I){const O=ie(b),B=O.xs.get(I);return B!==void 0?pt.resolve(O.Ms.get(B)):O.Pi.getTargetData(T,I)})(s,d,ms(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,v.targetId).next((b=>{h=b}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,r?l:ne.min(),r?h:Te()))).next((v=>(y2(s,nI(t),v),{documents:v,Qs:h})))))}function y2(i,t,r){let s=i.Os.get(t)||ne.min();r.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),i.Os.set(t,s)}class m0{constructor(){this.activeTargetIds=lI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class v2{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,s){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _2{Oo(t){}shutdown(){}}const p0="ConnectivityMonitor";class g0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){kt(p0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){kt(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function $m(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const wm="RestConnection",E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,r,s,l,h){const d=$m(),v=this.zo(t,r.toUriEncodedString());kt(wm,`Sending RPC '${t}' ${d}:`,v,s);const b={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(b,l,h);const{host:T}=new URL(v),I=Hl(T);return this.Jo(t,v,b,s,I).then((O=>(kt(wm,`Received RPC '${t}' ${d}: `,O),O)),(O=>{throw Ul(wm,`RPC '${t}' ${d} failed with error: `,O,"url: ",v,"request:",s),O}))}Ho(t,r,s,l,h,d){return this.Go(t,r,s,l,h)}jo(t,r,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,h)=>t[h]=l)),s&&s.headers.forEach(((l,h)=>t[h]=l))}zo(t,r){const s=E2[t];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}class T2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const lr="WebChannelConnection";class S2 extends b2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,s,l,h){const d=$m();return new Promise(((v,b)=>{const T=new OE;T.setWithCredentials(!0),T.listenOnce(NE.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case Oh.NO_ERROR:const O=T.getResponseJson();kt(lr,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(O)),v(O);break;case Oh.TIMEOUT:kt(lr,`RPC '${t}' ${d} timed out`),b(new jt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const B=T.getStatus();if(kt(lr,`RPC '${t}' ${d} failed with status:`,B,"response text:",T.getResponseText()),B>0){let ot=T.getResponseJson();Array.isArray(ot)&&(ot=ot[0]);const _t=ot?.error;if(_t&&_t.status&&_t.message){const Rt=(function(Bt){const Ft=Bt.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(Ft)>=0?Ft:gt.UNKNOWN})(_t.status);b(new jt(Rt,_t.message))}else b(new jt(gt.UNKNOWN,"Server responded with status "+T.getStatus()))}else b(new jt(gt.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{l_:t,streamId:d,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{kt(lr,`RPC '${t}' ${d} completed.`)}}));const I=JSON.stringify(l);kt(lr,`RPC '${t}' ${d} sending request:`,l),T.send(r,"POST",I,s,15)}))}T_(t,r,s){const l=$m(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=VE(),v=ME(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(b.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(b.useFetchStreams=!0),this.jo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const I=h.join("");kt(lr,`Creating RPC '${t}' stream ${l}: ${I}`,b);const O=d.createWebChannel(I,b);this.I_(O);let B=!1,ot=!1;const _t=new T2({Yo:Et=>{ot?kt(lr,`Not sending because RPC '${t}' stream ${l} is closed:`,Et):(B||(kt(lr,`Opening RPC '${t}' stream ${l} transport.`),O.open(),B=!0),kt(lr,`RPC '${t}' stream ${l} sending:`,Et),O.send(Et))},Zo:()=>O.close()}),Rt=(Et,Bt,Ft)=>{Et.listen(Bt,(Nt=>{try{Ft(Nt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return Rt(O,Pu.EventType.OPEN,(()=>{ot||(kt(lr,`RPC '${t}' stream ${l} transport opened.`),_t.o_())})),Rt(O,Pu.EventType.CLOSE,(()=>{ot||(ot=!0,kt(lr,`RPC '${t}' stream ${l} transport closed`),_t.a_(),this.E_(O))})),Rt(O,Pu.EventType.ERROR,(Et=>{ot||(ot=!0,Ul(lr,`RPC '${t}' stream ${l} transport errored. Name:`,Et.name,"Message:",Et.message),_t.a_(new jt(gt.UNAVAILABLE,"The operation could not be completed")))})),Rt(O,Pu.EventType.MESSAGE,(Et=>{if(!ot){const Bt=Et.data[0];Ve(!!Bt,16349);const Ft=Bt,Nt=Ft?.error||Ft[0]?.error;if(Nt){kt(lr,`RPC '${t}' stream ${l} received error:`,Nt);const zt=Nt.status;let Ne=(function(x){const P=Nn[x];if(P!==void 0)return db(P)})(zt),te=Nt.message;Ne===void 0&&(Ne=gt.INTERNAL,te="Unknown error status: "+zt+" with message "+Nt.message),ot=!0,_t.a_(new jt(Ne,te)),O.close()}else kt(lr,`RPC '${t}' stream ${l} received:`,Bt),_t.u_(Bt)}})),Rt(v,xE.STAT_EVENT,(Et=>{Et.stat===Lm.PROXY?kt(lr,`RPC '${t}' stream ${l} detected buffering proxy`):Et.stat===Lm.NOPROXY&&kt(lr,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{_t.__()}),0),_t}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function Am(){return typeof document<"u"?document:null}function Ef(i){return new CI(i,!0)}class Cb{constructor(t,r,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=r,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-s);l>0&&kt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const y0="PersistentStream";class Ib{constructor(t,r,s,l,h,d,v,b){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=v,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cb(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(ia(r.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===r&&this.G_(s,l)}),(s=>{t((()=>{const l=new jt(gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,r){const s=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return kt(y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(kt(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends Ib{constructor(t,r,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,d),this.serializer=h}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=OI(this.serializer,t),s=(function(h){if(!("targetChange"in h))return ne.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?ne.min():d.readTime?ps(d.readTime):ne.min()})(t);return this.listener.H_(r,s)}Y_(t){const r={};r.database=Ym(this.serializer),r.addTarget=(function(h,d){let v;const b=d.target;if(v=Hm(b)?{documents:MI(h,b)}:{query:VI(h,b).ft},v.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){v.resumeToken=gb(h,d.resumeToken);const T=Km(h,d.expectedCount);T!==null&&(v.expectedCount=T)}else if(d.snapshotVersion.compareTo(ne.min())>0){v.readTime=Wh(h,d.snapshotVersion.toTimestamp());const T=Km(h,d.expectedCount);T!==null&&(v.expectedCount=T)}return v})(this.serializer,t);const s=PI(this.serializer,t);s&&(r.labels=s),this.q_(r)}Z_(t){const r={};r.database=Ym(this.serializer),r.removeTarget=t,this.q_(r)}}class A2 extends Ib{constructor(t,r,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ve(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ve(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ve(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=xI(t.writeResults,t.commitTime),s=ps(t.commitTime);return this.listener.na(s,r)}ra(){const t={};t.database=Ym(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((s=>NI(this.serializer,s)))};this.q_(r)}}class R2{}class C2 extends R2{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Gm(r,s),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new jt(gt.UNKNOWN,h.toString())}))}Ho(t,r,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,v])=>this.connection.Ho(t,Gm(r,s),l,d,v,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new jt(gt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class I2{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(r),this.aa=!1):kt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ko="RemoteStore";class D2{constructor(t,r,s,l,h){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Xo(this)&&(kt(Ko,"Restarting streams for network reachability change."),await(async function(b){const T=ie(b);T.Ea.add(4),await fc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await bf(T)})(this))}))})),this.Ra=new I2(s,l)}}async function bf(i){if(Xo(i))for(const t of i.da)await t(!0)}async function fc(i){for(const t of i.da)await t(!1)}function Db(i,t){const r=ie(i);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Pp(r)?kp(r):Xl(r).O_()&&Vp(r,t))}function Mp(i,t){const r=ie(i),s=Xl(r);r.Ia.delete(t),s.O_()&&Ob(r,t),r.Ia.size===0&&(s.O_()?s.L_():Xo(r)&&r.Ra.set("Unknown"))}function Vp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Xl(i).Y_(t)}function Ob(i,t){i.Va.Ue(t),Xl(i).Z_(t)}function kp(i){i.Va=new SI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Xl(i).start(),i.Ra.ua()}function Pp(i){return Xo(i)&&!Xl(i).x_()&&i.Ia.size>0}function Xo(i){return ie(i).Ea.size===0}function Nb(i){i.Va=void 0}async function O2(i){i.Ra.set("Online")}async function N2(i){i.Ia.forEach(((t,r)=>{Vp(i,t)}))}async function x2(i,t){Nb(i),Pp(i)?(i.Ra.ha(t),kp(i)):i.Ra.set("Unknown")}async function M2(i,t,r){if(i.Ra.set("Online"),t instanceof pb&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,d),l.Ia.delete(v),l.Va.removeTarget(v))})(i,t)}catch(s){kt(Ko,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ef(i,s)}else if(t instanceof Vh?i.Va.Ze(t):t instanceof mb?i.Va.st(t):i.Va.tt(t),!r.isEqual(ne.min()))try{const s=await Rb(i.localStore);r.compareTo(s)>=0&&await(function(h,d){const v=h.Va.Tt(d);return v.targetChanges.forEach(((b,T)=>{if(b.resumeToken.approximateByteSize()>0){const I=h.Ia.get(T);I&&h.Ia.set(T,I.withResumeToken(b.resumeToken,d))}})),v.targetMismatches.forEach(((b,T)=>{const I=h.Ia.get(b);if(!I)return;h.Ia.set(b,I.withResumeToken(er.EMPTY_BYTE_STRING,I.snapshotVersion)),Ob(h,b);const O=new Ja(I.target,b,T,I.sequenceNumber);Vp(h,O)})),h.remoteSyncer.applyRemoteEvent(v)})(i,r)}catch(s){kt(Ko,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,t,r){if(!Yl(t))throw t;i.Ea.add(1),await fc(i),i.Ra.set("Offline"),r||(r=()=>Rb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{kt(Ko,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await bf(i)}))}function xb(i,t){return t().catch((r=>ef(i,r,t)))}async function Tf(i){const t=ie(i),r=oo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_p;for(;V2(t);)try{const l=await p2(t.localStore,s);if(l===null){t.Ta.length===0&&r.L_();break}s=l.batchId,k2(t,l)}catch(l){await ef(t,l)}Mb(t)&&Vb(t)}function V2(i){return Xo(i)&&i.Ta.length<10}function k2(i,t){i.Ta.push(t);const r=oo(i);r.O_()&&r.X_&&r.ea(t.mutations)}function Mb(i){return Xo(i)&&!oo(i).x_()&&i.Ta.length>0}function Vb(i){oo(i).start()}async function P2(i){oo(i).ra()}async function U2(i){const t=oo(i);for(const r of i.Ta)t.ea(r.mutations)}async function L2(i,t,r){const s=i.Ta.shift(),l=Rp.from(s,t,r);await xb(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Tf(i)}async function z2(i,t){t&&oo(i).X_&&await(async function(s,l){if((function(d){return EI(d)&&d!==gt.ABORTED})(l.code)){const h=s.Ta.shift();oo(s).B_(),await xb(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Tf(s)}})(i,t),Mb(i)&&Vb(i)}async function v0(i,t){const r=ie(i);r.asyncQueue.verifyOperationInProgress(),kt(Ko,"RemoteStore received new credentials");const s=Xo(r);r.Ea.add(3),await fc(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await bf(r)}async function j2(i,t){const r=ie(i);t?(r.Ea.delete(2),await bf(r)):t||(r.Ea.add(2),await fc(r),r.Ra.set("Unknown"))}function Xl(i){return i.ma||(i.ma=(function(r,s,l){const h=ie(r);return h.sa(),new w2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:O2.bind(null,i),t_:N2.bind(null,i),r_:x2.bind(null,i),H_:M2.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Pp(i)?kp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Nb(i))}))),i.ma}function oo(i){return i.fa||(i.fa=(function(r,s,l){const h=ie(r);return h.sa(),new A2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:P2.bind(null,i),r_:z2.bind(null,i),ta:U2.bind(null,i),na:L2.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Tf(i)):(await i.fa.stop(),i.Ta.length>0&&(kt(Ko,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Up{constructor(t,r,s,l,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,h){const d=Date.now()+s,v=new Up(t,r,d,l,h);return v.start(s),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(i,t){if(ia("AsyncQueue",`${t}: ${i}`),Yl(i))return new jt(gt.UNAVAILABLE,`${t}: ${i}`);throw i}class Vl{static emptySet(t){return new Vl(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Gt.comparator(r.key,s.key):(r,s)=>Gt.comparator(r.key,s.key),this.keyedMap=Uu(),this.sortedSet=new un(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,s)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Vl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new Vl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class _0{constructor(){this.ga=new un(Gt.comparator)}track(t){const r=t.doc.key,s=this.ga.get(r);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(r,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(r):t.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Xt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,s)=>{t.push(s)})),t}}class ql{constructor(t,r,s,l,h,d,v,b,T){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=v,this.excludesMetadataChanges=b,this.hasCachedResults=T}static fromInitialDocuments(t,r,s,l,h){const d=[];return r.forEach((v=>{d.push({type:0,doc:v})})),new ql(t,r,Vl.emptySet(r),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class B2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class q2{constructor(){this.queries=E0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const l=ie(r),h=l.queries;l.queries=E0(),h.forEach(((d,v)=>{for(const b of v.Sa)b.onError(s)}))})(this,new jt(gt.ABORTED,"Firestore shutting down"))}}function E0(){return new Qo((i=>tb(i)),pf)}async function H2(i,t){const r=ie(i);let s=3;const l=t.query;let h=r.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new B2,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await r.onListen(l,!0);break;case 1:h.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(d){const v=Lp(d,`Initialization of query '${Il(t.query)}' failed`);return void t.onError(v)}r.queries.set(l,h),h.Sa.push(t),t.va(r.onlineState),h.wa&&t.Fa(h.wa)&&zp(r)}async function F2(i,t){const r=ie(i),s=t.query;let l=3;const h=r.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function K2(i,t){const r=ie(i);let s=!1;for(const l of t){const h=l.query,d=r.queries.get(h);if(d){for(const v of d.Sa)v.Fa(l)&&(s=!0);d.wa=l}}s&&zp(r)}function G2(i,t,r){const s=ie(i),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(r);s.queries.delete(t)}function zp(i){i.Ca.forEach((t=>{t.next()}))}var Jm,b0;(b0=Jm||(Jm={})).Ma="default",b0.Cache="cache";class Q2{constructor(t,r,s){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ql(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=ql.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jm.Cache}}class kb{constructor(t){this.key=t}}class Pb{constructor(t){this.key=t}}class Y2{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Te(),this.mutatedKeys=Te(),this.eu=eb(t),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(t,r){const s=r?r.iu:new _0,l=r?r.tu:this.tu;let h=r?r.mutatedKeys:this.mutatedKeys,d=l,v=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((I,O)=>{const B=l.get(I),ot=gf(this.query,O)?O:null,_t=!!B&&this.mutatedKeys.has(B.key),Rt=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let Et=!1;B&&ot?B.data.isEqual(ot.data)?_t!==Rt&&(s.track({type:3,doc:ot}),Et=!0):this.su(B,ot)||(s.track({type:2,doc:ot}),Et=!0,(b&&this.eu(ot,b)>0||T&&this.eu(ot,T)<0)&&(v=!0)):!B&&ot?(s.track({type:0,doc:ot}),Et=!0):B&&!ot&&(s.track({type:1,doc:B}),Et=!0,(b||T)&&(v=!0)),Et&&(ot?(d=d.add(ot),h=Rt?h.add(I):h.delete(I)):(d=d.delete(I),h=h.delete(I)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const I=this.query.limitType==="F"?d.last():d.first();d=d.delete(I.key),h=h.delete(I.key),s.track({type:1,doc:I})}return{tu:d,iu:s,Cs:v,mutatedKeys:h}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((I,O)=>(function(ot,_t){const Rt=Et=>{switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt(20277,{Rt:Et})}};return Rt(ot)-Rt(_t)})(I.type,O.type)||this.eu(I.doc,O.doc))),this.ou(s),l=l??!1;const v=r&&!l?this._u():[],b=this.Xa.size===0&&this.current&&!l?1:0,T=b!==this.Za;return this.Za=b,d.length!==0||T?{snapshot:new ql(this.query,t.tu,h,d,t.mutatedKeys,b===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Te(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return t.forEach((s=>{this.Xa.has(s)||r.push(new Pb(s))})),this.Xa.forEach((s=>{t.has(s)||r.push(new kb(s))})),r}cu(t){this.Ya=t.Qs,this.Xa=Te();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class X2{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class $2{constructor(t){this.key=t,this.hu=!1}}class J2{constructor(t,r,s,l,h,d){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qo((v=>tb(v)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new un(Gt.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z2(i,t,r=!0){const s=qb(i);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Ub(s,t,r,!0),l}async function W2(i,t){const r=qb(i);await Ub(r,t,!0,!1)}async function Ub(i,t,r,s){const l=await g2(i.localStore,ms(t)),h=l.targetId,d=i.sharedClientState.addLocalQueryTarget(h,r);let v;return s&&(v=await tD(i,t,h,d==="current",l.resumeToken)),i.isPrimaryClient&&r&&Db(i.remoteStore,l),v}async function tD(i,t,r,s,l){i.pu=(O,B,ot)=>(async function(Rt,Et,Bt,Ft){let Nt=Et.view.ru(Bt);Nt.Cs&&(Nt=await d0(Rt.localStore,Et.query,!1).then((({documents:V})=>Et.view.ru(V,Nt))));const zt=Ft&&Ft.targetChanges.get(Et.targetId),Ne=Ft&&Ft.targetMismatches.get(Et.targetId)!=null,te=Et.view.applyChanges(Nt,Rt.isPrimaryClient,zt,Ne);return S0(Rt,Et.targetId,te.au),te.snapshot})(i,O,B,ot);const h=await d0(i.localStore,t,!0),d=new Y2(t,h.Qs),v=d.ru(h.documents),b=hc.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",l),T=d.applyChanges(v,i.isPrimaryClient,b);S0(i,r,T.au);const I=new X2(t,r,d);return i.Tu.set(t,I),i.Iu.has(r)?i.Iu.get(r).push(t):i.Iu.set(r,[t]),T.snapshot}async function eD(i,t,r){const s=ie(i),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((d=>!pf(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Xm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Mp(s.remoteStore,l.targetId),Zm(s,l.targetId)})).catch(Ql)):(Zm(s,l.targetId),await Xm(s.localStore,l.targetId,!0))}async function nD(i,t){const r=ie(i),s=r.Tu.get(t),l=r.Iu.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(r.remoteStore,s.targetId))}async function rD(i,t,r){const s=cD(i);try{const l=await(function(d,v){const b=ie(d),T=Xe.now(),I=v.reduce(((ot,_t)=>ot.add(_t.key)),Te());let O,B;return b.persistence.runTransaction("Locally write mutations","readwrite",(ot=>{let _t=sa(),Rt=Te();return b.Ns.getEntries(ot,I).next((Et=>{_t=Et,_t.forEach(((Bt,Ft)=>{Ft.isValidDocument()||(Rt=Rt.add(Bt))}))})).next((()=>b.localDocuments.getOverlayedDocuments(ot,_t))).next((Et=>{O=Et;const Bt=[];for(const Ft of v){const Nt=pI(Ft,O.get(Ft.key).overlayedDocument);Nt!=null&&Bt.push(new Yo(Ft.key,Nt,QE(Nt.value.mapValue),ta.exists(!0)))}return b.mutationQueue.addMutationBatch(ot,T,Bt,v)})).next((Et=>{B=Et;const Bt=Et.applyToLocalDocumentSet(O,Rt);return b.documentOverlayCache.saveOverlays(ot,Et.batchId,Bt)}))})).then((()=>({batchId:B.batchId,changes:rb(O)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,v,b){let T=d.Vu[d.currentUser.toKey()];T||(T=new un(be)),T=T.insert(v,b),d.Vu[d.currentUser.toKey()]=T})(s,l.batchId,r),await dc(s,l.changes),await Tf(s.remoteStore)}catch(l){const h=Lp(l,"Failed to persist write");r.reject(h)}}async function Lb(i,t){const r=ie(i);try{const s=await d2(r.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=r.Au.get(h);d&&(Ve(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ve(d.hu,14607):l.removedDocuments.size>0&&(Ve(d.hu,42227),d.hu=!1))})),await dc(r,s,t)}catch(s){await Ql(s)}}function T0(i,t,r){const s=ie(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.Tu.forEach(((h,d)=>{const v=d.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(d,v){const b=ie(d);b.onlineState=v;let T=!1;b.queries.forEach(((I,O)=>{for(const B of O.Sa)B.va(v)&&(T=!0)})),T&&zp(b)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function iD(i,t,r){const s=ie(i);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s.Au.get(t),h=l&&l.key;if(h){let d=new un(Gt.comparator);d=d.insert(h,hr.newNoDocument(h,ne.min()));const v=Te().add(h),b=new _f(ne.min(),new Map,new un(be),d,v);await Lb(s,b),s.du=s.du.remove(h),s.Au.delete(t),Bp(s)}else await Xm(s.localStore,t,!1).then((()=>Zm(s,t,r))).catch(Ql)}async function sD(i,t){const r=ie(i),s=t.batch.batchId;try{const l=await f2(r.localStore,t);jb(r,s,null),zb(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await dc(r,l)}catch(l){await Ql(l)}}async function aD(i,t,r){const s=ie(i);try{const l=await(function(d,v){const b=ie(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let I;return b.mutationQueue.lookupMutationBatch(T,v).next((O=>(Ve(O!==null,37113),I=O.keys(),b.mutationQueue.removeMutationBatch(T,O)))).next((()=>b.mutationQueue.performConsistencyCheck(T))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(T,I,v))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,I))).next((()=>b.localDocuments.getDocuments(T,I)))}))})(s.localStore,t);jb(s,t,r),zb(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await dc(s,l)}catch(l){await Ql(l)}}function zb(i,t){(i.mu.get(t)||[]).forEach((r=>{r.resolve()})),i.mu.delete(t)}function jb(i,t,r){const s=ie(i);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(r?h.reject(r):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Zm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),r&&i.Pu.yu(s,r);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||Bb(i,s)}))}function Bb(i,t){i.Eu.delete(t.path.canonicalString());const r=i.du.get(t);r!==null&&(Mp(i.remoteStore,r),i.du=i.du.remove(t),i.Au.delete(r),Bp(i))}function S0(i,t,r){for(const s of r)s instanceof kb?(i.Ru.addReference(s.key,t),oD(i,s)):s instanceof Pb?(kt(jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||Bb(i,s.key)):Xt(19791,{wu:s})}function oD(i,t){const r=t.key,s=r.path.canonicalString();i.du.get(r)||i.Eu.has(s)||(kt(jp,"New document in limbo: "+r),i.Eu.add(s),Bp(i))}function Bp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const r=new Gt(ln.fromString(t)),s=i.fu.next();i.Au.set(s,new $2(r)),i.du=i.du.insert(r,s),Db(i.remoteStore,new Ja(ms(wp(r.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function dc(i,t,r){const s=ie(i),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((v,b)=>{d.push(s.pu(b,t,r).then((T=>{if((T||r)&&s.isPrimaryClient){const I=T?!T.fromCache:r?.targetChanges.get(b.targetId)?.current;s.sharedClientState.updateQueryState(b.targetId,I?"current":"not-current")}if(T){l.push(T);const I=Np.As(b.targetId,T);h.push(I)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(b,T){const I=ie(b);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>pt.forEach(T,(B=>pt.forEach(B.Es,(ot=>I.persistence.referenceDelegate.addReference(O,B.targetId,ot))).next((()=>pt.forEach(B.ds,(ot=>I.persistence.referenceDelegate.removeReference(O,B.targetId,ot)))))))))}catch(O){if(!Yl(O))throw O;kt(xp,"Failed to update sequence numbers: "+O)}for(const O of T){const B=O.targetId;if(!O.fromCache){const ot=I.Ms.get(B),_t=ot.snapshotVersion,Rt=ot.withLastLimboFreeSnapshotVersion(_t);I.Ms=I.Ms.insert(B,Rt)}}})(s.localStore,h))}async function lD(i,t){const r=ie(i);if(!r.currentUser.isEqual(t)){kt(jp,"User change. New user:",t.toKey());const s=await Ab(r.localStore,t);r.currentUser=t,(function(h,d){h.mu.forEach((v=>{v.forEach((b=>{b.reject(new jt(gt.CANCELLED,d))}))})),h.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await dc(r,s.Ls)}}function uD(i,t){const r=ie(i),s=r.Au.get(t);if(s&&s.hu)return Te().add(s.key);{let l=Te();const h=r.Iu.get(t);if(!h)return l;for(const d of h){const v=r.Tu.get(d);l=l.unionWith(v.view.nu)}return l}}function qb(i){const t=ie(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iD.bind(null,t),t.Pu.H_=K2.bind(null,t.eventManager),t.Pu.yu=G2.bind(null,t.eventManager),t}function cD(i){const t=ie(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,t),t}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return h2(this.persistence,new l2,t.initialUser,this.serializer)}Cu(t){return new wb(Op.mi,this.serializer)}Du(t){return new v2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class hD extends nf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ve(this.persistence.referenceDelegate instanceof tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QI(s,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new wb((s=>tf.mi(s,r)),this.serializer)}}class Wm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lD.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new q2})()}createDatastore(t){const r=Ef(t.databaseInfo.databaseId),s=(function(h){return new S2(h)})(t.databaseInfo);return(function(h,d,v,b){return new C2(h,d,v,b)})(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return(function(s,l,h,d,v){return new D2(s,l,h,d,v)})(this.localStore,this.datastore,t.asyncQueue,(r=>T0(this.syncEngine,r,0)),(function(){return g0.v()?new g0:new _2})())}createSyncEngine(t,r){return(function(l,h,d,v,b,T,I){const O=new J2(l,h,d,v,b,T);return I&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ie(r);kt(Ko,"RemoteStore shutting down."),s.Ea.add(5),await fc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class fD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ia("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const lo="FirestoreClient";class dD{constructor(t,r,s,l,h){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=cr.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{kt(lo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(kt(lo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Lp(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rm(i,t){i.asyncQueue.verifyOperationInProgress(),kt(lo,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Ab(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function w0(i,t){i.asyncQueue.verifyOperationInProgress();const r=await mD(i);kt(lo,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((s=>v0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>v0(t.remoteStore,l))),i._onlineComponents=t}async function mD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){kt(lo,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===gt.FAILED_PRECONDITION||l.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Ul("Error using user provided cache. Falling back to memory cache: "+r),await Rm(i,new nf)}}else kt(lo,"Using default OfflineComponentProvider"),await Rm(i,new hD(void 0));return i._offlineComponents}async function Hb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(kt(lo,"Using user provided OnlineComponentProvider"),await w0(i,i._uninitializedComponentsProvider._online)):(kt(lo,"Using default OnlineComponentProvider"),await w0(i,new Wm))),i._onlineComponents}function pD(i){return Hb(i).then((t=>t.syncEngine))}async function gD(i){const t=await Hb(i),r=t.eventManager;return r.onListen=Z2.bind(null,t.syncEngine),r.onUnlisten=eD.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=W2.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=nD.bind(null,t.syncEngine),r}function yD(i,t,r={}){const s=new no;return i.asyncQueue.enqueueAndForget((async()=>(function(h,d,v,b,T){const I=new fD({next:B=>{I.Nu(),d.enqueueAndForget((()=>F2(h,O)));const ot=B.docs.has(v);!ot&&B.fromCache?T.reject(new jt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&B.fromCache&&b&&b.source==="server"?T.reject(new jt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(B)},error:B=>T.reject(B)}),O=new Q2(wp(v.path),I,{includeMetadataChanges:!0,qa:!0});return H2(h,O)})(await gD(i),i.asyncQueue,t,r,s))),s.promise}function Fb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const A0=new Map;const Kb="firestore.googleapis.com",R0=!0;class C0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new jt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=R0}else this.host=t.host,this.ssl=t.ssl??R0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KI)throw new jt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qp{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new jt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yC;switch(s.type){case"firstParty":return new bC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new jt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=A0.get(r);s&&(kt("ComponentProvider","Removing Datastore"),A0.delete(r),s.terminate())})(this),Promise.resolve()}}function vD(i,t,r,s={}){i=Xu(i,qp);const l=Hl(t),h=i._getSettings(),d={...h,emulatorOptions:i._getEmulatorOptions()},v=`${t}:${r}`;l&&(K0(`https://${v}`),G0("Firestore",!0)),h.host!==Kb&&h.host!==v&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...h,host:v,ssl:l,emulatorOptions:s};if(!Bo(b,d)&&(i._setSettings(b),s.mockUserToken)){let T,I;if(typeof s.mockUserToken=="string")T=s.mockUserToken,I=cr.MOCK_USER;else{T=qS(s.mockUserToken,i._app?.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new jt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new cr(O)}i._authCredentials=new vC(new PE(T,I))}}class Hp{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Hp(this.firestore,t,this._query)}}class Gn{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gn(this.firestore,t,this._key)}toJSON(){return{type:Gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(uc(r,Gn._jsonSchema))return new Gn(t,s||null,new Gt(ln.fromString(r.referencePath)))}}Gn._jsonSchemaVersion="firestore/documentReference/1.0",Gn._jsonSchema={type:xn("string",Gn._jsonSchemaVersion),referencePath:xn("string")};class nc extends Hp{constructor(t,r,s){super(t,r,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gn(this.firestore,null,new Gt(t))}withConverter(t){return new nc(this.firestore,t,this._path)}}function Gb(i,t,...r){if(i=Mi(i),arguments.length===1&&(t=yp.newId()),CC("doc","path",t),i instanceof qp){const s=ln.fromString(t,...r);return B_(s),new Gn(i,null,new Gt(s))}{if(!(i instanceof Gn||i instanceof nc))throw new jt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ln.fromString(t,...r));return B_(s),new Gn(i.firestore,i instanceof nc?i.converter:null,new Gt(s))}}const I0="AsyncQueue";class D0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cb(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&kt(I0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=Am();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=Am();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new no;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yl(t))throw t;kt(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",O0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=Up.createAndSchedule(this,t,r,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Xt(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function O0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Fp extends qp{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new D0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new D0(t),this._firestoreClient=void 0,await t}}}function _D(i,t){const r=typeof i=="object"?i:$0(),s=typeof i=="string"?i:Qh,l=sp(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=jS("firestore");h&&vD(l,...h)}return l}function Qb(i){if(i._terminated)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ED(i),i._firestoreClient}function ED(i){const t=i._freezeSettings(),r=(function(l,h,d,v){return new zC(l,h,d,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Fb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new dD(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(i._componentsProvider))}class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(er.fromBase64String(t))}catch(r){throw new jt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new xi(er.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uc(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:xn("string",xi._jsonSchemaVersion),bytes:xn("string")};class Kp{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new jt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yb{constructor(t){this._methodName=t}}class gs{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new jt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new jt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return be(this._lat,t._lat)||be(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(t){if(uc(t,gs._jsonSchema))return new gs(t.latitude,t.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:xn("string",gs._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};class ys{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uc(t,ys._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new ys(t.vectorValues);throw new jt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ys._jsonSchemaVersion="firestore/vectorValue/1.0",ys._jsonSchema={type:xn("string",ys._jsonSchemaVersion),vectorValues:xn("object")};const bD=/^__.*__$/;class TD{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Yo(t,this.data,this.fieldMask,r,this.fieldTransforms):new cc(t,this.data,r,this.fieldTransforms)}}function Xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt(40011,{Ac:i})}}class Gp{constructor(t,r,s,l,h,d){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.gc(t),s}yc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Xb(this.Ac)&&bD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SD{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Ef(t)}Cc(t,r,s,l=!1){return new Gp({Ac:t,methodName:r,Dc:s,path:tr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wD(i){const t=i._freezeSettings(),r=Ef(i._databaseId);return new SD(i._databaseId,!!t.ignoreUndefinedProperties,r)}function AD(i,t,r,s,l,h={}){const d=i.Cc(h.merge||h.mergeFields?2:0,t,r,l);Wb("Data must be an object, but it was:",d,s);const v=Jb(s,d);let b,T;if(h.merge)b=new Yi(d.fieldMask),T=d.fieldTransforms;else if(h.mergeFields){const I=[];for(const O of h.mergeFields){const B=RD(t,O,r);if(!d.contains(B))throw new jt(gt.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);ID(I,B)||I.push(B)}b=new Yi(I),T=d.fieldTransforms.filter((O=>b.covers(O.field)))}else b=null,T=d.fieldTransforms;return new TD(new Ni(v),b,T)}function $b(i,t){if(Zb(i=Mi(i)))return Wb("Unsupported field value:",t,i),Jb(i,t);if(i instanceof Yb)return(function(s,l){if(!Xb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let d=0;for(const v of s){let b=$b(v,l.wc(d));b==null&&(b={nullValue:"NULL_VALUE"}),h.push(b),d++}return{arrayValue:{values:h}}})(i,t)}return(function(s,l){if((s=Mi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Xe.fromDate(s);return{timestampValue:Wh(l.serializer,h)}}if(s instanceof Xe){const h=new Xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(l.serializer,h)}}if(s instanceof gs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xi)return{bytesValue:gb(l.serializer,s._byteString)};if(s instanceof Gn){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ip(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ys)return(function(d,v){return{mapValue:{fields:{[KE]:{stringValue:GE},[Yh]:{arrayValue:{values:d.toArray().map((T=>{if(typeof T!="number")throw v.Sc("VectorValues must only contain numeric values.");return Ap(v.serializer,T)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${vp(s)}`)})(i,t)}function Jb(i,t){const r={};return zE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(i,((s,l)=>{const h=$b(l,t.mc(s));h!=null&&(r[s]=h)})),{mapValue:{fields:r}}}function Zb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xe||i instanceof gs||i instanceof xi||i instanceof Gn||i instanceof Yb||i instanceof ys)}function Wb(i,t,r){if(!Zb(r)||!UE(r)){const s=vp(r);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function RD(i,t,r){if((t=Mi(t))instanceof Kp)return t._internalPath;if(typeof t=="string")return tT(i,t);throw rf("Field path arguments must be of type string or ",i,!1,void 0,r)}const CD=new RegExp("[~\\*/\\[\\]]");function tT(i,t,r){if(t.search(CD)>=0)throw rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Kp(...t.split("."))._internalPath}catch{throw rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function rf(i,t,r,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let v=`Function ${t}() called with invalid data`;r&&(v+=" (via `toFirestore()`)"),v+=". ";let b="";return(h||d)&&(b+=" (found",h&&(b+=` in field ${s}`),d&&(b+=` in document ${l}`),b+=")"),new jt(gt.INVALID_ARGUMENT,v+i+b)}function ID(i,t){return i.some((r=>r.isEqual(t)))}class eT{constructor(t,r,s,l,h){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(nT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class DD extends eT{data(){return super.data()}}function nT(i,t){return typeof t=="string"?tT(i,t):t instanceof Kp?t._internalPath:t._delegate._internalPath}class OD{convertValue(t,r="none"){switch(ao(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(so(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Xt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return Go(t,((l,h)=>{s[l]=this.convertValue(h,r)})),s}convertVectorValue(t){const r=t.fields?.[Yh].arrayValue?.values?.map((s=>Tn(s.doubleValue)));return new ys(r)}convertGeoPoint(t){return new gs(Tn(t.latitude),Tn(t.longitude))}convertArray(t,r){return(t.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const s=df(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ju(t));default:return null}}convertTimestamp(t){const r=io(t);return new Xe(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=ln.fromString(t);Ve(Tb(s),9688,{name:t});const l=new Zu(s.get(1),s.get(3)),h=new Gt(s.popFirst(5));return l.isEqual(r)||ia(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function ND(i,t,r){let s;return s=i?i.toFirestore(t):t,s}class zu{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jo extends eT{constructor(t,r,s,l,h,d){super(t,r,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(nT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=jo._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",jo._jsonSchema={type:xn("string",jo._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class kh extends jo{data(t={}){return super.data(t)}}class Gu{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new zu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new kh(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new jt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((v=>{const b=new kh(l._firestore,l._userDataWriter,v.doc.key,v.doc,new zu(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:b,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const b=new kh(l._firestore,l._userDataWriter,v.doc.key,v.doc,new zu(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,I=-1;return v.type!==0&&(T=d.indexOf(v.doc.key),d=d.delete(v.doc.key)),v.type!==1&&(d=d.add(v.doc),I=d.indexOf(v.doc.key)),{type:xD(v.type),doc:b,oldIndex:T,newIndex:I}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Gu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(r.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:i})}}function MD(i){i=Xu(i,Gn);const t=Xu(i.firestore,Fp);return yD(Qb(t),i._key).then((r=>UD(t,i,r)))}Gu._jsonSchemaVersion="firestore/querySnapshot/1.0",Gu._jsonSchema={type:xn("string",Gu._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};class VD extends OD{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,r)}}function kD(i,t,r){i=Xu(i,Gn);const s=Xu(i.firestore,Fp),l=ND(i.converter,t);return PD(s,[AD(wD(s),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,ta.none())])}function PD(i,t){return(function(s,l){const h=new no;return s.asyncQueue.enqueueAndForget((async()=>rD(await pD(s),l,h))),h.promise})(Qb(i),t)}function UD(i,t,r){const s=r.docs.get(t._key),l=new VD(i);return new jo(i,l,t._key,s,new zu(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){Gl=l})(Fl),kl(new qo("firestore",((s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),v=new Fp(new _C(s.getProvider("auth-internal")),new TC(d,s.getProvider("app-check-internal")),(function(T,I){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new jt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(T.options.projectId,I)})(d,l),d);return h={useFetchStreams:r,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),to(U_,L_,t),to(U_,L_,"esm2020")})();const LD={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},rT=X0(LD),Sh=pC(rT),zD=new Js,iT=_D(rT),sT="users";async function jD(i,t){if(!i)throw new Error("User ID is required");try{const r=JSON.stringify(t),s=Gb(iT,sT,i);await kD(s,{vocab_data:r,last_synced:Date.now()}),console.log(`Successfully synced ${t.length} cards for user ${i}`)}catch(r){throw console.error("Sync upload failed:",r),r}}async function BD(i){if(!i)throw new Error("User ID is required");try{const t=Gb(iT,sT,i),r=await MD(t);if(r.exists()){const s=r.data();if(s.vocab_data)return JSON.parse(s.vocab_data)}return null}catch(t){throw console.error("Sync download failed:",t),t}}const N0="".split(",").map(i=>i.trim()).filter(i=>i!=="");function qD(){const[i,t]=se.useState([]),[r,s]=se.useState(!0),[l,h]=se.useState(0),[d,v]=se.useState(null),[b,T]=se.useState(!1),[I,O]=se.useState(!1);se.useEffect(()=>{const Nt=iR(Sh,async zt=>{zt?N0.length===0||N0.includes(zt.email)?(v(zt),ur.success(`${zt.displayName||""}`)):(console.warn(`Unauthorized access attempt: ${zt.email}`),ur.error(` (${zt.email}) `),await R_(Sh),v(null)):v(null)});return()=>Nt()},[]);const B=async()=>{try{s(!0),await L1();const Nt=await _r.vocab.toArray(),zt=Date.now(),Ne=Nt.filter(te=>te.nextReview<=zt||te.status==="new");t(Ne)}catch(Nt){console.error("Failed to load cards:",Nt),ur.error("")}finally{s(!1)}};se.useEffect(()=>{B()},[]);const ot=async Nt=>{try{await _r.vocab.put(Nt),h(zt=>zt+1)}catch(zt){console.error("Failed to update card:",zt),ur.error("")}},_t=async()=>{try{await wR(Sh,zD)}catch(Nt){console.error("Login failed:",Nt),ur.error(" Console")}},Rt=async()=>{await R_(Sh),ur.success(""),window.location.reload()},Et=async()=>{if(!d)return;T(!0);const Nt=ur.loading("...");try{const zt=await _r.vocab.toArray();await jD(d.uid,zt),ur.success(" ",{id:Nt})}catch(zt){console.error(zt),ur.error(" ",{id:Nt})}finally{T(!1)}},Bt=async()=>{if(!d||!confirm(" "))return;T(!0);const Nt=ur.loading("...");try{const zt=await BD(d.uid);zt?(await _r.vocab.clear(),await _r.vocab.bulkAdd(zt),ur.success(" ...",{id:Nt}),setTimeout(()=>window.location.reload(),1500)):ur(" ",{id:Nt,icon:""})}catch(zt){console.error(zt),ur.error(" ",{id:Nt})}finally{T(!1)}};if(r)return Kt.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1b1e",color:"#fff"},children:"Loading..."});const Ft=i[l];return Kt.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",minHeight:"100vh",backgroundColor:"#1a1b1e",color:"#ffffff",fontFamily:"sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[Kt.jsx(OS,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"}}}),Kt.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0.5rem",borderBottom:"1px solid #333"},children:[Kt.jsx("div",{style:{fontWeight:"bold"},children:"GPF"}),Kt.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[Kt.jsx("button",{onClick:()=>O(!0),style:{...ku,backgroundColor:"#e91e63"},children:" "}),d?Kt.jsxs(Kt.Fragment,{children:[Kt.jsx("span",{style:{fontSize:"0.8rem",alignSelf:"center",marginRight:"0.5rem",display:"none"},children:d.displayName}),Kt.jsx("button",{disabled:b,onClick:Et,style:ku,children:" "}),Kt.jsx("button",{disabled:b,onClick:Bt,style:ku,children:" "}),Kt.jsx("button",{onClick:Rt,style:{...ku,backgroundColor:"#555"},children:""})]}):Kt.jsx("button",{onClick:_t,style:{...ku,backgroundColor:"#4285F4"},children:"Google "})]})]}),Kt.jsxs("header",{style:{marginBottom:"2rem",width:"100%",textAlign:"center"},children:[Kt.jsx("h1",{children:"Gemini Flashcards"}),Kt.jsx("p",{style:{color:"#888"},children:i.length>0?`Session Progress: ${l} / ${i.length}`:"No cards due"})]}),Kt.jsx("main",{style:{width:"100%"},children:Ft?Kt.jsx(j1,{card:Ft,onUpdate:ot},Ft.id):Kt.jsxs("div",{style:{textAlign:"center",padding:"3rem",border:"1px dashed #555",borderRadius:"8px"},children:[Kt.jsx("h2",{children:" All caught up!"}),Kt.jsx("p",{children:"You've reviewed all pending cards for now."}),Kt.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer"},children:"Refresh"})]})}),Kt.jsx(NS,{isOpen:I,onClose:()=>O(!1),onSuccess:B})]})}const ku={padding:"0.4rem 0.8rem",fontSize:"0.8rem",borderRadius:"4px",border:"none",cursor:"pointer",backgroundColor:"#333",color:"white",whiteSpace:"nowrap"};V1.createRoot(document.getElementById("root")).render(Kt.jsx(R1.StrictMode,{children:Kt.jsx(qD,{})}));
