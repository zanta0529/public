(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},Hu={};var f_;function fw(){if(f_)return Hu;f_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Hu.Fragment=t,Hu.jsx=n,Hu.jsxs=n,Hu}var h_;function hw(){return h_||(h_=1,Am.exports=fw()),Am.exports}var ft=hw(),Cm={exports:{}},se={};var d_;function dw(){if(d_)return se;d_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.iterator;function W(K){return K===null||typeof K!="object"?null:(K=V&&K[V]||K["@@iterator"],typeof K=="function"?K:null)}var lt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mt=Object.assign,_t={};function qt(K,pt,Rt){this.props=K,this.context=pt,this.refs=_t,this.updater=Rt||lt}qt.prototype.isReactComponent={},qt.prototype.setState=function(K,pt){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,pt,"setState")},qt.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function Ft(){}Ft.prototype=qt.prototype;function Vt(K,pt,Rt){this.props=K,this.context=pt,this.refs=_t,this.updater=Rt||lt}var oe=Vt.prototype=new Ft;oe.constructor=Vt,mt(oe,qt.prototype),oe.isPureReactComponent=!0;var ke=Array.isArray;function ne(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function P(K,pt,Rt){var kt=Rt.ref;return{$$typeof:i,type:K,key:pt,ref:kt!==void 0?kt:null,props:Rt}}function Y(K,pt){return P(K.type,pt,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function J(K){var pt={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Rt){return pt[Rt]})}var M=/\/+/g;function $t(K,pt){return typeof K=="object"&&K!==null&&K.key!=null?J(""+K.key):pt.toString(36)}function Wt(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(ne,ne):(K.status="pending",K.then(function(pt){K.status==="pending"&&(K.status="fulfilled",K.value=pt)},function(pt){K.status==="pending"&&(K.status="rejected",K.reason=pt)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ut(K,pt,Rt,kt,Yt){var Jt=typeof K;(Jt==="undefined"||Jt==="boolean")&&(K=null);var pe=!1;if(K===null)pe=!0;else switch(Jt){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(K.$$typeof){case i:case t:pe=!0;break;case R:return pe=K._init,ut(pe(K._payload),pt,Rt,kt,Yt)}}if(pe)return Yt=Yt(K),pe=kt===""?"."+$t(K,0):kt,ke(Yt)?(Rt="",pe!=null&&(Rt=pe.replace(M,"$&/")+"/"),ut(Yt,pt,Rt,"",function(es){return es})):Yt!=null&&(q(Yt)&&(Yt=Y(Yt,Rt+(Yt.key==null||K&&K.key===Yt.key?"":(""+Yt.key).replace(M,"$&/")+"/")+pe)),pt.push(Yt)),1;pe=0;var pn=kt===""?".":kt+":";if(ke(K))for(var Nt=0;Nt<K.length;Nt++)kt=K[Nt],Jt=pn+$t(kt,Nt),pe+=ut(kt,pt,Rt,Jt,Yt);else if(Nt=W(K),typeof Nt=="function")for(K=Nt.call(K),Nt=0;!(kt=K.next()).done;)kt=kt.value,Jt=pn+$t(kt,Nt++),pe+=ut(kt,pt,Rt,Jt,Yt);else if(Jt==="object"){if(typeof K.then=="function")return ut(Wt(K),pt,Rt,kt,Yt);throw pt=String(K),Error("Objects are not valid as a React child (found: "+(pt==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":pt)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Ot(K,pt,Rt){if(K==null)return K;var kt=[],Yt=0;return ut(K,kt,"","",function(Jt){return pt.call(Rt,Jt,Yt++)}),kt}function jt(K){if(K._status===-1){var pt=K._result;pt=pt(),pt.then(function(Rt){(K._status===0||K._status===-1)&&(K._status=1,K._result=Rt)},function(Rt){(K._status===0||K._status===-1)&&(K._status=2,K._result=Rt)}),K._status===-1&&(K._status=0,K._result=pt)}if(K._status===1)return K._result.default;throw K._result}var he=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(pt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},de={map:Ot,forEach:function(K,pt,Rt){Ot(K,function(){pt.apply(this,arguments)},Rt)},count:function(K){var pt=0;return Ot(K,function(){pt++}),pt},toArray:function(K){return Ot(K,function(pt){return pt})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return se.Activity=O,se.Children=de,se.Component=qt,se.Fragment=n,se.Profiler=o,se.PureComponent=Vt,se.StrictMode=s,se.Suspense=_,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,se.__COMPILER_RUNTIME={__proto__:null,c:function(K){return k.H.useMemoCache(K)}},se.cache=function(K){return function(){return K.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(K,pt,Rt){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var kt=mt({},K.props),Yt=K.key;if(pt!=null)for(Jt in pt.key!==void 0&&(Yt=""+pt.key),pt)!N.call(pt,Jt)||Jt==="key"||Jt==="__self"||Jt==="__source"||Jt==="ref"&&pt.ref===void 0||(kt[Jt]=pt[Jt]);var Jt=arguments.length-2;if(Jt===1)kt.children=Rt;else if(1<Jt){for(var pe=Array(Jt),pn=0;pn<Jt;pn++)pe[pn]=arguments[pn+2];kt.children=pe}return P(K.type,Yt,kt)},se.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:u,_context:K},K},se.createElement=function(K,pt,Rt){var kt,Yt={},Jt=null;if(pt!=null)for(kt in pt.key!==void 0&&(Jt=""+pt.key),pt)N.call(pt,kt)&&kt!=="key"&&kt!=="__self"&&kt!=="__source"&&(Yt[kt]=pt[kt]);var pe=arguments.length-2;if(pe===1)Yt.children=Rt;else if(1<pe){for(var pn=Array(pe),Nt=0;Nt<pe;Nt++)pn[Nt]=arguments[Nt+2];Yt.children=pn}if(K&&K.defaultProps)for(kt in pe=K.defaultProps,pe)Yt[kt]===void 0&&(Yt[kt]=pe[kt]);return P(K,Jt,Yt)},se.createRef=function(){return{current:null}},se.forwardRef=function(K){return{$$typeof:y,render:K}},se.isValidElement=q,se.lazy=function(K){return{$$typeof:R,_payload:{_status:-1,_result:K},_init:jt}},se.memo=function(K,pt){return{$$typeof:E,type:K,compare:pt===void 0?null:pt}},se.startTransition=function(K){var pt=k.T,Rt={};k.T=Rt;try{var kt=K(),Yt=k.S;Yt!==null&&Yt(Rt,kt),typeof kt=="object"&&kt!==null&&typeof kt.then=="function"&&kt.then(ne,he)}catch(Jt){he(Jt)}finally{pt!==null&&Rt.types!==null&&(pt.types=Rt.types),k.T=pt}},se.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},se.use=function(K){return k.H.use(K)},se.useActionState=function(K,pt,Rt){return k.H.useActionState(K,pt,Rt)},se.useCallback=function(K,pt){return k.H.useCallback(K,pt)},se.useContext=function(K){return k.H.useContext(K)},se.useDebugValue=function(){},se.useDeferredValue=function(K,pt){return k.H.useDeferredValue(K,pt)},se.useEffect=function(K,pt){return k.H.useEffect(K,pt)},se.useEffectEvent=function(K){return k.H.useEffectEvent(K)},se.useId=function(){return k.H.useId()},se.useImperativeHandle=function(K,pt,Rt){return k.H.useImperativeHandle(K,pt,Rt)},se.useInsertionEffect=function(K,pt){return k.H.useInsertionEffect(K,pt)},se.useLayoutEffect=function(K,pt){return k.H.useLayoutEffect(K,pt)},se.useMemo=function(K,pt){return k.H.useMemo(K,pt)},se.useOptimistic=function(K,pt){return k.H.useOptimistic(K,pt)},se.useReducer=function(K,pt,Rt){return k.H.useReducer(K,pt,Rt)},se.useRef=function(K){return k.H.useRef(K)},se.useState=function(K){return k.H.useState(K)},se.useSyncExternalStore=function(K,pt,Rt){return k.H.useSyncExternalStore(K,pt,Rt)},se.useTransition=function(){return k.H.useTransition()},se.version="19.2.0",se}var m_;function yp(){return m_||(m_=1,Cm.exports=dw()),Cm.exports}var Lt=yp();const mw=gp(Lt);var Rm={exports:{}},Ku={},Im={exports:{}},Om={};var p_;function pw(){return p_||(p_=1,(function(i){function t(ut,Ot){var jt=ut.length;ut.push(Ot);t:for(;0<jt;){var he=jt-1>>>1,de=ut[he];if(0<o(de,Ot))ut[he]=Ot,ut[jt]=de,jt=he;else break t}}function n(ut){return ut.length===0?null:ut[0]}function s(ut){if(ut.length===0)return null;var Ot=ut[0],jt=ut.pop();if(jt!==Ot){ut[0]=jt;t:for(var he=0,de=ut.length,K=de>>>1;he<K;){var pt=2*(he+1)-1,Rt=ut[pt],kt=pt+1,Yt=ut[kt];if(0>o(Rt,jt))kt<de&&0>o(Yt,Rt)?(ut[he]=Yt,ut[kt]=jt,he=kt):(ut[he]=Rt,ut[pt]=jt,he=pt);else if(kt<de&&0>o(Yt,jt))ut[he]=Yt,ut[kt]=jt,he=kt;else break t}}return Ot}function o(ut,Ot){var jt=ut.sortIndex-Ot.sortIndex;return jt!==0?jt:ut.id-Ot.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var _=[],E=[],R=1,O=null,V=3,W=!1,lt=!1,mt=!1,_t=!1,qt=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,Vt=typeof setImmediate<"u"?setImmediate:null;function oe(ut){for(var Ot=n(E);Ot!==null;){if(Ot.callback===null)s(E);else if(Ot.startTime<=ut)s(E),Ot.sortIndex=Ot.expirationTime,t(_,Ot);else break;Ot=n(E)}}function ke(ut){if(mt=!1,oe(ut),!lt)if(n(_)!==null)lt=!0,ne||(ne=!0,J());else{var Ot=n(E);Ot!==null&&Wt(ke,Ot.startTime-ut)}}var ne=!1,k=-1,N=5,P=-1;function Y(){return _t?!0:!(i.unstable_now()-P<N)}function q(){if(_t=!1,ne){var ut=i.unstable_now();P=ut;var Ot=!0;try{t:{lt=!1,mt&&(mt=!1,Ft(k),k=-1),W=!0;var jt=V;try{e:{for(oe(ut),O=n(_);O!==null&&!(O.expirationTime>ut&&Y());){var he=O.callback;if(typeof he=="function"){O.callback=null,V=O.priorityLevel;var de=he(O.expirationTime<=ut);if(ut=i.unstable_now(),typeof de=="function"){O.callback=de,oe(ut),Ot=!0;break e}O===n(_)&&s(_),oe(ut)}else s(_);O=n(_)}if(O!==null)Ot=!0;else{var K=n(E);K!==null&&Wt(ke,K.startTime-ut),Ot=!1}}break t}finally{O=null,V=jt,W=!1}Ot=void 0}}finally{Ot?J():ne=!1}}}var J;if(typeof Vt=="function")J=function(){Vt(q)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$t=M.port2;M.port1.onmessage=q,J=function(){$t.postMessage(null)}}else J=function(){qt(q,0)};function Wt(ut,Ot){k=qt(function(){ut(i.unstable_now())},Ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ut){ut.callback=null},i.unstable_forceFrameRate=function(ut){0>ut||125<ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ut?Math.floor(1e3/ut):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(ut){switch(V){case 1:case 2:case 3:var Ot=3;break;default:Ot=V}var jt=V;V=Ot;try{return ut()}finally{V=jt}},i.unstable_requestPaint=function(){_t=!0},i.unstable_runWithPriority=function(ut,Ot){switch(ut){case 1:case 2:case 3:case 4:case 5:break;default:ut=3}var jt=V;V=ut;try{return Ot()}finally{V=jt}},i.unstable_scheduleCallback=function(ut,Ot,jt){var he=i.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?he+jt:he):jt=he,ut){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=jt+de,ut={id:R++,callback:Ot,priorityLevel:ut,startTime:jt,expirationTime:de,sortIndex:-1},jt>he?(ut.sortIndex=jt,t(E,ut),n(_)===null&&ut===n(E)&&(mt?(Ft(k),k=-1):mt=!0,Wt(ke,jt-he))):(ut.sortIndex=de,t(_,ut),lt||W||(lt=!0,ne||(ne=!0,J()))),ut},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(ut){var Ot=V;return function(){var jt=V;V=Ot;try{return ut.apply(this,arguments)}finally{V=jt}}}})(Om)),Om}var g_;function gw(){return g_||(g_=1,Im.exports=pw()),Im.exports}var Dm={exports:{}},ur={};var y_;function yw(){if(y_)return ur;y_=1;var i=yp();function t(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,E,R){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:_,containerInfo:E,implementation:R}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ur.createPortal=function(_,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return u(_,E,null,R)},ur.flushSync=function(_){var E=d.T,R=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=E,s.p=R,s.d.f()}},ur.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(_,E))},ur.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},ur.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var R=E.as,O=y(R,E.crossOrigin),V=typeof E.integrity=="string"?E.integrity:void 0,W=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?s.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:V,fetchPriority:W}):R==="script"&&s.d.X(_,{crossOrigin:O,integrity:V,fetchPriority:W,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},ur.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=y(E.as,E.crossOrigin);s.d.M(_,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(_)},ur.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,O=y(R,E.crossOrigin);s.d.L(_,R,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},ur.preloadModule=function(_,E){if(typeof _=="string")if(E){var R=y(E.as,E.crossOrigin);s.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(_)},ur.requestFormReset=function(_){s.d.r(_)},ur.unstable_batchedUpdates=function(_,E){return _(E)},ur.useFormState=function(_,E,R){return d.H.useFormState(_,E,R)},ur.useFormStatus=function(){return d.H.useHostTransitionStatus()},ur.version="19.2.0",ur}var v_;function vw(){if(v_)return Dm.exports;v_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Dm.exports=yw(),Dm.exports}var __;function _w(){if(__)return Ku;__=1;var i=gw(),t=yp(),n=vw();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function d(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function y(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function E(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return _(h),e;if(p===l)return _(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var T=!1,C=h.child;C;){if(C===a){T=!0,a=h,l=p;break}if(C===l){T=!0,l=h,a=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===a){T=!0,a=p,l=h;break}if(C===l){T=!0,l=p,a=h;break}C=C.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function R(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=R(e),r!==null)return r;e=e.sibling}return null}var O=Object.assign,V=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),lt=Symbol.for("react.portal"),mt=Symbol.for("react.fragment"),_t=Symbol.for("react.strict_mode"),qt=Symbol.for("react.profiler"),Ft=Symbol.for("react.consumer"),Vt=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mt:return"Fragment";case qt:return"Profiler";case _t:return"StrictMode";case ke:return"Suspense";case ne:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case lt:return"Portal";case Vt:return e.displayName||"Context";case Ft:return(e._context.displayName||"Context")+".Consumer";case oe:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return r=e.displayName||null,r!==null?r:$t(e.type)||"Memo";case N:r=e._payload,e=e._init;try{return $t(e(r))}catch{}}return null}var Wt=Array.isArray,ut=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jt={pending:!1,data:null,method:null,action:null},he=[],de=-1;function K(e){return{current:e}}function pt(e){0>de||(e.current=he[de],he[de]=null,de--)}function Rt(e,r){de++,he[de]=e.current,e.current=r}var kt=K(null),Yt=K(null),Jt=K(null),pe=K(null);function pn(e,r){switch(Rt(Jt,r),Rt(Yt,e),Rt(kt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?kv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=kv(r),e=Vv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(kt),Rt(kt,e)}function Nt(){pt(kt),pt(Yt),pt(Jt)}function es(e){e.memoizedState!==null&&Rt(pe,e);var r=kt.current,a=Vv(r,e.type);r!==a&&(Rt(Yt,e),Rt(kt,a))}function ji(e){Yt.current===e&&(pt(kt),pt(Yt)),pe.current===e&&(pt(pe),ju._currentValue=jt)}var Ae,hi;function di(e){if(Ae===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ae=r&&r[1]||"",hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+e+hi}var Kr=!1;function Cs(e,r){if(!e||Kr)return"";Kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(ot){var st=ot}Reflect.construct(e,[],yt)}else{try{yt.call()}catch(ot){st=ot}e.call(yt.prototype)}}else{try{throw Error()}catch(ot){st=ot}(yt=e())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(ot){if(ot&&st&&typeof ot.stack=="string")return[ot.stack,st.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var L=T.split(`
`),rt=C.split(`
`);for(h=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;h<rt.length&&!rt[h].includes("DetermineComponentFrameRoot");)h++;if(l===L.length||h===rt.length)for(l=L.length-1,h=rt.length-1;1<=l&&0<=h&&L[l]!==rt[h];)h--;for(;1<=l&&0<=h;l--,h--)if(L[l]!==rt[h]){if(l!==1||h!==1)do if(l--,h--,0>h||L[l]!==rt[h]){var ht=`
`+L[l].replace(" at new "," at ");return e.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",e.displayName)),ht}while(1<=l&&0<=h);break}}}finally{Kr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?di(a):""}function bo(e,r){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return e.child!==r&&r!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Cs(e.type,!1);case 11:return Cs(e.type.render,!1);case 1:return Cs(e.type,!0);case 31:return di("Activity");default:return""}}function Eo(e){try{var r="",a=null;do r+=bo(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fn=Object.prototype.hasOwnProperty,en=i.unstable_scheduleCallback,kn=i.unstable_cancelCallback,sl=i.unstable_shouldYield,ns=i.unstable_requestPaint,zn=i.unstable_now,Fr=i.unstable_getCurrentPriorityLevel,Gr=i.unstable_ImmediatePriority,Yr=i.unstable_UserBlockingPriority,mi=i.unstable_NormalPriority,Rs=i.unstable_LowPriority,ma=i.unstable_IdlePriority,Is=i.log,pi=i.unstable_setDisableYieldValue,ir=null,gn=null;function yn(e){if(typeof Is=="function"&&pi(e),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(ir,e)}catch{}}var xt=Math.clz32?Math.clz32:Os,rs=Math.log,Tr=Math.LN2;function Os(e){return e>>>=0,e===0?32:31-(rs(e)/Tr|0)|0}var Ct=256,zi=262144,nn=4194304;function Sr(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?h=Sr(l):(T&=C,T!==0?h=Sr(T):a||(a=C&~e,a!==0&&(h=Sr(a))))):(C=l&~p,C!==0?h=Sr(C):T!==0?h=Sr(T):a||(a=l&~e,a!==0&&(h=Sr(a)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:h}function gr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function au(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var e=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),e}function Xn(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function wr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,r,a,l,h,p){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,rt=e.hiddenUpdates;for(a=T&~a;0<a;){var ht=31-xt(a),yt=1<<ht;C[ht]=0,L[ht]=-1;var st=rt[ht];if(st!==null)for(rt[ht]=null,ht=0;ht<st.length;ht++){var ot=st[ht];ot!==null&&(ot.lane&=-536870913)}a&=~yt}l!==0&&gi(e,l,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~r))}function gi(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-xt(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Pe(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-xt(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function Ze(e,r){var a=r&-r;return a=(a&42)!==0?1:Ds(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ar(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xs(){var e=Ot.p;return e!==0?e:(e=window.event,e===void 0?32:i_(e.type))}function sr(e,r){var a=Ot.p;try{return Ot.p=e,r()}finally{Ot.p=a}}var Xr=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Xr,Ye="__reactProps$"+Xr,Vn="__reactContainer$"+Xr,Bi="__reactEvents$"+Xr,ou="__reactListeners$"+Xr,$r="__reactHandles$"+Xr,So="__reactResources$"+Xr,Bn="__reactMarker$"+Xr;function Ns(e){delete e[Ue],delete e[Ye],delete e[Bi],delete e[ou],delete e[$r]}function Cr(e){var r=e[Ue];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Vn]||a[Ue]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=qv(e);e!==null;){if(a=e[Ue])return a;e=qv(e)}return r}e=a,a=e.parentNode}return null}function Ie(e){if(e=e[Ue]||e[Vn]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function vn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function wn(e){var r=e[So];return r||(r=e[So]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rn(e){e[Bn]=!0}var yi=new Set,is={};function Rr(e,r){Ir(e,r),Ir(e+"Capture",r)}function Ir(e,r){for(is[e]=r,e=0;e<r.length;e++)yi.add(r[e])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},ss={};function wo(e){return fn.call(ss,e)?!0:fn.call(pa,e)?!1:Jr.test(e)?ss[e]=!0:(pa[e]=!0,!1)}function le(e,r,a){if(wo(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function ar(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function sn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ga(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,p.call(this,T)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function xe(e){if(!e._valueTracker){var r=Or(e)?"checked":"value";e._valueTracker=ga(e,r,""+e[r])}}function as(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Or(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function ye(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function An(e){return e.replace(Zr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wr(e,r,a,l,h,p,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),r!=null?T==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+an(r)):e.value!==""+an(r)&&(e.value=""+an(r)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),r!=null?Ms(e,T,an(r)):a!=null?Ms(e,T,an(a)):l!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+an(C):e.removeAttribute("name")}function ya(e,r,a,l,h,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){xe(e);return}a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,C||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=C?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),xe(e)}function Ms(e,r,a){r==="number"&&ye(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ti(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Ao(e,r,a){if(r!=null&&(r=""+an(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+an(a):""}function ei(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),xe(e)}function $n(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var ol=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ge(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||ol.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function va(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&ge(e,h,l)}else for(var p in r)r.hasOwnProperty(p)&&ge(e,p,r[p])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(e){return hn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function or(){}var Dr=null;function yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,je=null;function qn(e){var r=Ie(e);if(r&&(e=r.stateNode)){var a=e[Ye]||null;t:switch(e=r.stateNode,r.type){case"input":if(Wr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[Ye]||null;if(!h)throw Error(s(90));Wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&as(l)}break t;case"textarea":Ao(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ti(e,!!a.multiple,r,!1)}}}var vi=!1;function xr(e,r,a){if(vi)return e(r,a);vi=!0;try{var l=e(r);return l}finally{if(vi=!1,(qi!==null||je!==null)&&(cf(),qi&&(r=qi,e=je,je=qi=null,qn(r),e)))for(r=0;r<e.length;r++)qn(e[r])}}function vr(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Ye]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(_n)try{var me={};Object.defineProperty(me,"passive",{get:function(){ks=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{ks=!1}var Nr=null,ba=null,Hi=null;function Ki(){if(Hi)return Hi;var e,r=ba,a=r.length,l,h="value"in Nr?Nr.value:Nr.textContent,p=h.length;for(e=0;e<a&&r[e]===h[e];e++);var T=a-e;for(l=1;l<=T&&r[a-l]===h[p-l];l++);return Hi=h.slice(e,1<l?1-l:void 0)}function Fi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function ri(){return!1}function on(e){function r(a,l,h,p,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:ri,this.isPropagationStopped=ri,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),r}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=on(Gi),ii=O({},Gi,{view:0,detail:0}),os=on(ii),Ei,Ea,Ti,Ta=O({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ei=e.screenX-Ti.screenX,Ea=e.screenY-Ti.screenY):Ea=Ei=0,Ti=e),Ei)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Vs=on(Ta),Yi=O({},Ta,{dataTransfer:0}),Co=on(Yi),Ps=O({},ii,{relatedTarget:0}),Si=on(Ps),ls=O({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=on(ls),Sa=O({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qi=on(Sa),wa=O({},Gi,{data:0}),Mr=on(wa),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function us(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=bn[e])?!!r[e]:!1}function kr(){return us}var Hn=O({},ii,{key:function(e){if(e.key){var r=Aa[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ca[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ls=on(Hn),Io=O({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=on(Io),c=O({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),v=on(c),S=O({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=on(S),tt=O({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),at=on(tt),wt=O({},Gi,{newState:0,oldState:0}),re=on(wt),ln=[9,13,27,32],Ce=_n&&"CompositionEvent"in window,ze=null;_n&&"documentMode"in document&&(ze=document.documentMode);var Vr=_n&&"TextEvent"in window&&!ze,Pr=_n&&(!Ce||ze&&8<ze&&11>=ze),_r=" ",si=!1;function cs(e,r){switch(e){case"keyup":return ln.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Oc(e,r){switch(e){case"compositionend":return Ra(r);case"keypress":return r.which!==32?null:(si=!0,_r);case"textInput":return e=r.data,e===_r&&si?null:e;default:return null}}function jh(e,r){if(Us)return e==="compositionend"||!Ce&&cs(e,r)?(e=Ki(),Hi=ba=Nr=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pr&&r.locale!=="ko"?null:r.data;default:return null}}var Dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ul(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Dc[e.type]:r==="textarea"}function lu(e,r,a,l){qi?je?je.push(l):je=[l]:qi=l,r=yf(r,"onChange"),0<r.length&&(a=new bi("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Ia=null,Oo=null;function zh(e){Iv(e,0)}function cl(e){var r=vn(e);if(as(r))return e}function Do(e,r){if(e==="change")return r}var Ai=!1;if(_n){var Qe;if(_n){var Oa="oninput"in document;if(!Oa){var br=document.createElement("div");br.setAttribute("oninput","return;"),Oa=typeof br.oninput=="function"}Qe=Oa}else Qe=!1;Ai=Qe&&(!document.documentMode||9<document.documentMode)}function xc(){Ia&&(Ia.detachEvent("onpropertychange",fl),Oo=Ia=null)}function fl(e){if(e.propertyName==="value"&&cl(Oo)){var r=[];lu(r,Oo,e,yr(e)),xr(zh,r)}}function Nc(e,r,a){e==="focusin"?(xc(),Ia=r,Oo=a,Ia.attachEvent("onpropertychange",fl)):e==="focusout"&&xc()}function js(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Oo)}function uu(e,r){if(e==="click")return cl(r)}function Da(e,r){if(e==="input"||e==="change")return cl(r)}function fs(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var lr=typeof Object.is=="function"?Object.is:fs;function f(e,r){if(lr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fn.call(r,h)||!lr(e[h],r[h]))return!1}return!0}function m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,r){var a=m(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=m(a)}}function b(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?b(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ye(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=ye(e.document)}return r}function A(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var D=_n&&"documentMode"in document&&11>=document.documentMode,x=null,j=null,z=null,Q=!1;function U(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Q||x==null||x!==ye(l)||(l=x,"selectionStart"in l&&A(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),z&&f(z,l)||(z=l,l=yf(j,"onSelect"),0<l.length&&(r=new bi("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=x)))}function $(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var B={animationend:$("Animation","AnimationEnd"),animationiteration:$("Animation","AnimationIteration"),animationstart:$("Animation","AnimationStart"),transitionrun:$("Transition","TransitionRun"),transitionstart:$("Transition","TransitionStart"),transitioncancel:$("Transition","TransitionCancel"),transitionend:$("Transition","TransitionEnd")},F={},G={};_n&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function X(e){if(F[e])return F[e];if(!B[e])return e;var r=B[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in G)return F[e]=r[a];return e}var et=X("animationend"),it=X("animationiteration"),ct=X("animationstart"),gt=X("transitionrun"),St=X("transitionstart"),Dt=X("transitioncancel"),Et=X("transitionend"),At=new Map,It="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");It.push("scrollEnd");function Tt(e,r){At.set(e,r),Rr(r,[e])}var Mt=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],te=0,ue=0;function Kn(){for(var e=te,r=ue=te=0;r<e;){var a=Ht[r];Ht[r++]=null;var l=Ht[r];Ht[r++]=null;var h=Ht[r];Ht[r++]=null;var p=Ht[r];if(Ht[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}p!==0&&xo(a,h,p)}}function Zt(e,r,a,l){Ht[te++]=e,Ht[te++]=r,Ht[te++]=a,Ht[te++]=l,ue|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Cn(e,r,a,l){return Zt(e,r,a,l),Rn(e)}function We(e,r){return Zt(e,null,null,r),Rn(e)}function xo(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&r!==null&&(h=31-xt(a),e=p.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),p):null}function Rn(e){if(50<Nu)throw Nu=0,Xd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Lr={};function cu(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(e,r,a,l){return new cu(e,r,a,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zs(e,r){var a=e.alternate;return a===null?(a=ai(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Mc(e,r,a,l,h,p){var T=0;if(l=e,typeof e=="function")Bh(e)&&(T=1);else if(typeof e=="string")T=ZS(e,a,kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=ai(31,a,r,h),e.elementType=P,e.lanes=p,e;case mt:return No(a.children,h,p,r);case _t:T=8,h|=24;break;case qt:return e=ai(12,a,r,h|2),e.elementType=qt,e.lanes=p,e;case ke:return e=ai(13,a,r,h),e.elementType=ke,e.lanes=p,e;case ne:return e=ai(19,a,r,h),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vt:T=10;break t;case Ft:T=9;break t;case oe:T=11;break t;case k:T=14;break t;case N:T=16,l=null;break t}T=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=ai(T,a,r,h),r.elementType=e,r.type=l,r.lanes=p,r}function No(e,r,a,l){return e=ai(7,e,l,r),e.lanes=a,e}function qh(e,r,a){return e=ai(6,e,null,r),e.lanes=a,e}function fg(e){var r=ai(18,null,null,0);return r.stateNode=e,r}function Hh(e,r,a){return r=ai(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var hg=new WeakMap;function Ci(e,r){if(typeof e=="object"&&e!==null){var a=hg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Eo(r)},hg.set(e,r),r)}return{value:e,source:r,stack:Eo(r)}}var hl=[],dl=0,kc=null,fu=0,Ri=[],Ii=0,xa=null,hs=1,ds="";function Bs(e,r){hl[dl++]=fu,hl[dl++]=kc,kc=e,fu=r}function dg(e,r,a){Ri[Ii++]=hs,Ri[Ii++]=ds,Ri[Ii++]=xa,xa=e;var l=hs;e=ds;var h=32-xt(l)-1;l&=~(1<<h),a+=1;var p=32-xt(r)+h;if(30<p){var T=h-h%5;p=(l&(1<<T)-1).toString(32),l>>=T,h-=T,hs=1<<32-xt(r)+h|a<<h|l,ds=p+e}else hs=1<<p|a<<h|l,ds=e}function Kh(e){e.return!==null&&(Bs(e,1),dg(e,1,0))}function Fh(e){for(;e===kc;)kc=hl[--dl],hl[dl]=null,fu=hl[--dl],hl[dl]=null;for(;e===xa;)xa=Ri[--Ii],Ri[Ii]=null,ds=Ri[--Ii],Ri[Ii]=null,hs=Ri[--Ii],Ri[Ii]=null}function mg(e,r){Ri[Ii++]=hs,Ri[Ii++]=ds,Ri[Ii++]=xa,hs=r.id,ds=r.overflow,xa=e}var Jn=null,Xe=null,Re=!1,Na=null,Oi=!1,Gh=Error(s(519));function Ma(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(Ci(r,e)),Gh}function pg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ue]=e,r[Ye]=l,a){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(a=0;a<ku.length;a++)_e(ku[a],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":_e("invalid",r),ya(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",r);break;case"textarea":_e("invalid",r),ei(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Nv(r.textContent,a)?(l.popover!=null&&(_e("beforetoggle",r),_e("toggle",r)),l.onScroll!=null&&_e("scroll",r),l.onScrollEnd!=null&&_e("scrollend",r),l.onClick!=null&&(r.onclick=or),r=!0):r=!1,r||Ma(e,!0)}function gg(e){for(Jn=e.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Jn=Jn.return}}function ml(e){if(e!==Jn)return!1;if(!Re)return gg(e),Re=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cm(e.type,e.memoizedProps)),a=!a),a&&Xe&&Ma(e),gg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Bv(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Bv(e)}else r===27?(r=Xe,Ya(e.type)?(e=pm,pm=null,Xe=e):Xe=r):Xe=Jn?xi(e.stateNode.nextSibling):null;return!0}function Mo(){Xe=Jn=null,Re=!1}function Yh(){var e=Na;return e!==null&&(Br===null?Br=e:Br.push.apply(Br,e),Na=null),e}function hu(e){Na===null?Na=[e]:Na.push(e)}var Qh=K(null),ko=null,qs=null;function ka(e,r,a){Rt(Qh,r._currentValue),r._currentValue=a}function Hs(e){e._currentValue=Qh.current,pt(Qh)}function Xh(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function $h(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=h;for(var L=0;L<r.length;L++)if(C.context===r[L]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Xh(p.return,a,e),l||(T=null);break t}p=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Xh(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function pl(e,r,a,l){e=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=h.type;lr(h.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(h===pe.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ju):e=[ju])}h=h.return}e!==null&&$h(r,e,a,l),r.flags|=262144}function Vc(e){for(e=e.firstContext;e!==null;){if(!lr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vo(e){ko=e,qs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zn(e){return yg(ko,e)}function Pc(e,r){return ko===null&&Vo(e),yg(e,r)}function yg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},qs===null){if(e===null)throw Error(s(308));qs=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else qs=qs.next=r;return a}var QT=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},XT=i.unstable_scheduleCallback,$T=i.unstable_NormalPriority,In={$$typeof:Vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new QT,data:new Map,refCount:0}}function du(e){e.refCount--,e.refCount===0&&XT($T,function(){e.controller.abort()})}var mu=null,Zh=0,gl=0,yl=null;function JT(e,r){if(mu===null){var a=mu=[];Zh=0,gl=em(),yl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zh++,r.then(vg,vg),r}function vg(){if(--Zh===0&&mu!==null){yl!==null&&(yl.status="fulfilled");var e=mu;mu=null,gl=0,yl=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function ZT(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var _g=ut.S;ut.S=function(e,r){nv=zn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&JT(e,r),_g!==null&&_g(e,r)};var Po=K(null);function Wh(){var e=Po.current;return e!==null?e:Ge.pooledCache}function Lc(e,r){r===null?Rt(Po,Po.current):Rt(Po,r.pool)}function bg(){var e=Wh();return e===null?null:{parent:In._currentValue,pool:e}}var vl=Error(s(460)),td=Error(s(474)),Uc=Error(s(542)),jc={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(or,or),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,wg(e),e;default:if(typeof r.status=="string")r.then(or,or);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,wg(e),e}throw Uo=r,vl}}function Lo(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Uo=a,vl):a}}var Uo=null;function Sg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function wg(e){if(e===vl||e===Uc)throw Error(s(483))}var _l=null,pu=0;function zc(e){var r=pu;return pu+=1,_l===null&&(_l=[]),Tg(_l,e,r)}function gu(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Bc(e,r){throw r.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Ag(e){function r(Z,H){if(e){var nt=Z.deletions;nt===null?(Z.deletions=[H],Z.flags|=16):nt.push(H)}}function a(Z,H){if(!e)return null;for(;H!==null;)r(Z,H),H=H.sibling;return null}function l(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function h(Z,H){return Z=zs(Z,H),Z.index=0,Z.sibling=null,Z}function p(Z,H,nt){return Z.index=nt,e?(nt=Z.alternate,nt!==null?(nt=nt.index,nt<H?(Z.flags|=67108866,H):nt):(Z.flags|=67108866,H)):(Z.flags|=1048576,H)}function T(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,H,nt,dt){return H===null||H.tag!==6?(H=qh(nt,Z.mode,dt),H.return=Z,H):(H=h(H,nt),H.return=Z,H)}function L(Z,H,nt,dt){var Kt=nt.type;return Kt===mt?ht(Z,H,nt.props.children,dt,nt.key):H!==null&&(H.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===N&&Lo(Kt)===H.type)?(H=h(H,nt.props),gu(H,nt),H.return=Z,H):(H=Mc(nt.type,nt.key,nt.props,null,Z.mode,dt),gu(H,nt),H.return=Z,H)}function rt(Z,H,nt,dt){return H===null||H.tag!==4||H.stateNode.containerInfo!==nt.containerInfo||H.stateNode.implementation!==nt.implementation?(H=Hh(nt,Z.mode,dt),H.return=Z,H):(H=h(H,nt.children||[]),H.return=Z,H)}function ht(Z,H,nt,dt,Kt){return H===null||H.tag!==7?(H=No(nt,Z.mode,dt,Kt),H.return=Z,H):(H=h(H,nt),H.return=Z,H)}function yt(Z,H,nt){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=qh(""+H,Z.mode,nt),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return nt=Mc(H.type,H.key,H.props,null,Z.mode,nt),gu(nt,H),nt.return=Z,nt;case lt:return H=Hh(H,Z.mode,nt),H.return=Z,H;case N:return H=Lo(H),yt(Z,H,nt)}if(Wt(H)||J(H))return H=No(H,Z.mode,nt,null),H.return=Z,H;if(typeof H.then=="function")return yt(Z,zc(H),nt);if(H.$$typeof===Vt)return yt(Z,Pc(Z,H),nt);Bc(Z,H)}return null}function st(Z,H,nt,dt){var Kt=H!==null?H.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Kt!==null?null:C(Z,H,""+nt,dt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case W:return nt.key===Kt?L(Z,H,nt,dt):null;case lt:return nt.key===Kt?rt(Z,H,nt,dt):null;case N:return nt=Lo(nt),st(Z,H,nt,dt)}if(Wt(nt)||J(nt))return Kt!==null?null:ht(Z,H,nt,dt,null);if(typeof nt.then=="function")return st(Z,H,zc(nt),dt);if(nt.$$typeof===Vt)return st(Z,H,Pc(Z,nt),dt);Bc(Z,nt)}return null}function ot(Z,H,nt,dt,Kt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Z=Z.get(nt)||null,C(H,Z,""+dt,Kt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case W:return Z=Z.get(dt.key===null?nt:dt.key)||null,L(H,Z,dt,Kt);case lt:return Z=Z.get(dt.key===null?nt:dt.key)||null,rt(H,Z,dt,Kt);case N:return dt=Lo(dt),ot(Z,H,nt,dt,Kt)}if(Wt(dt)||J(dt))return Z=Z.get(nt)||null,ht(H,Z,dt,Kt,null);if(typeof dt.then=="function")return ot(Z,H,nt,zc(dt),Kt);if(dt.$$typeof===Vt)return ot(Z,H,nt,Pc(H,dt),Kt);Bc(H,dt)}return null}function Ut(Z,H,nt,dt){for(var Kt=null,Ne=null,zt=H,fe=H=0,Ee=null;zt!==null&&fe<nt.length;fe++){zt.index>fe?(Ee=zt,zt=null):Ee=zt.sibling;var Me=st(Z,zt,nt[fe],dt);if(Me===null){zt===null&&(zt=Ee);break}e&&zt&&Me.alternate===null&&r(Z,zt),H=p(Me,H,fe),Ne===null?Kt=Me:Ne.sibling=Me,Ne=Me,zt=Ee}if(fe===nt.length)return a(Z,zt),Re&&Bs(Z,fe),Kt;if(zt===null){for(;fe<nt.length;fe++)zt=yt(Z,nt[fe],dt),zt!==null&&(H=p(zt,H,fe),Ne===null?Kt=zt:Ne.sibling=zt,Ne=zt);return Re&&Bs(Z,fe),Kt}for(zt=l(zt);fe<nt.length;fe++)Ee=ot(zt,Z,fe,nt[fe],dt),Ee!==null&&(e&&Ee.alternate!==null&&zt.delete(Ee.key===null?fe:Ee.key),H=p(Ee,H,fe),Ne===null?Kt=Ee:Ne.sibling=Ee,Ne=Ee);return e&&zt.forEach(function(Za){return r(Z,Za)}),Re&&Bs(Z,fe),Kt}function Qt(Z,H,nt,dt){if(nt==null)throw Error(s(151));for(var Kt=null,Ne=null,zt=H,fe=H=0,Ee=null,Me=nt.next();zt!==null&&!Me.done;fe++,Me=nt.next()){zt.index>fe?(Ee=zt,zt=null):Ee=zt.sibling;var Za=st(Z,zt,Me.value,dt);if(Za===null){zt===null&&(zt=Ee);break}e&&zt&&Za.alternate===null&&r(Z,zt),H=p(Za,H,fe),Ne===null?Kt=Za:Ne.sibling=Za,Ne=Za,zt=Ee}if(Me.done)return a(Z,zt),Re&&Bs(Z,fe),Kt;if(zt===null){for(;!Me.done;fe++,Me=nt.next())Me=yt(Z,Me.value,dt),Me!==null&&(H=p(Me,H,fe),Ne===null?Kt=Me:Ne.sibling=Me,Ne=Me);return Re&&Bs(Z,fe),Kt}for(zt=l(zt);!Me.done;fe++,Me=nt.next())Me=ot(zt,Z,fe,Me.value,dt),Me!==null&&(e&&Me.alternate!==null&&zt.delete(Me.key===null?fe:Me.key),H=p(Me,H,fe),Ne===null?Kt=Me:Ne.sibling=Me,Ne=Me);return e&&zt.forEach(function(uw){return r(Z,uw)}),Re&&Bs(Z,fe),Kt}function Fe(Z,H,nt,dt){if(typeof nt=="object"&&nt!==null&&nt.type===mt&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case W:t:{for(var Kt=nt.key;H!==null;){if(H.key===Kt){if(Kt=nt.type,Kt===mt){if(H.tag===7){a(Z,H.sibling),dt=h(H,nt.props.children),dt.return=Z,Z=dt;break t}}else if(H.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===N&&Lo(Kt)===H.type){a(Z,H.sibling),dt=h(H,nt.props),gu(dt,nt),dt.return=Z,Z=dt;break t}a(Z,H);break}else r(Z,H);H=H.sibling}nt.type===mt?(dt=No(nt.props.children,Z.mode,dt,nt.key),dt.return=Z,Z=dt):(dt=Mc(nt.type,nt.key,nt.props,null,Z.mode,dt),gu(dt,nt),dt.return=Z,Z=dt)}return T(Z);case lt:t:{for(Kt=nt.key;H!==null;){if(H.key===Kt)if(H.tag===4&&H.stateNode.containerInfo===nt.containerInfo&&H.stateNode.implementation===nt.implementation){a(Z,H.sibling),dt=h(H,nt.children||[]),dt.return=Z,Z=dt;break t}else{a(Z,H);break}else r(Z,H);H=H.sibling}dt=Hh(nt,Z.mode,dt),dt.return=Z,Z=dt}return T(Z);case N:return nt=Lo(nt),Fe(Z,H,nt,dt)}if(Wt(nt))return Ut(Z,H,nt,dt);if(J(nt)){if(Kt=J(nt),typeof Kt!="function")throw Error(s(150));return nt=Kt.call(nt),Qt(Z,H,nt,dt)}if(typeof nt.then=="function")return Fe(Z,H,zc(nt),dt);if(nt.$$typeof===Vt)return Fe(Z,H,Pc(Z,nt),dt);Bc(Z,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,H!==null&&H.tag===6?(a(Z,H.sibling),dt=h(H,nt),dt.return=Z,Z=dt):(a(Z,H),dt=qh(nt,Z.mode,dt),dt.return=Z,Z=dt),T(Z)):a(Z,H)}return function(Z,H,nt,dt){try{pu=0;var Kt=Fe(Z,H,nt,dt);return _l=null,Kt}catch(zt){if(zt===vl||zt===Uc)throw zt;var Ne=ai(29,zt,null,Z.mode);return Ne.lanes=dt,Ne.return=Z,Ne}finally{}}}var jo=Ag(!0),Cg=Ag(!1),Va=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Rn(e),xo(e,null,a),r}return Zt(e,l,r,a),Rn(e)}function yu(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Pe(e,a)}}function rd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var id=!1;function vu(){if(id){var e=yl;if(e!==null)throw e}}function _u(e,r,a,l){id=!1;var h=e.updateQueue;Va=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var L=C,rt=L.next;L.next=null,T===null?p=rt:T.next=rt,T=L;var ht=e.alternate;ht!==null&&(ht=ht.updateQueue,C=ht.lastBaseUpdate,C!==T&&(C===null?ht.firstBaseUpdate=rt:C.next=rt,ht.lastBaseUpdate=L))}if(p!==null){var yt=h.baseState;T=0,ht=rt=L=null,C=p;do{var st=C.lane&-536870913,ot=st!==C.lane;if(ot?(be&st)===st:(l&st)===st){st!==0&&st===gl&&(id=!0),ht!==null&&(ht=ht.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ut=e,Qt=C;st=r;var Fe=a;switch(Qt.tag){case 1:if(Ut=Qt.payload,typeof Ut=="function"){yt=Ut.call(Fe,yt,st);break t}yt=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Qt.payload,st=typeof Ut=="function"?Ut.call(Fe,yt,st):Ut,st==null)break t;yt=O({},yt,st);break t;case 2:Va=!0}}st=C.callback,st!==null&&(e.flags|=64,ot&&(e.flags|=8192),ot=h.callbacks,ot===null?h.callbacks=[st]:ot.push(st))}else ot={lane:st,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ht===null?(rt=ht=ot,L=yt):ht=ht.next=ot,T|=st;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ot=C,C=ot.next,ot.next=null,h.lastBaseUpdate=ot,h.shared.pending=null}}while(!0);ht===null&&(L=yt),h.baseState=L,h.firstBaseUpdate=rt,h.lastBaseUpdate=ht,p===null&&(h.shared.lanes=0),qa|=T,e.lanes=T,e.memoizedState=yt}}function Rg(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Ig(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],r)}var bl=K(null),qc=K(0);function Og(e,r){e=Zs,Rt(qc,e),Rt(bl,r),Zs=e|r.baseLanes}function sd(){Rt(qc,Zs),Rt(bl,bl.current)}function ad(){Zs=qc.current,pt(bl),pt(qc)}var oi=K(null),Di=null;function Ua(e){var r=e.alternate;Rt(En,En.current&1),Rt(oi,e),Di===null&&(r===null||bl.current!==null||r.memoizedState!==null)&&(Di=e)}function od(e){Rt(En,En.current),Rt(oi,e),Di===null&&(Di=e)}function Dg(e){e.tag===22?(Rt(En,En.current),Rt(oi,e),Di===null&&(Di=e)):ja()}function ja(){Rt(En,En.current),Rt(oi,oi.current)}function li(e){pt(oi),Di===e&&(Di=null),pt(En)}var En=K(0);function Hc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||mm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ks=0,ce=null,He=null,On=null,Kc=!1,El=!1,zo=!1,Fc=0,bu=0,Tl=null,WT=0;function dn(){throw Error(s(321))}function ld(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!lr(e[a],r[a]))return!1;return!0}function ud(e,r,a,l,h,p){return Ks=p,ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ut.H=e===null||e.memoizedState===null?dy:wd,zo=!1,p=a(l,h),zo=!1,El&&(p=Ng(r,a,l,h)),xg(e),p}function xg(e){ut.H=Su;var r=He!==null&&He.next!==null;if(Ks=0,On=He=ce=null,Kc=!1,bu=0,Tl=null,r)throw Error(s(300));e===null||Dn||(e=e.dependencies,e!==null&&Vc(e)&&(Dn=!0))}function Ng(e,r,a,l){ce=e;var h=0;do{if(El&&(Tl=null),bu=0,El=!1,25<=h)throw Error(s(301));if(h+=1,On=He=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ut.H=my,p=r(a,l)}while(El);return p}function tS(){var e=ut.H,r=e.useState()[0];return r=typeof r.then=="function"?Eu(r):r,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ce.flags|=1024),r}function cd(){var e=Fc!==0;return Fc=0,e}function fd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function hd(e){if(Kc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Kc=!1}Ks=0,On=He=ce=null,El=!1,bu=Fc=0,Tl=null}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?ce.memoizedState=On=e:On=On.next=e,On}function Tn(){if(He===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var r=On===null?ce.memoizedState:On.next;if(r!==null)On=r,He=e;else{if(e===null)throw ce.alternate===null?Error(s(467)):Error(s(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},On===null?ce.memoizedState=On=e:On=On.next=e}return On}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(e){var r=bu;return bu+=1,Tl===null&&(Tl=[]),e=Tg(Tl,e,r),r=ce,(On===null?r.memoizedState:On.next)===null&&(r=r.alternate,ut.H=r===null||r.memoizedState===null?dy:wd),e}function Yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eu(e);if(e.$$typeof===Vt)return Zn(e)}throw Error(s(438,String(e)))}function dd(e){var r=null,a=ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Gc(),ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=Y;return r.index++,a}function Fs(e,r){return typeof r=="function"?r(e):r}function Qc(e){var r=Tn();return md(r,He,e)}function md(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,p=l.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}r.baseQueue=h=p,l.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{r=h.next;var C=T=null,L=null,rt=r,ht=!1;do{var yt=rt.lane&-536870913;if(yt!==rt.lane?(be&yt)===yt:(Ks&yt)===yt){var st=rt.revertLane;if(st===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),yt===gl&&(ht=!0);else if((Ks&st)===st){rt=rt.next,st===gl&&(ht=!0);continue}else yt={lane:0,revertLane:rt.revertLane,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},L===null?(C=L=yt,T=p):L=L.next=yt,ce.lanes|=st,qa|=st;yt=rt.action,zo&&a(p,yt),p=rt.hasEagerState?rt.eagerState:a(p,yt)}else st={lane:yt,revertLane:rt.revertLane,gesture:rt.gesture,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},L===null?(C=L=st,T=p):L=L.next=st,ce.lanes|=yt,qa|=yt;rt=rt.next}while(rt!==null&&rt!==r);if(L===null?T=p:L.next=C,!lr(p,e.memoizedState)&&(Dn=!0,ht&&(a=yl,a!==null)))throw a;e.memoizedState=p,e.baseState=T,e.baseQueue=L,l.lastRenderedState=p}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pd(e){var r=Tn(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do p=e(p,T.action),T=T.next;while(T!==h);lr(p,r.memoizedState)||(Dn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Mg(e,r,a){var l=ce,h=Tn(),p=Re;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!lr((He||h).memoizedState,a);if(T&&(h.memoizedState=a,Dn=!0),h=h.queue,vd(Pg.bind(null,l,h,e),[e]),h.getSnapshot!==r||T||On!==null&&On.memoizedState.tag&1){if(l.flags|=2048,Sl(9,{destroy:void 0},Vg.bind(null,l,h,a,r),null),Ge===null)throw Error(s(349));p||(Ks&127)!==0||kg(l,r,a)}return a}function kg(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=ce.updateQueue,r===null?(r=Gc(),ce.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Vg(e,r,a,l){r.value=a,r.getSnapshot=l,Lg(r)&&Ug(e)}function Pg(e,r,a){return a(function(){Lg(r)&&Ug(e)})}function Lg(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!lr(e,a)}catch{return!0}}function Ug(e){var r=We(e,2);r!==null&&qr(r,e,2)}function gd(e){var r=Er();if(typeof e=="function"){var a=e;if(e=a(),zo){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},r}function jg(e,r,a,l){return e.baseState=a,md(e,He,typeof l=="function"?l:Fs)}function eS(e,r,a,l,h){if(Jc(e))throw Error(s(485));if(e=r.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};ut.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,zg(r,p)):(p.next=a.next,r.pending=a.next=p)}}function zg(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var p=ut.T,T={};ut.T=T;try{var C=a(h,l),L=ut.S;L!==null&&L(T,C),Bg(e,r,C)}catch(rt){yd(e,r,rt)}finally{p!==null&&T.types!==null&&(p.types=T.types),ut.T=p}}else try{p=a(h,l),Bg(e,r,p)}catch(rt){yd(e,r,rt)}}function Bg(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(e,r,l)},function(l){return yd(e,r,l)}):qg(e,r,a)}function qg(e,r,a){r.status="fulfilled",r.value=a,Hg(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,zg(e,a)))}function yd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Hg(r),r=r.next;while(r!==l)}e.action=null}function Hg(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Kg(e,r){return r}function Fg(e,r){if(Re){var a=Ge.formState;if(a!==null){t:{var l=ce;if(Re){if(Xe){e:{for(var h=Xe,p=Oi;h.nodeType!==8;){if(!p){h=null;break e}if(h=xi(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Xe=xi(h.nextSibling),l=h.data==="F!";break t}}Ma(l)}l=!1}l&&(r=a[0])}}return a=Er(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:r},a.queue=l,a=cy.bind(null,ce,l),l.dispatch=a,l=gd(!1),p=Sd.bind(null,ce,!1,l.queue),l=Er(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=eS.bind(null,ce,h,p,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function Gg(e){var r=Tn();return Yg(r,He,e)}function Yg(e,r,a){if(r=md(e,r,Kg)[0],e=Qc(Fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Eu(r)}catch(T){throw T===vl?Uc:T}else l=r;r=Tn();var h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(ce.flags|=2048,Sl(9,{destroy:void 0},nS.bind(null,h,a),null)),[l,p,e]}function nS(e,r){e.action=r}function Qg(e){var r=Tn(),a=He;if(a!==null)return Yg(r,a,e);Tn(),r=r.memoizedState,a=Tn();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Sl(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=ce.updateQueue,r===null&&(r=Gc(),ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function Xg(){return Tn().memoizedState}function Xc(e,r,a,l){var h=Er();ce.flags|=e,h.memoizedState=Sl(1|r,{destroy:void 0},a,l===void 0?null:l)}function $c(e,r,a,l){var h=Tn();l=l===void 0?null:l;var p=h.memoizedState.inst;He!==null&&l!==null&&ld(l,He.memoizedState.deps)?h.memoizedState=Sl(r,p,a,l):(ce.flags|=e,h.memoizedState=Sl(1|r,p,a,l))}function $g(e,r){Xc(8390656,8,e,r)}function vd(e,r){$c(2048,8,e,r)}function rS(e){ce.flags|=4;var r=ce.updateQueue;if(r===null)r=Gc(),ce.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Jg(e){var r=Tn().memoizedState;return rS({ref:r,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zg(e,r){return $c(4,2,e,r)}function Wg(e,r){return $c(4,4,e,r)}function ty(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ey(e,r,a){a=a!=null?a.concat([e]):null,$c(4,4,ty.bind(null,r,e),a)}function _d(){}function ny(e,r){var a=Tn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ld(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function ry(e,r){var a=Tn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ld(r,l[1]))return l[0];if(l=e(),zo){yn(!0);try{e()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function bd(e,r,a){return a===void 0||(Ks&1073741824)!==0&&(be&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=iv(),ce.lanes|=e,qa|=e,a)}function iy(e,r,a,l){return lr(a,r)?a:bl.current!==null?(e=bd(e,a,l),lr(e,r)||(Dn=!0),e):(Ks&42)===0||(Ks&1073741824)!==0&&(be&261930)===0?(Dn=!0,e.memoizedState=a):(e=iv(),ce.lanes|=e,qa|=e,r)}function sy(e,r,a,l,h){var p=Ot.p;Ot.p=p!==0&&8>p?p:8;var T=ut.T,C={};ut.T=C,Sd(e,!1,r,a);try{var L=h(),rt=ut.S;if(rt!==null&&rt(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ht=ZT(L,l);Tu(e,r,ht,fi(e))}else Tu(e,r,l,fi(e))}catch(yt){Tu(e,r,{then:function(){},status:"rejected",reason:yt},fi())}finally{Ot.p=p,T!==null&&C.types!==null&&(T.types=C.types),ut.T=T}}function iS(){}function Ed(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=ay(e).queue;sy(e,h,r,jt,a===null?iS:function(){return oy(e),a(l)})}function ay(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:jt,baseState:jt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:jt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function oy(e){var r=ay(e);r.next===null&&(r=e.alternate.memoizedState),Tu(e,r.next.queue,{},fi())}function Td(){return Zn(ju)}function ly(){return Tn().memoizedState}function uy(){return Tn().memoizedState}function sS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=fi();e=Pa(a);var l=La(r,e,a);l!==null&&(qr(l,r,a),yu(l,r,a)),r={cache:Jh()},e.payload=r;return}r=r.return}}function aS(e,r,a){var l=fi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Jc(e)?fy(r,a):(a=Cn(e,r,a,l),a!==null&&(qr(a,e,l),hy(a,r,l)))}function cy(e,r,a){var l=fi();Tu(e,r,a,l)}function Tu(e,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))fy(r,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,C=p(T,a);if(h.hasEagerState=!0,h.eagerState=C,lr(C,T))return Zt(e,r,h,0),Ge===null&&Kn(),!1}catch{}finally{}if(a=Cn(e,r,h,l),a!==null)return qr(a,e,l),hy(a,r,l),!0}return!1}function Sd(e,r,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jc(e)){if(r)throw Error(s(479))}else r=Cn(e,a,l,2),r!==null&&qr(r,e,2)}function Jc(e){var r=e.alternate;return e===ce||r!==null&&r===ce}function fy(e,r){El=Kc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function hy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Pe(e,a)}}var Su={readContext:Zn,use:Yc,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Su.useEffectEvent=dn;var dy={readContext:Zn,use:Yc,useCallback:function(e,r){return Er().memoizedState=[e,r===void 0?null:r],e},useContext:Zn,useEffect:$g,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Xc(4194308,4,ty.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Xc(4194308,4,e,r)},useInsertionEffect:function(e,r){Xc(4,2,e,r)},useMemo:function(e,r){var a=Er();r=r===void 0?null:r;var l=e();if(zo){yn(!0);try{e()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=Er();if(a!==void 0){var h=a(r);if(zo){yn(!0);try{a(r)}finally{yn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=aS.bind(null,ce,e),[l.memoizedState,e]},useRef:function(e){var r=Er();return e={current:e},r.memoizedState=e},useState:function(e){e=gd(e);var r=e.queue,a=cy.bind(null,ce,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(e,r){var a=Er();return bd(a,e,r)},useTransition:function(){var e=gd(!1);return e=sy.bind(null,ce,e.queue,!0,!1),Er().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=ce,h=Er();if(Re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ge===null)throw Error(s(349));(be&127)!==0||kg(l,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,$g(Pg.bind(null,l,p,e),[e]),l.flags|=2048,Sl(9,{destroy:void 0},Vg.bind(null,l,p,a,r),null),a},useId:function(){var e=Er(),r=Ge.identifierPrefix;if(Re){var a=ds,l=hs;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Fc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=WT++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Td,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var r=Er();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Sd.bind(null,ce,!0,a),a.dispatch=r,[e,r]},useMemoCache:dd,useCacheRefresh:function(){return Er().memoizedState=sS.bind(null,ce)},useEffectEvent:function(e){var r=Er(),a={impl:e};return r.memoizedState=a,function(){if((Ve&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wd={readContext:Zn,use:Yc,useCallback:ny,useContext:Zn,useEffect:vd,useImperativeHandle:ey,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:ry,useReducer:Qc,useRef:Xg,useState:function(){return Qc(Fs)},useDebugValue:_d,useDeferredValue:function(e,r){var a=Tn();return iy(a,He.memoizedState,e,r)},useTransition:function(){var e=Qc(Fs)[0],r=Tn().memoizedState;return[typeof e=="boolean"?e:Eu(e),r]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Td,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,r){var a=Tn();return jg(a,He,e,r)},useMemoCache:dd,useCacheRefresh:uy};wd.useEffectEvent=Jg;var my={readContext:Zn,use:Yc,useCallback:ny,useContext:Zn,useEffect:vd,useImperativeHandle:ey,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:ry,useReducer:pd,useRef:Xg,useState:function(){return pd(Fs)},useDebugValue:_d,useDeferredValue:function(e,r){var a=Tn();return He===null?bd(a,e,r):iy(a,He.memoizedState,e,r)},useTransition:function(){var e=pd(Fs)[0],r=Tn().memoizedState;return[typeof e=="boolean"?e:Eu(e),r]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Td,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,r){var a=Tn();return He!==null?jg(a,He,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:dd,useCacheRefresh:uy};my.useEffectEvent=Jg;function Ad(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=fi(),h=Pa(l);h.payload=r,a!=null&&(h.callback=a),r=La(e,h,l),r!==null&&(qr(r,e,l),yu(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=fi(),h=Pa(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=La(e,h,l),r!==null&&(qr(r,e,l),yu(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=fi(),l=Pa(a);l.tag=2,r!=null&&(l.callback=r),r=La(e,l,a),r!==null&&(qr(r,e,a),yu(r,e,a))}};function py(e,r,a,l,h,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!f(a,l)||!f(h,p):!0}function gy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Cd.enqueueReplaceState(r,r.state,null)}function Bo(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=O({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function yy(e){Mt(e)}function vy(e){console.error(e)}function _y(e){Mt(e)}function Zc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function by(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rd(e,r,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(e,r)},a}function Ey(e){return e=Pa(e),e.tag=3,e}function Ty(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;e.payload=function(){return h(p)},e.callback=function(){by(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){by(r,a,l),typeof h!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function oS(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&pl(r,a,h,!0),a=oi.current,a!==null){switch(a.tag){case 31:case 13:return Di===null?ff():a.alternate===null&&mn===0&&(mn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Zd(e,l,h)),!1;case 22:return a.flags|=65536,l===jc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Zd(e,l,h)),!1}throw Error(s(435,a.tag))}return Zd(e,l,h),ff(),!1}if(Re)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Gh&&(e=Error(s(422),{cause:l}),hu(Ci(e,a)))):(l!==Gh&&(r=Error(s(423),{cause:l}),hu(Ci(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ci(l,a),h=Rd(e.stateNode,l,h),rd(e,h),mn!==4&&(mn=2)),!1;var p=Error(s(520),{cause:l});if(p=Ci(p,a),xu===null?xu=[p]:xu.push(p),mn!==4&&(mn=2),r===null)return!0;l=Ci(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Rd(a.stateNode,l,e),rd(a,e),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ha===null||!Ha.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,e,a,l),rd(a,h),!1}a=a.return}while(a!==null);return!1}var Id=Error(s(461)),Dn=!1;function Wn(e,r,a,l){r.child=e===null?Cg(r,null,a,l):jo(r,e.child,a,l)}function Sy(e,r,a,l,h){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Vo(r),l=ud(e,r,a,T,p,h),C=cd(),e!==null&&!Dn?(fd(e,r,h),Gs(e,r,h)):(Re&&C&&Kh(r),r.flags|=1,Wn(e,r,l,h),r.child)}function wy(e,r,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!Bh(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Ay(e,r,p,l,h)):(e=Mc(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,!Pd(e,h)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(T,l)&&e.ref===r.ref)return Gs(e,r,h)}return r.flags|=1,e=zs(p,l),e.ref=r.ref,e.return=r,r.child=e}function Ay(e,r,a,l,h){if(e!==null){var p=e.memoizedProps;if(f(p,l)&&e.ref===r.ref)if(Dn=!1,r.pendingProps=l=p,Pd(e,h))(e.flags&131072)!==0&&(Dn=!0);else return r.lanes=e.lanes,Gs(e,r,h)}return Od(e,r,a,l,h)}function Cy(e,r,a,l){var h=l.children,p=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(l=r.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,r.child=null;return Ry(e,r,p,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lc(r,p!==null?p.cachePool:null),p!==null?Og(r,p):sd(),Dg(r);else return l=r.lanes=536870912,Ry(e,r,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Lc(r,p.cachePool),Og(r,p),ja(),r.memoizedState=null):(e!==null&&Lc(r,null),sd(),ja());return Wn(e,r,h,a),r.child}function wu(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ry(e,r,a,l,h){var p=Wh();return p=p===null?null:{parent:In._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},e!==null&&Lc(r,null),sd(),Dg(r),e!==null&&pl(e,r,l,!0),r.childLanes=h,null}function Wc(e,r){return r=ef({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Iy(e,r,a){return jo(r,e.child,null,a),e=Wc(r,r.pendingProps),e.flags|=2,li(r),r.memoizedState=null,e}function lS(e,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Re){if(l.mode==="hidden")return e=Wc(r,l),r.lanes=536870912,wu(null,e);if(od(r),(e=Xe)?(e=zv(e,Oi),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:xa!==null?{id:hs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},a=fg(e),a.return=r,r.child=a,Jn=r,Xe=null)):e=null,e===null)throw Ma(r);return r.lanes=536870912,null}return Wc(r,l)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(od(r),h)if(r.flags&256)r.flags&=-257,r=Iy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Dn||pl(e,r,a,!1),h=(a&e.childLanes)!==0,Dn||h){if(l=Ge,l!==null&&(T=Ze(l,a),T!==0&&T!==p.retryLane))throw p.retryLane=T,We(e,T),qr(l,e,T),Id;ff(),r=Iy(e,r,a)}else e=p.treeContext,Xe=xi(T.nextSibling),Jn=r,Re=!0,Na=null,Oi=!1,e!==null&&mg(r,e),r=Wc(r,l),r.flags|=4096;return r}return e=zs(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function tf(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Od(e,r,a,l,h){return Vo(r),a=ud(e,r,a,l,void 0,h),l=cd(),e!==null&&!Dn?(fd(e,r,h),Gs(e,r,h)):(Re&&l&&Kh(r),r.flags|=1,Wn(e,r,a,h),r.child)}function Oy(e,r,a,l,h,p){return Vo(r),r.updateQueue=null,a=Ng(r,l,a,h),xg(e),l=cd(),e!==null&&!Dn?(fd(e,r,p),Gs(e,r,p)):(Re&&l&&Kh(r),r.flags|=1,Wn(e,r,a,p),r.child)}function Dy(e,r,a,l,h){if(Vo(r),r.stateNode===null){var p=Lr,T=a.contextType;typeof T=="object"&&T!==null&&(p=Zn(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Cd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},ed(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?Zn(T):Lr,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ad(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Cd.enqueueReplaceState(p,p.state,null),_u(r,l,p,h),vu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){p=r.stateNode;var C=r.memoizedProps,L=Bo(a,C);p.props=L;var rt=p.context,ht=a.contextType;T=Lr,typeof ht=="object"&&ht!==null&&(T=Zn(ht));var yt=a.getDerivedStateFromProps;ht=typeof yt=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,ht||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||rt!==T)&&gy(r,p,l,T),Va=!1;var st=r.memoizedState;p.state=st,_u(r,l,p,h),vu(),rt=r.memoizedState,C||st!==rt||Va?(typeof yt=="function"&&(Ad(r,a,yt,l),rt=r.memoizedState),(L=Va||py(r,a,L,l,st,rt,T))?(ht||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=rt),p.props=l,p.state=rt,p.context=T,l=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,nd(e,r),T=r.memoizedProps,ht=Bo(a,T),p.props=ht,yt=r.pendingProps,st=p.context,rt=a.contextType,L=Lr,typeof rt=="object"&&rt!==null&&(L=Zn(rt)),C=a.getDerivedStateFromProps,(rt=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==yt||st!==L)&&gy(r,p,l,L),Va=!1,st=r.memoizedState,p.state=st,_u(r,l,p,h),vu();var ot=r.memoizedState;T!==yt||st!==ot||Va||e!==null&&e.dependencies!==null&&Vc(e.dependencies)?(typeof C=="function"&&(Ad(r,a,C,l),ot=r.memoizedState),(ht=Va||py(r,a,ht,l,st,ot,L)||e!==null&&e.dependencies!==null&&Vc(e.dependencies))?(rt||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,ot,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,ot,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&st===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&st===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ot),p.props=l,p.state=ot,p.context=L,l=ht):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&st===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&st===e.memoizedState||(r.flags|=1024),l=!1)}return p=l,tf(e,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,e!==null&&l?(r.child=jo(r,e.child,null,h),r.child=jo(r,null,a,h)):Wn(e,r,a,h),r.memoizedState=p.state,e=r.child):e=Gs(e,r,h),e}function xy(e,r,a,l){return Mo(),r.flags|=256,Wn(e,r,a,l),r.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(e){return{baseLanes:e,cachePool:bg()}}function Nd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=ci),e}function Ny(e,r,a){var l=r.pendingProps,h=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(En.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,e===null){if(Re){if(h?Ua(r):ja(),(e=Xe)?(e=zv(e,Oi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:xa!==null?{id:hs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},a=fg(e),a.return=r,r.child=a,Jn=r,Xe=null)):e=null,e===null)throw Ma(r);return mm(e)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(ja(),h=r.mode,C=ef({mode:"hidden",children:C},h),l=No(l,h,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=xd(a),l.childLanes=Nd(e,T,a),r.memoizedState=Dd,wu(null,l)):(Ua(r),Md(r,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(p)r.flags&256?(Ua(r),r.flags&=-257,r=kd(e,r,a)):r.memoizedState!==null?(ja(),r.child=e.child,r.flags|=128,r=null):(ja(),C=l.fallback,h=r.mode,l=ef({mode:"visible",children:l.children},h),C=No(C,h,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,jo(r,e.child,null,a),l=r.child,l.memoizedState=xd(a),l.childLanes=Nd(e,T,a),r.memoizedState=Dd,r=wu(null,l));else if(Ua(r),mm(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var rt=T.dgst;T=rt,l=Error(s(419)),l.stack="",l.digest=T,hu({value:l,source:null,stack:null}),r=kd(e,r,a)}else if(Dn||pl(e,r,a,!1),T=(a&e.childLanes)!==0,Dn||T){if(T=Ge,T!==null&&(l=Ze(T,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,We(e,l),qr(T,e,l),Id;dm(C)||ff(),r=kd(e,r,a)}else dm(C)?(r.flags|=192,r.child=e.child,r=null):(e=L.treeContext,Xe=xi(C.nextSibling),Jn=r,Re=!0,Na=null,Oi=!1,e!==null&&mg(r,e),r=Md(r,l.children),r.flags|=4096);return r}return h?(ja(),C=l.fallback,h=r.mode,L=e.child,rt=L.sibling,l=zs(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,rt!==null?C=zs(rt,C):(C=No(C,h,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,wu(null,l),l=r.child,C=e.child.memoizedState,C===null?C=xd(a):(h=C.cachePool,h!==null?(L=In._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=bg(),C={baseLanes:C.baseLanes|a,cachePool:h}),l.memoizedState=C,l.childLanes=Nd(e,T,a),r.memoizedState=Dd,wu(e.child,l)):(Ua(r),a=e.child,e=a.sibling,a=zs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(T=r.deletions,T===null?(r.deletions=[e],r.flags|=16):T.push(e)),r.child=a,r.memoizedState=null,a)}function Md(e,r){return r=ef({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function ef(e,r){return e=ai(22,e,null,r),e.lanes=0,e}function kd(e,r,a){return jo(r,e.child,null,a),e=Md(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function My(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Xh(e.return,r,a)}function Vd(e,r,a,l,h,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=h,T.treeForkCount=p)}function ky(e,r,a){var l=r.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var T=En.current,C=(T&2)!==0;if(C?(T=T&1|2,r.flags|=128):T&=1,Rt(En,T),Wn(e,r,l,a),l=Re?fu:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,r);else if(e.tag===19)My(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&Hc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Vd(r,!1,h,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Hc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vd(r,!0,a,null,p,l);break;case"together":Vd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Gs(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),qa|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(pl(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=zs(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=zs(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Pd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Vc(e)))}function uS(e,r,a){switch(r.tag){case 3:pn(r,r.stateNode.containerInfo),ka(r,In,e.memoizedState.cache),Mo();break;case 27:case 5:es(r);break;case 4:pn(r,r.stateNode.containerInfo);break;case 10:ka(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,od(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ua(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ny(e,r,a):(Ua(r),e=Gs(e,r,a),e!==null?e.sibling:null);Ua(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(pl(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return ky(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Rt(En,En.current),l)break;return null;case 22:return r.lanes=0,Cy(e,r,a,r.pendingProps);case 24:ka(r,In,e.memoizedState.cache)}return Gs(e,r,a)}function Vy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Dn=!0;else{if(!Pd(e,a)&&(r.flags&128)===0)return Dn=!1,uS(e,r,a);Dn=(e.flags&131072)!==0}else Dn=!1,Re&&(r.flags&1048576)!==0&&dg(r,fu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Lo(r.elementType),r.type=e,typeof e=="function")Bh(e)?(l=Bo(e,l),r.tag=1,r=Dy(null,r,e,l,a)):(r.tag=0,r=Od(null,r,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===oe){r.tag=11,r=Sy(null,r,e,l,a);break t}else if(h===k){r.tag=14,r=wy(null,r,e,l,a);break t}}throw r=$t(e)||e,Error(s(306,r,""))}}return r;case 0:return Od(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bo(l,r.pendingProps),Dy(e,r,l,h,a);case 3:t:{if(pn(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;h=p.element,nd(e,r),_u(r,l,null,a);var T=r.memoizedState;if(l=T.cache,ka(r,In,l),l!==p.cache&&$h(r,[In],a,!0),vu(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=xy(e,r,l,a);break t}else if(l!==h){h=Ci(Error(s(424)),r),hu(h),r=xy(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=xi(e.firstChild),Jn=r,Re=!0,Na=null,Oi=!0,a=Cg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mo(),l===h){r=Gs(e,r,a);break t}Wn(e,r,l,a)}r=r.child}return r;case 26:return tf(e,r),e===null?(a=Gv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Re||(a=r.type,e=r.pendingProps,l=vf(Jt.current).createElement(a),l[Ue]=r,l[Ye]=e,tr(l,a,e),rn(l),r.stateNode=l):r.memoizedState=Gv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return es(r),e===null&&Re&&(l=r.stateNode=Hv(r.type,r.pendingProps,Jt.current),Jn=r,Oi=!0,h=Xe,Ya(r.type)?(pm=h,Xe=xi(l.firstChild)):Xe=h),Wn(e,r,r.pendingProps.children,a),tf(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Re&&((h=l=Xe)&&(l=jS(l,r.type,r.pendingProps,Oi),l!==null?(r.stateNode=l,Jn=r,Xe=xi(l.firstChild),Oi=!1,h=!0):h=!1),h||Ma(r)),es(r),h=r.type,p=r.pendingProps,T=e!==null?e.memoizedProps:null,l=p.children,cm(h,p)?l=null:T!==null&&cm(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=ud(e,r,tS,null,null,a),ju._currentValue=h),tf(e,r),Wn(e,r,l,a),r.child;case 6:return e===null&&Re&&((e=a=Xe)&&(a=zS(a,r.pendingProps,Oi),a!==null?(r.stateNode=a,Jn=r,Xe=null,e=!0):e=!1),e||Ma(r)),null;case 13:return Ny(e,r,a);case 4:return pn(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=jo(r,null,l,a):Wn(e,r,l,a),r.child;case 11:return Sy(e,r,r.type,r.pendingProps,a);case 7:return Wn(e,r,r.pendingProps,a),r.child;case 8:return Wn(e,r,r.pendingProps.children,a),r.child;case 12:return Wn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ka(r,r.type,l.value),Wn(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Vo(r),h=Zn(h),l=l(h),r.flags|=1,Wn(e,r,l,a),r.child;case 14:return wy(e,r,r.type,r.pendingProps,a);case 15:return Ay(e,r,r.type,r.pendingProps,a);case 19:return ky(e,r,a);case 31:return lS(e,r,a);case 22:return Cy(e,r,a,r.pendingProps);case 24:return Vo(r),l=Zn(In),e===null?(h=Wh(),h===null&&(h=Ge,p=Jh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),r.memoizedState={parent:l,cache:h},ed(r),ka(r,In,h)):((e.lanes&a)!==0&&(nd(e,r),_u(r,null,null,a),vu()),h=e.memoizedState,p=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ka(r,In,l)):(l=p.cache,ka(r,In,l),l!==h.cache&&$h(r,[In],a,!0))),Wn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ys(e){e.flags|=4}function Ld(e,r,a,l,h){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(lv())e.flags|=8192;else throw Uo=jc,td}else e.flags&=-16777217}function Py(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jv(r))if(lv())e.flags|=8192;else throw Uo=jc,td}function nf(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?al():536870912,e.lanes|=r,Rl|=r)}function Au(e,r){if(!Re)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $e(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function cS(e,r,a){var l=r.pendingProps;switch(Fh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(r),null;case 1:return $e(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hs(In),Nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ml(r)?Ys(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yh())),$e(r),null;case 26:var h=r.type,p=r.memoizedState;return e===null?(Ys(r),p!==null?($e(r),Py(r,p)):($e(r),Ld(r,h,null,l,a))):p?p!==e.memoizedState?(Ys(r),$e(r),Py(r,p)):($e(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ys(r),$e(r),Ld(r,h,e,l,a)),null;case 27:if(ji(r),a=Jt.current,h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ys(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $e(r),null}e=kt.current,ml(r)?pg(r):(e=Hv(h,l,a),r.stateNode=e,Ys(r))}return $e(r),null;case 5:if(ji(r),h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ys(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return $e(r),null}if(p=kt.current,ml(r))pg(r);else{var T=vf(Jt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}p[Ue]=r,p[Ye]=l;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;t:switch(tr(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ys(r)}}return $e(r),Ld(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Ys(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Jt.current,ml(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=Jn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ue]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Nv(e.nodeValue,a)),e||Ma(r,!0)}else e=vf(e).createTextNode(l),e[Ue]=r,r.stateNode=e}return $e(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=ml(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ue]=r}else Mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$e(r),e=!1}else a=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(li(r),r):(li(r),null);if((r.flags&128)!==0)throw Error(s(558))}return $e(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ml(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ue]=r}else Mo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$e(r),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(li(r),r):(li(r),null)}return li(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),nf(r,r.updateQueue),$e(r),null);case 4:return Nt(),e===null&&sm(r.stateNode.containerInfo),$e(r),null;case 10:return Hs(r.type),$e(r),null;case 19:if(pt(En),l=r.memoizedState,l===null)return $e(r),null;if(h=(r.flags&128)!==0,p=l.rendering,p===null)if(h)Au(l,!1);else{if(mn!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(p=Hc(e),p!==null){for(r.flags|=128,Au(l,!1),e=p.updateQueue,r.updateQueue=e,nf(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)cg(a,e),a=a.sibling;return Rt(En,En.current&1|2),Re&&Bs(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&zn()>lf&&(r.flags|=128,h=!0,Au(l,!1),r.lanes=4194304)}else{if(!h)if(e=Hc(p),e!==null){if(r.flags|=128,h=!0,e=e.updateQueue,r.updateQueue=e,nf(r,e),Au(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Re)return $e(r),null}else 2*zn()-l.renderingStartTime>lf&&a!==536870912&&(r.flags|=128,h=!0,Au(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(e=l.last,e!==null?e.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=zn(),e.sibling=null,a=En.current,Rt(En,h?a&1|2:a&1),Re&&Bs(r,l.treeForkCount),e):($e(r),null);case 22:case 23:return li(r),ad(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&($e(r),r.subtreeFlags&6&&(r.flags|=8192)):$e(r),a=r.updateQueue,a!==null&&nf(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&pt(Po),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hs(In),$e(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fS(e,r){switch(Fh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Hs(In),Nt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ji(r),null;case 31:if(r.memoizedState!==null){if(li(r),r.alternate===null)throw Error(s(340));Mo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(li(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Mo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return pt(En),null;case 4:return Nt(),null;case 10:return Hs(r.type),null;case 22:case 23:return li(r),ad(),e!==null&&pt(Po),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Hs(In),null;case 25:return null;default:return null}}function Ly(e,r){switch(Fh(r),r.tag){case 3:Hs(In),Nt();break;case 26:case 27:case 5:ji(r);break;case 4:Nt();break;case 31:r.memoizedState!==null&&li(r);break;case 13:li(r);break;case 19:pt(En);break;case 10:Hs(r.type);break;case 22:case 23:li(r),ad(),e!==null&&pt(Po);break;case 24:Hs(In)}}function Cu(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==h)}}catch(C){qe(r,r.return,C)}}function za(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&e)===e){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=r;var L=a,rt=C;try{rt()}catch(ht){qe(h,L,ht)}}}l=l.next}while(l!==p)}}catch(ht){qe(r,r.return,ht)}}function Uy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Ig(r,a)}catch(l){qe(e,e.return,l)}}}function jy(e,r,a){a.props=Bo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){qe(e,r,l)}}function Ru(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){qe(e,r,h)}}function ms(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){qe(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){qe(e,r,h)}else a.current=null}function zy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){qe(e,e.return,h)}}function Ud(e,r,a){try{var l=e.stateNode;MS(l,e.type,a,r),l[Ye]=r}catch(h){qe(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function jd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=or));else if(l!==4&&(l===27&&Ya(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(zd(e,r,a),e=e.sibling;e!==null;)zd(e,r,a),e=e.sibling}function rf(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rf(e,r,a),e=e.sibling;e!==null;)rf(e,r,a),e=e.sibling}function qy(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);tr(r,l,a),r[Ue]=e,r[Ye]=a}catch(p){qe(e,e.return,p)}}var Qs=!1,xn=!1,Bd=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function hS(e,r){if(e=e.containerInfo,lm=Af,e=w(e),A(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var T=0,C=-1,L=-1,rt=0,ht=0,yt=e,st=null;e:for(;;){for(var ot;yt!==a||h!==0&&yt.nodeType!==3||(C=T+h),yt!==p||l!==0&&yt.nodeType!==3||(L=T+l),yt.nodeType===3&&(T+=yt.nodeValue.length),(ot=yt.firstChild)!==null;)st=yt,yt=ot;for(;;){if(yt===e)break e;if(st===a&&++rt===h&&(C=T),st===p&&++ht===l&&(L=T),(ot=yt.nextSibling)!==null)break;yt=st,st=yt.parentNode}yt=ot}a=C===-1||L===-1?null:{start:C,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:e,selectionRange:a},Af=!1,Fn=r;Fn!==null;)if(r=Fn,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Fn=e;else for(;Fn!==null;){switch(r=Fn,p=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=r,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Ut=Bo(a.type,h);e=l.getSnapshotBeforeUpdate(Ut,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(Qt){qe(a,a.return,Qt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)hm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Fn=e;break}Fn=r.return}}function Ky(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$s(e,a),l&4&&Cu(5,a);break;case 1:if($s(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(T){qe(a,a.return,T)}else{var h=Bo(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(a,a.return,T)}}l&64&&Uy(a),l&512&&Ru(a,a.return);break;case 3:if($s(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ig(e,r)}catch(T){qe(a,a.return,T)}}break;case 27:r===null&&l&4&&qy(a);case 26:case 5:$s(e,a),r===null&&l&4&&zy(a),l&512&&Ru(a,a.return);break;case 12:$s(e,a);break;case 31:$s(e,a),l&4&&Yy(e,a);break;case 13:$s(e,a),l&4&&Qy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ES.bind(null,a),BS(e,a))));break;case 22:if(l=a.memoizedState!==null||Qs,!l){r=r!==null&&r.memoizedState!==null||xn,h=Qs;var p=xn;Qs=l,(xn=r)&&!p?Js(e,a,(a.subtreeFlags&8772)!==0):$s(e,a),Qs=h,xn=p}break;case 30:break;default:$s(e,a)}}function Fy(e){var r=e.alternate;r!==null&&(e.alternate=null,Fy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ns(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tn=null,Ur=!1;function Xs(e,r,a){for(a=a.child;a!==null;)Gy(e,r,a),a=a.sibling}function Gy(e,r,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ir,a)}catch{}switch(a.tag){case 26:xn||ms(a,r),Xs(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xn||ms(a,r);var l=tn,h=Ur;Ya(a.type)&&(tn=a.stateNode,Ur=!1),Xs(e,r,a),Pu(a.stateNode),tn=l,Ur=h;break;case 5:xn||ms(a,r);case 6:if(l=tn,h=Ur,tn=null,Xs(e,r,a),tn=l,Ur=h,tn!==null)if(Ur)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(a.stateNode)}catch(p){qe(a,r,p)}else try{tn.removeChild(a.stateNode)}catch(p){qe(a,r,p)}break;case 18:tn!==null&&(Ur?(e=tn,Uv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vl(e)):Uv(tn,a.stateNode));break;case 4:l=tn,h=Ur,tn=a.stateNode.containerInfo,Ur=!0,Xs(e,r,a),tn=l,Ur=h;break;case 0:case 11:case 14:case 15:za(2,a,r),xn||za(4,a,r),Xs(e,r,a);break;case 1:xn||(ms(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,r,l)),Xs(e,r,a);break;case 21:Xs(e,r,a);break;case 22:xn=(l=xn)||a.memoizedState!==null,Xs(e,r,a),xn=l;break;default:Xs(e,r,a)}}function Yy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vl(e)}catch(a){qe(r,r.return,a)}}}function Qy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vl(e)}catch(a){qe(r,r.return,a)}}function dS(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Hy),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Hy),r;default:throw Error(s(435,e.tag))}}function sf(e,r){var a=dS(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=TS.bind(null,e,l);l.then(h,h)}})}function jr(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=e,T=r,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(Ya(C.type)){tn=C.stateNode,Ur=!1;break t}break;case 5:tn=C.stateNode,Ur=!1;break t;case 3:case 4:tn=C.stateNode.containerInfo,Ur=!0;break t}C=C.return}if(tn===null)throw Error(s(160));Gy(p,T,h),tn=null,Ur=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xy(r,e),r=r.sibling}var Xi=null;function Xy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jr(r,e),zr(e),l&4&&(za(3,e,e.return),Cu(3,e),za(5,e,e.return));break;case 1:jr(r,e),zr(e),l&512&&(xn||a===null||ms(a,a.return)),l&64&&Qs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xi;if(jr(r,e),zr(e),l&512&&(xn||a===null||ms(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Bn]||p[Ue]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),tr(p,l,a),p[Ue]=e,rn(p),l=p;break t;case"link":var T=Xv("link","href",h).get(l+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break e}}p=h.createElement(l),tr(p,l,a),h.head.appendChild(p);break;case"meta":if(T=Xv("meta","content",h).get(l+(a.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break e}}p=h.createElement(l),tr(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Ue]=e,rn(p),l=p}e.stateNode=l}else $v(h,e.type,e.stateNode);else e.stateNode=Qv(h,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?$v(h,e.type,e.stateNode):Qv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ud(e,e.memoizedProps,a.memoizedProps)}break;case 27:jr(r,e),zr(e),l&512&&(xn||a===null||ms(a,a.return)),a!==null&&l&4&&Ud(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jr(r,e),zr(e),l&512&&(xn||a===null||ms(a,a.return)),e.flags&32){h=e.stateNode;try{$n(h,"")}catch(Ut){qe(e,e.return,Ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ud(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Bd=!0);break;case 6:if(jr(r,e),zr(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Ut){qe(e,e.return,Ut)}}break;case 3:if(Ef=null,h=Xi,Xi=_f(r.containerInfo),jr(r,e),Xi=h,zr(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(Ut){qe(e,e.return,Ut)}Bd&&(Bd=!1,$y(e));break;case 4:l=Xi,Xi=_f(e.stateNode.containerInfo),jr(r,e),zr(e),Xi=l;break;case 12:jr(r,e),zr(e);break;case 31:jr(r,e),zr(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sf(e,l)));break;case 13:jr(r,e),zr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(of=zn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sf(e,l)));break;case 22:h=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,rt=Qs,ht=xn;if(Qs=rt||h,xn=ht||L,jr(r,e),xn=ht,Qs=rt,zr(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||L||Qs||xn||qo(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){L=a=r;try{if(p=L.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=L.stateNode;var yt=L.memoizedProps.style,st=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;C.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(Ut){qe(L,L.return,Ut)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(Ut){qe(L,L.return,Ut)}}}else if(r.tag===18){if(a===null){L=r;try{var ot=L.stateNode;h?jv(ot,!0):jv(L.stateNode,!1)}catch(Ut){qe(L,L.return,Ut)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sf(e,a))));break;case 19:jr(r,e),zr(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sf(e,l)));break;case 30:break;case 21:break;default:jr(r,e),zr(e)}}function zr(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=jd(e);rf(e,p,h);break;case 5:var T=a.stateNode;a.flags&32&&($n(T,""),a.flags&=-33);var C=jd(e);rf(e,C,T);break;case 3:case 4:var L=a.stateNode.containerInfo,rt=jd(e);zd(e,rt,L);break;default:throw Error(s(161))}}catch(ht){qe(e,e.return,ht)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;$y(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function $s(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ky(e,r.alternate,r),r=r.sibling}function qo(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:za(4,r,r.return),qo(r);break;case 1:ms(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jy(r,r.return,a),qo(r);break;case 27:Pu(r.stateNode);case 26:case 5:ms(r,r.return),qo(r);break;case 22:r.memoizedState===null&&qo(r);break;case 30:qo(r);break;default:qo(r)}e=e.sibling}}function Js(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Js(h,p,a),Cu(4,p);break;case 1:if(Js(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(rt){qe(l,l.return,rt)}if(l=p,h=l.updateQueue,h!==null){var C=l.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)Rg(L[h],C)}catch(rt){qe(l,l.return,rt)}}a&&T&64&&Uy(p),Ru(p,p.return);break;case 27:qy(p);case 26:case 5:Js(h,p,a),a&&l===null&&T&4&&zy(p),Ru(p,p.return);break;case 12:Js(h,p,a);break;case 31:Js(h,p,a),a&&T&4&&Yy(h,p);break;case 13:Js(h,p,a),a&&T&4&&Qy(h,p);break;case 22:p.memoizedState===null&&Js(h,p,a),Ru(p,p.return);break;case 30:break;default:Js(h,p,a)}r=r.sibling}}function qd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&du(a))}function Hd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&du(e))}function $i(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jy(e,r,a,l),r=r.sibling}function Jy(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:$i(e,r,a,l),h&2048&&Cu(9,r);break;case 1:$i(e,r,a,l);break;case 3:$i(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&du(e)));break;case 12:if(h&2048){$i(e,r,a,l),e=r.stateNode;try{var p=r.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){qe(r,r.return,L)}}else $i(e,r,a,l);break;case 31:$i(e,r,a,l);break;case 13:$i(e,r,a,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?$i(e,r,a,l):Iu(e,r):p._visibility&2?$i(e,r,a,l):(p._visibility|=2,wl(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&qd(T,r);break;case 24:$i(e,r,a,l),h&2048&&Hd(r.alternate,r);break;default:$i(e,r,a,l)}}function wl(e,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=e,T=r,C=a,L=l,rt=T.flags;switch(T.tag){case 0:case 11:case 15:wl(p,T,C,L,h),Cu(8,T);break;case 23:break;case 22:var ht=T.stateNode;T.memoizedState!==null?ht._visibility&2?wl(p,T,C,L,h):Iu(p,T):(ht._visibility|=2,wl(p,T,C,L,h)),h&&rt&2048&&qd(T.alternate,T);break;case 24:wl(p,T,C,L,h),h&&rt&2048&&Hd(T.alternate,T);break;default:wl(p,T,C,L,h)}r=r.sibling}}function Iu(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:Iu(a,l),h&2048&&qd(l.alternate,l);break;case 24:Iu(a,l),h&2048&&Hd(l.alternate,l);break;default:Iu(a,l)}r=r.sibling}}var Ou=8192;function Al(e,r,a){if(e.subtreeFlags&Ou)for(e=e.child;e!==null;)Zy(e,r,a),e=e.sibling}function Zy(e,r,a){switch(e.tag){case 26:Al(e,r,a),e.flags&Ou&&e.memoizedState!==null&&WS(a,Xi,e.memoizedState,e.memoizedProps);break;case 5:Al(e,r,a);break;case 3:case 4:var l=Xi;Xi=_f(e.stateNode.containerInfo),Al(e,r,a),Xi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ou,Ou=16777216,Al(e,r,a),Ou=l):Al(e,r,a));break;default:Al(e,r,a)}}function Wy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Du(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Fn=l,ev(l,e)}Wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tv(e),e=e.sibling}function tv(e){switch(e.tag){case 0:case 11:case 15:Du(e),e.flags&2048&&za(9,e,e.return);break;case 3:Du(e);break;case 12:Du(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,af(e)):Du(e);break;default:Du(e)}}function af(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Fn=l,ev(l,e)}Wy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:za(8,r,r.return),af(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,af(r));break;default:af(r)}e=e.sibling}}function ev(e,r){for(;Fn!==null;){var a=Fn;switch(a.tag){case 0:case 11:case 15:za(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:du(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fn=l;else t:for(a=e;Fn!==null;){l=Fn;var h=l.sibling,p=l.return;if(Fy(l),l===a){Fn=null;break t}if(h!==null){h.return=p,Fn=h;break t}Fn=p}}}var mS={getCacheForType:function(e){var r=Zn(In),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Zn(In).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ge=null,ve=null,be=0,Be=0,ui=null,Ba=!1,Cl=!1,Kd=!1,Zs=0,mn=0,qa=0,Ho=0,Fd=0,ci=0,Rl=0,xu=null,Br=null,Gd=!1,of=0,nv=0,lf=1/0,uf=null,Ha=null,Pn=0,Ka=null,Il=null,Ws=0,Yd=0,Qd=null,rv=null,Nu=0,Xd=null;function fi(){return(Ve&2)!==0&&be!==0?be&-be:ut.T!==null?em():xs()}function iv(){if(ci===0)if((be&536870912)===0||Re){var e=zi;zi<<=1,(zi&3932160)===0&&(zi=262144),ci=e}else ci=536870912;return e=oi.current,e!==null&&(e.flags|=32),ci}function qr(e,r,a){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),Fa(e,be,ci,!1)),wr(e,a),((Ve&2)===0||e!==Ge)&&(e===Ge&&((Ve&2)===0&&(Ho|=a),mn===4&&Fa(e,be,ci,!1)),ps(e))}function sv(e,r,a){if((Ve&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||gr(e,r),h=l?vS(e,r):Jd(e,r,!0),p=l;do{if(h===0){Cl&&!l&&Fa(e,r,0,!1);break}else{if(a=e.current.alternate,p&&!gS(a)){h=Jd(e,r,!1),p=!1;continue}if(h===2){if(p=r,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var C=e;h=xu;var L=C.current.memoizedState.isDehydrated;if(L&&(Ol(C,T).flags|=256),T=Jd(C,T,!1),T!==2){if(Kd&&!L){C.errorRecoveryDisabledLanes|=p,Ho|=p,h=4;break t}p=Br,Br=h,p!==null&&(Br===null?Br=p:Br.push.apply(Br,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){Ol(e,0),Fa(e,r,0,!0);break}t:{switch(l=e,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fa(l,r,ci,!Ba);break t;case 2:Br=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=of+300-zn(),10<h)){if(Fa(l,r,ci,!Ba),Qr(l,0,!0)!==0)break t;Ws=r,l.timeoutHandle=Pv(av.bind(null,l,a,Br,uf,Gd,r,ci,Ho,Rl,Ba,p,"Throttled",-0,0),h);break t}av(l,a,Br,uf,Gd,r,ci,Ho,Rl,Ba,p,null,-0,0)}}break}while(!0);ps(e)}function av(e,r,a,l,h,p,T,C,L,rt,ht,yt,st,ot){if(e.timeoutHandle=-1,yt=r.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},Zy(r,p,yt);var Ut=(p&62914560)===p?of-zn():(p&4194048)===p?nv-zn():0;if(Ut=tw(yt,Ut),Ut!==null){Ws=p,e.cancelPendingCommit=Ut(mv.bind(null,e,r,p,a,l,h,T,C,L,ht,yt,null,st,ot)),Fa(e,p,T,!rt);return}}mv(e,r,p,a,l,h,T,C,L)}function gS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!lr(p(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fa(e,r,a,l){r&=~Fd,r&=~Ho,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var p=31-xt(h),T=1<<p;l[p]=-1,h&=~T}a!==0&&gi(e,a,r)}function cf(){return(Ve&6)===0?(Mu(0),!1):!0}function $d(){if(ve!==null){if(Be===0)var e=ve.return;else e=ve,qs=ko=null,hd(e),_l=null,pu=0,e=ve;for(;e!==null;)Ly(e.alternate,e),e=e.return;ve=null}}function Ol(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,PS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ws=0,$d(),Ge=e,ve=a=zs(e.current,null),be=r,Be=0,ui=null,Ba=!1,Cl=gr(e,r),Kd=!1,Rl=ci=Fd=Ho=qa=mn=0,Br=xu=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-xt(l),p=1<<h;r|=e[h],l&=~p}return Zs=r,Kn(),a}function ov(e,r){ce=null,ut.H=Su,r===vl||r===Uc?(r=Sg(),Be=3):r===td?(r=Sg(),Be=4):Be=r===Id?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ui=r,ve===null&&(mn=1,Zc(e,Ci(r,e.current)))}function lv(){var e=oi.current;return e===null?!0:(be&4194048)===be?Di===null:(be&62914560)===be||(be&536870912)!==0?e===Di:!1}function uv(){var e=ut.H;return ut.H=Su,e===null?Su:e}function cv(){var e=ut.A;return ut.A=mS,e}function ff(){mn=4,Ba||(be&4194048)!==be&&oi.current!==null||(Cl=!0),(qa&134217727)===0&&(Ho&134217727)===0||Ge===null||Fa(Ge,be,ci,!1)}function Jd(e,r,a){var l=Ve;Ve|=2;var h=uv(),p=cv();(Ge!==e||be!==r)&&(uf=null,Ol(e,r)),r=!1;var T=mn;t:do try{if(Be!==0&&ve!==null){var C=ve,L=ui;switch(Be){case 8:$d(),T=6;break t;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var rt=Be;if(Be=0,ui=null,Dl(e,C,L,rt),a&&Cl){T=0;break t}break;default:rt=Be,Be=0,ui=null,Dl(e,C,L,rt)}}yS(),T=mn;break}catch(ht){ov(e,ht)}while(!0);return r&&e.shellSuspendCounter++,qs=ko=null,Ve=l,ut.H=h,ut.A=p,ve===null&&(Ge=null,be=0,Kn()),T}function yS(){for(;ve!==null;)fv(ve)}function vS(e,r){var a=Ve;Ve|=2;var l=uv(),h=cv();Ge!==e||be!==r?(uf=null,lf=zn()+500,Ol(e,r)):Cl=gr(e,r);t:do try{if(Be!==0&&ve!==null){r=ve;var p=ui;e:switch(Be){case 1:Be=0,ui=null,Dl(e,r,p,1);break;case 2:case 9:if(Eg(p)){Be=0,ui=null,hv(r);break}r=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),ps(e)},p.then(r,r);break t;case 3:Be=7;break t;case 4:Be=5;break t;case 7:Eg(p)?(Be=0,ui=null,hv(r)):(Be=0,ui=null,Dl(e,r,p,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var C=ve;if(T?Jv(T):C.stateNode.complete){Be=0,ui=null;var L=C.sibling;if(L!==null)ve=L;else{var rt=C.return;rt!==null?(ve=rt,hf(rt)):ve=null}break e}}Be=0,ui=null,Dl(e,r,p,5);break;case 6:Be=0,ui=null,Dl(e,r,p,6);break;case 8:$d(),mn=6;break t;default:throw Error(s(462))}}_S();break}catch(ht){ov(e,ht)}while(!0);return qs=ko=null,ut.H=l,ut.A=h,Ve=a,ve!==null?0:(Ge=null,be=0,Kn(),mn)}function _S(){for(;ve!==null&&!sl();)fv(ve)}function fv(e){var r=Vy(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,r===null?hf(e):ve=r}function hv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Oy(a,r,r.pendingProps,r.type,void 0,be);break;case 11:r=Oy(a,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:hd(r);default:Ly(a,r),r=ve=cg(r,Zs),r=Vy(a,r,Zs)}e.memoizedProps=e.pendingProps,r===null?hf(e):ve=r}function Dl(e,r,a,l){qs=ko=null,hd(r),_l=null,pu=0;var h=r.return;try{if(oS(e,h,r,a,be)){mn=1,Zc(e,Ci(a,e.current)),ve=null;return}}catch(p){if(h!==null)throw ve=h,p;mn=1,Zc(e,Ci(a,e.current)),ve=null;return}r.flags&32768?(Re||l===1?e=!0:Cl||(be&536870912)!==0?e=!1:(Ba=e=!0,(l===2||l===9||l===3||l===6)&&(l=oi.current,l!==null&&l.tag===13&&(l.flags|=16384))),dv(r,e)):hf(r)}function hf(e){var r=e;do{if((r.flags&32768)!==0){dv(r,Ba);return}e=r.return;var a=cS(r.alternate,r,Zs);if(a!==null){ve=a;return}if(r=r.sibling,r!==null){ve=r;return}ve=r=e}while(r!==null);mn===0&&(mn=5)}function dv(e,r){do{var a=fS(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);mn=6,ve=null}function mv(e,r,a,l,h,p,T,C,L){e.cancelPendingCommit=null;do df();while(Pn!==0);if((Ve&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=ue,To(e,a,p,T,C,L),e===Ge&&(ve=Ge=null,be=0),Il=r,Ka=e,Ws=a,Yd=p,Qd=h,rv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SS(mi,function(){return _v(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=ut.T,ut.T=null,h=Ot.p,Ot.p=2,T=Ve,Ve|=4;try{hS(e,r,a)}finally{Ve=T,Ot.p=h,ut.T=l}}Pn=1,pv(),gv(),yv()}}function pv(){if(Pn===1){Pn=0;var e=Ka,r=Il,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=ut.T,ut.T=null;var l=Ot.p;Ot.p=2;var h=Ve;Ve|=4;try{Xy(r,e);var p=um,T=w(e.containerInfo),C=p.focusedElem,L=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&b(C.ownerDocument.documentElement,C)){if(L!==null&&A(C)){var rt=L.start,ht=L.end;if(ht===void 0&&(ht=rt),"selectionStart"in C)C.selectionStart=rt,C.selectionEnd=Math.min(ht,C.value.length);else{var yt=C.ownerDocument||document,st=yt&&yt.defaultView||window;if(st.getSelection){var ot=st.getSelection(),Ut=C.textContent.length,Qt=Math.min(L.start,Ut),Fe=L.end===void 0?Qt:Math.min(L.end,Ut);!ot.extend&&Qt>Fe&&(T=Fe,Fe=Qt,Qt=T);var Z=g(C,Qt),H=g(C,Fe);if(Z&&H&&(ot.rangeCount!==1||ot.anchorNode!==Z.node||ot.anchorOffset!==Z.offset||ot.focusNode!==H.node||ot.focusOffset!==H.offset)){var nt=yt.createRange();nt.setStart(Z.node,Z.offset),ot.removeAllRanges(),Qt>Fe?(ot.addRange(nt),ot.extend(H.node,H.offset)):(nt.setEnd(H.node,H.offset),ot.addRange(nt))}}}}for(yt=[],ot=C;ot=ot.parentNode;)ot.nodeType===1&&yt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<yt.length;C++){var dt=yt[C];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Af=!!lm,um=lm=null}finally{Ve=h,Ot.p=l,ut.T=a}}e.current=r,Pn=2}}function gv(){if(Pn===2){Pn=0;var e=Ka,r=Il,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=ut.T,ut.T=null;var l=Ot.p;Ot.p=2;var h=Ve;Ve|=4;try{Ky(e,r.alternate,r)}finally{Ve=h,Ot.p=l,ut.T=a}}Pn=3}}function yv(){if(Pn===4||Pn===3){Pn=0,ns();var e=Ka,r=Il,a=Ws,l=rv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pn=5:(Pn=0,Il=Ka=null,vv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ha=null),Ar(a),r=r.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ir,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=ut.T,h=Ot.p,Ot.p=2,ut.T=null;try{for(var p=e.onRecoverableError,T=0;T<l.length;T++){var C=l[T];p(C.value,{componentStack:C.stack})}}finally{ut.T=r,Ot.p=h}}(Ws&3)!==0&&df(),ps(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Xd?Nu++:(Nu=0,Xd=e):Nu=0,Mu(0)}}function vv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,du(r)))}function df(){return pv(),gv(),yv(),_v()}function _v(){if(Pn!==5)return!1;var e=Ka,r=Yd;Yd=0;var a=Ar(Ws),l=ut.T,h=Ot.p;try{Ot.p=32>a?32:a,ut.T=null,a=Qd,Qd=null;var p=Ka,T=Ws;if(Pn=0,Il=Ka=null,Ws=0,(Ve&6)!==0)throw Error(s(331));var C=Ve;if(Ve|=4,tv(p.current),Jy(p,p.current,T,a),Ve=C,Mu(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ir,p)}catch{}return!0}finally{Ot.p=h,ut.T=l,vv(e,r)}}function bv(e,r,a){r=Ci(a,r),r=Rd(e.stateNode,r,2),e=La(e,r,2),e!==null&&(wr(e,2),ps(e))}function qe(e,r,a){if(e.tag===3)bv(e,e,a);else for(;r!==null;){if(r.tag===3){bv(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ha===null||!Ha.has(l))){e=Ci(a,e),a=Ey(2),l=La(r,a,2),l!==null&&(Ty(a,l,r,e),wr(l,2),ps(l));break}}r=r.return}}function Zd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new pS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Kd=!0,h.add(a),e=bS.bind(null,e,r,a),r.then(e,e))}function bS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(be&a)===a&&(mn===4||mn===3&&(be&62914560)===be&&300>zn()-of?(Ve&2)===0&&Ol(e,0):Fd|=a,Rl===be&&(Rl=0)),ps(e)}function Ev(e,r){r===0&&(r=al()),e=We(e,r),e!==null&&(wr(e,r),ps(e))}function ES(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Ev(e,a)}function TS(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Ev(e,a)}function SS(e,r){return en(e,r)}var mf=null,xl=null,Wd=!1,pf=!1,tm=!1,Ga=0;function ps(e){e!==xl&&e.next===null&&(xl===null?mf=xl=e:xl=xl.next=e),pf=!0,Wd||(Wd=!0,AS())}function Mu(e,r){if(!tm&&pf){tm=!0;do for(var a=!1,l=mf;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var T=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-xt(42|e)+1)-1,p&=h&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Av(l,p))}else p=be,p=Qr(l,l===Ge?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||gr(l,p)||(a=!0,Av(l,p));l=l.next}while(a);tm=!1}}function wS(){Tv()}function Tv(){pf=Wd=!1;var e=0;Ga!==0&&VS()&&(e=Ga);for(var r=zn(),a=null,l=mf;l!==null;){var h=l.next,p=Sv(l,r);p===0?(l.next=null,a===null?mf=h:a.next=h,h===null&&(xl=a)):(a=l,(e!==0||(p&3)!==0)&&(pf=!0)),l=h}Pn!==0&&Pn!==5||Mu(e),Ga!==0&&(Ga=0)}function Sv(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-xt(p),C=1<<T,L=h[T];L===-1?((C&a)===0||(C&l)!==0)&&(h[T]=au(C,r)):L<=r&&(e.expiredLanes|=C),p&=~C}if(r=Ge,a=be,a=Qr(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&kn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&kn(l),Ar(a)){case 2:case 8:a=Yr;break;case 32:a=mi;break;case 268435456:a=ma;break;default:a=mi}return l=wv.bind(null,e),a=en(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&kn(l),e.callbackPriority=2,e.callbackNode=null,2}function wv(e,r){if(Pn!==0&&Pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(df()&&e.callbackNode!==a)return null;var l=be;return l=Qr(e,e===Ge?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sv(e,l,r),Sv(e,zn()),e.callbackNode!=null&&e.callbackNode===a?wv.bind(null,e):null)}function Av(e,r){if(df())return null;sv(e,r,!0)}function AS(){LS(function(){(Ve&6)!==0?en(Gr,wS):Tv()})}function em(){if(Ga===0){var e=gl;e===0&&(e=Ct,Ct<<=1,(Ct&261888)===0&&(Ct=256)),Ga=e}return Ga}function Cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ni(""+e)}function Rv(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function CS(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var p=Cv((h[Ye]||null).action),T=l.submitter;T&&(r=(r=T[Ye]||null)?Cv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var C=new bi("action","action",null,l,h);e.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var L=T?Rv(h,T):new FormData(h);Ed(a,{pending:!0,data:L,method:h.method,action:p},null,L)}}else typeof p=="function"&&(C.preventDefault(),L=T?Rv(h,T):new FormData(h),Ed(a,{pending:!0,data:L,method:h.method,action:p},p,L))},currentTarget:h}]})}}for(var nm=0;nm<It.length;nm++){var rm=It[nm],RS=rm.toLowerCase(),IS=rm[0].toUpperCase()+rm.slice(1);Tt(RS,"on"+IS)}Tt(et,"onAnimationEnd"),Tt(it,"onAnimationIteration"),Tt(ct,"onAnimationStart"),Tt("dblclick","onDoubleClick"),Tt("focusin","onFocus"),Tt("focusout","onBlur"),Tt(gt,"onTransitionRun"),Tt(St,"onTransitionStart"),Tt(Dt,"onTransitionCancel"),Tt(Et,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function Iv(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var C=l[T],L=C.instance,rt=C.currentTarget;if(C=C.listener,L!==p&&h.isPropagationStopped())break t;p=C,h.currentTarget=rt;try{p(h)}catch(ht){Mt(ht)}h.currentTarget=null,p=L}else for(T=0;T<l.length;T++){if(C=l[T],L=C.instance,rt=C.currentTarget,C=C.listener,L!==p&&h.isPropagationStopped())break t;p=C,h.currentTarget=rt;try{p(h)}catch(ht){Mt(ht)}h.currentTarget=null,p=L}}}}function _e(e,r){var a=r[Bi];a===void 0&&(a=r[Bi]=new Set);var l=e+"__bubble";a.has(l)||(Ov(r,e,2,!1),a.add(l))}function im(e,r,a){var l=0;r&&(l|=4),Ov(a,e,l,r)}var gf="_reactListening"+Math.random().toString(36).slice(2);function sm(e){if(!e[gf]){e[gf]=!0,yi.forEach(function(a){a!=="selectionchange"&&(OS.has(a)||im(a,!1,e),im(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[gf]||(r[gf]=!0,im("selectionchange",!1,r))}}function Ov(e,r,a,l){switch(i_(r)){case 2:var h=rw;break;case 8:h=iw;break;default:h=bm}a=h.bind(null,r,a,e),h=void 0,!ks||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function am(e,r,a,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=l.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=Cr(C),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){l=p=T;continue t}C=C.parentNode}}l=l.return}xr(function(){var rt=p,ht=yr(a),yt=[];t:{var st=At.get(e);if(st!==void 0){var ot=bi,Ut=e;switch(e){case"keypress":if(Fi(a)===0)break t;case"keydown":case"keyup":ot=Ls;break;case"focusin":Ut="focus",ot=Si;break;case"focusout":Ut="blur",ot=Si;break;case"beforeblur":case"afterblur":ot=Si;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=v;break;case et:case it:case ct:ot=Ro;break;case Et:ot=I;break;case"scroll":case"scrollend":ot=os;break;case"wheel":ot=at;break;case"copy":case"cut":case"paste":ot=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=wi;break;case"toggle":case"beforetoggle":ot=re}var Qt=(r&4)!==0,Fe=!Qt&&(e==="scroll"||e==="scrollend"),Z=Qt?st!==null?st+"Capture":null:st;Qt=[];for(var H=rt,nt;H!==null;){var dt=H;if(nt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||nt===null||Z===null||(dt=vr(H,Z),dt!=null&&Qt.push(Vu(H,dt,nt))),Fe)break;H=H.return}0<Qt.length&&(st=new ot(st,Ut,null,a,ht),yt.push({event:st,listeners:Qt}))}}if((r&7)===0){t:{if(st=e==="mouseover"||e==="pointerover",ot=e==="mouseout"||e==="pointerout",st&&a!==Dr&&(Ut=a.relatedTarget||a.fromElement)&&(Cr(Ut)||Ut[Vn]))break t;if((ot||st)&&(st=ht.window===ht?ht:(st=ht.ownerDocument)?st.defaultView||st.parentWindow:window,ot?(Ut=a.relatedTarget||a.toElement,ot=rt,Ut=Ut?Cr(Ut):null,Ut!==null&&(Fe=u(Ut),Qt=Ut.tag,Ut!==Fe||Qt!==5&&Qt!==27&&Qt!==6)&&(Ut=null)):(ot=null,Ut=rt),ot!==Ut)){if(Qt=Vs,dt="onMouseLeave",Z="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Qt=wi,dt="onPointerLeave",Z="onPointerEnter",H="pointer"),Fe=ot==null?st:vn(ot),nt=Ut==null?st:vn(Ut),st=new Qt(dt,H+"leave",ot,a,ht),st.target=Fe,st.relatedTarget=nt,dt=null,Cr(ht)===rt&&(Qt=new Qt(Z,H+"enter",Ut,a,ht),Qt.target=nt,Qt.relatedTarget=Fe,dt=Qt),Fe=dt,ot&&Ut)e:{for(Qt=DS,Z=ot,H=Ut,nt=0,dt=Z;dt;dt=Qt(dt))nt++;dt=0;for(var Kt=H;Kt;Kt=Qt(Kt))dt++;for(;0<nt-dt;)Z=Qt(Z),nt--;for(;0<dt-nt;)H=Qt(H),dt--;for(;nt--;){if(Z===H||H!==null&&Z===H.alternate){Qt=Z;break e}Z=Qt(Z),H=Qt(H)}Qt=null}else Qt=null;ot!==null&&Dv(yt,st,ot,Qt,!1),Ut!==null&&Fe!==null&&Dv(yt,Fe,Ut,Qt,!0)}}t:{if(st=rt?vn(rt):window,ot=st.nodeName&&st.nodeName.toLowerCase(),ot==="select"||ot==="input"&&st.type==="file")var Ne=Do;else if(ul(st))if(Ai)Ne=Da;else{Ne=js;var zt=Nc}else ot=st.nodeName,!ot||ot.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?rt&&_a(rt.elementType)&&(Ne=Do):Ne=uu;if(Ne&&(Ne=Ne(e,rt))){lu(yt,Ne,a,ht);break t}zt&&zt(e,st,rt),e==="focusout"&&rt&&st.type==="number"&&rt.memoizedProps.value!=null&&Ms(st,"number",st.value)}switch(zt=rt?vn(rt):window,e){case"focusin":(ul(zt)||zt.contentEditable==="true")&&(x=zt,j=rt,z=null);break;case"focusout":z=j=x=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,U(yt,a,ht);break;case"selectionchange":if(D)break;case"keydown":case"keyup":U(yt,a,ht)}var fe;if(Ce)t:{switch(e){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else Us?cs(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Pr&&a.locale!=="ko"&&(Us||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Us&&(fe=Ki()):(Nr=ht,ba="value"in Nr?Nr.value:Nr.textContent,Us=!0)),zt=yf(rt,Ee),0<zt.length&&(Ee=new Mr(Ee,e,null,a,ht),yt.push({event:Ee,listeners:zt}),fe?Ee.data=fe:(fe=Ra(a),fe!==null&&(Ee.data=fe)))),(fe=Vr?Oc(e,a):jh(e,a))&&(Ee=yf(rt,"onBeforeInput"),0<Ee.length&&(zt=new Mr("onBeforeInput","beforeinput",null,a,ht),yt.push({event:zt,listeners:Ee}),zt.data=fe)),CS(yt,e,rt,a,ht)}Iv(yt,r)})}function Vu(e,r,a){return{instance:e,listener:r,currentTarget:a}}function yf(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=vr(e,a),h!=null&&l.unshift(Vu(e,h,p)),h=vr(e,r),h!=null&&l.push(Vu(e,h,p))),e.tag===3)return l;e=e.return}return[]}function DS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dv(e,r,a,l,h){for(var p=r._reactName,T=[];a!==null&&a!==l;){var C=a,L=C.alternate,rt=C.stateNode;if(C=C.tag,L!==null&&L===l)break;C!==5&&C!==26&&C!==27||rt===null||(L=rt,h?(rt=vr(a,p),rt!=null&&T.unshift(Vu(a,rt,L))):h||(rt=vr(a,p),rt!=null&&T.push(Vu(a,rt,L)))),a=a.return}T.length!==0&&e.push({event:r,listeners:T})}var xS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(xS,`
`).replace(NS,"")}function Nv(e,r){return r=xv(r),xv(e)===r}function Ke(e,r,a,l,h,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(e,""+l);break;case"className":ar(e,"class",l);break;case"tabIndex":ar(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,a,l);break;case"style":va(e,l,p);break;case"data":if(r!=="object"){ar(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ni(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ke(e,r,"name",h.name,h,null),Ke(e,r,"formEncType",h.formEncType,h,null),Ke(e,r,"formMethod",h.formMethod,h,null),Ke(e,r,"formTarget",h.formTarget,h,null)):(Ke(e,r,"encType",h.encType,h,null),Ke(e,r,"method",h.method,h,null),Ke(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ni(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=or);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ni(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":_e("beforetoggle",e),_e("toggle",e),le(e,"popover",l);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":le(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ll.get(a)||a,le(e,a,l))}}function om(e,r,a,l,h,p){switch(a){case"style":va(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$n(e,l):(typeof l=="number"||typeof l=="bigint")&&$n(e,""+l);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),p=e[Ye]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(r,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):le(e,a,l)}}}function tr(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(e,r,p,T,a,null)}}h&&Ke(e,r,"srcSet",a.srcSet,a,null),l&&Ke(e,r,"src",a.src,a,null);return;case"input":_e("invalid",e);var C=p=T=h=null,L=null,rt=null;for(l in a)if(a.hasOwnProperty(l)){var ht=a[l];if(ht!=null)switch(l){case"name":h=ht;break;case"type":T=ht;break;case"checked":L=ht;break;case"defaultChecked":rt=ht;break;case"value":p=ht;break;case"defaultValue":C=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,r));break;default:Ke(e,r,l,ht,a,null)}}ya(e,p,C,L,rt,T,h,!1);return;case"select":_e("invalid",e),l=T=p=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:Ke(e,r,h,C,a,null)}r=p,a=T,e.multiple=!!l,r!=null?ti(e,!!l,r,!1):a!=null&&ti(e,!!l,a,!0);return;case"textarea":_e("invalid",e),p=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ke(e,r,T,C,a,null)}ei(e,l,h,p);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(e,r,L,l,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(l=0;l<ku.length;l++)_e(ku[l],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in a)if(a.hasOwnProperty(rt)&&(l=a[rt],l!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(e,r,rt,l,a,null)}return;default:if(_a(r)){for(ht in a)a.hasOwnProperty(ht)&&(l=a[ht],l!==void 0&&om(e,r,ht,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ke(e,r,C,l,a,null))}function MS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,C=null,L=null,rt=null,ht=null;for(ot in a){var yt=a[ot];if(a.hasOwnProperty(ot)&&yt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":L=yt;default:l.hasOwnProperty(ot)||Ke(e,r,ot,null,l,yt)}}for(var st in l){var ot=l[st];if(yt=a[st],l.hasOwnProperty(st)&&(ot!=null||yt!=null))switch(st){case"type":p=ot;break;case"name":h=ot;break;case"checked":rt=ot;break;case"defaultChecked":ht=ot;break;case"value":T=ot;break;case"defaultValue":C=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(s(137,r));break;default:ot!==yt&&Ke(e,r,st,ot,l,yt)}}Wr(e,T,C,L,rt,ht,p,h);return;case"select":ot=T=C=st=null;for(p in a)if(L=a[p],a.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ot=L;default:l.hasOwnProperty(p)||Ke(e,r,p,null,l,L)}for(h in l)if(p=l[h],L=a[h],l.hasOwnProperty(h)&&(p!=null||L!=null))switch(h){case"value":st=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==L&&Ke(e,r,h,p,l,L)}r=C,a=T,l=ot,st!=null?ti(e,!!a,st,!1):!!l!=!!a&&(r!=null?ti(e,!!a,r,!0):ti(e,!!a,a?[]:"",!1));return;case"textarea":ot=st=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ke(e,r,C,null,l,h)}for(T in l)if(h=l[T],p=a[T],l.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":st=h;break;case"defaultValue":ot=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Ke(e,r,T,h,l,p)}Ao(e,st,ot);return;case"option":for(var Ut in a)if(st=a[Ut],a.hasOwnProperty(Ut)&&st!=null&&!l.hasOwnProperty(Ut))switch(Ut){case"selected":e.selected=!1;break;default:Ke(e,r,Ut,null,l,st)}for(L in l)if(st=l[L],ot=a[L],l.hasOwnProperty(L)&&st!==ot&&(st!=null||ot!=null))switch(L){case"selected":e.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Ke(e,r,L,st,l,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in a)st=a[Qt],a.hasOwnProperty(Qt)&&st!=null&&!l.hasOwnProperty(Qt)&&Ke(e,r,Qt,null,l,st);for(rt in l)if(st=l[rt],ot=a[rt],l.hasOwnProperty(rt)&&st!==ot&&(st!=null||ot!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:Ke(e,r,rt,st,l,ot)}return;default:if(_a(r)){for(var Fe in a)st=a[Fe],a.hasOwnProperty(Fe)&&st!==void 0&&!l.hasOwnProperty(Fe)&&om(e,r,Fe,void 0,l,st);for(ht in l)st=l[ht],ot=a[ht],!l.hasOwnProperty(ht)||st===ot||st===void 0&&ot===void 0||om(e,r,ht,st,l,ot);return}}for(var Z in a)st=a[Z],a.hasOwnProperty(Z)&&st!=null&&!l.hasOwnProperty(Z)&&Ke(e,r,Z,null,l,st);for(yt in l)st=l[yt],ot=a[yt],!l.hasOwnProperty(yt)||st===ot||st==null&&ot==null||Ke(e,r,yt,st,l,ot)}function Mv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],p=h.transferSize,T=h.initiatorType,C=h.duration;if(p&&C&&Mv(T)){for(T=0,C=h.responseEnd,l+=1;l<a.length;l++){var L=a[l],rt=L.startTime;if(rt>C)break;var ht=L.transferSize,yt=L.initiatorType;ht&&Mv(yt)&&(L=L.responseEnd,T+=ht*(L<C?1:(C-rt)/(L-rt)))}if(--l,r+=8*(p+T)/(h.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lm=null,um=null;function vf(e){return e.nodeType===9?e:e.ownerDocument}function kv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function cm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function VS(){var e=window.event;return e&&e.type==="popstate"?e===fm?!1:(fm=e,!0):(fm=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(e){return Lv.resolve(null).then(e).catch(US)}:Pv;function US(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Uv(e,r){var a=r,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Vl(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pu(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Pu(a);for(var p=a.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[Bn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=T}}else a==="body"&&Pu(e.ownerDocument.body);a=h}while(a);Vl(r)}function jv(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function hm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jS(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Bn])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=xi(e.nextSibling),e===null)break}return null}function zS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xi(e.nextSibling),e===null))return null;return e}function zv(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xi(e.nextSibling),e===null))return null;return e}function dm(e){return e.data==="$?"||e.data==="$~"}function mm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BS(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var pm=null;function Bv(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return xi(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function qv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function Hv(e,r,a){switch(r=vf(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Pu(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ns(e)}var Ni=new Map,Kv=new Set;function _f(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ta=Ot.d;Ot.d={f:qS,r:HS,D:KS,C:FS,L:GS,m:YS,X:XS,S:QS,M:$S};function qS(){var e=ta.f(),r=cf();return e||r}function HS(e){var r=Ie(e);r!==null&&r.tag===5&&r.type==="form"?oy(r):ta.r(e)}var Nl=typeof document>"u"?null:document;function Fv(e,r,a){var l=Nl;if(l&&typeof r=="string"&&r){var h=An(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Kv.has(h)||(Kv.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),tr(r,"link",e),rn(r),l.head.appendChild(r)))}}function KS(e){ta.D(e),Fv("dns-prefetch",e,null)}function FS(e,r){ta.C(e,r),Fv("preconnect",e,r)}function GS(e,r,a){ta.L(e,r,a);var l=Nl;if(l&&e&&r){var h='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(e)+'"]';var p=h;switch(r){case"style":p=Ml(e);break;case"script":p=kl(e)}Ni.has(p)||(e=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Ni.set(p,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Lu(p))||r==="script"&&l.querySelector(Uu(p))||(r=l.createElement("link"),tr(r,"link",e),rn(r),l.head.appendChild(r)))}}function YS(e,r){ta.m(e,r);var a=Nl;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(e)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=kl(e)}if(!Ni.has(p)&&(e=O({rel:"modulepreload",href:e},r),Ni.set(p,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uu(p)))return}l=a.createElement("link"),tr(l,"link",e),rn(l),a.head.appendChild(l)}}}function QS(e,r,a){ta.S(e,r,a);var l=Nl;if(l&&e){var h=wn(l).hoistableStyles,p=Ml(e);r=r||"default";var T=h.get(p);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(Lu(p)))C.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Ni.get(p))&&gm(e,a);var L=T=l.createElement("link");rn(L),tr(L,"link",e),L._p=new Promise(function(rt,ht){L.onload=rt,L.onerror=ht}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,bf(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(p,T)}}}function XS(e,r){ta.X(e,r);var a=Nl;if(a&&e){var l=wn(a).hoistableScripts,h=kl(e),p=l.get(h);p||(p=a.querySelector(Uu(h)),p||(e=O({src:e,async:!0},r),(r=Ni.get(h))&&ym(e,r),p=a.createElement("script"),rn(p),tr(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function $S(e,r){ta.M(e,r);var a=Nl;if(a&&e){var l=wn(a).hoistableScripts,h=kl(e),p=l.get(h);p||(p=a.querySelector(Uu(h)),p||(e=O({src:e,async:!0,type:"module"},r),(r=Ni.get(h))&&ym(e,r),p=a.createElement("script"),rn(p),tr(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Gv(e,r,a,l){var h=(h=Jt.current)?_f(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ml(a.href),a=wn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ml(a.href);var p=wn(h).hoistableStyles,T=p.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=h.querySelector(Lu(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Ni.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ni.set(e,a),p||JS(h,e,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=kl(a),a=wn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ml(e){return'href="'+An(e)+'"'}function Lu(e){return'link[rel="stylesheet"]['+e+"]"}function Yv(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function JS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tr(r,"link",a),rn(r),e.head.appendChild(r))}function kl(e){return'[src="'+An(e)+'"]'}function Uu(e){return"script[async]"+e}function Qv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,rn(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rn(l),tr(l,"style",h),bf(l,a.precedence,e),r.instance=l;case"stylesheet":h=Ml(a.href);var p=e.querySelector(Lu(h));if(p)return r.state.loading|=4,r.instance=p,rn(p),p;l=Yv(a),(h=Ni.get(h))&&gm(l,h),p=(e.ownerDocument||e).createElement("link"),rn(p);var T=p;return T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),tr(p,"link",l),r.state.loading|=4,bf(p,a.precedence,e),r.instance=p;case"script":return p=kl(a.src),(h=e.querySelector(Uu(p)))?(r.instance=h,rn(h),h):(l=a,(h=Ni.get(p))&&(l=O({},a),ym(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),rn(h),tr(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,bf(l,a.precedence,e));return r.instance}function bf(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===r)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function gm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function ym(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Ef=null;function Xv(e,r,a){if(Ef===null){var l=new Map,h=Ef=new Map;h.set(a,l)}else h=Ef,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var p=a[h];if(!(p[Bn]||p[Ue]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=e+T;var C=l.get(T);C?C.push(p):l.set(T,[p])}}return l}function $v(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function ZS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function WS(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ml(l.href),p=r.querySelector(Lu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Tf.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=p,rn(p);return}p=r.ownerDocument||r,l=Yv(l),(h=Ni.get(h))&&gm(l,h),p=p.createElement("link"),rn(p);var T=p;T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),tr(p,"link",l),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tf.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var vm=0;function tw(e,r){return e.stylesheets&&e.count===0&&wf(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&wf(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+r);0<e.imgBytes&&vm===0&&(vm=62500*kS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wf(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>vm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sf=null;function wf(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sf=new Map,r.forEach(ew,e),Sf=null,Tf.call(e))}function ew(e,r){if(!(r.state.loading&4)){var a=Sf.get(e);if(a)var l=a.get(null);else{a=new Map,Sf.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,h),a.set(T,h),this.count++,l=Tf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var ju={$$typeof:Vt,Provider:null,Consumer:null,_currentValue:jt,_currentValue2:jt,_threadCount:0};function nw(e,r,a,l,h,p,T,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Zv(e,r,a,l,h,p,T,C,L,rt,ht,yt){return e=new nw(e,r,a,T,L,rt,ht,yt,C),r=1,p===!0&&(r|=24),p=ai(3,null,null,r),e.current=p,p.stateNode=e,r=Jh(),r.refCount++,e.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},ed(p),e}function Wv(e){return e?(e=Lr,e):Lr}function t_(e,r,a,l,h,p){h=Wv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pa(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=La(e,l,r),a!==null&&(qr(a,e,r),yu(a,e,r))}function e_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function _m(e,r){e_(e,r),(e=e.alternate)&&e_(e,r)}function n_(e){if(e.tag===13||e.tag===31){var r=We(e,67108864);r!==null&&qr(r,e,67108864),_m(e,67108864)}}function r_(e){if(e.tag===13||e.tag===31){var r=fi();r=Ds(r);var a=We(e,r);a!==null&&qr(a,e,r),_m(e,r)}}var Af=!0;function rw(e,r,a,l){var h=ut.T;ut.T=null;var p=Ot.p;try{Ot.p=2,bm(e,r,a,l)}finally{Ot.p=p,ut.T=h}}function iw(e,r,a,l){var h=ut.T;ut.T=null;var p=Ot.p;try{Ot.p=8,bm(e,r,a,l)}finally{Ot.p=p,ut.T=h}}function bm(e,r,a,l){if(Af){var h=Em(l);if(h===null)am(e,r,l,Cf,a),s_(e,l);else if(aw(h,e,r,a,l))l.stopPropagation();else if(s_(e,l),r&4&&-1<sw.indexOf(e)){for(;h!==null;){var p=Ie(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Sr(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var L=1<<31-xt(T);C.entanglements[1]|=L,T&=~L}ps(p),(Ve&6)===0&&(lf=zn()+500,Mu(0))}}break;case 31:case 13:C=We(p,2),C!==null&&qr(C,p,2),cf(),_m(p,2)}if(p=Em(l),p===null&&am(e,r,l,Cf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else am(e,r,l,null,a)}}function Em(e){return e=yr(e),Tm(e)}var Cf=null;function Tm(e){if(Cf=null,e=Cr(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=d(r),e!==null)return e;e=null}else if(a===31){if(e=y(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Cf=e,null}function i_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case Gr:return 2;case Yr:return 8;case mi:case Rs:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Sm=!1,Qa=null,Xa=null,$a=null,zu=new Map,Bu=new Map,Ja=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(e,r){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(r.pointerId)}}function qu(e,r,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ie(r),r!==null&&n_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function aw(e,r,a,l,h){switch(r){case"focusin":return Qa=qu(Qa,e,r,a,l,h),!0;case"dragenter":return Xa=qu(Xa,e,r,a,l,h),!0;case"mouseover":return $a=qu($a,e,r,a,l,h),!0;case"pointerover":var p=h.pointerId;return zu.set(p,qu(zu.get(p)||null,e,r,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Bu.set(p,qu(Bu.get(p)||null,e,r,a,l,h)),!0}return!1}function a_(e){var r=Cr(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){e.blockedOn=r,sr(e.priority,function(){r_(a)});return}}else if(r===31){if(r=y(a),r!==null){e.blockedOn=r,sr(e.priority,function(){r_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rf(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Em(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Dr=l,a.target.dispatchEvent(l),Dr=null}else return r=Ie(a),r!==null&&n_(r),e.blockedOn=a,!1;r.shift()}return!0}function o_(e,r,a){Rf(e)&&a.delete(r)}function ow(){Sm=!1,Qa!==null&&Rf(Qa)&&(Qa=null),Xa!==null&&Rf(Xa)&&(Xa=null),$a!==null&&Rf($a)&&($a=null),zu.forEach(o_),Bu.forEach(o_)}function If(e,r){e.blockedOn===r&&(e.blockedOn=null,Sm||(Sm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ow)))}var Of=null;function l_(e){Of!==e&&(Of=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Of===e&&(Of=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var p=Ie(a);p!==null&&(e.splice(r,3),r-=3,Ed(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(e){function r(L){return If(L,e)}Qa!==null&&If(Qa,e),Xa!==null&&If(Xa,e),$a!==null&&If($a,e),zu.forEach(r),Bu.forEach(r);for(var a=0;a<Ja.length;a++){var l=Ja[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ja.length&&(a=Ja[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&Ja.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],T=h[Ye]||null;if(typeof p=="function")T||l_(a);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[Ye]||null)C=T.formAction;else if(Tm(h)!==null)continue}else C=T.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),l_(a)}}}function u_(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function wm(e){this._internalRoot=e}Df.prototype.render=wm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=fi();t_(a,l,e,r,null,null)},Df.prototype.unmount=wm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;t_(e.current,2,null,e,null,null),cf(),r[Vn]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var r=xs();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Ja.length&&r!==0&&r<Ja[a].priority;a++);Ja.splice(a,0,e),a===0&&a_(e)}};var c_=t.version;if(c_!=="19.2.0")throw Error(s(527,c_,"19.2.0"));Ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=E(r),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var lw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ut,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{ir=xf.inject(lw),gn=xf}catch{}}return Ku.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=yy,p=vy,T=_y;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Zv(e,1,!1,null,null,a,l,null,h,p,T,u_),e[Vn]=r.current,sm(e),new wm(r)},Ku.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",p=yy,T=vy,C=_y,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),r=Zv(e,1,!0,r,a??null,l,h,L,p,T,C,u_),r.context=Wv(null),a=r.current,l=fi(),l=Ds(l),h=Pa(l),h.callback=null,La(a,h,l),a=l,r.current.lanes=a,wr(r,a),ps(r),e[Vn]=r.current,sm(e),new Df(r)},Ku.version="19.2.0",Ku}var b_;function bw(){if(b_)return Rm.exports;b_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Rm.exports=_w(),Rm.exports}var Ew=bw();const Tw=gp(Ew);var zf={exports:{}},Sw=zf.exports,E_;function ww(){return E_||(E_=1,(function(i,t){(function(n,s){i.exports=s()})(Sw,function(){var n=function(f,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])})(f,m)},s=function(){return(s=Object.assign||function(f){for(var m,g=1,b=arguments.length;g<b;g++)for(var w in m=arguments[g])Object.prototype.hasOwnProperty.call(m,w)&&(f[w]=m[w]);return f}).apply(this,arguments)};function o(f,m,g){for(var b,w=0,A=m.length;w<A;w++)!b&&w in m||((b=b||Array.prototype.slice.call(m,0,w))[w]=m[w]);return f.concat(b||Array.prototype.slice.call(m))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cw,d=Object.keys,y=Array.isArray;function _(f,m){return typeof m!="object"||d(m).forEach(function(g){f[g]=m[g]}),f}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var E=Object.getPrototypeOf,R={}.hasOwnProperty;function O(f,m){return R.call(f,m)}function V(f,m){typeof m=="function"&&(m=m(E(f))),(typeof Reflect>"u"?d:Reflect.ownKeys)(m).forEach(function(g){lt(f,g,m[g])})}var W=Object.defineProperty;function lt(f,m,g,b){W(f,m,_(g&&O(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},b))}function mt(f){return{from:function(m){return f.prototype=Object.create(m.prototype),lt(f.prototype,"constructor",f),{extend:V.bind(null,f.prototype)}}}}var _t=Object.getOwnPropertyDescriptor,qt=[].slice;function Ft(f,m,g){return qt.call(f,m,g)}function Vt(f,m){return m(f)}function oe(f){if(!f)throw new Error("Assertion Failed")}function ke(f){u.setImmediate?setImmediate(f):setTimeout(f,0)}function ne(f,m){if(typeof m=="string"&&O(f,m))return f[m];if(!m)return f;if(typeof m!="string"){for(var g=[],b=0,w=m.length;b<w;++b){var A=ne(f,m[b]);g.push(A)}return g}var D=m.indexOf(".");if(D!==-1){var x=f[m.substr(0,D)];return x==null?void 0:ne(x,m.substr(D+1))}}function k(f,m,g){if(f&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof m!="string"&&"length"in m){oe(typeof g!="string"&&"length"in g);for(var b=0,w=m.length;b<w;++b)k(f,m[b],g[b])}else{var A,D,x=m.indexOf(".");x!==-1?(A=m.substr(0,x),(D=m.substr(x+1))===""?g===void 0?y(f)&&!isNaN(parseInt(A))?f.splice(A,1):delete f[A]:f[A]=g:k(x=!(x=f[A])||!O(f,A)?f[A]={}:x,D,g)):g===void 0?y(f)&&!isNaN(parseInt(m))?f.splice(m,1):delete f[m]:f[m]=g}}function N(f){var m,g={};for(m in f)O(f,m)&&(g[m]=f[m]);return g}var P=[].concat;function Y(f){return P.apply([],f)}var Gr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(m){return m+f+"Array"})}))).filter(function(f){return u[f]}),q=new Set(Gr.map(function(f){return u[f]})),J=null;function M(f){return J=new WeakMap,f=(function m(g){if(!g||typeof g!="object")return g;var b=J.get(g);if(b)return b;if(y(g)){b=[],J.set(g,b);for(var w=0,A=g.length;w<A;++w)b.push(m(g[w]))}else if(q.has(g.constructor))b=g;else{var D,x=E(g);for(D in b=x===Object.prototype?{}:Object.create(x),J.set(g,b),g)O(g,D)&&(b[D]=m(g[D]))}return b})(f),J=null,f}var $t={}.toString;function Wt(f){return $t.call(f).slice(8,-1)}var ut=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ot=typeof ut=="symbol"?function(f){var m;return f!=null&&(m=f[ut])&&m.apply(f)}:function(){return null};function jt(f,m){return m=f.indexOf(m),0<=m&&f.splice(m,1),0<=m}var he={};function de(f){var m,g,b,w;if(arguments.length===1){if(y(f))return f.slice();if(this===he&&typeof f=="string")return[f];if(w=Ot(f)){for(g=[];!(b=w.next()).done;)g.push(b.value);return g}if(f==null)return[f];if(typeof(m=f.length)!="number")return[f];for(g=new Array(m);m--;)g[m]=f[m];return g}for(m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return g}var K=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Fr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Fr),pt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rt(f,m){this.name=f,this.message=m}function kt(f,m){return f+". Errors: "+Object.keys(m).map(function(g){return m[g].toString()}).filter(function(g,b,w){return w.indexOf(g)===b}).join(`
`)}function Yt(f,m,g,b){this.failures=m,this.failedKeys=b,this.successCount=g,this.message=kt(f,m)}function Jt(f,m){this.name="BulkError",this.failures=Object.keys(m).map(function(g){return m[g]}),this.failuresByPos=m,this.message=kt(f,this.failures)}mt(Rt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),mt(Yt).from(Rt),mt(Jt).from(Rt);var pe=br.reduce(function(f,m){return f[m]=m+"Error",f},{}),pn=Rt,Nt=br.reduce(function(f,m){var g=m+"Error";function b(w,A){this.name=g,w?typeof w=="string"?(this.message="".concat(w).concat(A?`
 `+A:""),this.inner=A||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=pt[m]||g,this.inner=null)}return mt(b).from(pn),f[m]=b,f},{});Nt.Syntax=SyntaxError,Nt.Type=TypeError,Nt.Range=RangeError;var es=Fr.reduce(function(f,m){return f[m+"Error"]=Nt[m],f},{}),ji=br.reduce(function(f,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(f[m+"Error"]=Nt[m]),f},{});function Ae(){}function hi(f){return f}function di(f,m){return f==null||f===hi?m:function(g){return m(f(g))}}function Kr(f,m){return function(){f.apply(this,arguments),m.apply(this,arguments)}}function Cs(f,m){return f===Ae?m:function(){var g=f.apply(this,arguments);g!==void 0&&(arguments[0]=g);var b=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var A=m.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Kr(b,this.onsuccess):b),w&&(this.onerror=this.onerror?Kr(w,this.onerror):w),A!==void 0?A:g}}function bo(f,m){return f===Ae?m:function(){f.apply(this,arguments);var g=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?Kr(g,this.onsuccess):g),b&&(this.onerror=this.onerror?Kr(b,this.onerror):b)}}function Eo(f,m){return f===Ae?m:function(g){var b=f.apply(this,arguments);_(g,b);var w=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,g=m.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?Kr(w,this.onsuccess):w),A&&(this.onerror=this.onerror?Kr(A,this.onerror):A),b===void 0?g===void 0?void 0:g:_(b,g)}}function fn(f,m){return f===Ae?m:function(){return m.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function en(f,m){return f===Ae?m:function(){var g=f.apply(this,arguments);if(g&&typeof g.then=="function"){for(var b=this,w=arguments.length,A=new Array(w);w--;)A[w]=arguments[w];return g.then(function(){return m.apply(b,A)})}return m.apply(this,arguments)}}ji.ModifyError=Yt,ji.DexieError=Rt,ji.BulkError=Jt;var kn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function sl(f){kn=f}var ns={},zn=100,Gr=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,E(f),f];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,E(m),f]})(),Fr=Gr[0],br=Gr[1],Gr=Gr[2],br=br&&br.then,Yr=Fr&&Fr.constructor,mi=!!Gr,Rs=function(f,m){rs.push([f,m]),Is&&(queueMicrotask(al),Is=!1)},ma=!0,Is=!0,pi=[],ir=[],gn=hi,yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ae,pgp:!1,env:{},finalize:Ae},xt=yn,rs=[],Tr=0,Os=[];function Ct(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=xt;if(typeof f!="function"){if(f!==ns)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Sr(this,this._value))}this._state=null,this._value=null,++m.ref,(function g(b,w){try{w(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var D=b._lib&&Xn();A&&typeof A.then=="function"?g(b,function(x,j){A instanceof Ct?A._then(x,j):A.then(x,j)}):(b._state=!0,b._value=A,Qr(b)),D&&wr()}},Sr.bind(null,b))}catch(A){Sr(b,A)}})(this,f)}var zi={get:function(){var f=xt,m=sr;function g(b,w){var A=this,D=!f.global&&(f!==xt||m!==sr),x=D&&!Vn(),j=new Ct(function(z,Q){gr(A,new nn(Ns(b,f,D,x),Ns(w,f,D,x),z,Q,f))});return this._consoleTask&&(j._consoleTask=this._consoleTask),j}return g.prototype=ns,g},set:function(f){lt(this,"then",f&&f.prototype===ns?zi:{get:function(){return f},set:zi.set})}};function nn(f,m,g,b,w){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof m=="function"?m:null,this.resolve=g,this.reject=b,this.psd=w}function Sr(f,m){var g,b;ir.push(m),f._state===null&&(g=f._lib&&Xn(),m=gn(m),f._state=!1,f._value=m,b=f,pi.some(function(w){return w._value===b._value})||pi.push(b),Qr(f),g&&wr())}function Qr(f){var m=f._listeners;f._listeners=[];for(var g=0,b=m.length;g<b;++g)gr(f,m[g]);var w=f._PSD;--w.ref||w.finalize(),Tr===0&&(++Tr,Rs(function(){--Tr==0&&To()},[]))}function gr(f,m){if(f._state!==null){var g=f._state?m.onFulfilled:m.onRejected;if(g===null)return(f._state?m.resolve:m.reject)(f._value);++m.psd.ref,++Tr,Rs(au,[g,f,m])}else f._listeners.push(m)}function au(f,m,g){try{var b,w=m._value;!m._state&&ir.length&&(ir=[]),b=kn&&m._consoleTask?m._consoleTask.run(function(){return f(w)}):f(w),m._state||ir.indexOf(w)!==-1||(function(A){for(var D=pi.length;D;)if(pi[--D]._value===A._value)return pi.splice(D,1)})(m),g.resolve(b)}catch(A){g.reject(A)}finally{--Tr==0&&To(),--g.psd.ref||g.psd.finalize()}}function al(){Bn(yn,function(){Xn()&&wr()})}function Xn(){var f=ma;return Is=ma=!1,f}function wr(){var f,m,g;do for(;0<rs.length;)for(f=rs,rs=[],g=f.length,m=0;m<g;++m){var b=f[m];b[0].apply(null,b[1])}while(0<rs.length);Is=ma=!0}function To(){var f=pi;pi=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var m=Os.slice(0),g=m.length;g;)m[--g]()}function gi(f){return new Ct(ns,!1,f)}function Pe(f,m){var g=xt;return function(){var b=Xn(),w=xt;try{return $r(g,!0),f.apply(this,arguments)}catch(A){m&&m(A)}finally{$r(w,!1),b&&wr()}}}V(Ct.prototype,{then:zi,_then:function(f,m){gr(this,new nn(null,null,f,m,xt))},catch:function(f){if(arguments.length===1)return this.then(null,f);var m=f,g=arguments[1];return typeof m=="function"?this.then(null,function(b){return(b instanceof m?g:gi)(b)}):this.then(null,function(b){return(b&&b.name===m?g:gi)(b)})},finally:function(f){return this.then(function(m){return Ct.resolve(f()).then(function(){return m})},function(m){return Ct.resolve(f()).then(function(){return gi(m)})})},timeout:function(f,m){var g=this;return f<1/0?new Ct(function(b,w){var A=setTimeout(function(){return w(new Nt.Timeout(m))},f);g.then(b,w).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&lt(Ct.prototype,Symbol.toStringTag,"Dexie.Promise"),yn.env=So(),V(Ct,{all:function(){var f=de.apply(null,arguments).map(Bi);return new Ct(function(m,g){f.length===0&&m([]);var b=f.length;f.forEach(function(w,A){return Ct.resolve(w).then(function(D){f[A]=D,--b||m(f)},g)})})},resolve:function(f){return f instanceof Ct?f:f&&typeof f.then=="function"?new Ct(function(m,g){f.then(m,g)}):new Ct(ns,!0,f)},reject:gi,race:function(){var f=de.apply(null,arguments).map(Bi);return new Ct(function(m,g){f.map(function(b){return Ct.resolve(b).then(m,g)})})},PSD:{get:function(){return xt},set:function(f){return xt=f}},totalEchoes:{get:function(){return sr}},newPSD:Ue,usePSD:Bn,scheduler:{get:function(){return Rs},set:function(f){Rs=f}},rejectionMapper:{get:function(){return gn},set:function(f){gn=f}},follow:function(f,m){return new Ct(function(g,b){return Ue(function(w,A){var D=xt;D.unhandleds=[],D.onunhandled=A,D.finalize=Kr(function(){var x,j=this;x=function(){j.unhandleds.length===0?w():A(j.unhandleds[0])},Os.push(function z(){x(),Os.splice(Os.indexOf(z),1)}),++Tr,Rs(function(){--Tr==0&&To()},[])},D.finalize),f()},m,g,b)})}}),Yr&&(Yr.allSettled&&lt(Ct,"allSettled",function(){var f=de.apply(null,arguments).map(Bi);return new Ct(function(m){f.length===0&&m([]);var g=f.length,b=new Array(g);f.forEach(function(w,A){return Ct.resolve(w).then(function(D){return b[A]={status:"fulfilled",value:D}},function(D){return b[A]={status:"rejected",reason:D}}).then(function(){return--g||m(b)})})})}),Yr.any&&typeof AggregateError<"u"&&lt(Ct,"any",function(){var f=de.apply(null,arguments).map(Bi);return new Ct(function(m,g){f.length===0&&g(new AggregateError([]));var b=f.length,w=new Array(b);f.forEach(function(A,D){return Ct.resolve(A).then(function(x){return m(x)},function(x){w[D]=x,--b||g(new AggregateError(w))})})})}),Yr.withResolvers&&(Ct.withResolvers=Yr.withResolvers));var Ze={awaits:0,echoes:0,id:0},Ds=0,Ar=[],xs=0,sr=0,Xr=0;function Ue(f,m,g,b){var w=xt,A=Object.create(w);return A.parent=w,A.ref=0,A.global=!1,A.id=++Xr,yn.env,A.env=mi?{Promise:Ct,PromiseProp:{value:Ct,configurable:!0,writable:!0},all:Ct.all,race:Ct.race,allSettled:Ct.allSettled,any:Ct.any,resolve:Ct.resolve,reject:Ct.reject}:{},m&&_(A,m),++w.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Bn(A,f,g,b),A.ref===0&&A.finalize(),b}function Ye(){return Ze.id||(Ze.id=++Ds),++Ze.awaits,Ze.echoes+=zn,Ze.id}function Vn(){return!!Ze.awaits&&(--Ze.awaits==0&&(Ze.id=0),Ze.echoes=Ze.awaits*zn,!0)}function Bi(f){return Ze.echoes&&f&&f.constructor===Yr?(Ye(),f.then(function(m){return Vn(),m},function(m){return Vn(),Ie(m)})):f}function ou(){var f=Ar[Ar.length-1];Ar.pop(),$r(f,!1)}function $r(f,m){var g,b=xt;(m?!Ze.echoes||xs++&&f===xt:!xs||--xs&&f===xt)||queueMicrotask(m?(function(w){++sr,Ze.echoes&&--Ze.echoes!=0||(Ze.echoes=Ze.awaits=Ze.id=0),Ar.push(xt),$r(w,!0)}).bind(null,f):ou),f!==xt&&(xt=f,b===yn&&(yn.env=So()),mi&&(g=yn.env.Promise,m=f.env,(b.global||f.global)&&(Object.defineProperty(u,"Promise",m.PromiseProp),g.all=m.all,g.race=m.race,g.resolve=m.resolve,g.reject=m.reject,m.allSettled&&(g.allSettled=m.allSettled),m.any&&(g.any=m.any))))}function So(){var f=u.Promise;return mi?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Bn(f,m,g,b,w){var A=xt;try{return $r(f,!0),m(g,b,w)}finally{$r(A,!1)}}function Ns(f,m,g,b){return typeof f!="function"?f:function(){var w=xt;g&&Ye(),$r(m,!0);try{return f.apply(this,arguments)}finally{$r(w,!1),b&&queueMicrotask(Vn)}}}function Cr(f){Promise===Yr&&Ze.echoes===0?xs===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+br).indexOf("[native code]")===-1&&(Ye=Vn=Ae);var Ie=Ct.reject,vn="",wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rn="String expected.",yi=[],is="__dbnames",Rr="readonly",Ir="readwrite";function Jr(f,m){return f?m?function(){return f.apply(this,arguments)&&m.apply(this,arguments)}:f:m}var pa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ss(f){return typeof f!="string"||/\./.test(f)?function(m){return m}:function(m){return m[f]===void 0&&f in m&&delete(m=M(m))[f],m}}function wo(){throw Nt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function le(f,m){try{var g=ar(f),b=ar(m);if(g!==b)return g==="Array"?1:b==="Array"?-1:g==="binary"?1:b==="binary"?-1:g==="string"?1:b==="string"?-1:g==="Date"?1:b!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return m<f?1:f<m?-1:0;case"binary":return(function(w,A){for(var D=w.length,x=A.length,j=D<x?D:x,z=0;z<j;++z)if(w[z]!==A[z])return w[z]<A[z]?-1:1;return D===x?0:D<x?-1:1})(sn(f),sn(m));case"Array":return(function(w,A){for(var D=w.length,x=A.length,j=D<x?D:x,z=0;z<j;++z){var Q=le(w[z],A[z]);if(Q!==0)return Q}return D===x?0:D<x?-1:1})(f,m)}}catch{}return NaN}function ar(f){var m=typeof f;return m!="object"?m:ArrayBuffer.isView(f)?"binary":(f=Wt(f),f==="ArrayBuffer"?"binary":f)}function sn(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function an(f,m,g){var b=f.schema.yProps;return b?(m&&0<g.numFailures&&(m=m.filter(function(w,A){return!g.failures[A]})),Promise.all(b.map(function(w){return w=w.updatesTable,m?f.db.table(w).where("k").anyOf(m).delete():f.db.table(w).clear()})).then(function(){return g})):g}var Or=(ga.prototype.execute=function(f){var m=this["@@propmod"];if(m.add!==void 0){var g=m.add;if(y(g))return o(o([],y(f)?f:[],!0),g).sort();if(typeof g=="number")return(Number(f)||0)+g;if(typeof g=="bigint")try{return BigInt(f)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(m.remove!==void 0){var b=m.remove;if(y(b))return y(f)?f.filter(function(w){return!b.includes(w)}).sort():[];if(typeof b=="number")return Number(f)-b;if(typeof b=="bigint")try{return BigInt(f)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return g=(g=m.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof f=="string"&&f.startsWith(g)?m.replacePrefix[1]+f.substring(g.length):f},ga);function ga(f){this["@@propmod"]=f}function xe(f,m){for(var g=d(m),b=g.length,w=!1,A=0;A<b;++A){var D=g[A],x=m[D],j=ne(f,D);x instanceof Or?(k(f,D,x.execute(j)),w=!0):j!==x&&(k(f,D,x),w=!0)}return w}var as=(ye.prototype._trans=function(f,m,g){var b=this._tx||xt.trans,w=this.name,A=kn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function D(z,Q,U){if(!U.schema[w])throw new Nt.NotFound("Table "+w+" not part of transaction");return m(U.idbtrans,U)}var x=Xn();try{var j=b&&b.db._novip===this.db._novip?b===xt.trans?b._promise(f,D,g):Ue(function(){return b._promise(f,D,g)},{trans:b,transless:xt.transless||xt}):(function z(Q,U,$,B){if(Q.idbdb&&(Q._state.openComplete||xt.letThrough||Q._vip)){var F=Q._createTransaction(U,$,Q._dbSchema);try{F.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===pe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,$,B)})):Ie(G)}return F._promise(U,function(G,X){return Ue(function(){return xt.trans=F,B(G,X,F)})}).then(function(G){if(U==="readwrite")try{F.idbtrans.commit()}catch{}return U==="readonly"?G:F._completion.then(function(){return G})})}if(Q._state.openComplete)return Ie(new Nt.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Ie(new Nt.DatabaseClosed);Q.open().catch(Ae)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,$,B)})})(this.db,f,[this.name],D);return A&&(j._consoleTask=A,j=j.catch(function(z){return console.trace(z),Ie(z)})),j}finally{x&&wr()}},ye.prototype.get=function(f,m){var g=this;return f&&f.constructor===Object?this.where(f).first(m):f==null?Ie(new Nt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return g.core.get({trans:b,key:f}).then(function(w){return g.hook.reading.fire(w)})}).then(m)},ye.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(y(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var m=d(f);if(m.length===1)return this.where(m[0]).equals(f[m[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&m.every(function(z){return 0<=x.keyPath.indexOf(z)})){for(var j=0;j<m.length;++j)if(m.indexOf(x.keyPath[j])===-1)return!1;return!0}return!1}).sort(function(x,j){return x.keyPath.length-j.keyPath.length})[0];if(g&&this.db._maxKey!==vn){var A=g.keyPath.slice(0,m.length);return this.where(A).equals(A.map(function(j){return f[j]}))}!g&&kn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var b=this.schema.idxByName;function w(x,j){return le(x,j)===0}var D=m.reduce(function(U,j){var z=U[0],Q=U[1],U=b[j],$=f[j];return[z||U,z||!U?Jr(Q,U&&U.multi?function(B){return B=ne(B,j),y(B)&&B.some(function(F){return w($,F)})}:function(B){return w($,ne(B,j))}):Q]},[null,null]),A=D[0],D=D[1];return A?this.where(A.name).equals(f[A.keyPath]).filter(D):g?this.filter(D):this.where(m).equals("")},ye.prototype.filter=function(f){return this.toCollection().and(f)},ye.prototype.count=function(f){return this.toCollection().count(f)},ye.prototype.offset=function(f){return this.toCollection().offset(f)},ye.prototype.limit=function(f){return this.toCollection().limit(f)},ye.prototype.each=function(f){return this.toCollection().each(f)},ye.prototype.toArray=function(f){return this.toCollection().toArray(f)},ye.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ye.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,y(f)?"[".concat(f.join("+"),"]"):f))},ye.prototype.reverse=function(){return this.toCollection().reverse()},ye.prototype.mapToClass=function(f){var m,g=this.db,b=this.name;function w(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof wo&&((function(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=j}n(j,z),j.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)})(w,m=f),Object.defineProperty(w.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),w.prototype.table=function(){return b},f=w);for(var A=new Set,D=f.prototype;D;D=E(D))Object.getOwnPropertyNames(D).forEach(function(j){return A.add(j)});function x(j){if(!j)return j;var z,Q=Object.create(f.prototype);for(z in j)if(!A.has(z))try{Q[z]=j[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),f},ye.prototype.defineClass=function(){return this.mapToClass(function(f){_(this,f)})},ye.prototype.add=function(f,m){var g=this,b=this.schema.primKey,w=b.auto,A=b.keyPath,D=f;return A&&w&&(D=ss(A)(f)),this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"add",keys:m!=null?[m]:null,values:[D]})}).then(function(x){return x.numFailures?Ct.reject(x.failures[0]):x.lastResult}).then(function(x){if(A)try{k(f,A,x)}catch{}return x})},ye.prototype.upsert=function(f,m){var g=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return g.core.get({trans:w,key:f}).then(function(A){var D=A??{};return xe(D,m),b&&k(D,b,f),g.core.mutate({trans:w,type:"put",values:[D],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[m]}}).then(function(x){return x.numFailures?Ct.reject(x.failures[0]):!!A})})})},ye.prototype.update=function(f,m){return typeof f!="object"||y(f)?this.where(":id").equals(f).modify(m):(f=ne(f,this.schema.primKey.keyPath),f===void 0?Ie(new Nt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(m))},ye.prototype.put=function(f,m){var g=this,b=this.schema.primKey,w=b.auto,A=b.keyPath,D=f;return A&&w&&(D=ss(A)(f)),this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"put",values:[D],keys:m!=null?[m]:null})}).then(function(x){return x.numFailures?Ct.reject(x.failures[0]):x.lastResult}).then(function(x){if(A)try{k(f,A,x)}catch{}return x})},ye.prototype.delete=function(f){var m=this;return this._trans("readwrite",function(g){return m.core.mutate({trans:g,type:"delete",keys:[f]}).then(function(b){return an(m,[f],b)}).then(function(b){return b.numFailures?Ct.reject(b.failures[0]):void 0})})},ye.prototype.clear=function(){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"deleteRange",range:pa}).then(function(g){return an(f,null,g)})}).then(function(m){return m.numFailures?Ct.reject(m.failures[0]):void 0})},ye.prototype.bulkGet=function(f){var m=this;return this._trans("readonly",function(g){return m.core.getMany({keys:f,trans:g}).then(function(b){return b.map(function(w){return m.hook.reading.fire(w)})})})},ye.prototype.bulkAdd=function(f,m,g){var b=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(D){var z=b.schema.primKey,x=z.auto,z=z.keyPath;if(z&&w)throw new Nt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==f.length)throw new Nt.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&x?f.map(ss(z)):f;return b.core.mutate({trans:D,type:"add",keys:w,values:z,wantResults:A}).then(function(F){var U=F.numFailures,$=F.results,B=F.lastResult,F=F.failures;if(U===0)return A?$:B;throw new Jt("".concat(b.name,".bulkAdd(): ").concat(U," of ").concat(j," operations failed"),F)})})},ye.prototype.bulkPut=function(f,m,g){var b=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(D){var z=b.schema.primKey,x=z.auto,z=z.keyPath;if(z&&w)throw new Nt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==f.length)throw new Nt.InvalidArgument("Arguments objects and keys must have the same length");var j=f.length,z=z&&x?f.map(ss(z)):f;return b.core.mutate({trans:D,type:"put",keys:w,values:z,wantResults:A}).then(function(F){var U=F.numFailures,$=F.results,B=F.lastResult,F=F.failures;if(U===0)return A?$:B;throw new Jt("".concat(b.name,".bulkPut(): ").concat(U," of ").concat(j," operations failed"),F)})})},ye.prototype.bulkUpdate=function(f){var m=this,g=this.core,b=f.map(function(D){return D.key}),w=f.map(function(D){return D.changes}),A=[];return this._trans("readwrite",function(D){return g.getMany({trans:D,keys:b,cache:"clone"}).then(function(x){var j=[],z=[];f.forEach(function(U,$){var B=U.key,F=U.changes,G=x[$];if(G){for(var X=0,et=Object.keys(F);X<et.length;X++){var it=et[X],ct=F[it];if(it===m.schema.primKey.keyPath){if(le(ct,B)!==0)throw new Nt.Constraint("Cannot update primary key in bulkUpdate()")}else k(G,it,ct)}A.push($),j.push(B),z.push(G)}});var Q=j.length;return g.mutate({trans:D,type:"put",keys:j,values:z,updates:{keys:b,changeSpecs:w}}).then(function(U){var $=U.numFailures,B=U.failures;if($===0)return Q;for(var F=0,G=Object.keys(B);F<G.length;F++){var X,et=G[F],it=A[Number(et)];it!=null&&(X=B[et],delete B[et],B[it]=X)}throw new Jt("".concat(m.name,".bulkUpdate(): ").concat($," of ").concat(Q," operations failed"),B)})})})},ye.prototype.bulkDelete=function(f){var m=this,g=f.length;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:f}).then(function(w){return an(m,f,w)})}).then(function(D){var w=D.numFailures,A=D.lastResult,D=D.failures;if(w===0)return A;throw new Jt("".concat(m.name,".bulkDelete(): ").concat(w," of ").concat(g," operations failed"),D)})},ye);function ye(){}function Zr(f){function m(D,x){if(x){for(var j=arguments.length,z=new Array(j-1);--j;)z[j-1]=arguments[j];return g[D].subscribe.apply(null,z),f}if(typeof D=="string")return g[D]}var g={};m.addEventType=A;for(var b=1,w=arguments.length;b<w;++b)A(arguments[b]);return m;function A(D,x,j){if(typeof D!="object"){var z;x=x||fn;var Q={subscribers:[],fire:j=j||Ae,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=x(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function($){return $!==U}),Q.fire=Q.subscribers.reduce(x,j)}};return g[D]=m[D]=Q}d(z=D).forEach(function(U){var $=z[U];if(y($))A(U,z[U][0],z[U][1]);else{if($!=="asap")throw new Nt.InvalidArgument("Invalid event config");var B=A(U,hi,function(){for(var F=arguments.length,G=new Array(F);F--;)G[F]=arguments[F];B.subscribers.forEach(function(X){ke(function(){X.apply(null,G)})})})}})}}function An(f,m){return mt(m).from({prototype:f}),m}function Wr(f,m){return!(f.filter||f.algorithm||f.or)&&(m?f.justLimit:!f.replayFilter)}function ya(f,m){f.filter=Jr(f.filter,m)}function Ms(f,m,g){var b=f.replayFilter;f.replayFilter=b?function(){return Jr(b(),m())}:m,f.justLimit=g&&!b}function ti(f,m){if(f.isPrimKey)return m.primaryKey;var g=m.getIndexByKeyPath(f.index);if(!g)throw new Nt.Schema("KeyPath "+f.index+" on object store "+m.name+" is not indexed");return g}function Ao(f,m,g){var b=ti(f,m.schema);return m.openCursor({trans:g,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:b,range:f.range}})}function ei(f,m,g,b){var w=f.replayFilter?Jr(f.filter,f.replayFilter()):f.filter;if(f.or){var A={},D=function(x,j,z){var Q,U;w&&!w(j,z,function($){return j.stop($)},function($){return j.fail($)})||((U=""+(Q=j.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),O(A,U)||(A[U]=!0,m(x,j,z)))};return Promise.all([f.or._iterate(D,g),$n(Ao(f,b,g),f.algorithm,D,!f.keysOnly&&f.valueMapper)])}return $n(Ao(f,b,g),Jr(f.algorithm,w),m,!f.keysOnly&&f.valueMapper)}function $n(f,m,g,b){var w=Pe(b?function(A,D,x){return g(b(A),D,x)}:g);return f.then(function(A){if(A)return A.start(function(){var D=function(){return A.continue()};m&&!m(A,function(x){return D=x},function(x){A.stop(x),D=Ae},function(x){A.fail(x),D=Ae})||w(A.value,A,function(x){return D=x}),D()})})}var ol=(ge.prototype._read=function(f,m){var g=this._ctx;return g.error?g.table._trans(null,Ie.bind(null,g.error)):g.table._trans("readonly",f).then(m)},ge.prototype._write=function(f){var m=this._ctx;return m.error?m.table._trans(null,Ie.bind(null,m.error)):m.table._trans("readwrite",f,"locked")},ge.prototype._addAlgorithm=function(f){var m=this._ctx;m.algorithm=Jr(m.algorithm,f)},ge.prototype._iterate=function(f,m){return ei(this._ctx,f,m,this._ctx.table.core)},ge.prototype.clone=function(f){var m=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return f&&_(g,f),m._ctx=g,m},ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},ge.prototype.each=function(f){var m=this._ctx;return this._read(function(g){return ei(m,f,g,m.table.core)})},ge.prototype.count=function(f){var m=this;return this._read(function(g){var b=m._ctx,w=b.table.core;if(Wr(b,!0))return w.count({trans:g,query:{index:ti(b,w.schema),range:b.range}}).then(function(D){return Math.min(D,b.limit)});var A=0;return ei(b,function(){return++A,!1},g,w).then(function(){return A})}).then(f)},ge.prototype.sortBy=function(f,m){var g=f.split(".").reverse(),b=g[0],w=g.length-1;function A(j,z){return z?A(j[g[z]],z-1):j[b]}var D=this._ctx.dir==="next"?1:-1;function x(j,z){return le(A(j,w),A(z,w))*D}return this.toArray(function(j){return j.sort(x)}).then(m)},ge.prototype.toArray=function(f){var m=this;return this._read(function(g){var b=m._ctx;if(b.dir==="next"&&Wr(b,!0)&&0<b.limit){var w=b.valueMapper,A=ti(b,b.table.core.schema);return b.table.core.query({trans:g,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(x){return x=x.result,w?x.map(w):x})}var D=[];return ei(b,function(x){return D.push(x)},g,b.table.core).then(function(){return D})},f)},ge.prototype.offset=function(f){var m=this._ctx;return f<=0||(m.offset+=f,Wr(m)?Ms(m,function(){var g=f;return function(b,w){return g===0||(g===1?--g:w(function(){b.advance(g),g=0}),!1)}}):Ms(m,function(){var g=f;return function(){return--g<0}})),this},ge.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Ms(this._ctx,function(){var m=f;return function(g,b,w){return--m<=0&&b(w),0<=m}},!0),this},ge.prototype.until=function(f,m){return ya(this._ctx,function(g,b,w){return!f(g.value)||(b(w),m)}),this},ge.prototype.first=function(f){return this.limit(1).toArray(function(m){return m[0]}).then(f)},ge.prototype.last=function(f){return this.reverse().first(f)},ge.prototype.filter=function(f){var m;return ya(this._ctx,function(g){return f(g.value)}),(m=this._ctx).isMatch=Jr(m.isMatch,f),this},ge.prototype.and=function(f){return this.filter(f)},ge.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ge.prototype.desc=function(){return this.reverse()},ge.prototype.eachKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.key,b)})},ge.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},ge.prototype.eachPrimaryKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){f(b.primaryKey,b)})},ge.prototype.keys=function(f){var m=this._ctx;m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,w){g.push(w.key)}).then(function(){return g}).then(f)},ge.prototype.primaryKeys=function(f){var m=this._ctx;if(m.dir==="next"&&Wr(m,!0)&&0<m.limit)return this._read(function(b){var w=ti(m,m.table.core.schema);return m.table.core.query({trans:b,values:!1,limit:m.limit,query:{index:w,range:m.range}})}).then(function(b){return b.result}).then(f);m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,w){g.push(w.primaryKey)}).then(function(){return g}).then(f)},ge.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},ge.prototype.firstKey=function(f){return this.limit(1).keys(function(m){return m[0]}).then(f)},ge.prototype.lastKey=function(f){return this.reverse().firstKey(f)},ge.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var m={};return ya(this._ctx,function(w){var b=w.primaryKey.toString(),w=O(m,b);return m[b]=!0,!w}),this},ge.prototype.modify=function(f){var m=this,g=this._ctx;return this._write(function(b){var w=typeof f=="function"?f:function(G){return xe(G,f)},A=g.table.core,z=A.schema.primaryKey,D=z.outbound,x=z.extractKey,j=200,z=m.db._options.modifyChunkSize;z&&(j=typeof z=="object"?z[A.name]||z["*"]||200:z);function Q(G,it){var et=it.failures,it=it.numFailures;$+=G-it;for(var ct=0,gt=d(et);ct<gt.length;ct++){var St=gt[ct];U.push(et[St])}}var U=[],$=0,B=[],F=f===va;return m.clone().primaryKeys().then(function(G){function X(it){var ct=Math.min(j,G.length-it),gt=G.slice(it,it+ct);return(F?Promise.resolve([]):A.getMany({trans:b,keys:gt,cache:"immutable"})).then(function(St){var Dt=[],Et=[],At=D?[]:null,It=F?gt:[];if(!F)for(var Tt=0;Tt<ct;++Tt){var Mt=St[Tt],Ht={value:M(Mt),primKey:G[it+Tt]};w.call(Ht,Ht.value,Ht)!==!1&&(Ht.value==null?It.push(G[it+Tt]):D||le(x(Mt),x(Ht.value))===0?(Et.push(Ht.value),D&&At.push(G[it+Tt])):(It.push(G[it+Tt]),Dt.push(Ht.value)))}return Promise.resolve(0<Dt.length&&A.mutate({trans:b,type:"add",values:Dt}).then(function(te){for(var ue in te.failures)It.splice(parseInt(ue),1);Q(Dt.length,te)})).then(function(){return(0<Et.length||et&&typeof f=="object")&&A.mutate({trans:b,type:"put",keys:At,values:Et,criteria:et,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<it}).then(function(te){return Q(Et.length,te)})}).then(function(){return(0<It.length||et&&F)&&A.mutate({trans:b,type:"delete",keys:It,criteria:et,isAdditionalChunk:0<it}).then(function(te){return an(g.table,It,te)}).then(function(te){return Q(It.length,te)})}).then(function(){return G.length>it+ct&&X(it+j)})})}var et=Wr(g)&&g.limit===1/0&&(typeof f!="function"||F)&&{index:g.index,range:g.range};return X(0).then(function(){if(0<U.length)throw new Yt("Error modifying one or more objects",U,$,B);return G.length})})})},ge.prototype.delete=function(){var f=this._ctx,m=f.range;return!Wr(f)||f.table.schema.yProps||!f.isPrimKey&&m.type!==3?this.modify(va):this._write(function(g){var b=f.table.core.schema.primaryKey,w=m;return f.table.core.count({trans:g,query:{index:b,range:w}}).then(function(A){return f.table.core.mutate({trans:g,type:"deleteRange",range:w}).then(function(j){var x=j.failures,j=j.numFailures;if(j)throw new Yt("Could not delete some values",Object.keys(x).map(function(z){return x[z]}),A-j);return A-j})})})},ge);function ge(){}var va=function(f,m){return m.value=null};function _a(f,m){return f<m?-1:f===m?0:1}function ll(f,m){return m<f?-1:f===m?0:1}function hn(f,m,g){return f=f instanceof qi?new f.Collection(f):f,f._ctx.error=new(g||TypeError)(m),f}function ni(f){return new f.Collection(f,function(){return yr("")}).limit(0)}function or(f,m,g,b){var w,A,D,x,j,z,Q,U=g.length;if(!g.every(function(F){return typeof F=="string"}))return hn(f,rn);function $(F){w=F==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=F==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},D=F==="next"?_a:ll;var G=g.map(function(X){return{lower:A(X),upper:w(X)}}).sort(function(X,et){return D(X.lower,et.lower)});x=G.map(function(X){return X.upper}),j=G.map(function(X){return X.lower}),Q=(z=F)==="next"?"":b}$("next"),f=new f.Collection(f,function(){return Dr(x[0],j[U-1]+b)}),f._ondirectionchange=function(F){$(F)};var B=0;return f._addAlgorithm(function(F,G,X){var et=F.key;if(typeof et!="string")return!1;var it=A(et);if(m(it,j,B))return!0;for(var ct=null,gt=B;gt<U;++gt){var St=(function(Dt,Et,At,It,Tt,Mt){for(var Ht=Math.min(Dt.length,It.length),te=-1,ue=0;ue<Ht;++ue){var Kn=Et[ue];if(Kn!==It[ue])return Tt(Dt[ue],At[ue])<0?Dt.substr(0,ue)+At[ue]+At.substr(ue+1):Tt(Dt[ue],It[ue])<0?Dt.substr(0,ue)+It[ue]+At.substr(ue+1):0<=te?Dt.substr(0,te)+Et[te]+At.substr(te+1):null;Tt(Dt[ue],Kn)<0&&(te=ue)}return Ht<It.length&&Mt==="next"?Dt+At.substr(Dt.length):Ht<Dt.length&&Mt==="prev"?Dt.substr(0,At.length):te<0?null:Dt.substr(0,te)+It[te]+At.substr(te+1)})(et,it,x[gt],j[gt],D,z);St===null&&ct===null?B=gt+1:(ct===null||0<D(ct,St))&&(ct=St)}return G(ct!==null?function(){F.continue(ct+Q)}:X),!1}),f}function Dr(f,m,g,b){return{type:2,lower:f,upper:m,lowerOpen:g,upperOpen:b}}function yr(f){return{type:1,lower:f,upper:f}}var qi=(Object.defineProperty(je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),je.prototype.between=function(f,m,g,b){g=g!==!1,b=b===!0;try{return 0<this._cmp(f,m)||this._cmp(f,m)===0&&(g||b)&&(!g||!b)?ni(this):new this.Collection(this,function(){return Dr(f,m,!g,!b)})}catch{return hn(this,wn)}},je.prototype.equals=function(f){return f==null?hn(this,wn):new this.Collection(this,function(){return yr(f)})},je.prototype.above=function(f){return f==null?hn(this,wn):new this.Collection(this,function(){return Dr(f,void 0,!0)})},je.prototype.aboveOrEqual=function(f){return f==null?hn(this,wn):new this.Collection(this,function(){return Dr(f,void 0,!1)})},je.prototype.below=function(f){return f==null?hn(this,wn):new this.Collection(this,function(){return Dr(void 0,f,!1,!0)})},je.prototype.belowOrEqual=function(f){return f==null?hn(this,wn):new this.Collection(this,function(){return Dr(void 0,f)})},je.prototype.startsWith=function(f){return typeof f!="string"?hn(this,rn):this.between(f,f+vn,!0,!0)},je.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):or(this,function(m,g){return m.indexOf(g[0])===0},[f],vn)},je.prototype.equalsIgnoreCase=function(f){return or(this,function(m,g){return m===g[0]},[f],"")},je.prototype.anyOfIgnoreCase=function(){var f=de.apply(he,arguments);return f.length===0?ni(this):or(this,function(m,g){return g.indexOf(m)!==-1},f,"")},je.prototype.startsWithAnyOfIgnoreCase=function(){var f=de.apply(he,arguments);return f.length===0?ni(this):or(this,function(m,g){return g.some(function(b){return m.indexOf(b)===0})},f,vn)},je.prototype.anyOf=function(){var f=this,m=de.apply(he,arguments),g=this._cmp;try{m.sort(g)}catch{return hn(this,wn)}if(m.length===0)return ni(this);var b=new this.Collection(this,function(){return Dr(m[0],m[m.length-1])});b._ondirectionchange=function(A){g=A==="next"?f._ascending:f._descending,m.sort(g)};var w=0;return b._addAlgorithm(function(A,D,x){for(var j=A.key;0<g(j,m[w]);)if(++w===m.length)return D(x),!1;return g(j,m[w])===0||(D(function(){A.continue(m[w])}),!1)}),b},je.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},je.prototype.noneOf=function(){var f=de.apply(he,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return hn(this,wn)}var m=f.reduce(function(g,b){return g?g.concat([[g[g.length-1][1],b]]):[[-1/0,b]]},null);return m.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},je.prototype.inAnyRange=function(et,m){var g=this,b=this._cmp,w=this._ascending,A=this._descending,D=this._min,x=this._max;if(et.length===0)return ni(this);if(!et.every(function(it){return it[0]!==void 0&&it[1]!==void 0&&w(it[0],it[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Nt.InvalidArgument);var j=!m||m.includeLowers!==!1,z=m&&m.includeUppers===!0,Q,U=w;function $(it,ct){return U(it[0],ct[0])}try{(Q=et.reduce(function(it,ct){for(var gt=0,St=it.length;gt<St;++gt){var Dt=it[gt];if(b(ct[0],Dt[1])<0&&0<b(ct[1],Dt[0])){Dt[0]=D(Dt[0],ct[0]),Dt[1]=x(Dt[1],ct[1]);break}}return gt===St&&it.push(ct),it},[])).sort($)}catch{return hn(this,wn)}var B=0,F=z?function(it){return 0<w(it,Q[B][1])}:function(it){return 0<=w(it,Q[B][1])},G=j?function(it){return 0<A(it,Q[B][0])}:function(it){return 0<=A(it,Q[B][0])},X=F,et=new this.Collection(this,function(){return Dr(Q[0][0],Q[Q.length-1][1],!j,!z)});return et._ondirectionchange=function(it){U=it==="next"?(X=F,w):(X=G,A),Q.sort($)},et._addAlgorithm(function(it,ct,gt){for(var St,Dt=it.key;X(Dt);)if(++B===Q.length)return ct(gt),!1;return!F(St=Dt)&&!G(St)||(g._cmp(Dt,Q[B][1])===0||g._cmp(Dt,Q[B][0])===0||ct(function(){U===w?it.continue(Q[B][0]):it.continue(Q[B][1])}),!1)}),et},je.prototype.startsWithAnyOf=function(){var f=de.apply(he,arguments);return f.every(function(m){return typeof m=="string"})?f.length===0?ni(this):this.inAnyRange(f.map(function(m){return[m,m+vn]})):hn(this,"startsWithAnyOf() only works with strings")},je);function je(){}function qn(f){return Pe(function(m){return vi(m),f(m.target.error),!1})}function vi(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var xr="storagemutated",vr="x-storagemutated-1",_n=Zr(null,xr),ks=(me.prototype._lock=function(){return oe(!xt.global),++this._reculock,this._reculock!==1||xt.global||(xt.lockOwnerFor=this),this},me.prototype._unlock=function(){if(oe(!xt.global),--this._reculock==0)for(xt.global||(xt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Bn(f[1],f[0])}catch{}}return this},me.prototype._locked=function(){return this._reculock&&xt.lockOwnerFor!==this},me.prototype.create=function(f){var m=this;if(!this.mode)return this;var g=this.db.idbdb,b=this.db._state.dbOpenError;if(oe(!this.idbtrans),!f&&!g)switch(b&&b.name){case"DatabaseClosedError":throw new Nt.DatabaseClosed(b);case"MissingAPIError":throw new Nt.MissingAPI(b.message,b);default:throw new Nt.OpenFailed(b)}if(!this.active)throw new Nt.TransactionInactive;return oe(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(w){vi(w),m._reject(f.error)}),f.onabort=Pe(function(w){vi(w),m.active&&m._reject(new Nt.Abort(f.error)),m.active=!1,m.on("abort").fire(w)}),f.oncomplete=Pe(function(){m.active=!1,m._resolve(),"mutatedParts"in f&&_n.storagemutated.fire(f.mutatedParts)}),this},me.prototype._promise=function(f,m,g){var b=this;if(f==="readwrite"&&this.mode!=="readwrite")return Ie(new Nt.ReadOnly("Transaction is readonly"));if(!this.active)return Ie(new Nt.TransactionInactive);if(this._locked())return new Ct(function(A,D){b._blockedFuncs.push([function(){b._promise(f,m,g).then(A,D)},xt])});if(g)return Ue(function(){var A=new Ct(function(D,x){b._lock();var j=m(D,x,b);j&&j.then&&j.then(D,x)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var w=new Ct(function(A,D){var x=m(A,D,b);x&&x.then&&x.then(A,D)});return w._lib=!0,w},me.prototype._root=function(){return this.parent?this.parent._root():this},me.prototype.waitFor=function(f){var m,g=this._root(),b=Ct.resolve(f);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return b}):(g._waitingFor=b,g._waitingQueue=[],m=g.idbtrans.objectStore(g.storeNames[0]),(function A(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(m.get(-1/0).onsuccess=A)})());var w=g._waitingFor;return new Ct(function(A,D){b.then(function(x){return g._waitingQueue.push(Pe(A.bind(null,x)))},function(x){return g._waitingQueue.push(Pe(D.bind(null,x)))}).finally(function(){g._waitingFor===w&&(g._waitingFor=null)})})},me.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Nt.Abort))},me.prototype.table=function(f){var m=this._memoizedTables||(this._memoizedTables={});if(O(m,f))return m[f];var g=this.schema[f];if(!g)throw new Nt.NotFound("Table "+f+" not part of transaction");return g=new this.db.Table(f,g,this),g.core=this.db.core.table(f),m[f]=g},me);function me(){}function Nr(f,m,g,b,w,A,D,x){return{name:f,keyPath:m,unique:g,multi:b,auto:w,compound:A,src:(g&&!D?"&":"")+(b?"*":"")+(w?"++":"")+ba(m),type:x}}function ba(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Hi(f,m,g){return{name:f,primKey:m,indexes:g,mappedClass:null,idxByName:(b=function(w){return[w.name,w]},g.reduce(function(w,A,D){return D=b(A,D),D&&(w[D[0]]=D[1]),w},{}))};var b}var Ki=function(f){try{return f.only([[]]),Ki=function(){return[[]]},[[]]}catch{return Ki=function(){return vn},vn}};function Fi(f){return f==null?function(){}:typeof f=="string"?(m=f).split(".").length===1?function(g){return g[m]}:function(g){return ne(g,m)}:function(g){return ne(g,f)};var m}function _i(f){return[].slice.call(f)}var ri=0;function on(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Gi(f,m,j){function b(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var B=X.lower,F=X.upper,G=X.lowerOpen,X=X.upperOpen;return B===void 0?F===void 0?null:m.upperBound(F,!!X):F===void 0?m.lowerBound(B,!!G):m.bound(B,F,!!G,!!X)}function w($){var B,F=$.name;return{name:F,schema:$,mutate:function(G){var X=G.trans,et=G.type,it=G.keys,ct=G.values,gt=G.range;return new Promise(function(St,Dt){St=Pe(St);var Et=X.objectStore(F),At=Et.keyPath==null,It=et==="put"||et==="add";if(!It&&et!=="delete"&&et!=="deleteRange")throw new Error("Invalid operation type: "+et);var Tt,Mt=(it||ct||{length:1}).length;if(it&&ct&&it.length!==ct.length)throw new Error("Given keys array must have same length as given values array.");if(Mt===0)return St({numFailures:0,failures:{},results:[],lastResult:void 0});function Ht(Rn){++Kn,vi(Rn)}var te=[],ue=[],Kn=0;if(et==="deleteRange"){if(gt.type===4)return St({numFailures:Kn,failures:ue,results:[],lastResult:void 0});gt.type===3?te.push(Tt=Et.clear()):te.push(Tt=Et.delete(b(gt)))}else{var At=It?At?[ct,it]:[ct,null]:[it,null],Zt=At[0],Cn=At[1];if(It)for(var We=0;We<Mt;++We)te.push(Tt=Cn&&Cn[We]!==void 0?Et[et](Zt[We],Cn[We]):Et[et](Zt[We])),Tt.onerror=Ht;else for(We=0;We<Mt;++We)te.push(Tt=Et[et](Zt[We])),Tt.onerror=Ht}function xo(Rn){Rn=Rn.target.result,te.forEach(function(Lr,cu){return Lr.error!=null&&(ue[cu]=Lr.error)}),St({numFailures:Kn,failures:ue,results:et==="delete"?it:te.map(function(Lr){return Lr.result}),lastResult:Rn})}Tt.onerror=function(Rn){Ht(Rn),xo(Rn)},Tt.onsuccess=xo})},getMany:function(G){var X=G.trans,et=G.keys;return new Promise(function(it,ct){it=Pe(it);for(var gt,St=X.objectStore(F),Dt=et.length,Et=new Array(Dt),At=0,It=0,Tt=function(te){te=te.target,Et[te._pos]=te.result,++It===At&&it(Et)},Mt=qn(ct),Ht=0;Ht<Dt;++Ht)et[Ht]!=null&&((gt=St.get(et[Ht]))._pos=Ht,gt.onsuccess=Tt,gt.onerror=Mt,++At);At===0&&it(Et)})},get:function(G){var X=G.trans,et=G.key;return new Promise(function(it,ct){it=Pe(it);var gt=X.objectStore(F).get(et);gt.onsuccess=function(St){return it(St.target.result)},gt.onerror=qn(ct)})},query:(B=z,function(G){return new Promise(function(X,et){X=Pe(X);var it,ct,gt,At=G.trans,St=G.values,Dt=G.limit,Tt=G.query,Et=Dt===1/0?void 0:Dt,It=Tt.index,Tt=Tt.range,At=At.objectStore(F),It=It.isPrimaryKey?At:At.index(It.name),Tt=b(Tt);if(Dt===0)return X({result:[]});B?((Et=St?It.getAll(Tt,Et):It.getAllKeys(Tt,Et)).onsuccess=function(Mt){return X({result:Mt.target.result})},Et.onerror=qn(et)):(it=0,ct=!St&&"openKeyCursor"in It?It.openKeyCursor(Tt):It.openCursor(Tt),gt=[],ct.onsuccess=function(Mt){var Ht=ct.result;return Ht?(gt.push(St?Ht.value:Ht.primaryKey),++it===Dt?X({result:gt}):void Ht.continue()):X({result:gt})},ct.onerror=qn(et))})}),openCursor:function(G){var X=G.trans,et=G.values,it=G.query,ct=G.reverse,gt=G.unique;return new Promise(function(St,Dt){St=Pe(St);var It=it.index,Et=it.range,At=X.objectStore(F),At=It.isPrimaryKey?At:At.index(It.name),It=ct?gt?"prevunique":"prev":gt?"nextunique":"next",Tt=!et&&"openKeyCursor"in At?At.openKeyCursor(b(Et),It):At.openCursor(b(Et),It);Tt.onerror=qn(Dt),Tt.onsuccess=Pe(function(Mt){var Ht,te,ue,Kn,Zt=Tt.result;Zt?(Zt.___id=++ri,Zt.done=!1,Ht=Zt.continue.bind(Zt),te=(te=Zt.continuePrimaryKey)&&te.bind(Zt),ue=Zt.advance.bind(Zt),Kn=function(){throw new Error("Cursor not stopped")},Zt.trans=X,Zt.stop=Zt.continue=Zt.continuePrimaryKey=Zt.advance=function(){throw new Error("Cursor not started")},Zt.fail=Pe(Dt),Zt.next=function(){var Cn=this,We=1;return this.start(function(){return We--?Cn.continue():Cn.stop()}).then(function(){return Cn})},Zt.start=function(Cn){function We(){if(Tt.result)try{Cn()}catch(Rn){Zt.fail(Rn)}else Zt.done=!0,Zt.start=function(){throw new Error("Cursor behind last entry")},Zt.stop()}var xo=new Promise(function(Rn,Lr){Rn=Pe(Rn),Tt.onerror=qn(Lr),Zt.fail=Lr,Zt.stop=function(cu){Zt.stop=Zt.continue=Zt.continuePrimaryKey=Zt.advance=Kn,Rn(cu)}});return Tt.onsuccess=Pe(function(Rn){Tt.onsuccess=We,We()}),Zt.continue=Ht,Zt.continuePrimaryKey=te,Zt.advance=ue,We(),xo},St(Zt)):St(null)},Dt)})},count:function(G){var X=G.query,et=G.trans,it=X.index,ct=X.range;return new Promise(function(gt,St){var Dt=et.objectStore(F),Et=it.isPrimaryKey?Dt:Dt.index(it.name),Dt=b(ct),Et=Dt?Et.count(Dt):Et.count();Et.onsuccess=Pe(function(At){return gt(At.target.result)}),Et.onerror=qn(St)})}}}var A,D,x,Q=(D=j,x=_i((A=f).objectStoreNames),{schema:{name:A.name,tables:x.map(function($){return D.objectStore($)}).map(function($){var B=$.keyPath,X=$.autoIncrement,F=y(B),G={},X={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B==null,compound:F,keyPath:B,autoIncrement:X,unique:!0,extractKey:Fi(B)},indexes:_i($.indexNames).map(function(et){return $.index(et)}).map(function(gt){var it=gt.name,ct=gt.unique,St=gt.multiEntry,gt=gt.keyPath,St={name:it,compound:y(gt),keyPath:gt,unique:ct,multiEntry:St,extractKey:Fi(gt)};return G[on(gt)]=St}),getIndexByKeyPath:function(et){return G[on(et)]}};return G[":id"]=X.primaryKey,B!=null&&(G[on(B)]=X.primaryKey),X})},hasGetAll:0<x.length&&"getAll"in D.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),j=Q.schema,z=Q.hasGetAll,Q=j.tables.map(w),U={};return Q.forEach(function($){return U[$.name]=$}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function($){if(!U[$])throw new Error("Table '".concat($,"' not found"));return U[$]},MIN_KEY:-1/0,MAX_KEY:Ki(m),schema:j}}function bi(f,m,g,b){var w=g.IDBKeyRange;return g.indexedDB,{dbcore:(b=Gi(m,w,b),f.dbcore.reduce(function(A,D){return D=D.create,s(s({},A),D(A))},b))}}function ii(f,b){var g=b.db,b=bi(f._middlewares,g,f._deps,b);f.core=b.dbcore,f.tables.forEach(function(w){var A=w.name;f.core.schema.tables.some(function(D){return D.name===A})&&(w.core=f.core.table(A),f[A]instanceof f.Table&&(f[A].core=w.core))})}function os(f,m,g,b){g.forEach(function(w){var A=b[w];m.forEach(function(D){var x=(function j(z,Q){return _t(z,Q)||(z=E(z))&&j(z,Q)})(D,w);(!x||"value"in x&&x.value===void 0)&&(D===f.Transaction.prototype||D instanceof f.Transaction?lt(D,w,{get:function(){return this.table(w)},set:function(j){W(this,w,{value:j,writable:!0,configurable:!0,enumerable:!0})}}):D[w]=new f.Table(w,A))})})}function Ei(f,m){m.forEach(function(g){for(var b in g)g[b]instanceof f.Table&&delete g[b]})}function Ea(f,m){return f._cfg.version-m._cfg.version}function Ti(f,m,g,b){var w=f._dbSchema;g.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Hi("$meta",Ro("")[0],[]),f._storeNames.push("$meta"));var A=f._createTransaction("readwrite",f._storeNames,w);A.create(g),A._completion.catch(b);var D=A._reject.bind(A),x=xt.transless||xt;Ue(function(){return xt.trans=A,xt.transless=x,m!==0?(ii(f,g),z=m,((j=A).storeNames.includes("$meta")?j.table("$meta").get("version").then(function(Q){return Q??z}):Ct.resolve(z)).then(function(Q){return $=Q,B=A,F=g,G=[],Q=(U=f)._versions,X=U._dbSchema=Si(0,U.idbdb,F),(Q=Q.filter(function(et){return et._cfg.version>=$})).length!==0?(Q.forEach(function(et){G.push(function(){var it=X,ct=et._cfg.dbschema;ls(U,it,F),ls(U,ct,F),X=U._dbSchema=ct;var gt=Vs(it,ct);gt.add.forEach(function(It){Yi(F,It[0],It[1].primKey,It[1].indexes)}),gt.change.forEach(function(It){if(It.recreate)throw new Nt.Upgrade("Not yet support for changing primary key");var Tt=F.objectStore(It.name);It.add.forEach(function(Mt){return Ps(Tt,Mt)}),It.change.forEach(function(Mt){Tt.deleteIndex(Mt.name),Ps(Tt,Mt)}),It.del.forEach(function(Mt){return Tt.deleteIndex(Mt)})});var St=et._cfg.contentUpgrade;if(St&&et._cfg.version>$){ii(U,F),B._memoizedTables={};var Dt=N(ct);gt.del.forEach(function(It){Dt[It]=it[It]}),Ei(U,[U.Transaction.prototype]),os(U,[U.Transaction.prototype],d(Dt),Dt),B.schema=Dt;var Et,At=K(St);return At&&Ye(),gt=Ct.follow(function(){var It;(Et=St(B))&&At&&(It=Vn.bind(null,null),Et.then(It,It))}),Et&&typeof Et.then=="function"?Ct.resolve(Et):gt.then(function(){return Et})}}),G.push(function(it){var ct,gt,St=et._cfg.dbschema;ct=St,gt=it,[].slice.call(gt.db.objectStoreNames).forEach(function(Dt){return ct[Dt]==null&&gt.db.deleteObjectStore(Dt)}),Ei(U,[U.Transaction.prototype]),os(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),B.schema=U._dbSchema}),G.push(function(it){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===et._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ct){return ct!=="$meta"})):it.objectStore("$meta").put(et._cfg.version,"version"))})}),(function et(){return G.length?Ct.resolve(G.shift()(B.idbtrans)).then(et):Ct.resolve()})().then(function(){Co(X,F)})):Ct.resolve();var U,$,B,F,G,X}).catch(D)):(d(w).forEach(function(Q){Yi(g,Q,w[Q].primKey,w[Q].indexes)}),ii(f,g),void Ct.follow(function(){return f.on.populate.fire(A)}).catch(D));var j,z})}function Ta(f,m){Co(f._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var g=Si(0,f.idbdb,m);ls(f,f._dbSchema,m);for(var b=0,w=Vs(g,f._dbSchema).change;b<w.length;b++){var A=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=m.objectStore(D.name);D.add.forEach(function(j){kn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(j.src)),Ps(x,j)})})(w[b]);if(typeof A=="object")return A.value}}function Vs(f,m){var g,b={del:[],add:[],change:[]};for(g in f)m[g]||b.del.push(g);for(g in m){var w=f[g],A=m[g];if(w){var D={name:g,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||w.primKey.auto!==A.primKey.auto)D.recreate=!0,b.change.push(D);else{var x=w.idxByName,j=A.idxByName,z=void 0;for(z in x)j[z]||D.del.push(z);for(z in j){var Q=x[z],U=j[z];Q?Q.src!==U.src&&D.change.push(U):D.add.push(U)}(0<D.del.length||0<D.add.length||0<D.change.length)&&b.change.push(D)}}else b.add.push([g,A])}return b}function Yi(f,m,g,b){var w=f.db.createObjectStore(m,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return b.forEach(function(A){return Ps(w,A)}),w}function Co(f,m){d(f).forEach(function(g){m.db.objectStoreNames.contains(g)||(kn&&console.debug("Dexie: Creating missing table",g),Yi(m,g,f[g].primKey,f[g].indexes))})}function Ps(f,m){f.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function Si(f,m,g){var b={};return Ft(m.objectStoreNames,0).forEach(function(w){for(var A=g.objectStore(w),D=Nr(ba(z=A.keyPath),z||"",!0,!1,!!A.autoIncrement,z&&typeof z!="string",!0),x=[],j=0;j<A.indexNames.length;++j){var Q=A.index(A.indexNames[j]),z=Q.keyPath,Q=Nr(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);x.push(Q)}b[w]=Hi(w,D,x)}),b}function ls(f,m,g){for(var b=g.db.objectStoreNames,w=0;w<b.length;++w){var A=b[w],D=g.objectStore(A);f._hasGetAll="getAll"in D;for(var x=0;x<D.indexNames.length;++x){var j=D.indexNames[x],z=D.index(j).keyPath,Q=typeof z=="string"?z:"["+Ft(z).join("+")+"]";!m[A]||(z=m[A].idxByName[Q])&&(z.name=j,delete m[A].idxByName[Q],m[A].idxByName[j]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Ro(f){return f.split(",").map(function(m,g){var A=m.split(":"),b=(w=A[1])===null||w===void 0?void 0:w.trim(),w=(m=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Nr(w,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),y(A),g===0,b)})}var Sa=(Qi.prototype._createTableSchema=Hi,Qi.prototype._parseIndexSyntax=Ro,Qi.prototype._parseStoresSpec=function(f,m){var g=this;d(f).forEach(function(b){if(f[b]!==null){var w=g._parseIndexSyntax(f[b]),A=w.shift();if(!A)throw new Nt.Schema("Invalid schema for table "+b+": "+f[b]);if(A.unique=!0,A.multi)throw new Nt.Schema("Primary key cannot be multiEntry*");w.forEach(function(D){if(D.auto)throw new Nt.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Nt.Schema("Index must have a name and cannot be an empty string")}),w=g._createTableSchema(b,A,w),m[b]=w}})},Qi.prototype.stores=function(g){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?_(this._cfg.storesSource,g):g;var g=m._versions,b={},w={};return g.forEach(function(A){_(b,A._cfg.storesSource),w=A._cfg.dbschema={},A._parseStoresSpec(b,w)}),m._dbSchema=w,Ei(m,[m._allTables,m,m.Transaction.prototype]),os(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],d(w),w),m._storeNames=d(w),this},Qi.prototype.upgrade=function(f){return this._cfg.contentUpgrade=en(this._cfg.contentUpgrade||Ae,f),this},Qi);function Qi(){}function wa(f,m){var g=f._dbNamesDB;return g||(g=f._dbNamesDB=new Ai(is,{addons:[],indexedDB:f,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Mr(f){return f&&typeof f.databases=="function"}function Aa(f){return Ue(function(){return xt.letThrough=!0,f()})}function Ca(f){return!("from"in f)}var bn=function(f,m){if(!this){var g=new bn;return f&&"d"in f&&_(g,f),g}_(this,arguments.length?{d:1,from:f,to:1<arguments.length?m:f}:{d:0})};function us(f,m,g){var b=le(m,g);if(!isNaN(b)){if(0<b)throw RangeError();if(Ca(f))return _(f,{from:m,to:g,d:1});var w=f.l,b=f.r;if(le(g,f.from)<0)return w?us(w,m,g):f.l={from:m,to:g,d:1,l:null,r:null},Io(f);if(0<le(m,f.to))return b?us(b,m,g):f.r={from:m,to:g,d:1,l:null,r:null},Io(f);le(m,f.from)<0&&(f.from=m,f.l=null,f.d=b?b.d+1:1),0<le(g,f.to)&&(f.to=g,f.r=null,f.d=f.l?f.l.d+1:1),g=!f.r,w&&!f.l&&kr(f,w),b&&g&&kr(f,b)}}function kr(f,m){Ca(m)||(function g(b,j){var A=j.from,D=j.to,x=j.l,j=j.r;us(b,A,D),x&&g(b,x),j&&g(b,j)})(f,m)}function Hn(f,m){var g=Ls(m),b=g.next();if(b.done)return!1;for(var w=b.value,A=Ls(f),D=A.next(w.from),x=D.value;!b.done&&!D.done;){if(le(x.from,w.to)<=0&&0<=le(x.to,w.from))return!0;le(w.from,x.from)<0?w=(b=g.next(x.from)).value:x=(D=A.next(w.from)).value}return!1}function Ls(f){var m=Ca(f)?null:{s:0,n:f};return{next:function(g){for(var b=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,b)for(;m.n.l&&le(g,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!b||le(g,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function Io(f){var m,g,b=(((m=f.r)===null||m===void 0?void 0:m.d)||0)-(((g=f.l)===null||g===void 0?void 0:g.d)||0),w=1<b?"r":b<-1?"l":"";w&&(m=w=="r"?"l":"r",g=s({},f),b=f[w],f.from=b.from,f.to=b.to,f[w]=b[w],g[w]=b[m],(f[m]=g).d=wi(g)),f.d=wi(f)}function wi(g){var m=g.r,g=g.l;return(m?g?Math.max(m.d,g.d):m.d:g?g.d:0)+1}function c(f,m){return d(m).forEach(function(g){f[g]?kr(f[g],m[g]):f[g]=(function b(w){var A,D,x={};for(A in w)O(w,A)&&(D=w[A],x[A]=!D||typeof D!="object"||q.has(D.constructor)?D:b(D));return x})(m[g])}),f}function v(f,m){return f.all||m.all||Object.keys(f).some(function(g){return m[g]&&Hn(m[g],f[g])})}V(bn.prototype,((br={add:function(f){return kr(this,f),this},addKey:function(f){return us(this,f,f),this},addKeys:function(f){var m=this;return f.forEach(function(g){return us(m,g,g)}),this},hasKey:function(f){var m=Ls(this).next(f).value;return m&&le(m.from,f)<=0&&0<=le(m.to,f)}})[ut]=function(){return Ls(this)},br));var S={},I={},tt=!1;function at(f){c(I,f),tt||(tt=!0,setTimeout(function(){tt=!1,wt(I,!(I={}))},0))}function wt(f,m){m===void 0&&(m=!1);var g=new Set;if(f.all)for(var b=0,w=Object.values(S);b<w.length;b++)re(D=w[b],f,g,m);else for(var A in f){var D,x=/^idb\:\/\/(.*)\/(.*)\//.exec(A);x&&(A=x[1],x=x[2],(D=S["idb://".concat(A,"/").concat(x)])&&re(D,f,g,m))}g.forEach(function(j){return j()})}function re(f,m,g,b){for(var w=[],A=0,D=Object.entries(f.queries.query);A<D.length;A++){for(var x=D[A],j=x[0],z=[],Q=0,U=x[1];Q<U.length;Q++){var $=U[Q];v(m,$.obsSet)?$.subscribers.forEach(function(X){return g.add(X)}):b&&z.push($)}b&&w.push([j,z])}if(b)for(var B=0,F=w;B<F.length;B++){var G=F[B],j=G[0],z=G[1];f.queries.query[j]=z}}function ln(f){var m=f._state,g=f._deps.indexedDB;if(m.isBeingOpened||f.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Ie(m.dbOpenError):f});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var b=m.openCanceller,w=Math.round(10*f.verno),A=!1;function D(){if(m.openCanceller!==b)throw new Nt.DatabaseClosed("db.open() was cancelled")}function x(){return new Ct(function($,B){if(D(),!g)throw new Nt.MissingAPI;var F=f.name,G=m.autoSchema||!w?g.open(F):g.open(F,w);if(!G)throw new Nt.MissingAPI;G.onerror=qn(B),G.onblocked=Pe(f._fireOnBlocked),G.onupgradeneeded=Pe(function(X){var et;Q=G.transaction,m.autoSchema&&!f._options.allowEmptyDB?(G.onerror=vi,Q.abort(),G.result.close(),(et=g.deleteDatabase(F)).onsuccess=et.onerror=Pe(function(){B(new Nt.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(Q.onerror=qn(B),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,U=X<1,f.idbdb=G.result,A&&Ta(f,Q),Ti(f,X/10,Q,B))},B),G.onsuccess=Pe(function(){Q=null;var X,et,it,ct,gt,St=f.idbdb=G.result,Dt=Ft(St.objectStoreNames);if(0<Dt.length)try{var Et=St.transaction((ct=Dt).length===1?ct[0]:ct,"readonly");if(m.autoSchema)et=St,it=Et,(X=f).verno=et.version/10,it=X._dbSchema=Si(0,et,it),X._storeNames=Ft(et.objectStoreNames,0),os(X,[X._allTables],d(it),it);else if(ls(f,f._dbSchema,Et),((gt=Vs(Si(0,(gt=f).idbdb,Et),gt._dbSchema)).add.length||gt.change.some(function(At){return At.add.length||At.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),St.close(),w=St.version+1,A=!0,$(x());ii(f,Et)}catch{}yi.push(f),St.onversionchange=Pe(function(At){m.vcFired=!0,f.on("versionchange").fire(At)}),St.onclose=Pe(function(){f.close({disableAutoOpen:!1})}),U&&(gt=f._deps,Et=F,St=gt.indexedDB,gt=gt.IDBKeyRange,Mr(St)||Et===is||wa(St,gt).put({name:Et}).catch(Ae)),$()},B)}).catch(function($){switch($?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<w)return w=0,x()}return Ct.reject($)})}var j,z=m.dbReadyResolve,Q=null,U=!1;return Ct.race([b,(typeof navigator>"u"?Ct.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function B(){return indexedDB.databases().finally($)}j=setInterval(B,100),B()}).finally(function(){return clearInterval(j)}):Promise.resolve()).then(x)]).then(function(){return D(),m.onReadyBeingFired=[],Ct.resolve(Aa(function(){return f.on.ready.fire(f.vip)})).then(function $(){if(0<m.onReadyBeingFired.length){var B=m.onReadyBeingFired.reduce(en,Ae);return m.onReadyBeingFired=[],Ct.resolve(Aa(function(){return B(f.vip)})).then($)}})}).finally(function(){m.openCanceller===b&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function($){m.dbOpenError=$;try{Q&&Q.abort()}catch{}return b===m.openCanceller&&f._close(),Ie($)}).finally(function(){m.openComplete=!0,z()}).then(function(){var $;return U&&($={},f.tables.forEach(function(B){B.schema.indexes.forEach(function(F){F.name&&($["idb://".concat(f.name,"/").concat(B.name,"/").concat(F.name)]=new bn(-1/0,[[[]]]))}),$["idb://".concat(f.name,"/").concat(B.name,"/")]=$["idb://".concat(f.name,"/").concat(B.name,"/:dels")]=new bn(-1/0,[[[]]])}),_n(xr).fire($),wt($,!0)),f})}function Ce(f){function m(A){return f.next(A)}var g=w(m),b=w(function(A){return f.throw(A)});function w(A){return function(j){var x=A(j),j=x.value;return x.done?j:j&&typeof j.then=="function"?j.then(g,b):y(j)?Promise.all(j).then(g,b):g(j)}}return w(m)()}function ze(f,m,g){for(var b=y(f)?f.slice():[f],w=0;w<g;++w)b.push(m);return b}var Vr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema,w={},A=[];function D(U,$,B){var F=on(U),G=w[F]=w[F]||[],X=U==null?0:typeof U=="string"?1:U.length,et=0<$,et=s(s({},B),{name:et?"".concat(F,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:et,keyTail:$,keyLength:X,extractKey:Fi(U),unique:!et&&B.unique});return G.push(et),et.isPrimaryKey||A.push(et),1<X&&D(X===2?U[0]:U.slice(0,X-1),$+1,B),G.sort(function(it,ct){return it.keyTail-ct.keyTail}),et}m=D(b.primaryKey.keyPath,0,b.primaryKey),w[":id"]=[m];for(var x=0,j=b.indexes;x<j.length;x++){var z=j[x];D(z.keyPath,0,z)}function Q(U){var $,B=U.query.index;return B.isVirtual?s(s({},U),{query:{index:B.lowLevelIndex,range:($=U.query.range,B=B.keyTail,{type:$.type===1?2:$.type,lower:ze($.lower,$.lowerOpen?f.MAX_KEY:f.MIN_KEY,B),lowerOpen:!0,upper:ze($.upper,$.upperOpen?f.MIN_KEY:f.MAX_KEY,B),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},b),{primaryKey:m,indexes:A,getIndexByKeyPath:function(U){return(U=w[on(U)])&&U[0]}}),count:function(U){return g.count(Q(U))},query:function(U){return g.query(Q(U))},openCursor:function(U){var $=U.query.index,B=$.keyTail,F=$.isVirtual,G=$.keyLength;return F?g.openCursor(Q(U)).then(function(et){return et&&X(et)}):g.openCursor(U);function X(et){return Object.create(et,{continue:{value:function(it){it!=null?et.continue(ze(it,U.reverse?f.MAX_KEY:f.MIN_KEY,B)):U.unique?et.continue(et.key.slice(0,G).concat(U.reverse?f.MIN_KEY:f.MAX_KEY,B)):et.continue()}},continuePrimaryKey:{value:function(it,ct){et.continuePrimaryKey(ze(it,f.MAX_KEY,B),ct)}},primaryKey:{get:function(){return et.primaryKey}},key:{get:function(){var it=et.key;return G===1?it[0]:it.slice(0,G)}},value:{get:function(){return et.value}}})}}})}})}};function Pr(f,m,g,b){return g=g||{},b=b||"",d(f).forEach(function(w){var A,D,x;O(m,w)?(A=f[w],D=m[w],typeof A=="object"&&typeof D=="object"&&A&&D?(x=Wt(A))!==Wt(D)?g[b+w]=m[w]:x==="Object"?Pr(A,D,g,b+w+"."):A!==D&&(g[b+w]=m[w]):A!==D&&(g[b+w]=m[w])):g[b+w]=void 0}),d(m).forEach(function(w){O(f,w)||(g[b+w]=m[w])}),g}function _r(f,m){return m.type==="delete"?m.keys:m.keys||m.values.map(f.extractKey)}var si={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(m){var g=f.table(m),b=g.schema.primaryKey;return s(s({},g),{mutate:function(w){var A=xt.trans,D=A.table(m).hook,x=D.deleting,j=D.creating,z=D.updating;switch(w.type){case"add":if(j.fire===Ae)break;return A._promise("readwrite",function(){return Q(w)},!0);case"put":if(j.fire===Ae&&z.fire===Ae)break;return A._promise("readwrite",function(){return Q(w)},!0);case"delete":if(x.fire===Ae)break;return A._promise("readwrite",function(){return Q(w)},!0);case"deleteRange":if(x.fire===Ae)break;return A._promise("readwrite",function(){return(function U($,B,F){return g.query({trans:$,values:!1,query:{index:b,range:B},limit:F}).then(function(G){var X=G.result;return Q({type:"delete",keys:X,trans:$}).then(function(et){return 0<et.numFailures?Promise.reject(et.failures[0]):X.length<F?{failures:[],numFailures:0,lastResult:void 0}:U($,s(s({},B),{lower:X[X.length-1],lowerOpen:!0}),F)})})})(w.trans,w.range,1e4)},!0)}return g.mutate(w);function Q(U){var $,B,F,G=xt.trans,X=U.keys||_r(b,U);if(!X)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:X}):s({},U)).type!=="delete"&&(U.values=o([],U.values)),U.keys&&(U.keys=o([],U.keys)),$=g,F=X,((B=U).type==="add"?Promise.resolve([]):$.getMany({trans:B.trans,keys:F,cache:"immutable"})).then(function(et){var it=X.map(function(ct,gt){var St,Dt,Et,At=et[gt],It={onerror:null,onsuccess:null};return U.type==="delete"?x.fire.call(It,ct,At,G):U.type==="add"||At===void 0?(St=j.fire.call(It,ct,U.values[gt],G),ct==null&&St!=null&&(U.keys[gt]=ct=St,b.outbound||k(U.values[gt],b.keyPath,ct))):(St=Pr(At,U.values[gt]),(Dt=z.fire.call(It,St,ct,At,G))&&(Et=U.values[gt],Object.keys(Dt).forEach(function(Tt){O(Et,Tt)?Et[Tt]=Dt[Tt]:k(Et,Tt,Dt[Tt])}))),It});return g.mutate(U).then(function(ct){for(var gt=ct.failures,St=ct.results,Dt=ct.numFailures,ct=ct.lastResult,Et=0;Et<X.length;++Et){var At=(St||X)[Et],It=it[Et];At==null?It.onerror&&It.onerror(gt[Et]):It.onsuccess&&It.onsuccess(U.type==="put"&&et[Et]?U.values[Et]:At)}return{failures:gt,results:St,numFailures:Dt,lastResult:ct}}).catch(function(ct){return it.forEach(function(gt){return gt.onerror&&gt.onerror(ct)}),Promise.reject(ct)})})}}})}})}};function cs(f,m,g){try{if(!m||m.keys.length<f.length)return null;for(var b=[],w=0,A=0;w<m.keys.length&&A<f.length;++w)le(m.keys[w],f[A])===0&&(b.push(g?M(m.values[w]):m.values[w]),++A);return b.length===f.length?b:null}catch{return null}}var Ra={stack:"dbcore",level:-1,create:function(f){return{table:function(m){var g=f.table(m);return s(s({},g),{getMany:function(b){if(!b.cache)return g.getMany(b);var w=cs(b.keys,b.trans._cache,b.cache==="clone");return w?Ct.resolve(w):g.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?M(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),g.mutate(b)}})}}}};function Us(f,m){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function Oc(f,m){switch(f){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var jh={stack:"dbcore",level:0,name:"Observability",create:function(f){var m=f.schema.name,g=new bn(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(b,w,A){if(xt.subscr&&w!=="readonly")throw new Nt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(xt.querier));return f.transaction(b,w,A)},table:function(b){var w=f.table(b),A=w.schema,D=A.primaryKey,U=A.indexes,x=D.extractKey,j=D.outbound,z=D.autoIncrement&&U.filter(function(B){return B.compound&&B.keyPath.includes(D.keyPath)}),Q=s(s({},w),{mutate:function(B){function F(Tt){return Tt="idb://".concat(m,"/").concat(b,"/").concat(Tt),ct[Tt]||(ct[Tt]=new bn)}var G,X,et,it=B.trans,ct=B.mutatedParts||(B.mutatedParts={}),gt=F(""),St=F(":dels"),Dt=B.type,It=B.type==="deleteRange"?[B.range]:B.type==="delete"?[B.keys]:B.values.length<50?[_r(D,B).filter(function(Tt){return Tt}),B.values]:[],Et=It[0],At=It[1],It=B.trans._cache;return y(Et)?(gt.addKeys(Et),(It=Dt==="delete"||Et.length===At.length?cs(Et,It):null)||St.addKeys(Et),(It||At)&&(G=F,X=It,et=At,A.indexes.forEach(function(Tt){var Mt=G(Tt.name||"");function Ht(ue){return ue!=null?Tt.extractKey(ue):null}function te(ue){return Tt.multiEntry&&y(ue)?ue.forEach(function(Kn){return Mt.addKey(Kn)}):Mt.addKey(ue)}(X||et).forEach(function(ue,Cn){var Zt=X&&Ht(X[Cn]),Cn=et&&Ht(et[Cn]);le(Zt,Cn)!==0&&(Zt!=null&&te(Zt),Cn!=null&&te(Cn))})}))):Et?(At={from:(At=Et.lower)!==null&&At!==void 0?At:f.MIN_KEY,to:(At=Et.upper)!==null&&At!==void 0?At:f.MAX_KEY},St.add(At),gt.add(At)):(gt.add(g),St.add(g),A.indexes.forEach(function(Tt){return F(Tt.name).add(g)})),w.mutate(B).then(function(Tt){return!Et||B.type!=="add"&&B.type!=="put"||(gt.addKeys(Tt.results),z&&z.forEach(function(Mt){for(var Ht=B.values.map(function(Zt){return Mt.extractKey(Zt)}),te=Mt.keyPath.findIndex(function(Zt){return Zt===D.keyPath}),ue=0,Kn=Tt.results.length;ue<Kn;++ue)Ht[ue][te]=Tt.results[ue];F(Mt.name).addKeys(Ht)})),it.mutatedParts=c(it.mutatedParts||{},ct),Tt})}}),U=function(F){var G=F.query,F=G.index,G=G.range;return[F,new bn((F=G.lower)!==null&&F!==void 0?F:f.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:f.MAX_KEY)]},$={get:function(B){return[D,new bn(B.key)]},getMany:function(B){return[D,new bn().addKeys(B.keys)]},count:U,query:U,openCursor:U};return d($).forEach(function(B){Q[B]=function(F){var G=xt.subscr,X=!!G,et=Us(xt,w)&&Oc(B,F)?F.obsSet={}:G;if(X){var it=function(At){return At="idb://".concat(m,"/").concat(b,"/").concat(At),et[At]||(et[At]=new bn)},ct=it(""),gt=it(":dels"),G=$[B](F),X=G[0],G=G[1];if((B==="query"&&X.isPrimaryKey&&!F.values?gt:it(X.name||"")).add(G),!X.isPrimaryKey){if(B!=="count"){var St=B==="query"&&j&&F.values&&w.query(s(s({},F),{values:!1}));return w[B].apply(this,arguments).then(function(At){if(B==="query"){if(j&&F.values)return St.then(function(Ht){return Ht=Ht.result,ct.addKeys(Ht),At});var It=F.values?At.result.map(x):At.result;(F.values?ct:gt).addKeys(It)}else if(B==="openCursor"){var Tt=At,Mt=F.values;return Tt&&Object.create(Tt,{key:{get:function(){return gt.addKey(Tt.primaryKey),Tt.key}},primaryKey:{get:function(){var Ht=Tt.primaryKey;return gt.addKey(Ht),Ht}},value:{get:function(){return Mt&&ct.addKey(Tt.primaryKey),Tt.value}}})}return At})}gt.add(g)}}return w[B].apply(this,arguments)}}),Q}})}};function Dc(f,m,g){if(g.numFailures===0)return m;if(m.type==="deleteRange")return null;var b=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return g.numFailures===b?null:(m=s({},m),y(m.keys)&&(m.keys=m.keys.filter(function(w,A){return!(A in g.failures)})),"values"in m&&y(m.values)&&(m.values=m.values.filter(function(w,A){return!(A in g.failures)})),m)}function ul(f,m){return g=f,((b=m).lower===void 0||(b.lowerOpen?0<le(g,b.lower):0<=le(g,b.lower)))&&(f=f,(m=m).upper===void 0||(m.upperOpen?le(f,m.upper)<0:le(f,m.upper)<=0));var g,b}function lu(f,m,$,b,w,A){if(!$||$.length===0)return f;var D=m.query.index,x=D.multiEntry,j=m.query.range,z=b.schema.primaryKey.extractKey,Q=D.extractKey,U=(D.lowLevelIndex||D).extractKey,$=$.reduce(function(B,F){var G=B,X=[];if(F.type==="add"||F.type==="put")for(var et=new bn,it=F.values.length-1;0<=it;--it){var ct,gt=F.values[it],St=z(gt);et.hasKey(St)||(ct=Q(gt),(x&&y(ct)?ct.some(function(Tt){return ul(Tt,j)}):ul(ct,j))&&(et.addKey(St),X.push(gt)))}switch(F.type){case"add":var Dt=new bn().addKeys(m.values?B.map(function(Mt){return z(Mt)}):B),G=B.concat(m.values?X.filter(function(Mt){return Mt=z(Mt),!Dt.hasKey(Mt)&&(Dt.addKey(Mt),!0)}):X.map(function(Mt){return z(Mt)}).filter(function(Mt){return!Dt.hasKey(Mt)&&(Dt.addKey(Mt),!0)}));break;case"put":var Et=new bn().addKeys(F.values.map(function(Mt){return z(Mt)}));G=B.filter(function(Mt){return!Et.hasKey(m.values?z(Mt):Mt)}).concat(m.values?X:X.map(function(Mt){return z(Mt)}));break;case"delete":var At=new bn().addKeys(F.keys);G=B.filter(function(Mt){return!At.hasKey(m.values?z(Mt):Mt)});break;case"deleteRange":var It=F.range;G=B.filter(function(Mt){return!ul(z(Mt),It)})}return G},f);return $===f?f:($.sort(function(B,F){return le(U(B),U(F))||le(z(B),z(F))}),m.limit&&m.limit<1/0&&($.length>m.limit?$.length=m.limit:f.length===m.limit&&$.length<m.limit&&(w.dirty=!0)),A?Object.freeze($):$)}function Ia(f,m){return le(f.lower,m.lower)===0&&le(f.upper,m.upper)===0&&!!f.lowerOpen==!!m.lowerOpen&&!!f.upperOpen==!!m.upperOpen}function Oo(f,m){return(function(g,b,w,A){if(g===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=le(g,b))===0){if(w&&A)return 0;if(w)return 1;if(A)return-1}return b})(f.lower,m.lower,f.lowerOpen,m.lowerOpen)<=0&&0<=(function(g,b,w,A){if(g===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=le(g,b))===0){if(w&&A)return 0;if(w)return-1;if(A)return 1}return b})(f.upper,m.upper,f.upperOpen,m.upperOpen)}function zh(f,m,g,b){f.subscribers.add(g),b.addEventListener("abort",function(){var w,A;f.subscribers.delete(g),f.subscribers.size===0&&(w=f,A=m,setTimeout(function(){w.subscribers.size===0&&jt(A,w)},3e3))})}var cl={stack:"dbcore",level:0,name:"Cache",create:function(f){var m=f.schema.name;return s(s({},f),{transaction:function(g,b,w){var A,D,x=f.transaction(g,b,w);return b==="readwrite"&&(D=(A=new AbortController).signal,w=function(j){return function(){if(A.abort(),b==="readwrite"){for(var z=new Set,Q=0,U=g;Q<U.length;Q++){var $=U[Q],B=S["idb://".concat(m,"/").concat($)];if(B){var F=f.table($),G=B.optimisticOps.filter(function(Mt){return Mt.trans===x});if(x._explicit&&j&&x.mutatedParts)for(var X=0,et=Object.values(B.queries.query);X<et.length;X++)for(var it=0,ct=(Dt=et[X]).slice();it<ct.length;it++)v((Et=ct[it]).obsSet,x.mutatedParts)&&(jt(Dt,Et),Et.subscribers.forEach(function(Mt){return z.add(Mt)}));else if(0<G.length){B.optimisticOps=B.optimisticOps.filter(function(Mt){return Mt.trans!==x});for(var gt=0,St=Object.values(B.queries.query);gt<St.length;gt++)for(var Dt,Et,At,It=0,Tt=(Dt=St[gt]).slice();It<Tt.length;It++)(Et=Tt[It]).res!=null&&x.mutatedParts&&(j&&!Et.dirty?(At=Object.isFrozen(Et.res),At=lu(Et.res,Et.req,G,F,Et,At),Et.dirty?(jt(Dt,Et),Et.subscribers.forEach(function(Mt){return z.add(Mt)})):At!==Et.res&&(Et.res=At,Et.promise=Ct.resolve({result:At}))):(Et.dirty&&jt(Dt,Et),Et.subscribers.forEach(function(Mt){return z.add(Mt)})))}}}z.forEach(function(Mt){return Mt()})}}},x.addEventListener("abort",w(!1),{signal:D}),x.addEventListener("error",w(!1),{signal:D}),x.addEventListener("complete",w(!0),{signal:D})),x},table:function(g){var b=f.table(g),w=b.schema.primaryKey;return s(s({},b),{mutate:function(A){var D=xt.trans;if(w.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return b.mutate(A);var x=S["idb://".concat(m,"/").concat(g)];return x?(D=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||_r(w,A).some(function(j){return j==null}))?(x.optimisticOps.push(A),A.mutatedParts&&at(A.mutatedParts),D.then(function(j){0<j.numFailures&&(jt(x.optimisticOps,A),(j=Dc(0,A,j))&&x.optimisticOps.push(j),A.mutatedParts&&at(A.mutatedParts))}),D.catch(function(){jt(x.optimisticOps,A),A.mutatedParts&&at(A.mutatedParts)})):D.then(function(j){var z=Dc(0,s(s({},A),{values:A.values.map(function(Q,U){var $;return j.failures[U]?Q:(Q=($=w.keyPath)!==null&&$!==void 0&&$.includes(".")?M(Q):s({},Q),k(Q,w.keyPath,j.results[U]),Q)})}),j);x.optimisticOps.push(z),queueMicrotask(function(){return A.mutatedParts&&at(A.mutatedParts)})}),D):b.mutate(A)},query:function(A){if(!Us(xt,b)||!Oc("query",A))return b.query(A);var D=((z=xt.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=xt,x=U.requery,j=U.signal,z=(function(F,G,X,et){var it=S["idb://".concat(F,"/").concat(G)];if(!it)return[];if(!(G=it.queries[X]))return[null,!1,it,null];var ct=G[(et.query?et.query.index.name:null)||""];if(!ct)return[null,!1,it,null];switch(X){case"query":var gt=ct.find(function(St){return St.req.limit===et.limit&&St.req.values===et.values&&Ia(St.req.query.range,et.query.range)});return gt?[gt,!0,it,ct]:[ct.find(function(St){return("limit"in St.req?St.req.limit:1/0)>=et.limit&&(!et.values||St.req.values)&&Oo(St.req.query.range,et.query.range)}),!1,it,ct];case"count":return gt=ct.find(function(St){return Ia(St.req.query.range,et.query.range)}),[gt,!!gt,it,ct]}})(m,g,"query",A),Q=z[0],U=z[1],$=z[2],B=z[3];return Q&&U?Q.obsSet=A.obsSet:(U=b.query(A).then(function(F){var G=F.result;if(Q&&(Q.res=G),D){for(var X=0,et=G.length;X<et;++X)Object.freeze(G[X]);Object.freeze(G)}else F.result=M(G);return F}).catch(function(F){return B&&Q&&jt(B,Q),Promise.reject(F)}),Q={obsSet:A.obsSet,promise:U,subscribers:new Set,type:"query",req:A,dirty:!1},B?B.push(Q):(B=[Q],($=$||(S["idb://".concat(m,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=B)),zh(Q,B,x,j),Q.promise.then(function(F){return{result:lu(F.result,A,$?.optimisticOps,b,Q,D)}})}})}})}};function Do(f,m){return new Proxy(f,{get:function(g,b,w){return b==="db"?m:Reflect.get(g,b,w)}})}var Ai=(Qe.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Nt.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Nt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var m=this._versions,g=m.filter(function(b){return b._cfg.version===f})[0];return g||(g=new this.Version(f),m.push(g),m.sort(Ea),g.stores({}),this._state.autoSchema=!1,g)},Qe.prototype._whenReady=function(f){var m=this;return this.idbdb&&(this._state.openComplete||xt.letThrough||this._vip)?f():new Ct(function(g,b){if(m._state.openComplete)return b(new Nt.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void b(new Nt.DatabaseClosed);m.open().catch(Ae)}m._state.dbReadyPromise.then(g,b)}).then(f)},Qe.prototype.use=function(f){var m=f.stack,g=f.create,b=f.level,w=f.name;return w&&this.unuse({stack:m,name:w}),f=this._middlewares[m]||(this._middlewares[m]=[]),f.push({stack:m,create:g,level:b??10,name:w}),f.sort(function(A,D){return A.level-D.level}),this},Qe.prototype.unuse=function(f){var m=f.stack,g=f.name,b=f.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(w){return b?w.create!==b:!!g&&w.name!==g})),this},Qe.prototype.open=function(){var f=this;return Bn(yn,function(){return ln(f)})},Qe.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,m=yi.indexOf(this);if(0<=m&&yi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new Ct(function(g){f.dbReadyResolve=g}),f.openCanceller=new Ct(function(g,b){f.cancelOpen=b}))},Qe.prototype.close=function(g){var m=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;m?(g.isBeingOpened&&g.cancelOpen(new Nt.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Nt.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Qe.prototype.delete=function(f){var m=this;f===void 0&&(f={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new Ct(function(w,A){function D(){m.close(f);var x=m._deps.indexedDB.deleteDatabase(m.name);x.onsuccess=Pe(function(){var j,z,Q;j=m._deps,z=m.name,Q=j.indexedDB,j=j.IDBKeyRange,Mr(Q)||z===is||wa(Q,j).delete(z).catch(Ae),w()}),x.onerror=qn(A),x.onblocked=m._fireOnBlocked}if(g)throw new Nt.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(D):D()})},Qe.prototype.backendDB=function(){return this.idbdb},Qe.prototype.isOpen=function(){return this.idbdb!==null},Qe.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},Qe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qe.prototype,"tables",{get:function(){var f=this;return d(this._allTables).map(function(m){return f._allTables[m]})},enumerable:!1,configurable:!0}),Qe.prototype.transaction=function(){var f=(function(m,g,b){var w=arguments.length;if(w<2)throw new Nt.InvalidArgument("Too few arguments");for(var A=new Array(w-1);--w;)A[w-1]=arguments[w];return b=A.pop(),[m,Y(A),b]}).apply(this,arguments);return this._transaction.apply(this,f)},Qe.prototype._transaction=function(f,m,g){var b=this,w=xt.trans;w&&w.db===this&&f.indexOf("!")===-1||(w=null);var A,D,x=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(D=m.map(function(z){if(z=z instanceof b.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),f=="r"||f===Rr)A=Rr;else{if(f!="rw"&&f!=Ir)throw new Nt.InvalidArgument("Invalid transaction mode: "+f);A=Ir}if(w){if(w.mode===Rr&&A===Ir){if(!x)throw new Nt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&D.forEach(function(z){if(w&&w.storeNames.indexOf(z)===-1){if(!x)throw new Nt.SubTransaction("Table "+z+" not included in parent transaction.");w=null}}),x&&w&&!w.active&&(w=null)}}catch(z){return w?w._promise(null,function(Q,U){U(z)}):Ie(z)}var j=(function z(Q,U,$,B,F){return Ct.resolve().then(function(){var G=xt.transless||xt,X=Q._createTransaction(U,$,Q._dbSchema,B);if(X.explicit=!0,G={trans:X,transless:G},B)X.idbtrans=B.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ct){return ct.name===pe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,$,null,F)})):Ie(ct)}var et,it=K(F);return it&&Ye(),G=Ct.follow(function(){var ct;(et=F.call(X,X))&&(it?(ct=Vn.bind(null,null),et.then(ct,ct)):typeof et.next=="function"&&typeof et.throw=="function"&&(et=Ce(et)))},G),(et&&typeof et.then=="function"?Ct.resolve(et).then(function(ct){return X.active?ct:Ie(new Nt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return et})).then(function(ct){return B&&X._resolve(),X._completion.then(function(){return ct})}).catch(function(ct){return X._reject(ct),Ie(ct)})})}).bind(null,this,A,D,w,g);return w?w._promise(A,j,"lock"):xt.trans?Bn(xt.transless,function(){return b._whenReady(j)}):this._whenReady(j)},Qe.prototype.table=function(f){if(!O(this._allTables,f))throw new Nt.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},Qe);function Qe(f,m){var g=this;this._middlewares={},this.verno=0;var b=Qe.dependencies;this._options=m=s({addons:Qe.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},b=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,A,D,x,j,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ae,dbReadyPromise:null,cancelOpen:Ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};z.dbReadyPromise=new Ct(function(U){z.dbReadyResolve=U}),z.openCanceller=new Ct(function(U,$){z.cancelOpen=$}),this._state=z,this.name=f,this.on=Zr(this,"populate","blocked","versionchange","close",{ready:[en,Ae]}),this.once=function(U,$){var B=function(){for(var F=[],G=0;G<arguments.length;G++)F[G]=arguments[G];g.on(U).unsubscribe(B),$.apply(g,F)};return g.on(U,B)},this.on.ready.subscribe=Vt(this.on.ready.subscribe,function(U){return function($,B){Qe.vip(function(){var F,G=g._state;G.openComplete?(G.dbOpenError||Ct.resolve().then($),B&&U($)):G.onReadyBeingFired?(G.onReadyBeingFired.push($),B&&U($)):(U($),F=g,B||U(function X(){F.on.ready.unsubscribe($),F.on.ready.unsubscribe(X)}))})}}),this.Collection=(w=this,An(ol.prototype,function(et,X){this.db=w;var B=pa,F=null;if(X)try{B=X()}catch(it){F=it}var G=et._ctx,X=G.table,et=X.hook.reading.fire;this._ctx={table:X,index:G.index,isPrimKey:!G.index||X.schema.primKey.keyPath&&G.index===X.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:G.or,valueMapper:et!==hi?et:null}})),this.Table=(A=this,An(as.prototype,function(U,$,B){this.db=A,this._tx=B,this.name=U,this.schema=$,this.hook=A._allTables[U]?A._allTables[U].hook:Zr(null,{creating:[Cs,Ae],reading:[di,hi],updating:[Eo,Ae],deleting:[bo,Ae]})})),this.Transaction=(D=this,An(ks.prototype,function(U,$,B,F,G){var X=this;U!=="readonly"&&$.forEach(function(et){et=(et=B[et])===null||et===void 0?void 0:et.yProps,et&&($=$.concat(et.map(function(it){return it.updatesTable})))}),this.db=D,this.mode=U,this.storeNames=$,this.schema=B,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=Zr(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ct(function(et,it){X._resolve=et,X._reject=it}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(et){var it=X.active;return X.active=!1,X.on.error.fire(et),X.parent?X.parent._reject(et):it&&X.idbtrans&&X.idbtrans.abort(),Ie(et)})})),this.Version=(x=this,An(Sa.prototype,function(U){this.db=x,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,An(qi.prototype,function(U,$,B){if(this.db=j,this._ctx={table:U,index:$===":id"?null:$,or:B},this._cmp=this._ascending=le,this._descending=function(F,G){return le(G,F)},this._max=function(F,G){return 0<le(F,G)?F:G},this._min=function(F,G){return le(F,G)<0?F:G},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new Nt.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Ki(m.IDBKeyRange),this._createTransaction=function(U,$,B,F){return new g.Transaction(U,$,B,g._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),yi.filter(function($){return $.name===g.name&&$!==g&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(U)})},this.use(Ra),this.use(cl),this.use(jh),this.use(Vr),this.use(si);var Q=new Proxy(this,{get:function(U,$,B){if($==="_vip")return!0;if($==="table")return function(G){return Do(g.table(G),Q)};var F=Reflect.get(U,$,B);return F instanceof as?Do(F,Q):$==="tables"?F.map(function(G){return Do(G,Q)}):$==="_createTransaction"?function(){return Do(F.apply(this,arguments),Q)}:F}});this.vip=Q,b.forEach(function(U){return U(g)})}var Oa,br=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xc=(fl.prototype.subscribe=function(f,m,g){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:m,complete:g})},fl.prototype[br]=function(){return this},fl);function fl(f){this._subscribe=f}try{Oa={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Oa={indexedDB:null,IDBKeyRange:null}}function Nc(f){var m,g=!1,b=new xc(function(w){var A=K(f),D,x=!1,j={},z={},Q={get closed(){return x},unsubscribe:function(){x||(x=!0,D&&D.abort(),U&&_n.storagemutated.unsubscribe(B))}};w.start&&w.start(Q);var U=!1,$=function(){return Cr(F)},B=function(G){c(j,G),v(z,j)&&$()},F=function(){var G,X,et;!x&&Oa.indexedDB&&(j={},G={},D&&D.abort(),D=new AbortController,et=(function(it){var ct=Xn();try{A&&Ye();var gt=Ue(f,it);return gt=A?gt.finally(Vn):gt}finally{ct&&wr()}})(X={subscr:G,signal:D.signal,requery:$,querier:f,trans:null}),Promise.resolve(et).then(function(it){g=!0,m=it,x||X.signal.aborted||(j={},(function(ct){for(var gt in ct)if(O(ct,gt))return;return 1})(z=G)||U||(_n(xr,B),U=!0),Cr(function(){return!x&&w.next&&w.next(it)}))},function(it){g=!1,["DatabaseClosedError","AbortError"].includes(it?.name)||x||Cr(function(){x||w.error&&w.error(it)})}))};return setTimeout($,0),Q});return b.hasValue=function(){return g},b.getValue=function(){return m},b}var js=Ai;function uu(f){var m=fs;try{fs=!0,_n.storagemutated.fire(f),wt(f,!0)}finally{fs=m}}V(js,s(s({},ji),{delete:function(f){return new js(f,{addons:[]}).delete()},exists:function(f){return new js(f,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return m=js.dependencies,g=m.indexedDB,m=m.IDBKeyRange,(Mr(g)?Promise.resolve(g.databases()).then(function(b){return b.map(function(w){return w.name}).filter(function(w){return w!==is})}):wa(g,m).toCollection().primaryKeys()).then(f)}catch{return Ie(new Nt.MissingAPI)}var m,g},defineClass:function(){return function(f){_(this,f)}},ignoreTransaction:function(f){return xt.trans?Bn(xt.transless,f):f()},vip:Aa,async:function(f){return function(){try{var m=Ce(f.apply(this,arguments));return m&&typeof m.then=="function"?m:Ct.resolve(m)}catch(g){return Ie(g)}}},spawn:function(f,m,g){try{var b=Ce(f.apply(g,m||[]));return b&&typeof b.then=="function"?b:Ct.resolve(b)}catch(w){return Ie(w)}},currentTransaction:{get:function(){return xt.trans||null}},waitFor:function(f,m){return m=Ct.resolve(typeof f=="function"?js.ignoreTransaction(f):f).timeout(m||6e4),xt.trans?xt.trans.waitFor(m):m},Promise:Ct,debug:{get:function(){return kn},set:function(f){sl(f)}},derive:mt,extend:_,props:V,override:Vt,Events:Zr,on:_n,liveQuery:Nc,extendObservabilitySet:c,getByKeyPath:ne,setByKeyPath:k,delByKeyPath:function(f,m){typeof m=="string"?k(f,m,void 0):"length"in m&&[].map.call(m,function(g){k(f,g,void 0)})},shallowClone:N,deepClone:M,getObjectDiff:Pr,cmp:le,asap:ke,minKey:-1/0,addons:[],connections:yi,errnames:pe,dependencies:Oa,cache:S,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,m,g){return f+m/Math.pow(10,2*g)})})),js.maxKey=Ki(js.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_n(xr,function(f){fs||(f=new CustomEvent(vr,{detail:f}),fs=!0,dispatchEvent(f),fs=!1)}),addEventListener(vr,function(f){f=f.detail,fs||uu(f)}));var Da,fs=!1,lr=function(){};return typeof BroadcastChannel<"u"&&((lr=function(){(Da=new BroadcastChannel(vr)).onmessage=function(f){return f.data&&uu(f.data)}})(),typeof Da.unref=="function"&&Da.unref(),_n(xr,function(f){fs||Da.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Ai.disableBfCache&&f.persisted){kn&&console.debug("Dexie: handling persisted pagehide"),Da?.close();for(var m=0,g=yi;m<g.length;m++)g[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Ai.disableBfCache&&f.persisted&&(kn&&console.debug("Dexie: handling persisted pageshow"),lr(),uu({all:new bn(-1/0,[[]])}))})),Ct.rejectionMapper=function(f,m){return!f||f instanceof Rt||f instanceof TypeError||f instanceof SyntaxError||!f.name||!es[f.name]?f:(m=new es[f.name](m||f.message,f),"stack"in f&&lt(m,"stack",{get:function(){return this.inner.stack}}),m)},sl(kn),s(Ai,Object.freeze({__proto__:null,Dexie:Ai,liveQuery:Nc,Entity:wo,cmp:le,PropModification:Or,replacePrefix:function(f,m){return new Or({replacePrefix:[f,m]})},add:function(f){return new Or({add:f})},remove:function(f){return new Or({remove:f})},default:Ai,RangeSet:bn,mergeRanges:kr,rangesOverlap:Hn}),{default:Ai}),Ai})})(zf)),zf.exports}var Aw=ww();const Hm=gp(Aw),T_=Symbol.for("Dexie"),Wf=globalThis[T_]||(globalThis[T_]=Hm);if(Hm.semVer!==Wf.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Hm.semVer} and ${Wf.semVer}`);const{liveQuery:dx,mergeRanges:mx,rangesOverlap:px,RangeSet:gx,cmp:yx,Entity:vx,PropModification:_x,replacePrefix:bx,add:Ex,remove:Tx,DexieYProvider:Sx}=Wf,fr=new Wf("GeminiPodcastFlashcards");fr.version(2).stores({vocab:"id, word, status, nextReview, reviewCount, updatedAt"});async function Cw(){if(await fr.vocab.count()===0)try{const n="/public/flashcards/data.json".replace("//","/");console.log(`Fetching data from: ${n}`);const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch data.json (${s.status})`);const u=(await s.json()).map(d=>({...d,status:d.status||"new",reviewCount:d.reviewCount||0,nextReview:d.nextReview||Date.now(),updatedAt:Date.now()}));await fr.vocab.bulkAdd(u),console.log(`Initialized DB with ${u.length} cards.`)}catch(t){console.error("Error initializing database:",t)}}function Rw(i,t){const n=Date.now(),s=60*1e3,u=24*(60*s);let d=i.status,y=n,_=i.reviewCount||0;if(t==="remember")d="review",y=n+u,_+=1;else if(t==="forget")d="learning",y=n+10*s;else throw new Error(`Unknown action: ${t}`);return{status:d,nextReview:y,reviewCount:_,updatedAt:n}}function Iw({card:i,onUpdate:t}){const[n,s]=Lt.useState(!1),o=()=>{s(!n)},u=(d,y)=>{y.stopPropagation();try{const _=Rw(i,d),E={...i,..._};t(E),s(!1)}catch(_){console.error("Error updating card:",_)}};return ft.jsxs("div",{className:"flashcard-container",onClick:o,style:{border:"1px solid #444",padding:"2rem",borderRadius:"12px",textAlign:"center",cursor:"pointer",minHeight:"240px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#25262b",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"transform 0.2s",color:"#e0e0e0"},children:[!n&&ft.jsxs("div",{className:"front",children:[ft.jsx("h2",{style:{fontSize:"2.5rem",margin:"0 0 0.5rem 0",fontWeight:"bold"},children:i.word}),i.ipa&&ft.jsxs("p",{style:{fontSize:"1.2rem",color:"#88ccca",fontFamily:"monospace",margin:"0 0 1.5rem 0"},children:["/",i.ipa,"/"]}),ft.jsx("p",{style:{color:"#666",fontSize:"0.9rem"},children:"(Click to flip)"})]}),n&&ft.jsxs("div",{className:"back",children:[ft.jsx("h2",{style:{fontSize:"1.5rem",color:"#888",marginBottom:"0.5rem"},children:i.word}),i.ipa&&ft.jsxs("p",{style:{fontSize:"1rem",color:"#666",fontFamily:"monospace",margin:"0 0 1rem 0"},children:["/",i.ipa,"/"]}),ft.jsxs("div",{style:{margin:"1rem 0",textAlign:"left",lineHeight:"1.6"},children:[ft.jsxs("p",{style:{marginBottom:"0.8rem"},children:[ft.jsx("strong",{style:{color:"#aaa"},children:"Definition:"}),ft.jsx("br",{}),i.definition]}),ft.jsxs("p",{children:[ft.jsx("strong",{style:{color:"#aaa"},children:"Context:"}),ft.jsx("br",{}),ft.jsx("em",{style:{color:"#a5d6a7"},children:i.context})]})]}),ft.jsxs("div",{className:"actions",style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[ft.jsx("button",{onClick:d=>u("forget",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#e53935",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Forgot"}),ft.jsx("button",{onClick:d=>u("remember",d),style:{padding:"0.6rem 1.2rem",backgroundColor:"#43a047",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Remember"})]})]})]})}class Ow{_generateId(){const t=Date.now(),n=Math.random().toString(36).substring(2,8);return`${t}_${n}`}async importCards(t){try{let n;try{n=JSON.parse(t)}catch{throw new Error("Input must be a valid JSON string")}if(!Array.isArray(n))throw new Error("Input must be a JSON array");const s=await fr.vocab.toArray(),o=new Set(s.map(y=>y.word.toLowerCase())),u=[];let d=0;for(const y of n)y.word&&(o.has(y.word.toLowerCase())?d++:(u.push({...y,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()}),o.add(y.word.toLowerCase())));return u.length>0&&await fr.vocab.bulkAdd(u),{addedCount:u.length,skippedCount:d}}catch(n){throw console.error("Import failed:",n),n}}async addCard(t){if((await fr.vocab.toArray()).some(u=>u.word.toLowerCase()===t.word.toLowerCase()))throw new Error(`Duplicate word: ${t.word}`);const o={...t,id:this._generateId(),status:"new",reviewCount:0,nextReview:Date.now(),updatedAt:Date.now(),createdAt:Date.now()};return await fr.vocab.add(o),o}async updateCard(t){const n={...t,updatedAt:Date.now()};return await fr.vocab.put(n),n}async deleteCard(t){await fr.vocab.delete(t)}async getAllCards(){return await fr.vocab.toArray()}async clearAllCards(){await fr.vocab.clear()}}const Xu=new Ow;var S_;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(S_||(S_={}));var w_;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(w_||(w_={}));var A_;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(A_||(A_={}));const C_=["user","model","function","system"];var R_;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(R_||(R_={}));var I_;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(I_||(I_={}));var O_;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(O_||(O_={}));var D_;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(D_||(D_={}));var $u;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})($u||($u={}));var x_;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(x_||(x_={}));var N_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(N_||(N_={}));var M_;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(M_||(M_={}));class mr extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Pl extends mr{constructor(t,n){super(t),this.response=n}}class pb extends mr{constructor(t,n,s,o){super(t),this.status=n,this.statusText=s,this.errorDetails=o}}class ao extends mr{}class gb extends mr{}const Dw="https://generativelanguage.googleapis.com",xw="v1beta",Nw="0.24.1",Mw="genai-js";var Xo;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Xo||(Xo={}));class kw{constructor(t,n,s,o,u){this.model=t,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var t,n;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||xw;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Dw}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function Vw(i){const t=[];return i?.apiClient&&t.push(i.apiClient),t.push(`${Mw}/${Nw}`),t.join(" ")}async function Pw(i){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Vw(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let s=(t=i.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new ao(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new ao(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new ao(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function Lw(i,t,n,s,o,u){const d=new kw(i,t,n,s,u);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},Bw(u)),{method:"POST",headers:await Pw(d),body:o})}}async function yc(i,t,n,s,o,u={},d=fetch){const{url:y,fetchOptions:_}=await Lw(i,t,n,s,o,u);return Uw(y,_,d)}async function Uw(i,t,n=fetch){let s;try{s=await n(i,t)}catch(o){jw(o,i)}return s.ok||await zw(s,i),s}function jw(i,t){let n=i;throw n.name==="AbortError"?(n=new gb(`Request aborted when fetching ${t.toString()}: ${i.message}`),n.stack=i.stack):i instanceof pb||i instanceof ao||(n=new mr(`Error fetching from ${t.toString()}: ${i.message}`),n.stack=i.stack),n}async function zw(i,t){let n="",s;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new pb(`Error fetching from ${t.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,s)}function Bw(i){const t={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function vp(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Bf(i.candidates[0]))throw new Pl(`${to(i)}`,i);return qw(i)}else if(i.promptFeedback)throw new Pl(`Text not available. ${to(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Bf(i.candidates[0]))throw new Pl(`${to(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),k_(i)[0]}else if(i.promptFeedback)throw new Pl(`Function call not available. ${to(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Bf(i.candidates[0]))throw new Pl(`${to(i)}`,i);return k_(i)}else if(i.promptFeedback)throw new Pl(`Function call not available. ${to(i)}`,i)},i}function qw(i){var t,n,s,o;const u=[];if(!((n=(t=i.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.text&&u.push(d.text),d.executableCode&&u.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&u.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function k_(i){var t,n,s,o;const u=[];if(!((n=(t=i.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const d of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&u.push(d.functionCall);if(u.length>0)return u}const Hw=[$u.RECITATION,$u.SAFETY,$u.LANGUAGE];function Bf(i){return!!i.finishReason&&Hw.includes(i.finishReason)}function to(i){var t,n,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((t=i.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const u=i.candidates[0];Bf(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function sc(i){return this instanceof sc?(this.v=i,this):new sc(i)}function Kw(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(V){s[V]&&(o[V]=function(W){return new Promise(function(lt,mt){u.push([V,W,lt,mt])>1||y(V,W)})})}function y(V,W){try{_(s[V](W))}catch(lt){O(u[0][3],lt)}}function _(V){V.value instanceof sc?Promise.resolve(V.value.v).then(E,R):O(u[0][2],V)}function E(V){y("next",V)}function R(V){y("throw",V)}function O(V,W){V(W),u.shift(),u.length&&y(u[0][0],u[0][1])}}const V_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Fw(i){const t=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Qw(t),[s,o]=n.tee();return{stream:Yw(s),response:Gw(o)}}async function Gw(i){const t=[],n=i.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return vp(Xw(t));t.push(o)}}function Yw(i){return Kw(this,arguments,function*(){const n=i.getReader();for(;;){const{value:s,done:o}=yield sc(n.read());if(o)break;yield yield sc(vp(s))}})}function Qw(i){const t=i.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return t.read().then(({value:d,done:y})=>{if(y){if(o.trim()){s.error(new mr("Failed to parse stream"));return}s.close();return}o+=d;let _=o.match(V_),E;for(;_;){try{E=JSON.parse(_[1])}catch{s.error(new mr(`Error parsing JSON response: "${_[1]}"`));return}s.enqueue(E),o=o.substring(_[0].length),_=o.match(V_)}return u()}).catch(d=>{let y=d;throw y.stack=d.stack,y.name==="AbortError"?y=new gb("Request aborted when reading from the stream"):y=new mr("Error reading from the stream"),y})}}})}function Xw(i){const t=i[i.length-1],n={promptFeedback:t?.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const d={};for(const y of u.content.parts)y.text&&(d.text=y.text),y.functionCall&&(d.functionCall=y.functionCall),y.executableCode&&(d.executableCode=y.executableCode),y.codeExecutionResult&&(d.codeExecutionResult=y.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[o].content.parts.push(d)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function yb(i,t,n,s){const o=await yc(t,Xo.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),s);return Fw(o)}async function vb(i,t,n,s){const u=await(await yc(t,Xo.GENERATE_CONTENT,i,!1,JSON.stringify(n),s)).json();return{response:vp(u)}}function _b(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function ac(i){let t=[];if(typeof i=="string")t=[{text:i}];else for(const n of i)typeof n=="string"?t.push({text:n}):t.push(n);return $w(t)}function $w(i){const t={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of i)"functionResponse"in u?(n.parts.push(u),o=!0):(t.parts.push(u),s=!0);if(s&&o)throw new mr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new mr("No content is provided for sending chat message.");return s?t:n}function Jw(i,t){var n;let s={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new ao("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const u=ac(i);s.contents=[u]}return{generateContentRequest:s}}function P_(i){let t;return i.contents?t=i:t={contents:[ac(i)]},i.systemInstruction&&(t.systemInstruction=_b(i.systemInstruction)),t}function Zw(i){return typeof i=="string"||Array.isArray(i)?{content:ac(i)}:i}const L_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ww={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tA(i){let t=!1;for(const n of i){const{role:s,parts:o}=n;if(!t&&s!=="user")throw new mr(`First content should be with role 'user', got ${s}`);if(!C_.includes(s))throw new mr(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(C_)}`);if(!Array.isArray(o))throw new mr("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new mr("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const y of o)for(const _ of L_)_ in y&&(u[_]+=1);const d=Ww[s];for(const y of L_)if(!d.includes(y)&&u[y]>0)throw new mr(`Content with role '${s}' can't contain '${y}' part`);t=!0}}function U_(i){var t;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(t=i.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const j_="SILENT_ERROR";class eA{constructor(t,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s?.history&&(tA(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=ac(t),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},O=Object.assign(Object.assign({},this._requestOptions),n);let V;return this._sendPromise=this._sendPromise.then(()=>vb(this._apiKey,this.model,R,O)).then(W=>{var lt;if(U_(W.response)){this._history.push(E);const mt=Object.assign({parts:[],role:"model"},(lt=W.response.candidates)===null||lt===void 0?void 0:lt[0].content);this._history.push(mt)}else{const mt=to(W.response);mt&&console.warn(`sendMessage() was unsuccessful. ${mt}. Inspect response object for details.`)}V=W}).catch(W=>{throw this._sendPromise=Promise.resolve(),W}),await this._sendPromise,V}async sendMessageStream(t,n={}){var s,o,u,d,y,_;await this._sendPromise;const E=ac(t),R={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,E]},O=Object.assign(Object.assign({},this._requestOptions),n),V=yb(this._apiKey,this.model,R,O);return this._sendPromise=this._sendPromise.then(()=>V).catch(W=>{throw new Error(j_)}).then(W=>W.response).then(W=>{if(U_(W)){this._history.push(E);const lt=Object.assign({},W.candidates[0].content);lt.role||(lt.role="model"),this._history.push(lt)}else{const lt=to(W);lt&&console.warn(`sendMessageStream() was unsuccessful. ${lt}. Inspect response object for details.`)}}).catch(W=>{W.message!==j_&&console.error(W)}),V}}async function nA(i,t,n,s){return(await yc(t,Xo.COUNT_TOKENS,i,!1,JSON.stringify(n),s)).json()}async function rA(i,t,n,s){return(await yc(t,Xo.EMBED_CONTENT,i,!1,JSON.stringify(n),s)).json()}async function iA(i,t,n,s){const o=n.requests.map(d=>Object.assign(Object.assign({},d),{model:t}));return(await yc(t,Xo.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}class z_{constructor(t,n,s={}){this.apiKey=t,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=_b(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var s;const o=P_(t),u=Object.assign(Object.assign({},this._requestOptions),n);return vb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(t,n={}){var s;const o=P_(t),u=Object.assign(Object.assign({},this._requestOptions),n);return yb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(t){var n;return new eA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const s=Jw(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return nA(this.apiKey,this.model,s,o)}async embedContent(t,n={}){const s=Zw(t),o=Object.assign(Object.assign({},this._requestOptions),n);return rA(this.apiKey,this.model,s,o)}async batchEmbedContents(t,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return iA(this.apiKey,this.model,t,s)}}class B_{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new mr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new z_(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,s){if(!t.name)throw new ao("Cached content must contain a `name` field.");if(!t.model)throw new ao("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(n?.[d]&&t[d]&&n?.[d]!==t[d]){if(d==="model"){const y=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,_=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(y===_)continue}throw new ao(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${t[d]})`)}const u=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new z_(this.apiKey,u,s)}}const sA={models:{default:"gemini-2.5-flash"}},aA={ai:sA};class oA{constructor(){this.apiKeyKey="gemini_api_key_byok",this.modelName=aA.ai?.models?.default}getApiKey(){return localStorage.getItem(this.apiKeyKey)||sessionStorage.getItem(this.apiKeyKey)}isPersistent(){return!!localStorage.getItem(this.apiKeyKey)}setApiKey(t,n=!1){n?(localStorage.setItem(this.apiKeyKey,t),sessionStorage.removeItem(this.apiKeyKey)):(sessionStorage.setItem(this.apiKeyKey,t),localStorage.removeItem(this.apiKeyKey))}removeApiKey(){sessionStorage.removeItem(this.apiKeyKey),localStorage.removeItem(this.apiKeyKey)}hasKey(){return!!this.getApiKey()}async generateCardDetails(t){const n=this.getApiKey();if(!n)throw new Error("API Key not found in session. Please configure it in Settings again.");const o=new B_(n).getGenerativeModel({model:this.modelName}),u=`
      You are an English vocabulary expert.
      Define the word: "${t}".
      
      Return ONLY a raw JSON object (no markdown formatting, no code blocks) with the following keys:
      - "definition": A clear, concise English definition suitable for a flashcard.
      - "ipa": The IPA phonetic transcription.
      - "context": A short, natural example sentence using the word.
    `;return this._callGemini(o,u)}async analyzeTranscript(t,n){const s=this.getApiKey();if(!s)throw new Error("API Key not found. Please configure it in Settings.");const u=new B_(s).getGenerativeModel({model:this.modelName});let d="";n==="auto"?d="Select the most important and difficult vocabulary words (approximately 5 to 15 words depending on text length).":d=`Select strictly up to ${n} most important vocabulary words.`;const y=`
      You are an expert language tutor analyzing a podcast transcript.
      
      Goal: Extract vocabulary words from the provided text for a learner.
      Constraint: ${d}
      
      For each word, provide:
      1. "word": The target word (lemma).
      2. "ipa": IPA phonetic transcription.
      3. "definition": A concise English definition relevant to the context in the transcript.
      4. "context": The exact sentence or a slightly simplified version from the text where the word appears.

      Input Text:
      """
      ${t.substring(0,3e4)} 
      """
      (Note: Input truncated to first 30k chars to fit context window if necessary)

      Return ONLY a raw JSON array (no markdown, no code blocks) of objects.
      Example format:
      [
        { "word": "Serendipity", "ipa": "...", "definition": "...", "context": "..." }
      ]
    `;return this._callGemini(u,y,!0)}async _callGemini(t,n,s=!1){try{console.log(`Calling AI Model: ${this.modelName}`);const y=(await(await t.generateContent(n)).response).text().replace(/```json|```/g,"").trim();let _;try{_=JSON.parse(y)}catch(R){const O=y.indexOf(s?"[":"{"),V=y.lastIndexOf(s?"]":"}")+1;if(O!==-1&&V!==-1)_=JSON.parse(y.substring(O,V));else throw R}const E=R=>{R.ipa&&(R.ipa=R.ipa.replace(new RegExp("^[/\\[]|[/\\]]$","g"),""))};return Array.isArray(_)?_.forEach(E):E(_),_}catch(o){throw console.error("AI Generation failed:",o),new Error(`AI Error: ${o.message}`)}}}const ra=new oA;let lA={data:""},uA=i=>{if(typeof window=="object"){let t=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(i||document.head).appendChild(t),t.firstChild}return i||lA},cA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fA=/\/\*[^]*?\*\/|  +/g,q_=/\n+/g,eo=(i,t)=>{let n="",s="",o="";for(let u in i){let d=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+d+";":s+=u[1]=="f"?eo(d,u):u+"{"+eo(d,u[1]=="k"?"":t)+"}":typeof d=="object"?s+=eo(d,t?t.replace(/([^,])+/g,y=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,_=>/&/.test(_)?_.replace(/&/g,y):y?y+" "+_:_)):u):d!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=eo.p?eo.p(u,d):u+":"+d+";")}return n+(t&&o?t+"{"+o+"}":o)+s},ea={},bb=i=>{if(typeof i=="object"){let t="";for(let n in i)t+=n+bb(i[n]);return t}return i},hA=(i,t,n,s,o)=>{let u=bb(i),d=ea[u]||(ea[u]=(_=>{let E=0,R=11;for(;E<_.length;)R=101*R+_.charCodeAt(E++)>>>0;return"go"+R})(u));if(!ea[d]){let _=u!==i?i:(E=>{let R,O,V=[{}];for(;R=cA.exec(E.replace(fA,""));)R[4]?V.shift():R[3]?(O=R[3].replace(q_," ").trim(),V.unshift(V[0][O]=V[0][O]||{})):V[0][R[1]]=R[2].replace(q_," ").trim();return V[0]})(i);ea[d]=eo(o?{["@keyframes "+d]:_}:_,n?"":"."+d)}let y=n&&ea.g?ea.g:null;return n&&(ea.g=ea[d]),((_,E,R,O)=>{O?E.data=E.data.replace(O,_):E.data.indexOf(_)===-1&&(E.data=R?_+E.data:E.data+_)})(ea[d],t,s,y),d},dA=(i,t,n)=>i.reduce((s,o,u)=>{let d=t[u];if(d&&d.call){let y=d(n),_=y&&y.props&&y.props.className||/^go/.test(y)&&y;d=_?"."+_:y&&typeof y=="object"?y.props?"":eo(y,""):y===!1?"":y}return s+o+(d??"")},"");function Eh(i){let t=this||{},n=i.call?i(t.p):i;return hA(n.unshift?n.raw?dA(n,[].slice.call(arguments,1),t.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(t.p):o),{}):n,uA(t.target),t.g,t.o,t.k)}let Eb,Km,Fm;Eh.bind({g:1});let la=Eh.bind({k:1});function mA(i,t,n,s){eo.p=t,Eb=i,Km=n,Fm=s}function _o(i,t){let n=this||{};return function(){let s=arguments;function o(u,d){let y=Object.assign({},u),_=y.className||o.className;n.p=Object.assign({theme:Km&&Km()},y),n.o=/ *go\d+/.test(_),y.className=Eh.apply(n,s)+(_?" "+_:"");let E=i;return i[0]&&(E=y.as||i,delete y.as),Fm&&E[0]&&Fm(y),Eb(E,y)}return o}}var pA=i=>typeof i=="function",th=(i,t)=>pA(i)?i(t):i,gA=(()=>{let i=0;return()=>(++i).toString()})(),Tb=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");i=!t||t.matches}return i}})(),yA=20,_p="default",Sb=(i,t)=>{let{toastLimit:n}=i.settings;switch(t.type){case 0:return{...i,toasts:[t.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(d=>d.id===t.toast.id?{...d,...t.toast}:d)};case 2:let{toast:s}=t;return Sb(i,{type:i.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=t;return{...i,toasts:i.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return t.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(d=>d.id!==t.toastId)};case 5:return{...i,pausedAt:t.time};case 6:let u=t.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+u}))}}},qf=[],wb={toasts:[],pausedAt:void 0,settings:{toastLimit:yA}},ys={},Ab=(i,t=_p)=>{ys[t]=Sb(ys[t]||wb,i),qf.forEach(([n,s])=>{n===t&&s(ys[t])})},Cb=i=>Object.keys(ys).forEach(t=>Ab(i,t)),vA=i=>Object.keys(ys).find(t=>ys[t].toasts.some(n=>n.id===i)),Th=(i=_p)=>t=>{Ab(t,i)},_A={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bA=(i={},t=_p)=>{let[n,s]=Lt.useState(ys[t]||wb),o=Lt.useRef(ys[t]);Lt.useEffect(()=>(o.current!==ys[t]&&s(ys[t]),qf.push([t,s]),()=>{let d=qf.findIndex(([y])=>y===t);d>-1&&qf.splice(d,1)}),[t]);let u=n.toasts.map(d=>{var y,_,E;return{...i,...i[d.type],...d,removeDelay:d.removeDelay||((y=i[d.type])==null?void 0:y.removeDelay)||i?.removeDelay,duration:d.duration||((_=i[d.type])==null?void 0:_.duration)||i?.duration||_A[d.type],style:{...i.style,...(E=i[d.type])==null?void 0:E.style,...d.style}}});return{...n,toasts:u}},EA=(i,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||gA()}),vc=i=>(t,n)=>{let s=EA(t,i,n);return Th(s.toasterId||vA(s.id))({type:2,toast:s}),s.id},Ln=(i,t)=>vc("blank")(i,t);Ln.error=vc("error");Ln.success=vc("success");Ln.loading=vc("loading");Ln.custom=vc("custom");Ln.dismiss=(i,t)=>{let n={type:3,toastId:i};t?Th(t)(n):Cb(n)};Ln.dismissAll=i=>Ln.dismiss(void 0,i);Ln.remove=(i,t)=>{let n={type:4,toastId:i};t?Th(t)(n):Cb(n)};Ln.removeAll=i=>Ln.remove(void 0,i);Ln.promise=(i,t,n)=>{let s=Ln.loading(t.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=t.success?th(t.success,o):void 0;return u?Ln.success(u,{id:s,...n,...n?.success}):Ln.dismiss(s),o}).catch(o=>{let u=t.error?th(t.error,o):void 0;u?Ln.error(u,{id:s,...n,...n?.error}):Ln.dismiss(s)}),i};var TA=1e3,SA=(i,t="default")=>{let{toasts:n,pausedAt:s}=bA(i,t),o=Lt.useRef(new Map).current,u=Lt.useCallback((O,V=TA)=>{if(o.has(O))return;let W=setTimeout(()=>{o.delete(O),d({type:4,toastId:O})},V);o.set(O,W)},[]);Lt.useEffect(()=>{if(s)return;let O=Date.now(),V=n.map(W=>{if(W.duration===1/0)return;let lt=(W.duration||0)+W.pauseDuration-(O-W.createdAt);if(lt<0){W.visible&&Ln.dismiss(W.id);return}return setTimeout(()=>Ln.dismiss(W.id,t),lt)});return()=>{V.forEach(W=>W&&clearTimeout(W))}},[n,s,t]);let d=Lt.useCallback(Th(t),[t]),y=Lt.useCallback(()=>{d({type:5,time:Date.now()})},[d]),_=Lt.useCallback((O,V)=>{d({type:1,toast:{id:O,height:V}})},[d]),E=Lt.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),R=Lt.useCallback((O,V)=>{let{reverseOrder:W=!1,gutter:lt=8,defaultPosition:mt}=V||{},_t=n.filter(Vt=>(Vt.position||mt)===(O.position||mt)&&Vt.height),qt=_t.findIndex(Vt=>Vt.id===O.id),Ft=_t.filter((Vt,oe)=>oe<qt&&Vt.visible).length;return _t.filter(Vt=>Vt.visible).slice(...W?[Ft+1]:[0,Ft]).reduce((Vt,oe)=>Vt+(oe.height||0)+lt,0)},[n]);return Lt.useEffect(()=>{n.forEach(O=>{if(O.dismissed)u(O.id,O.removeDelay);else{let V=o.get(O.id);V&&(clearTimeout(V),o.delete(O.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:_,startPause:y,endPause:E,calculateOffset:R}}},wA=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,AA=la`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CA=la`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RA=_o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${AA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IA=la`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,OA=_o("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${IA} 1s linear infinite;
`,DA=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xA=la`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,NA=_o("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MA=_o("div")`
  position: absolute;
`,kA=_o("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VA=la`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PA=_o("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,LA=({toast:i})=>{let{icon:t,type:n,iconTheme:s}=i;return t!==void 0?typeof t=="string"?Lt.createElement(PA,null,t):t:n==="blank"?null:Lt.createElement(kA,null,Lt.createElement(OA,{...s}),n!=="loading"&&Lt.createElement(MA,null,n==="error"?Lt.createElement(RA,{...s}):Lt.createElement(NA,{...s})))},UA=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jA=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,zA="0%{opacity:0;} 100%{opacity:1;}",BA="0%{opacity:1;} 100%{opacity:0;}",qA=_o("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HA=_o("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KA=(i,t)=>{let n=i.includes("top")?1:-1,[s,o]=Tb()?[zA,BA]:[UA(n),jA(n)];return{animation:t?`${la(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${la(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FA=Lt.memo(({toast:i,position:t,style:n,children:s})=>{let o=i.height?KA(i.position||t||"top-center",i.visible):{opacity:0},u=Lt.createElement(LA,{toast:i}),d=Lt.createElement(HA,{...i.ariaProps},th(i.message,i));return Lt.createElement(qA,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:d}):Lt.createElement(Lt.Fragment,null,u,d))});mA(Lt.createElement);var GA=({id:i,className:t,style:n,onHeightUpdate:s,children:o})=>{let u=Lt.useCallback(d=>{if(d){let y=()=>{let _=d.getBoundingClientRect().height;s(i,_)};y(),new MutationObserver(y).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return Lt.createElement("div",{ref:u,className:t,style:n},o)},YA=(i,t)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Tb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...o}},QA=Eh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nf=16,XA=({reverseOrder:i,position:t="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:d,containerClassName:y})=>{let{toasts:_,handlers:E}=SA(n,u);return Lt.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Nf,left:Nf,right:Nf,bottom:Nf,pointerEvents:"none",...d},className:y,onMouseEnter:E.startPause,onMouseLeave:E.endPause},_.map(R=>{let O=R.position||t,V=E.calculateOffset(R,{reverseOrder:i,gutter:s,defaultPosition:t}),W=YA(O,V);return Lt.createElement(GA,{id:R.id,key:R.id,onHeightUpdate:E.updateHeight,className:R.visible?QA:"",style:W},R.type==="custom"?th(R.message,R):o?o(R):Lt.createElement(FA,{toast:R,position:O}))}))},De=Ln;function $A({isOpen:i,onClose:t,onSuccess:n}){const[s,o]=Lt.useState(""),[u,d]=Lt.useState(!1),[y,_]=Lt.useState("auto"),[E,R]=Lt.useState(null);if(!i)return null;const O=async()=>{if(!s.trim())return;if(!ra.hasKey()){De.error("Please set your Gemini API Key in Settings first.");return}d(!0),R(null);const W=De.loading("AI is analyzing transcript...");try{const lt=await ra.analyzeTranscript(s,y);if(!Array.isArray(lt)||lt.length===0)throw new Error("AI found no vocabulary or returned invalid format.");De.loading(`Found ${lt.length} words. Saving...`,{id:W});const mt=JSON.stringify(lt),_t=await Xu.importCards(mt);De.success(`Success!
Added: ${_t.addedCount}
Skipped (Duplicate): ${_t.skippedCount}`,{id:W,duration:4e3}),o(""),n(),t()}catch(lt){console.error(lt);const mt=lt.message||"Unknown error";R(mt),De.error(`Failed: ${mt}`,{id:W})}finally{d(!1)}},V=[{label:"AUTO",value:"auto"},{label:"5",value:5},{label:"10",value:10},{label:"20",value:20}];return ft.jsx("div",{style:Mi.overlay,children:ft.jsxs("div",{style:Mi.modal,children:[ft.jsx("h2",{style:{marginTop:0,color:"#fff",marginBottom:"1.5rem"},children:"Import from Podcast"}),ft.jsxs("div",{style:Mi.settingRow,children:[ft.jsx("span",{style:Mi.settingLabel,children:"Max Words:"}),ft.jsx("div",{style:Mi.optionGroup,children:V.map(W=>ft.jsx("button",{onClick:()=>_(W.value),style:{...Mi.optionBtn,...y===W.value?Mi.optionBtnActive:{}},children:W.label},W.value))})]}),ft.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Paste the full podcast transcript text below. Gemini will extract key vocabulary for you."}),ft.jsx("textarea",{value:s,onChange:W=>o(W.target.value),placeholder:"Paste transcript text here...",style:Mi.textarea,disabled:u}),E&&ft.jsxs("div",{style:Mi.error,children:[" ",E]}),ft.jsxs("div",{style:Mi.actions,children:[ft.jsx("button",{onClick:t,disabled:u,style:{...Mi.btn,backgroundColor:"#555"},children:"Cancel"}),ft.jsx("button",{onClick:O,disabled:u||!s.trim(),style:{...Mi.btn,backgroundColor:u?"#777":"#6366f1",opacity:!s.trim()||u?.6:1},children:u?"Analyzing...":"Analyze & Import"})]})]})})}const Mi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(3px)"},modal:{backgroundColor:"#1e2024",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"600px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},settingRow:{display:"flex",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},settingLabel:{color:"#ccc",fontSize:"0.9rem",fontWeight:"500"},optionGroup:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},optionBtn:{padding:"0.4rem 1rem",backgroundColor:"#2c2e33",border:"1px solid #444",borderRadius:"6px",color:"#aaa",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},optionBtnActive:{backgroundColor:"#6366f1",color:"#fff",borderColor:"#6366f1",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)"},textarea:{width:"100%",height:"250px",backgroundColor:"#131416",color:"#e0e0e0",border:"1px solid #444",borderRadius:"6px",padding:"0.8rem",fontFamily:"inherit",fontSize:"0.95rem",resize:"vertical",lineHeight:"1.5"},error:{color:"#ff6b6b",marginTop:"1rem",fontSize:"0.9rem",padding:"0.5rem",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"4px"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},btn:{padding:"0.6rem 1.5rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem"}};function JA({isOpen:i,onClose:t}){const[n,s]=Lt.useState(""),[o,u]=Lt.useState(!1),[d,y]=Lt.useState(!1);Lt.useEffect(()=>{i&&(s(ra.getApiKey()||""),y(ra.isPersistent()))},[i]);const _=()=>{n.trim()?(ra.setApiKey(n.trim(),d),d?De.success("API Key  ()"):De.success("API Key  ( Session)")):(ra.removeApiKey(),De("API Key ")),t()},E=()=>{s(""),y(!1),ra.removeApiKey(),De("API Key ")};return i?ft.jsx("div",{style:ki.overlay,children:ft.jsxs("div",{style:ki.modal,children:[ft.jsx("h2",{style:{marginTop:0,color:"#fff"},children:"Settings"}),ft.jsxs("div",{style:{marginBottom:"2rem"},children:[ft.jsx("label",{style:ki.label,children:"Gemini API Key (BYOK)"}),ft.jsxs("p",{style:ki.hint,children:[" Key  Google Gemini API",ft.jsx("br",{}),""]}),ft.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[ft.jsx("input",{type:o?"text":"password",value:n,onChange:R=>s(R.target.value),placeholder:"AIzaSy...",style:ki.input}),ft.jsx("button",{onClick:()=>u(!o),style:ki.iconBtn,title:"Toggle Visibility",children:o?"":""})]}),ft.jsxs("div",{style:ki.checkboxContainer,children:[ft.jsx("input",{type:"checkbox",id:"rememberKey",checked:d,onChange:R=>y(R.target.checked),style:{cursor:"pointer"}}),ft.jsx("label",{htmlFor:"rememberKey",style:{...ki.label,marginBottom:0,cursor:"pointer",fontWeight:"normal",fontSize:"0.9rem"},children:" ()"})]}),d&&ft.jsx("p",{style:{color:"#ff9800",fontSize:"0.8rem",marginTop:"0.2rem",marginLeft:"1.5rem"},children:"  Key  LocalStorage"})]}),ft.jsxs("div",{style:ki.actions,children:[ft.jsx("button",{onClick:E,style:{...ki.btn,backgroundColor:"#d32f2f",marginRight:"auto"},children:"Clear Key"}),ft.jsx("button",{onClick:t,style:{...ki.btn,backgroundColor:"#555"},children:"Close"}),ft.jsx("button",{onClick:_,style:{...ki.btn,backgroundColor:"#4caf50"},children:"Save"})]})]})}):null}const ki={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)"},label:{display:"block",color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.5rem"},hint:{color:"#aaa",fontSize:"0.85rem",marginBottom:"0.5rem",lineHeight:"1.4"},input:{flex:1,padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontFamily:"monospace"},iconBtn:{padding:"0 0.8rem",backgroundColor:"#444",border:"none",borderRadius:"4px",cursor:"pointer",color:"#fff"},checkboxContainer:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem"},btn:{padding:"0.5rem 1.2rem",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"}};function ZA({isOpen:i,onClose:t,onSuccess:n}){const[s,o]=Lt.useState(""),[u,d]=Lt.useState(""),[y,_]=Lt.useState(""),[E,R]=Lt.useState(""),[O,V]=Lt.useState(!1);if(!i)return null;const W=async()=>{if(!s.trim()){De.error("Please enter a word first");return}if(!ra.hasKey()){De.error("Please set your API Key in Settings first");return}V(!0);const mt=De.loading(`Asking Gemini about "${s}"...`);try{const _t=await ra.generateCardDetails(s);d(_t.ipa||""),_(_t.definition||""),R(_t.context||""),De.success("Auto-filled!",{id:mt})}catch(_t){console.error(_t),De.error(_t.message,{id:mt})}finally{V(!1)}},lt=async()=>{if(!s||!y){De.error("Word and Definition are required");return}try{await Xu.addCard({word:s,ipa:u,definition:y,context:E}),De.success(`Added "${s}"`),o(""),d(""),_(""),R(""),n(),t()}catch(mt){console.error(mt),De.error(mt.message)}};return ft.jsx("div",{style:Gn.overlay,children:ft.jsxs("div",{style:Gn.modal,children:[ft.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[ft.jsx("h2",{style:{margin:0,color:"#fff"},children:"Add New Card"}),ft.jsx("button",{onClick:W,disabled:O,style:Gn.magicBtn,title:"AI Auto-fill",children:O?"...":" AI Auto-fill"})]}),ft.jsxs("div",{style:Gn.field,children:[ft.jsx("label",{style:Gn.label,children:"Word"}),ft.jsx("input",{style:Gn.input,value:s,onChange:mt=>o(mt.target.value),placeholder:"e.g. Serendipity",autoFocus:!0})]}),ft.jsxs("div",{style:Gn.field,children:[ft.jsx("label",{style:Gn.label,children:"IPA (Optional)"}),ft.jsx("input",{style:Gn.input,value:u,onChange:mt=>d(mt.target.value),placeholder:"/ser.ndp..ti/"})]}),ft.jsxs("div",{style:Gn.field,children:[ft.jsx("label",{style:Gn.label,children:"Definition"}),ft.jsx("textarea",{style:{...Gn.input,height:"60px",resize:"vertical"},value:y,onChange:mt=>_(mt.target.value)})]}),ft.jsxs("div",{style:Gn.field,children:[ft.jsx("label",{style:Gn.label,children:"Context / Example"}),ft.jsx("textarea",{style:{...Gn.input,height:"60px",resize:"vertical"},value:E,onChange:mt=>R(mt.target.value)})]}),ft.jsxs("div",{style:Gn.actions,children:[ft.jsx("button",{onClick:t,style:{...Gn.btn,backgroundColor:"#555"},children:"Cancel"}),ft.jsx("button",{onClick:lt,style:{...Gn.btn,backgroundColor:"#2196f3"},children:"Save Card"})]})]})})}const Gn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#2c2e33",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},field:{marginBottom:"1rem"},label:{display:"block",color:"#aaa",fontSize:"0.85rem",marginBottom:"0.3rem"},input:{width:"100%",padding:"0.6rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1b1e",color:"#fff",fontSize:"1rem",boxSizing:"border-box"},magicBtn:{padding:"0.4rem 0.8rem",backgroundColor:"transparent",border:"1px solid #e91e63",borderRadius:"20px",color:"#e91e63",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s",fontWeight:"bold"},actions:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},btn:{padding:"0.6rem 1.2rem",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"}};function WA({isOpen:i,onClose:t}){const[n,s]=Lt.useState([]),[o,u]=Lt.useState(null),[d,y]=Lt.useState(!1),[_,E]=Lt.useState(0),R=Lt.useRef(null);Lt.useEffect(()=>{i&&(O(),y(!1),E(0),u(null))},[i]),Lt.useEffect(()=>(d&&_>0?R.current=setTimeout(()=>{E(lt=>lt-1)},1e3):d&&_===0&&y(!1),()=>clearTimeout(R.current)),[d,_]);const O=async()=>{try{const lt=await Xu.getAllCards();lt.sort((mt,_t)=>_t.updatedAt-mt.updatedAt),s(lt)}catch(lt){console.error(lt),De.error("Failed to load cards")}},V=async lt=>{if(o!==lt){u(lt),setTimeout(()=>{u(mt=>mt===lt?null:mt)},3e3);return}try{await Xu.deleteCard(lt),De.success("Card deleted"),u(null),O()}catch(mt){console.error(mt),De.error("Delete failed")}},W=async()=>{if(!d){y(!0),E(3);return}try{await Xu.clearAllCards(),De.success("All data cleared"),s([]),y(!1)}catch(lt){console.error(lt),De.error("Clear failed")}};return i?ft.jsx("div",{style:Vi.overlay,children:ft.jsxs("div",{style:Vi.modal,children:[ft.jsxs("div",{style:Vi.header,children:[ft.jsxs("h2",{style:{margin:0,color:"#fff"},children:["Manage Cards (",n.length,")"]}),ft.jsx("button",{onClick:t,style:Vi.closeBtn,children:""})]}),ft.jsx("div",{style:Vi.listContainer,children:n.length===0?ft.jsx("p",{style:{color:"#888",textAlign:"center"},children:"No cards found."}):n.map(lt=>ft.jsxs("div",{style:Vi.cardRow,children:[ft.jsxs("div",{style:Vi.cardInfo,children:[ft.jsx("div",{style:Vi.word,children:lt.word}),ft.jsxs("div",{style:Vi.def,children:[lt.definition?.substring(0,50),"..."]})]}),ft.jsx("button",{onClick:()=>V(lt.id),style:{...Vi.deleteBtn,backgroundColor:o===lt.id?"#d32f2f":"#333",color:o===lt.id?"#fff":"#888",border:o===lt.id?"1px solid #ff5252":"1px solid #444",width:o===lt.id?"100px":"40px"},children:o===lt.id?"Sure?":""})]},lt.id))}),ft.jsx("div",{style:Vi.footer,children:ft.jsx("button",{onClick:W,style:{...Vi.dangerBtn,backgroundColor:d?"#d32f2f":"#3a1c1c",color:d?"#ffeb3b":"#ff6b6b",border:d?"1px solid #ffeb3b":"1px solid #ff6b6b"},children:d?`Confirm Clear All? (${_})`:"Clear All Local Data"})})]})}):null}const Vi={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},modal:{backgroundColor:"#1e2024",width:"90%",maxWidth:"500px",maxHeight:"80vh",borderRadius:"12px",display:"flex",flexDirection:"column",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",border:"1px solid #333"},header:{padding:"1.5rem",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},closeBtn:{background:"none",border:"none",color:"#888",fontSize:"1.2rem",cursor:"pointer"},listContainer:{flex:1,overflowY:"auto",padding:"1rem"},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.8rem",borderBottom:"1px solid #2c2e33"},cardInfo:{flex:1,marginRight:"1rem",overflow:"hidden"},word:{color:"#e0e0e0",fontWeight:"bold",marginBottom:"0.2rem"},def:{color:"#888",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},deleteBtn:{padding:"0.4rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"0.9rem",whiteSpace:"nowrap",display:"flex",justifyContent:"center",alignItems:"center"},footer:{padding:"1.5rem",borderTop:"1px solid #333"},dangerBtn:{width:"100%",padding:"0.8rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"}},t1=()=>{};var H_={};const Rb=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},e1=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],y=i[n++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=i[n++],d=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,y=d?i[o+1]:0,_=o+2<i.length,E=_?i[o+2]:0,R=u>>2,O=(u&3)<<4|y>>4;let V=(y&15)<<2|E>>6,W=E&63;_||(W=64,d||(V=64)),s.push(n[R],n[O],n[V],n[W])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Rb(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):e1(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],y=o<i.length?n[i.charAt(o)]:0;++o;const E=o<i.length?n[i.charAt(o)]:64;++o;const O=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||y==null||E==null||O==null)throw new n1;const V=u<<2|y>>4;if(s.push(V),E!==64){const W=y<<4&240|E>>2;if(s.push(W),O!==64){const lt=E<<6&192|O;s.push(lt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(i){const t=Rb(i);return Ib.encodeByteArray(t,!0)},eh=function(i){return r1(i).replace(/\./g,"")},Ob=function(i){try{return Ib.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const s1=()=>i1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof H_>"u")return;const i=H_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},o1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ob(i[1]);return t&&JSON.parse(t)},Sh=()=>{try{return t1()||s1()||a1()||o1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Db=i=>Sh()?.emulatorHosts?.[i],l1=i=>{const t=Db(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},xb=()=>Sh()?.config,Nb=i=>Sh()?.[`_${i}`];class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Wl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mb(i){return(await fetch(i,{credentials:"include"})).ok}function c1(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[eh(JSON.stringify(n)),eh(JSON.stringify(d)),""].join(".")}const Ju={};function f1(){const i={prod:[],emulator:[]};for(const t of Object.keys(Ju))Ju[t]?i.emulator.push(t):i.prod.push(t);return i}function h1(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let K_=!1;function kb(i,t){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Ju[i]===t||Ju[i]||K_)return;Ju[i]=t;function n(V){return`__firebase__banner__${V}`}const s="__firebase__banner",u=f1().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function y(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,W){V.setAttribute("width","24"),V.setAttribute("id",W),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function E(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{K_=!0,d()},V}function R(V,W){V.setAttribute("id",W),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function O(){const V=h1(s),W=n("text"),lt=document.getElementById(W)||document.createElement("span"),mt=n("learnmore"),_t=document.getElementById(mt)||document.createElement("a"),qt=n("preprendIcon"),Ft=document.getElementById(qt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const Vt=V.element;y(Vt),R(_t,mt);const oe=E();_(Ft,qt),Vt.append(Ft,lt,_t,oe),document.body.appendChild(Vt)}u?(lt.innerText="Preview backend disconnected.",Ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,lt.innerText="Preview backend running in this workspace."),lt.setAttribute("id",W)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function m1(){const i=Sh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const i=pr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b1(){try{return typeof indexedDB=="object"}catch{return!1}}function E1(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const T1="FirebaseError";class da extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=T1,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?S1(u,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new da(o,y,s)}}function S1(i,t){return i.replace(w1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const w1=/\{\$([^}]+)}/g;function A1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function $o(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=t[o];if(F_(u)&&F_(d)){if(!$o(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function F_(i){return i!==null&&typeof i=="object"}function bc(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function C1(i,t){const n=new R1(i,t);return n.subscribe.bind(n)}class R1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");I1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}function Ui(i){return i&&i._delegate?i._delegate:i}class Jo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ko="[DEFAULT]";class O1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new u1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(x1(t))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ko){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ko){return this.instances.has(t)}getOptions(t=Ko){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&d.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:D1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ko){return this.component?this.component.multipleInstances?t:Ko:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(i){return i===Ko?void 0:i}function x1(i){return i.instantiationMode==="EAGER"}class N1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new O1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Te;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Te||(Te={}));const M1={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},k1=Te.INFO,V1={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},P1=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=V1[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=k1,this._logHandler=P1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?M1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const L1=(i,t)=>t.some(n=>i instanceof n);let G_,Y_;function U1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,Gm=new WeakMap,Pb=new WeakMap,Nm=new WeakMap,Ep=new WeakMap;function z1(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(oo(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Vb.set(n,i)}).catch(()=>{}),Ep.set(t,i),t}function B1(i){if(Gm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Gm.set(i,t)}let Ym={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Gm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Pb.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function q1(i){Ym=i(Ym)}function H1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Mm(this),t,...n);return Pb.set(s,t.sort?t.sort():[t]),oo(s)}:j1().includes(i)?function(...t){return i.apply(Mm(this),t),oo(Vb.get(this))}:function(...t){return oo(i.apply(Mm(this),t))}}function K1(i){return typeof i=="function"?H1(i):(i instanceof IDBTransaction&&B1(i),L1(i,U1())?new Proxy(i,Ym):i)}function oo(i){if(i instanceof IDBRequest)return z1(i);if(Nm.has(i))return Nm.get(i);const t=K1(i);return t!==i&&(Nm.set(i,t),Ep.set(t,i)),t}const Mm=i=>Ep.get(i);function F1(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,t),y=oo(d);return s&&d.addEventListener("upgradeneeded",_=>{s(oo(d.result),_.oldVersion,_.newVersion,oo(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),y.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const G1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],km=new Map;function Q_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(km.get(t))return km.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Y1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(n)))return;const u=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),o&&_.done]))[0]};return km.set(t,u),u}q1(i=>({...i,get:(t,n,s)=>Q_(t,n)||i.get(t,n,s),has:(t,n)=>!!Q_(t,n)||i.has(t,n)}));class Q1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function X1(i){return i.getComponent()?.type==="VERSION"}const Qm="@firebase/app",X_="0.14.6";const ua=new bp("@firebase/app"),$1="@firebase/app-compat",J1="@firebase/analytics-compat",Z1="@firebase/analytics",W1="@firebase/app-check-compat",tC="@firebase/app-check",eC="@firebase/auth",nC="@firebase/auth-compat",rC="@firebase/database",iC="@firebase/data-connect",sC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",uC="@firebase/installations-compat",cC="@firebase/messaging",fC="@firebase/messaging-compat",hC="@firebase/performance",dC="@firebase/performance-compat",mC="@firebase/remote-config",pC="@firebase/remote-config-compat",gC="@firebase/storage",yC="@firebase/storage-compat",vC="@firebase/firestore",_C="@firebase/ai",bC="@firebase/firestore-compat",EC="firebase",TC="12.6.0";const Xm="[DEFAULT]",SC={[Qm]:"fire-core",[$1]:"fire-core-compat",[Z1]:"fire-analytics",[J1]:"fire-analytics-compat",[tC]:"fire-app-check",[W1]:"fire-app-check-compat",[eC]:"fire-auth",[nC]:"fire-auth-compat",[rC]:"fire-rtdb",[iC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[uC]:"fire-iid-compat",[cC]:"fire-fcm",[fC]:"fire-fcm-compat",[hC]:"fire-perf",[dC]:"fire-perf-compat",[mC]:"fire-rc",[pC]:"fire-rc-compat",[gC]:"fire-gcs",[yC]:"fire-gcs-compat",[vC]:"fire-fst",[bC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};const nh=new Map,wC=new Map,$m=new Map;function $_(i,t){try{i.container.addComponent(t)}catch(n){ua.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Fl(i){const t=i.name;if($m.has(t))return ua.debug(`There were multiple attempts to register component ${t}.`),!1;$m.set(t,i);for(const n of nh.values())$_(n,i);for(const n of wC.values())$_(n,i);return!0}function Tp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Ji(i){return i==null?!1:i.settings!==void 0}const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new _c("app","Firebase",AC);class CC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}const tu=TC;function Lb(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Xm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw lo.create("bad-app-name",{appName:String(o)});if(n||(n=xb()),!n)throw lo.create("no-options");const u=nh.get(o);if(u){if($o(n,u.options)&&$o(s,u.config))return u;throw lo.create("duplicate-app",{appName:o})}const d=new N1(o);for(const _ of $m.values())d.addComponent(_);const y=new CC(n,s,d);return nh.set(o,y),y}function Ub(i=Xm){const t=nh.get(i);if(!t&&i===Xm&&xb())return Lb();if(!t)throw lo.create("no-app",{appName:i});return t}function uo(i,t,n){let s=SC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ua.warn(d.join(" "));return}Fl(new Jo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const RC="firebase-heartbeat-database",IC=1,oc="firebase-heartbeat-store";let Vm=null;function jb(){return Vm||(Vm=F1(RC,IC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(i=>{throw lo.create("idb-open",{originalErrorMessage:i.message})})),Vm}async function OC(i){try{const n=(await jb()).transaction(oc),s=await n.objectStore(oc).get(zb(i));return await n.done,s}catch(t){if(t instanceof da)ua.warn(t.message);else{const n=lo.create("idb-get",{originalErrorMessage:t?.message});ua.warn(n.message)}}}async function J_(i,t){try{const s=(await jb()).transaction(oc,"readwrite");await s.objectStore(oc).put(t,zb(i)),await s.done}catch(n){if(n instanceof da)ua.warn(n.message);else{const s=lo.create("idb-set",{originalErrorMessage:n?.message});ua.warn(s.message)}}}function zb(i){return`${i.name}!${i.options.appId}`}const DC=1024,xC=30;class NC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xC){const o=VC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ua.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:n,unsentEntries:s}=MC(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ua.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function MC(i,t=DC){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b1()?E1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function W_(i){return eh(JSON.stringify({version:2,heartbeats:i})).length}function VC(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function PC(i){Fl(new Jo("platform-logger",t=>new Q1(t),"PRIVATE")),Fl(new Jo("heartbeat",t=>new NC(t),"PRIVATE")),uo(Qm,X_,i),uo(Qm,X_,"esm2020"),uo("fire-js","")}PC("");var LC="firebase",UC="12.6.0";uo(LC,UC,"app");function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jC=Bb,qb=new _c("auth","Firebase",Bb());const rh=new bp("@firebase/auth");function zC(i,...t){rh.logLevel<=Te.WARN&&rh.warn(`Auth (${tu}): ${i}`,...t)}function Hf(i,...t){rh.logLevel<=Te.ERROR&&rh.error(`Auth (${tu}): ${i}`,...t)}function Ss(i,...t){throw wp(i,...t)}function ts(i,...t){return wp(i,...t)}function Sp(i,t,n){const s={...jC(),[t]:n};return new _c("auth","Firebase",s).create(t,{appName:i.name})}function Yo(i){return Sp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BC(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ss(i,"argument-error"),Sp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return qb.create(i,...t)}function ee(i,t,...n){if(!i)throw wp(t,...n)}function sa(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Hf(t),new Error(t)}function ca(i,t){i||sa(t)}function Jm(){return typeof self<"u"&&self.location?.href||""}function qC(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function HC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qC()||g1()||"connection"in navigator)?navigator.onLine:!0}function KC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,ca(n>t,"Short delay should be less than long delay!"),this.isMobile=d1()||y1()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(i,t){ca(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Hb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YC=new Ec(3e4,6e4);function Cp(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function eu(i,t,n,s,o={}){return Kb(i,o,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const y=bc({key:i.config.apiKey,...d}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const E={method:t,headers:_,...u};return p1()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Wl(i.emulatorConfig.host)&&(E.credentials="include"),Hb.fetch()(await Fb(i,i.config.apiHost,n,y),E)})}async function Kb(i,t,n){i._canInitEmulator=!1;const s={...FC,...t};try{const o=new XC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Mf(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[_,E]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(i,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mf(i,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mf(i,"user-disabled",d);const R=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Sp(i,R,E);Ss(i,R)}}catch(o){if(o instanceof da)throw o;Ss(i,"network-request-failed",{message:String(o)})}}async function QC(i,t,n,s,o={}){const u=await eu(i,t,n,s,o);return"mfaPendingCredential"in u&&Ss(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Fb(i,t,n,s){const o=`${t}${n}?${s}`,u=i,d=u.config.emulator?Ap(i.config,o):`${i.config.apiScheme}://${o}`;return GC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class XC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ts(this.auth,"network-request-failed")),YC.get())})}}function Mf(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ts(i,t,s);return o.customData._tokenResponse=n,o}async function $C(i,t){return eu(i,"POST","/v1/accounts:delete",t)}async function ih(i,t){return eu(i,"POST","/v1/accounts:lookup",t)}function Zu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JC(i,t=!1){const n=Ui(i),s=await n.getIdToken(t),o=Rp(s);ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:Zu(Pm(o.auth_time)),issuedAtTime:Zu(Pm(o.iat)),expirationTime:Zu(Pm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function Rp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ob(n);return o?JSON.parse(o):(Hf("Failed to decode base64 JWT payload"),null)}catch(o){return Hf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(i){const t=Rp(i);return ee(t,"internal-error"),ee(typeof t.exp<"u","internal-error"),ee(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function lc(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof da&&ZC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ZC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class WC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(i){const t=i.auth,n=await i.getIdToken(),s=await lc(i,ih(t,{idToken:n}));ee(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Gb(o.providerUserInfo):[],d=eR(i.providerData,u),y=i.isAnonymous,_=!(i.email&&o.passwordHash)&&!d?.length,E=y?_:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,R)}async function tR(i){const t=Ui(i);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eR(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Gb(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nR(i,t){const n=await Kb(i,{},async()=>{const s=bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await Fb(i,o,"/v1/token",`key=${u}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:s};return i.emulatorConfig&&Wl(i.emulatorConfig.host)&&(_.credentials="include"),Hb.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rR(i,t){return eu(i,"POST","/v2/accounts:revokeToken",Cp(i,t))}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ee(t.idToken,"internal-error"),ee(typeof t.idToken<"u","internal-error"),ee(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ee(t.length!==0,"internal-error");const n=e0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new Bl;return s&&(ee(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),o&&(ee(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&(ee(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return sa("not implemented")}}function Wa(i,t){ee(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Zi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await lc(this,this.stsTokenManager.getToken(this.auth,t));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JC(this,t)}reload(){return tR(this)}_assign(t){this!==t&&(ee(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Yo(this.auth));const t=await this.getIdToken();return await lc(this,$C(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,_=n._redirectEventId??void 0,E=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:O,emailVerified:V,isAnonymous:W,providerData:lt,stsTokenManager:mt}=n;ee(O&&mt,t,"internal-error");const _t=Bl.fromJSON(this.name,mt);ee(typeof O=="string",t,"internal-error"),Wa(s,t.name),Wa(o,t.name),ee(typeof V=="boolean",t,"internal-error"),ee(typeof W=="boolean",t,"internal-error"),Wa(u,t.name),Wa(d,t.name),Wa(y,t.name),Wa(_,t.name),Wa(E,t.name),Wa(R,t.name);const qt=new Zi({uid:O,auth:t,email:o,emailVerified:V,displayName:s,isAnonymous:W,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:_t,createdAt:E,lastLoginAt:R});return lt&&Array.isArray(lt)&&(qt.providerData=lt.map(Ft=>({...Ft}))),_&&(qt._redirectEventId=_),qt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Bl;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await sh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Gb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new Bl;y.updateFromIdToken(s);const _=new Zi({uid:o.localId,auth:t,stsTokenManager:y,isAnonymous:d}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,E),_}}const n0=new Map;function aa(i){ca(i instanceof Function,"Expected a class definition");let t=n0.get(i);return t?(ca(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,n0.set(i,t),t)}class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yb.type="NONE";const r0=Yb;function Kf(i,t,n){return`firebase:${i}:${t}:${n}`}class ql{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ih(this.auth,{idToken:t}).catch(()=>{});return n?Zi._fromGetAccountInfoResponse(this.auth,n,t):null}return Zi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ql(aa(r0),t,s);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=o[0]||aa(r0);const d=Kf(s,t.config.apiKey,t.name);let y=null;for(const E of n)try{const R=await E._get(d);if(R){let O;if(typeof R=="string"){const V=await ih(t,{idToken:R}).catch(()=>{});if(!V)break;O=await Zi._fromGetAccountInfoResponse(t,V,R)}else O=Zi._fromJSON(t,R);E!==u&&(y=O),u=E;break}}catch{}const _=o.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new ql(u,t,s):(u=_[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==u)try{await E._remove(d)}catch{}})),new ql(u,t,s))}}function i0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wb(t))return"Blackberry";if(tE(t))return"Webos";if(Xb(t))return"Safari";if((t.includes("chrome/")||$b(t))&&!t.includes("edge/"))return"Chrome";if(Zb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Qb(i=pr()){return/firefox\//i.test(i)}function Xb(i=pr()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $b(i=pr()){return/crios\//i.test(i)}function Jb(i=pr()){return/iemobile/i.test(i)}function Zb(i=pr()){return/android/i.test(i)}function Wb(i=pr()){return/blackberry/i.test(i)}function tE(i=pr()){return/webos/i.test(i)}function Ip(i=pr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function iR(i=pr()){return Ip(i)&&!!window.navigator?.standalone}function sR(){return v1()&&document.documentMode===10}function eE(i=pr()){return Ip(i)||Zb(i)||tE(i)||Wb(i)||/windows phone/i.test(i)||Jb(i)}function nE(i,t=[]){let n;switch(i){case"Browser":n=i0(pr());break;case"Worker":n=`${i0(pr())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${s}`}class aR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,y)=>{try{const _=t(u);d(_)}catch(_){y(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function oR(i,t={}){return eu(i,"GET","/v2/passwordPolicy",Cp(i,t))}const lR=6;class uR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class cR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new aR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=aa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ql.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ih(this,{idToken:t}),s=await Zi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ji(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(t);(!u||u===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ji(this.app))return Promise.reject(Yo(this));const n=t?Ui(t):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ee(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ji(this.app)?Promise.reject(Yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oR(this),n=new uR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _c("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&aa(t)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,o);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wh(i){return Ui(i)}class s0{constructor(t){this.auth=t,this.observer=null,this.addObserver=C1(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fR(i){Op=i}function hR(i){return Op.loadJS(i)}function dR(){return Op.gapiScript}function mR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function pR(i,t){const n=Tp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($o(u,t??{}))return o;Ss(o,"already-initialized")}return n.initialize({options:t})}function gR(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(aa);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function yR(i,t,n){const s=wh(i);ee(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=rE(t),{host:d,port:y}=vR(t),_=y===null?"":`:${y}`,E={url:`${u}//${d}${_}/`},R=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ee($o(E,s.config.emulator)&&$o(R,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=R,s.settings.appVerificationDisabledForTesting=!0,Wl(d)?(Mb(`${u}//${d}${_}`),kb("Auth",!0)):_R()}function rE(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function vR(i){const t=rE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:a0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:a0(d)}}}function a0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function _R(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class iE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sa("not implemented")}_getIdTokenResponse(t){return sa("not implemented")}_linkToIdToken(t,n){return sa("not implemented")}_getReauthenticationResolver(t){return sa("not implemented")}}async function Hl(i,t){return QC(i,"POST","/v1/accounts:signInWithIdp",Cp(i,t))}const bR="http://localhost";class Zo extends iE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new Zo(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Hl(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Hl(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hl(t,n)}buildRequest(){const t={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bc(n)}return t}}class Dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Tc extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class no extends Tc{constructor(){super("facebook.com")}static credential(t){return Zo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return no.credentialFromTaggedObject(t)}static credentialFromError(t){return no.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return no.credential(t.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class ia extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ia.credential(n,s)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";class ro extends Tc{constructor(){super("github.com")}static credential(t){return Zo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ro.credentialFromTaggedObject(t)}static credentialFromError(t){return ro.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ro.credential(t.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class io extends Tc{constructor(){super("twitter.com")}static credential(t,n){return Zo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return io.credentialFromTaggedObject(t)}static credentialFromError(t){return io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return io.credential(n,s)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";class Gl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zi._fromIdTokenResponse(t,s,o),d=o0(s);return new Gl({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=o0(s);return new Gl({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function o0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ah extends da{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ah(t,n,s,o)}}function sE(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(i,u,t,s):u})}async function ER(i,t,n=!1){const s=await lc(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Gl._forOperation(i,"link",s)}async function TR(i,t,n=!1){const{auth:s}=i;if(Ji(s.app))return Promise.reject(Yo(s));const o="reauthenticate";try{const u=await lc(i,sE(s,o,t,i),n);ee(u.idToken,s,"internal-error");const d=Rp(u.idToken);ee(d,s,"internal-error");const{sub:y}=d;return ee(i.uid===y,s,"user-mismatch"),Gl._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ss(s,"user-mismatch"),u}}async function SR(i,t,n=!1){if(Ji(i.app))return Promise.reject(Yo(i));const s="signIn",o=await sE(i,s,t),u=await Gl._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function wR(i,t,n,s){return Ui(i).onIdTokenChanged(t,n,s)}function AR(i,t,n){return Ui(i).beforeAuthStateChanged(t,n)}function CR(i,t,n,s){return Ui(i).onAuthStateChanged(t,n,s)}function l0(i){return Ui(i).signOut()}const oh="__sak";class aE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const RR=1e3,IR=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);sR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oE.type="LOCAL";const OR=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lE.type="SESSION";const uE=lE;function DR(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(d).map(async E=>E(n.origin,u)),_=await DR(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function xp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class xR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,_)=>{const E=xp("",20);o.port1.start();const R=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(O){const V=O;if(V.data.eventId===E)switch(V.data.status){case"ack":clearTimeout(R),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(V.data.response);break;default:clearTimeout(R),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function vs(){return window}function NR(i){vs().location.href=i}function cE(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function MR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kR(){return navigator?.serviceWorker?.controller||null}function VR(){return cE()?self:null}const fE="firebaseLocalStorageDb",PR=1,lh="firebaseLocalStorage",hE="fbase_key";class Sc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(i,t){return i.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function LR(){const i=indexedDB.deleteDatabase(fE);return new Sc(i).toPromise()}function Wm(){const i=indexedDB.open(fE,PR);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lh,{keyPath:hE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(lh)?t(s):(s.close(),await LR(),t(await Wm()))})})}async function u0(i,t,n){const s=Ch(i,!0).put({[hE]:t,value:n});return new Sc(s).toPromise()}async function UR(i,t){const n=Ch(i,!1).get(t),s=await new Sc(n).toPromise();return s===void 0?null:s.value}function c0(i,t){const n=Ch(i,!0).delete(t);return new Sc(n).toPromise()}const jR=800,zR=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>zR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(VR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wm();return await u0(t,oh,"1"),await c0(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>u0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>UR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new Sc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const BR=dE;new Ec(3e4,6e4);function mE(i,t){return t?aa(t):(ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Np extends iE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qR(i){return SR(i.auth,new Np(i),i.bypassAuthState)}function HR(i){const{auth:t,user:n}=i;return ee(n,t,"internal-error"),TR(n,new Np(i),i.bypassAuthState)}async function KR(i){const{auth:t,user:n}=i;return ee(n,t,"internal-error"),ER(n,new Np(i),i.bypassAuthState)}class pE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:y}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return KR;case"reauthViaPopup":case"reauthViaRedirect":return HR;default:Ss(this.auth,"internal-error")}}resolve(t){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FR=new Ec(2e3,1e4);async function GR(i,t,n){if(Ji(i.app))return Promise.reject(ts(i,"operation-not-supported-in-this-environment"));const s=wh(i);BC(i,t,Dp);const o=mE(s,n);return new Fo(s,"signInViaPopup",t,o).executeNotNull()}class Fo extends pE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ee(t,this.auth,"internal-error"),t}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const t=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FR.get())};t()}}Fo.currentPopupAction=null;const YR="pendingRedirect",Ff=new Map;class QR extends pE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ff.get(this.auth._key());if(!t){try{const s=await XR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ff.set(this.auth._key(),t)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XR(i,t){const n=ZR(t),s=JR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $R(i,t){Ff.set(i._key(),t)}function JR(i){return aa(i._redirectPersistence)}function ZR(i){return Kf(YR,i.config.apiKey,i.name)}async function WR(i,t,n=!1){if(Ji(i.app))return Promise.reject(Yo(i));const s=wh(i),o=mE(s,t),d=await new QR(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const tI=600*1e3;class eI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!gE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tI&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(t))}saveEventToCache(t){this.cachedEventUids.add(f0(t)),this.lastProcessedEventTime=Date.now()}}function f0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function gE({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function nI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(i);default:return!1}}async function rI(i,t={}){return eu(i,"GET","/v1/projects",t)}const iI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sI=/^https?/;async function aI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await rI(i);for(const n of t)try{if(oI(n))return}catch{}Ss(i,"unauthorized-domain")}function oI(i){const t=Jm(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!sI.test(n))return!1;if(iI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const lI=new Ec(3e4,6e4);function h0(){const i=vs().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function uI(i){return new Promise((t,n)=>{function s(){h0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(ts(i,"network-request-failed"))},timeout:lI.get()})}if(vs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(vs().gapi?.load)s();else{const o=mR("iframefcb");return vs()[o]=()=>{gapi.load?s():n(ts(i,"network-request-failed"))},hR(`${dR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Gf=null,t})}let Gf=null;function cI(i){return Gf=Gf||uI(i),Gf}const fI=new Ec(5e3,15e3),hI="__/auth/iframe",dI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gI(i){const t=i.config;ee(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Ap(t,dI):`https://${i.config.authDomain}/${hI}`,s={apiKey:t.apiKey,appName:i.name,v:tu},o=pI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bc(s).slice(1)}`}async function yI(i){const t=await cI(i),n=vs().gapi;return ee(n,i,"internal-error"),t.open({where:document.body,url:gI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=ts(i,"network-request-failed"),y=vs().setTimeout(()=>{u(d)},fI.get());function _(){vs().clearTimeout(y),o(s)}s.ping(_).then(_,()=>{u(d)})}))}const vI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_I=500,bI=600,EI="_blank",TI="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(i,t,n,s=_I,o=bI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const _={...vI,width:s.toString(),height:o.toString(),top:u,left:d},E=pr().toLowerCase();n&&(y=$b(E)?EI:n),Qb(E)&&(t=t||TI,_.scrollbars="yes");const R=Object.entries(_).reduce((V,[W,lt])=>`${V}${W}=${lt},`,"");if(iR(E)&&y!=="_self")return wI(t||"",y),new d0(null);const O=window.open(t||"",y,R);ee(O,i,"popup-blocked");try{O.focus()}catch{}return new d0(O)}function wI(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const AI="__/auth/handler",CI="emulator/auth/handler",RI=encodeURIComponent("fac");async function m0(i,t,n,s,o,u){ee(i.config.authDomain,i,"auth-domain-config-required"),ee(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:tu,eventId:o};if(t instanceof Dp){t.setDefaultLanguage(i.languageCode),d.providerId=t.providerId||"",A1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,O]of Object.entries({}))d[R]=O}if(t instanceof Tc){const R=t.getScopes().filter(O=>O!=="");R.length>0&&(d.scopes=R.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const _=await i._getAppCheckToken(),E=_?`#${RI}=${encodeURIComponent(_)}`:"";return`${II(i)}?${bc(y).slice(1)}${E}`}function II({config:i}){return i.emulator?Ap(i,CI):`https://${i.authDomain}/${AI}`}const Lm="webStorageSupport";class OI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=WR,this._overrideRedirectResult=$R}async _openPopup(t,n,s,o){ca(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await m0(t,n,s,Jm(),o);return SI(t,u,xp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await m0(t,n,s,Jm(),o);return NR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ca(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await yI(t),s=new eI(t);return n.register("authEvent",o=>(ee(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Lm,{type:Lm},o=>{const u=o?.[0]?.[Lm];u!==void 0&&n(!!u),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return eE()||Xb()||Ip()}}const DI=OI;var p0="@firebase/auth",g0="1.11.1";class xI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(i){Fl(new Jo("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;ee(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(i)},E=new cR(s,o,u,_);return gR(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fl(new Jo("auth-internal",t=>{const n=wh(t.getProvider("auth").getImmediate());return(s=>new xI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(p0,g0,NI(i)),uo(p0,g0,"esm2020")}const kI=300,VI=Nb("authIdTokenMaxAge")||kI;let y0=null;const PI=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VI)return;const o=n?.token;y0!==o&&(y0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LI(i=Ub()){const t=Tp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=pR(i,{popupRedirectResolver:DI,persistence:[BR,OR,uE]}),s=Nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=PI(u.toString());AR(n,d,()=>d(n.currentUser)),wR(n,y=>d(y))}}const o=Db("auth");return o&&yR(n,`http://${o}`),n}function UI(){return document.getElementsByTagName("head")?.[0]??document}fR({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=ts("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",UI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var co,yE;(function(){var i;function t(k,N){function P(){}P.prototype=N.prototype,k.F=N.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(Y,q,J){for(var M=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)M[$t-2]=arguments[$t];return N.prototype[q].apply(Y,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,N,P){P||(P=0);const Y=Array(16);if(typeof N=="string")for(var q=0;q<16;++q)Y[q]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(q=0;q<16;++q)Y[q]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=k.g[0],P=k.g[1],q=k.g[2];let J=k.g[3],M;M=N+(J^P&(q^J))+Y[0]+3614090360&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[1]+3905402710&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[2]+606105819&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[3]+3250441966&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[4]+4118548399&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[5]+1200080426&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[6]+2821735955&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[7]+4249261313&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[8]+1770035416&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[9]+2336552879&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[10]+4294925233&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[11]+2304563134&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(J^P&(q^J))+Y[12]+1804603682&4294967295,N=P+(M<<7&4294967295|M>>>25),M=J+(q^N&(P^q))+Y[13]+4254626195&4294967295,J=N+(M<<12&4294967295|M>>>20),M=q+(P^J&(N^P))+Y[14]+2792965006&4294967295,q=J+(M<<17&4294967295|M>>>15),M=P+(N^q&(J^N))+Y[15]+1236535329&4294967295,P=q+(M<<22&4294967295|M>>>10),M=N+(q^J&(P^q))+Y[1]+4129170786&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[6]+3225465664&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[11]+643717713&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[0]+3921069994&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[5]+3593408605&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[10]+38016083&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[15]+3634488961&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[4]+3889429448&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[9]+568446438&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[14]+3275163606&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[3]+4107603335&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[8]+1163531501&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(q^J&(P^q))+Y[13]+2850285829&4294967295,N=P+(M<<5&4294967295|M>>>27),M=J+(P^q&(N^P))+Y[2]+4243563512&4294967295,J=N+(M<<9&4294967295|M>>>23),M=q+(N^P&(J^N))+Y[7]+1735328473&4294967295,q=J+(M<<14&4294967295|M>>>18),M=P+(J^N&(q^J))+Y[12]+2368359562&4294967295,P=q+(M<<20&4294967295|M>>>12),M=N+(P^q^J)+Y[5]+4294588738&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[8]+2272392833&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[11]+1839030562&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[14]+4259657740&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[1]+2763975236&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[4]+1272893353&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[7]+4139469664&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[10]+3200236656&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[13]+681279174&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[0]+3936430074&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[3]+3572445317&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[6]+76029189&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(P^q^J)+Y[9]+3654602809&4294967295,N=P+(M<<4&4294967295|M>>>28),M=J+(N^P^q)+Y[12]+3873151461&4294967295,J=N+(M<<11&4294967295|M>>>21),M=q+(J^N^P)+Y[15]+530742520&4294967295,q=J+(M<<16&4294967295|M>>>16),M=P+(q^J^N)+Y[2]+3299628645&4294967295,P=q+(M<<23&4294967295|M>>>9),M=N+(q^(P|~J))+Y[0]+4096336452&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[7]+1126891415&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[14]+2878612391&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[5]+4237533241&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[12]+1700485571&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[3]+2399980690&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[10]+4293915773&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[1]+2240044497&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[8]+1873313359&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[15]+4264355552&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[6]+2734768916&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[13]+1309151649&4294967295,P=q+(M<<21&4294967295|M>>>11),M=N+(q^(P|~J))+Y[4]+4149444226&4294967295,N=P+(M<<6&4294967295|M>>>26),M=J+(P^(N|~q))+Y[11]+3174756917&4294967295,J=N+(M<<10&4294967295|M>>>22),M=q+(N^(J|~P))+Y[2]+718787259&4294967295,q=J+(M<<15&4294967295|M>>>17),M=P+(J^(q|~N))+Y[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(q+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+q&4294967295,k.g[3]=k.g[3]+J&4294967295}s.prototype.v=function(k,N){N===void 0&&(N=k.length);const P=N-this.blockSize,Y=this.C;let q=this.h,J=0;for(;J<N;){if(q==0)for(;J<=P;)o(this,k,J),J+=this.blockSize;if(typeof k=="string"){for(;J<N;)if(Y[q++]=k.charCodeAt(J++),q==this.blockSize){o(this,Y),q=0;break}}else for(;J<N;)if(Y[q++]=k[J++],q==this.blockSize){o(this,Y),q=0;break}}this.h=q,this.o+=N},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,P=0;P<4;++P)for(let Y=0;Y<32;Y+=8)k[N++]=this.g[P]>>>Y&255;return k};function u(k,N){var P=y;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=N(k)}function d(k,N){this.h=N;const P=[];let Y=!0;for(let q=k.length-1;q>=0;q--){const J=k[q]|0;Y&&J==N||(P[q]=J,Y=!1)}this.g=P}var y={};function _(k){return-128<=k&&k<128?u(k,function(N){return new d([N|0],N<0?-1:0)}):new d([k|0],k<0?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return O;if(k<0)return _t(E(-k));const N=[];let P=1;for(let Y=0;k>=P;Y++)N[Y]=k/P|0,P*=4294967296;return new d(N,0)}function R(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return _t(R(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(N,8));let Y=O;for(let J=0;J<k.length;J+=8){var q=Math.min(8,k.length-J);const M=parseInt(k.substring(J,J+q),N);q<8?(q=E(Math.pow(N,q)),Y=Y.j(q).add(E(M))):(Y=Y.j(P),Y=Y.add(E(M)))}return Y}var O=_(0),V=_(1),W=_(16777216);i=d.prototype,i.m=function(){if(mt(this))return-_t(this).m();let k=0,N=1;for(let P=0;P<this.g.length;P++){const Y=this.i(P);k+=(Y>=0?Y:4294967296+Y)*N,N*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(lt(this))return"0";if(mt(this))return"-"+_t(this).toString(k);const N=E(Math.pow(k,6));var P=this;let Y="";for(;;){const q=oe(P,N).g;P=qt(P,q.j(N));let J=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=q,lt(P))return J+Y;for(;J.length<6;)J="0"+J;Y=J+Y}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function lt(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function mt(k){return k.h==-1}i.l=function(k){return k=qt(this,k),mt(k)?-1:lt(k)?0:1};function _t(k){const N=k.g.length,P=[];for(let Y=0;Y<N;Y++)P[Y]=~k.g[Y];return new d(P,~k.h).add(V)}i.abs=function(){return mt(this)?_t(this):this},i.add=function(k){const N=Math.max(this.g.length,k.g.length),P=[];let Y=0;for(let q=0;q<=N;q++){let J=Y+(this.i(q)&65535)+(k.i(q)&65535),M=(J>>>16)+(this.i(q)>>>16)+(k.i(q)>>>16);Y=M>>>16,J&=65535,M&=65535,P[q]=M<<16|J}return new d(P,P[P.length-1]&-2147483648?-1:0)};function qt(k,N){return k.add(_t(N))}i.j=function(k){if(lt(this)||lt(k))return O;if(mt(this))return mt(k)?_t(this).j(_t(k)):_t(_t(this).j(k));if(mt(k))return _t(this.j(_t(k)));if(this.l(W)<0&&k.l(W)<0)return E(this.m()*k.m());const N=this.g.length+k.g.length,P=[];for(var Y=0;Y<2*N;Y++)P[Y]=0;for(Y=0;Y<this.g.length;Y++)for(let q=0;q<k.g.length;q++){const J=this.i(Y)>>>16,M=this.i(Y)&65535,$t=k.i(q)>>>16,Wt=k.i(q)&65535;P[2*Y+2*q]+=M*Wt,Ft(P,2*Y+2*q),P[2*Y+2*q+1]+=J*Wt,Ft(P,2*Y+2*q+1),P[2*Y+2*q+1]+=M*$t,Ft(P,2*Y+2*q+1),P[2*Y+2*q+2]+=J*$t,Ft(P,2*Y+2*q+2)}for(k=0;k<N;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=N;k<2*N;k++)P[k]=0;return new d(P,0)};function Ft(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function Vt(k,N){this.g=k,this.h=N}function oe(k,N){if(lt(N))throw Error("division by zero");if(lt(k))return new Vt(O,O);if(mt(k))return N=oe(_t(k),N),new Vt(_t(N.g),_t(N.h));if(mt(N))return N=oe(k,_t(N)),new Vt(_t(N.g),N.h);if(k.g.length>30){if(mt(k)||mt(N))throw Error("slowDivide_ only works with positive integers.");for(var P=V,Y=N;Y.l(k)<=0;)P=ke(P),Y=ke(Y);var q=ne(P,1),J=ne(Y,1);for(Y=ne(Y,2),P=ne(P,2);!lt(Y);){var M=J.add(Y);M.l(k)<=0&&(q=q.add(P),J=M),Y=ne(Y,1),P=ne(P,1)}return N=qt(k,q.j(N)),new Vt(q,N)}for(q=O;k.l(N)>=0;){for(P=Math.max(1,Math.floor(k.m()/N.m())),Y=Math.ceil(Math.log(P)/Math.LN2),Y=Y<=48?1:Math.pow(2,Y-48),J=E(P),M=J.j(N);mt(M)||M.l(k)>0;)P-=Y,J=E(P),M=J.j(N);lt(J)&&(J=V),q=q.add(J),k=qt(k,M)}return new Vt(q,k)}i.B=function(k){return oe(this,k).h},i.and=function(k){const N=Math.max(this.g.length,k.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)&k.i(Y);return new d(P,this.h&k.h)},i.or=function(k){const N=Math.max(this.g.length,k.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)|k.i(Y);return new d(P,this.h|k.h)},i.xor=function(k){const N=Math.max(this.g.length,k.g.length),P=[];for(let Y=0;Y<N;Y++)P[Y]=this.i(Y)^k.i(Y);return new d(P,this.h^k.h)};function ke(k){const N=k.g.length+1,P=[];for(let Y=0;Y<N;Y++)P[Y]=k.i(Y)<<1|k.i(Y-1)>>>31;return new d(P,k.h)}function ne(k,N){const P=N>>5;N%=32;const Y=k.g.length-P,q=[];for(let J=0;J<Y;J++)q[J]=N>0?k.i(J+P)>>>N|k.i(J+P+1)<<32-N:k.i(J+P);return new d(q,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=R,co=d}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vE,Fu,_E,Yf,tp,bE,EE,TE;(function(){var i,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var v=0;v<c.length;++v){var S=c[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)t:{var S=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var tt=c[I];if(!(tt in S))break t;S=S[tt]}c=c[c.length-1],I=S[c],v=v(I),v!=I&&v!=null&&t(S,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var S=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&S.push([I,v[I]]);return S}});var u=u||{},d=this||self;function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,S){return c.call.apply(c.bind,arguments)}function E(c,v,S){return E=_,E.apply(null,arguments)}function R(c,v){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function O(c,v){function S(){}S.prototype=v.prototype,c.Z=v.prototype,c.prototype=new S,c.prototype.constructor=c,c.Ob=function(I,tt,at){for(var wt=Array(arguments.length-2),re=2;re<arguments.length;re++)wt[re-2]=arguments[re];return v.prototype[tt].apply(I,wt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function W(c){const v=c.length;if(v>0){const S=Array(v);for(let I=0;I<v;I++)S[I]=c[I];return S}return[]}function lt(c,v){for(let I=1;I<arguments.length;I++){const tt=arguments[I];var S=typeof tt;if(S=S!="object"?S:tt?Array.isArray(tt)?"array":S:"null",S=="array"||S=="object"&&typeof tt.length=="number"){S=c.length||0;const at=tt.length||0;c.length=S+at;for(let wt=0;wt<at;wt++)c[S+wt]=tt[wt]}else c.push(tt)}}class mt{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _t(c){d.setTimeout(()=>{throw c},0)}function qt(){var c=k;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Ft{constructor(){this.h=this.g=null}add(v,S){const I=Vt.get();I.set(v,S),this.h?this.h.next=I:this.g=I,this.h=I}}var Vt=new mt(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,ne=!1,k=new Ft,N=()=>{const c=Promise.resolve(void 0);ke=()=>{c.then(P)}};function P(){for(var c;c=qt();){try{c.h.call(c.g)}catch(S){_t(S)}var v=Vt;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ne=!1}function Y(){this.u=this.u,this.C=this.C}Y.prototype.u=!1,Y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Y.prototype[Symbol.dispose]=function(){this.dispose()},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};d.addEventListener("test",S,v),d.removeEventListener("test",S,v)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function $t(c,v){q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}O($t,q),$t.prototype.init=function(c,v){const S=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(S=="mouseover"?v=c.fromElement:S=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),ut=0;function Ot(c,v,S,I,tt){this.listener=c,this.proxy=null,this.src=v,this.type=S,this.capture=!!I,this.ha=tt,this.key=++ut,this.da=this.fa=!1}function jt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function he(c,v,S){for(const I in c)v.call(S,c[I],I,c)}function de(c,v){for(const S in c)v.call(void 0,c[S],S,c)}function K(c){const v={};for(const S in c)v[S]=c[S];return v}const pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(c,v){let S,I;for(let tt=1;tt<arguments.length;tt++){I=arguments[tt];for(S in I)c[S]=I[S];for(let at=0;at<pt.length;at++)S=pt[at],Object.prototype.hasOwnProperty.call(I,S)&&(c[S]=I[S])}}function kt(c){this.src=c,this.g={},this.h=0}kt.prototype.add=function(c,v,S,I,tt){const at=c.toString();c=this.g[at],c||(c=this.g[at]=[],this.h++);const wt=Jt(c,v,I,tt);return wt>-1?(v=c[wt],S||(v.fa=!1)):(v=new Ot(v,this.src,at,!!I,tt),v.fa=S,c.push(v)),v};function Yt(c,v){const S=v.type;if(S in c.g){var I=c.g[S],tt=Array.prototype.indexOf.call(I,v,void 0),at;(at=tt>=0)&&Array.prototype.splice.call(I,tt,1),at&&(jt(v),c.g[S].length==0&&(delete c.g[S],c.h--))}}function Jt(c,v,S,I){for(let tt=0;tt<c.length;++tt){const at=c[tt];if(!at.da&&at.listener==v&&at.capture==!!S&&at.ha==I)return tt}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),pn={};function Nt(c,v,S,I,tt){if(Array.isArray(v)){for(let at=0;at<v.length;at++)Nt(c,v[at],S,I,tt);return null}return S=Eo(S),c&&c[Wt]?c.J(v,S,y(I)?!!I.capture:!1,tt):es(c,v,S,!1,I,tt)}function es(c,v,S,I,tt,at){if(!v)throw Error("Invalid event type");const wt=y(tt)?!!tt.capture:!!tt;let re=Cs(c);if(re||(c[pe]=re=new kt(c)),S=re.add(v,S,I,wt,at),S.proxy)return S;if(I=ji(),S.proxy=I,I.src=c,I.listener=S,c.addEventListener)J||(tt=wt),tt===void 0&&(tt=!1),c.addEventListener(v.toString(),I,tt);else if(c.attachEvent)c.attachEvent(di(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ji(){function c(S){return v.call(c.src,c.listener,S)}const v=Kr;return c}function Ae(c,v,S,I,tt){if(Array.isArray(v))for(var at=0;at<v.length;at++)Ae(c,v[at],S,I,tt);else I=y(I)?!!I.capture:!!I,S=Eo(S),c&&c[Wt]?(c=c.i,at=String(v).toString(),at in c.g&&(v=c.g[at],S=Jt(v,S,I,tt),S>-1&&(jt(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete c.g[at],c.h--)))):c&&(c=Cs(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Jt(v,S,I,tt)),(S=c>-1?v[c]:null)&&hi(S))}function hi(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Wt])Yt(v.i,c);else{var S=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(S,I,c.capture):v.detachEvent?v.detachEvent(di(S),I):v.addListener&&v.removeListener&&v.removeListener(I),(S=Cs(v))?(Yt(S,c),S.h==0&&(S.src=null,v[pe]=null)):jt(c)}}}function di(c){return c in pn?pn[c]:pn[c]="on"+c}function Kr(c,v){if(c.da)c=!0;else{v=new $t(v,this);const S=c.listener,I=c.ha||c.src;c.fa&&hi(c),c=S.call(I,v)}return c}function Cs(c){return c=c[pe],c instanceof kt?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(v){return c.handleEvent(v)}),c[bo])}function fn(){Y.call(this),this.i=new kt(this),this.M=this,this.G=null}O(fn,Y),fn.prototype[Wt]=!0,fn.prototype.removeEventListener=function(c,v,S,I){Ae(this,c,v,S,I)};function en(c,v){var S,I=c.G;if(I)for(S=[];I;I=I.G)S.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new q(v,c);else if(v instanceof q)v.target=v.target||c;else{var tt=v;v=new q(I,c),Rt(v,tt)}tt=!0;let at,wt;if(S)for(wt=S.length-1;wt>=0;wt--)at=v.g=S[wt],tt=kn(at,I,!0,v)&&tt;if(at=v.g=c,tt=kn(at,I,!0,v)&&tt,tt=kn(at,I,!1,v)&&tt,S)for(wt=0;wt<S.length;wt++)at=v.g=S[wt],tt=kn(at,I,!1,v)&&tt}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const S=c.g[v];for(let I=0;I<S.length;I++)jt(S[I]);delete c.g[v],c.h--}}this.G=null},fn.prototype.J=function(c,v,S,I){return this.i.add(String(c),v,!1,S,I)},fn.prototype.K=function(c,v,S,I){return this.i.add(String(c),v,!0,S,I)};function kn(c,v,S,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let tt=!0;for(let at=0;at<v.length;++at){const wt=v[at];if(wt&&!wt.da&&wt.capture==S){const re=wt.listener,ln=wt.ha||wt.src;wt.fa&&Yt(c.i,wt),tt=re.call(ln,I)!==!1&&tt}}return tt&&!I.defaultPrevented}function sl(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(c,v||0)}function ns(c){c.g=sl(()=>{c.g=null,c.i&&(c.i=!1,ns(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class zn extends Y{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(c){Y.call(this),this.h=c,this.g={}}O(Fr,Y);var Gr=[];function Yr(c){he(c.g,function(v,S){this.g.hasOwnProperty(S)&&hi(v)},c),c.g={}}Fr.prototype.N=function(){Fr.Z.N.call(this),Yr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,Rs=d.JSON.parse,ma=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Is(){}function pi(){}var ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){q.call(this,"d")}O(gn,q);function yn(){q.call(this,"c")}O(yn,q);var xt={},rs=null;function Tr(){return rs=rs||new fn}xt.Ia="serverreachability";function Os(c){q.call(this,xt.Ia,c)}O(Os,q);function Ct(c){const v=Tr();en(v,new Os(v))}xt.STAT_EVENT="statevent";function zi(c,v){q.call(this,xt.STAT_EVENT,c),this.stat=v}O(zi,q);function nn(c){const v=Tr();en(v,new zi(v,c))}xt.Ja="timingevent";function Sr(c,v){q.call(this,xt.Ja,c),this.size=v}O(Sr,q);function Qr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function au(c,v,S,I,tt,at){c.info(function(){if(c.g)if(at){var wt="",re=at.split("&");for(let Ce=0;Ce<re.length;Ce++){var ln=re[Ce].split("=");if(ln.length>1){const ze=ln[0];ln=ln[1];const Vr=ze.split("_");wt=Vr.length>=2&&Vr[1]=="type"?wt+(ze+"="+ln+"&"):wt+(ze+"=redacted&")}}}else wt=null;else wt=at;return"XMLHTTP REQ ("+I+") [attempt "+tt+"]: "+v+`
`+S+`
`+wt})}function al(c,v,S,I,tt,at,wt){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+tt+"]: "+v+`
`+S+`
`+at+" "+wt})}function Xn(c,v,S,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+To(c,S)+(I?" "+I:"")})}function wr(c,v){c.info(function(){return"TIMEOUT: "+v})}gr.prototype.info=function(){};function To(c,v){if(!c.g)return v;if(!v)return null;try{const at=JSON.parse(v);if(at){for(c=0;c<at.length;c++)if(Array.isArray(at[c])){var S=at[c];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var tt=I[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(let wt=1;wt<I.length;wt++)I[wt]=""}}}}return mi(at)}catch{return v}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ze;function Ds(){}O(Ds,Is),Ds.prototype.g=function(){return new XMLHttpRequest},Ze=new Ds;function Ar(c){return encodeURIComponent(String(c))}function xs(c){var v=1;c=c.split(":");const S=[];for(;v>0&&c.length;)S.push(c.shift()),v--;return c.length&&S.push(c.join(":")),S}function sr(c,v,S,I){this.j=c,this.i=v,this.l=S,this.S=I||1,this.V=new Fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var Ue={},Ye={};function Vn(c,v,S){c.M=1,c.A=as(sn(v)),c.u=S,c.R=!0,Bi(c,null)}function Bi(c,v){c.F=Date.now(),Bn(c),c.B=sn(c.A);var S=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),_a(S.i,"t",I),c.C=0,S=c.j.L,c.h=new Xr,c.g=bn(c.j,S?v:null,!c.u),c.P>0&&(c.O=new zn(E(c.Y,c,c.g),c.P)),v=c.V,S=c.g,I=c.ba;var tt="readystatechange";Array.isArray(tt)||(tt&&(Gr[0]=tt.toString()),tt=Gr);for(let at=0;at<tt.length;at++){const wt=Nt(S,tt[at],I||v.handleEvent,!1,v.h||v);if(!wt)break;v.g[wt.key]=wt}v=c.J?K(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Ct(),au(c.i,c.v,c.B,c.l,c.S,c.u)}sr.prototype.ba=function(c){c=c.target;const v=this.O;v&&ri(c)==3?v.j():this.Y(c)},sr.prototype.Y=function(c){try{if(c==this.g)t:{const re=ri(this.g),ln=this.g.ya(),Ce=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||re!=4||ln==7||(ln==8||Ce<=0?Ct(3):Ct(2)),Cr(this);var v=this.g.ca();this.X=v;var S=ou(this);if(this.o=v==200,al(this.i,this.v,this.B,this.l,this.S,re,v),this.o){if(this.U&&!this.L){e:{if(this.g){var I,tt=this.g;if((I=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(I)){var at=I;break e}}at=null}if(c=at)Xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wn(this,c);else{this.o=!1,this.m=3,nn(12),vn(this),Ie(this);break t}}if(this.R){c=!0;let ze;for(;!this.K&&this.C<S.length;)if(ze=So(this,S),ze==Ye){re==4&&(this.m=4,nn(14),c=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Ue){this.m=4,nn(15),Xn(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Xn(this.i,this.l,ze,null),wn(this,ze);if($r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||S.length!=0||this.h.h||(this.m=1,nn(16),c=!1),this.o=this.o&&c,!c)Xn(this.i,this.l,S,"[Invalid Chunked Response]"),vn(this),Ie(this);else if(S.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ls(wt),wt.P=!0,nn(11))}}else Xn(this.i,this.l,S,null),wn(this,S);re==4&&vn(this),this.o&&!this.K&&(re==4?Qi(this.j,this):(this.o=!1,Bn(this)))}else Gi(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),vn(this),Ie(this)}}}catch{}finally{}};function ou(c){if(!$r(c))return c.g.la();const v=on(c.g);if(v==="")return"";let S="";const I=v.length,tt=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Ie(c),"";c.h.i=new d.TextDecoder}for(let at=0;at<I;at++)c.h.h=!0,S+=c.h.i.decode(v[at],{stream:!(tt&&at==I-1)});return v.length=0,c.h.g+=S,c.C=0,c.h.g}function $r(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function So(c,v){var S=c.C,I=v.indexOf(`
`,S);return I==-1?Ye:(S=Number(v.substring(S,I)),isNaN(S)?Ue:(I+=1,I+S>v.length?Ye:(v=v.slice(I,I+S),c.C=I+S,v)))}sr.prototype.cancel=function(){this.K=!0,vn(this)};function Bn(c){c.T=Date.now()+c.H,Ns(c,c.H)}function Ns(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Qr(E(c.aa,c),v)}function Cr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}sr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wr(this.i,this.B),this.M!=2&&(Ct(),nn(17)),vn(this),this.m=2,Ie(this)):Ns(this,this.T-c)};function Ie(c){c.j.I==0||c.K||Qi(c.j,c)}function vn(c){Cr(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Yr(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function wn(c,v){try{var S=c.j;if(S.I!=0&&(S.g==c||Ir(S.h,c))){if(!c.L&&Ir(S.h,c)&&S.I==3){try{var I=S.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var tt=I;if(tt[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<c.F)Sa(S),Ei(S);else break t;Si(S),nn(18)}}else S.xa=tt[1],0<S.xa-S.K&&tt[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Qr(E(S.Va,S),6e3));Rr(S.h)<=1&&S.ta&&(S.ta=void 0)}else Mr(S,11)}else if((c.L||S.g==c)&&Sa(S),!M(v))for(tt=S.Ba.g.parse(v),v=0;v<tt.length;v++){let Ce=tt[v];const ze=Ce[0];if(!(ze<=S.K))if(S.K=ze,Ce=Ce[1],S.I==2)if(Ce[0]=="c"){S.M=Ce[1],S.ba=Ce[2];const Vr=Ce[3];Vr!=null&&(S.ka=Vr,S.j.info("VER="+S.ka));const Pr=Ce[4];Pr!=null&&(S.za=Pr,S.j.info("SVER="+S.za));const _r=Ce[5];_r!=null&&typeof _r=="number"&&_r>0&&(I=1.5*_r,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const si=c.g;if(si){const cs=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var at=I.h;at.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(Jr(at,at.h),at.h=null))}if(I.G){const Ra=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(I.wa=Ra,xe(I.J,I.G,Ra))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-c.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var wt=c;if(I.na=Ca(I,I.L?I.ba:null,I.W),wt.L){pa(I.h,wt);var re=wt,ln=I.O;ln&&(re.H=ln),re.D&&(Cr(re),Bn(re)),I.g=wt}else Ps(I);S.i.length>0&&Ti(S)}else Ce[0]!="stop"&&Ce[0]!="close"||Mr(S,7);else S.I==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Mr(S,7):os(S):Ce[0]!="noop"&&S.l&&S.l.qa(Ce),S.A=0)}}Ct(4)}catch{}}var rn=class{constructor(c,v){this.g=c,this.map=v}};function yi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function is(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rr(c){return c.h?1:c.g?c.g.size:0}function Ir(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Jr(c,v){c.g?c.g.add(v):c.h=v}function pa(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}yi.prototype.cancel=function(){if(this.i=ss(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ss(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const S of c.g.values())v=v.concat(S.G);return v}return W(c.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function le(c,v){if(c){c=c.split("&");for(let S=0;S<c.length;S++){const I=c[S].indexOf("=");let tt,at=null;I>=0?(tt=c[S].substring(0,I),at=c[S].substring(I+1)):tt=c[S],v(tt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function ar(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof ar?(this.l=c.l,an(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.u),this.h=c.h,ga(this,ll(c.i)),this.m=c.m):c&&(v=String(c).match(wo))?(this.l=!1,an(this,v[1]||"",!0),this.o=ye(v[2]||""),this.g=ye(v[3]||"",!0),Or(this,v[4]),this.h=ye(v[5]||"",!0),ga(this,v[6]||"",!0),this.m=ye(v[7]||"")):(this.l=!1,this.i=new ei(null,this.l))}ar.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Zr(v,Wr,!0),":");var S=this.g;return(S||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Zr(v,Wr,!0),"@"),c.push(Ar(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&c.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(Zr(S,S.charAt(0)=="/"?Ms:ya,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",Zr(S,Ao)),c.join("")},ar.prototype.resolve=function(c){const v=sn(this);let S=!!c.j;S?an(v,c.j):S=!!c.o,S?v.o=c.o:S=!!c.g,S?v.g=c.g:S=c.u!=null;var I=c.h;if(S)Or(v,c.u);else if(S=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var tt=v.h.lastIndexOf("/");tt!=-1&&(I=v.h.slice(0,tt+1)+I)}if(tt=I,tt==".."||tt==".")I="";else if(tt.indexOf("./")!=-1||tt.indexOf("/.")!=-1){I=tt.lastIndexOf("/",0)==0,tt=tt.split("/");const at=[];for(let wt=0;wt<tt.length;){const re=tt[wt++];re=="."?I&&wt==tt.length&&at.push(""):re==".."?((at.length>1||at.length==1&&at[0]!="")&&at.pop(),I&&wt==tt.length&&at.push("")):(at.push(re),I=!0)}I=at.join("/")}else I=tt}return S?v.h=I:S=c.i.toString()!=="",S?ga(v,ll(c.i)):S=!!c.m,S&&(v.m=c.m),v};function sn(c){return new ar(c)}function an(c,v,S){c.j=S?ye(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function ga(c,v,S){v instanceof ei?(c.i=v,ni(c.i,c.l)):(S||(v=Zr(v,ti)),c.i=new ei(v,c.l))}function xe(c,v,S){c.i.set(v,S)}function as(c){return xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ye(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,v,S){return typeof c=="string"?(c=encodeURI(c).replace(v,An),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function An(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wr=/[#\/\?@]/g,ya=/[#\?:]/g,Ms=/[#\?]/g,ti=/[#\?@]/g,Ao=/#/g;function ei(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&le(c.i,function(v,S){c.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}i=ei.prototype,i.add=function(c,v){$n(this),this.i=null,c=hn(this,c);let S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(v),this.h+=1,this};function ol(c,v){$n(c),v=hn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function ge(c,v){return $n(c),v=hn(c,v),c.g.has(v)}i.forEach=function(c,v){$n(this),this.g.forEach(function(S,I){S.forEach(function(tt){c.call(v,tt,I,this)},this)},this)};function va(c,v){$n(c);let S=[];if(typeof v=="string")ge(c,v)&&(S=S.concat(c.g.get(hn(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)S=S.concat(c[v]);return S}i.set=function(c,v){return $n(this),this.i=null,c=hn(this,c),ge(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=va(this,c),c.length>0?String(c[0]):v):v};function _a(c,v,S){ol(c,v),S.length>0&&(c.i=null,c.g.set(hn(c,v),W(S)),c.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var S=v[I];const tt=Ar(S);S=va(this,S);for(let at=0;at<S.length;at++){let wt=tt;S[at]!==""&&(wt+="="+Ar(S[at])),c.push(wt)}}return this.i=c.join("&")};function ll(c){const v=new ei;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function hn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ni(c,v){v&&!c.j&&($n(c),c.i=null,c.g.forEach(function(S,I){const tt=I.toLowerCase();I!=tt&&(ol(this,I),_a(this,tt,S))},c)),c.j=v}function or(c,v){const S=new gr;if(d.Image){const I=new Image;I.onload=R(yr,S,"TestLoadImage: loaded",!0,v,I),I.onerror=R(yr,S,"TestLoadImage: error",!1,v,I),I.onabort=R(yr,S,"TestLoadImage: abort",!1,v,I),I.ontimeout=R(yr,S,"TestLoadImage: timeout",!1,v,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function Dr(c,v){const S=new gr,I=new AbortController,tt=setTimeout(()=>{I.abort(),yr(S,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(at=>{clearTimeout(tt),at.ok?yr(S,"TestPingServer: ok",!0,v):yr(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(tt),yr(S,"TestPingServer: error",!1,v)})}function yr(c,v,S,I,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),I(S)}catch{}}function qi(){this.g=new ma}function je(c){this.i=c.Sb||null,this.h=c.ab||!1}O(je,Is),je.prototype.g=function(){return new qn(this.i,this.h)};function qn(c,v){fn.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(qn,fn),i=qn.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,vr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function vi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?xr(this):vr(this),this.readyState==3&&vi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},i.Na=function(c){this.g&&(this.response=c,xr(this))},i.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vr(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=v.next();return c.join(`\r
`)};function vr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _n(c){let v="";return he(c,function(S,I){v+=I,v+=":",v+=S,v+=`\r
`}),v}function ks(c,v,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=_n(S),typeof c=="string"?S!=null&&Ar(S):xe(c,v,S))}function me(c){fn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(me,fn);var Nr=/^https?$/i,ba=["POST","PUT"];i=me.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ze.g(),this.g.onreadystatechange=V(E(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(at){Hi(this,at);return}if(c=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var tt in I)S.set(tt,I[tt]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const at of I.keys())S.set(at,I.get(at));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(at=>at.toLowerCase()=="content-type"),tt=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(ba,v,void 0)>=0)||I||tt||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,wt]of S)this.g.setRequestHeader(at,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(at){Hi(this,at)}};function Hi(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Ki(c),_i(c)}function Ki(c){c.A||(c.A=!0,en(c,"complete"),en(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,en(this,"complete"),en(this,"abort"),_i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),me.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Fi(this):this.Xa())},i.Xa=function(){Fi(this)};function Fi(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(en(c,"readystatechange"),ri(c)==4){c.h=!1;try{const at=c.ca();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var S;if(!(S=v)){var I;if(I=at===0){let wt=String(c.D).match(wo)[1]||null;!wt&&d.self&&d.self.location&&(wt=d.self.location.protocol.slice(0,-1)),I=!Nr.test(wt?wt.toLowerCase():"")}S=I}if(S)en(c,"complete"),en(c,"success");else{c.o=6;try{var tt=ri(c)>2?c.g.statusText:""}catch{tt=""}c.l=tt+" ["+c.ca()+"]",Ki(c)}}finally{_i(c)}}}}function _i(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const S=c.g;c.g=null,v||en(c,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Rs(v)}};function on(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const v={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(M(c[I]))continue;var S=xs(c[I]);const tt=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const at=v[tt]||[];v[tt]=at,at.push(S)}de(v,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||v}function ii(c){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new yi(c&&c.concurrentRequestLimit),this.Ba=new qi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ii.prototype,i.ka=8,i.I=1,i.connect=function(c,v,S,I){nn(0),this.W=c,this.H=v||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=Ca(this,null,this.W),Ti(this)};function os(c){if(Ea(c),c.I==3){var v=c.V++,S=sn(c.J);if(xe(S,"SID",c.M),xe(S,"RID",v),xe(S,"TYPE","terminate"),Yi(c,S),v=new sr(c,c.j,v),v.M=2,v.A=as(sn(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&d.Image&&(new Image().src=v.A,S=!0),S||(v.g=bn(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Bn(v)}Aa(c)}function Ei(c){c.g&&(ls(c),c.g.cancel(),c.g=null)}function Ea(c){Ei(c),c.v&&(d.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ti(c){if(!is(c.h)&&!c.m){c.m=!0;var v=c.Ea;ke||N(),ne||(ke(),ne=!0),k.add(v,c),c.D=0}}function Ta(c,v){return Rr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Qr(E(c.Ea,c,v),wa(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const tt=new sr(this,this.j,c);let at=this.o;if(this.U&&(at?(at=K(at),Rt(at,this.U)):at=this.U),this.u!==null||this.R||(tt.J=at,at=null),this.S)t:{for(var v=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=S;break t}if(v===4096||S===this.i.length-1){v=S+1;break t}}v=1e3}else v=1e3;v=Co(this,tt,v),S=sn(this.J),xe(S,"RID",c),xe(S,"CVER",22),this.G&&xe(S,"X-HTTP-Session-Id",this.G),Yi(this,S),at&&(this.R?v="headers="+Ar(_n(at))+"&"+v:this.u&&ks(S,this.u,at)),Jr(this.h,tt),this.Ra&&xe(S,"TYPE","init"),this.S?(xe(S,"$req",v),xe(S,"SID","null"),tt.U=!0,Vn(tt,S,null)):Vn(tt,S,v),this.I=2}}else this.I==3&&(c?Vs(this,c):this.i.length==0||is(this.h)||Vs(this))};function Vs(c,v){var S;v?S=v.l:S=c.V++;const I=sn(c.J);xe(I,"SID",c.M),xe(I,"RID",S),xe(I,"AID",c.K),Yi(c,I),c.u&&c.o&&ks(I,c.u,c.o),S=new sr(c,c.j,S,c.D+1),c.u===null&&(S.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Co(c,S,1e3),S.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Jr(c.h,S),Vn(S,I,v)}function Yi(c,v){c.H&&he(c.H,function(S,I){xe(v,I,S)}),c.l&&he({},function(S,I){xe(v,I,S)})}function Co(c,v,S){S=Math.min(c.i.length,S);const I=c.l?E(c.l.Ka,c.l,c):null;t:{var tt=c.i;let re=-1;for(;;){const ln=["count="+S];re==-1?S>0?(re=tt[0].g,ln.push("ofs="+re)):re=0:ln.push("ofs="+re);let Ce=!0;for(let ze=0;ze<S;ze++){var at=tt[ze].g;const Vr=tt[ze].map;if(at-=re,at<0)re=Math.max(0,tt[ze].g-100),Ce=!1;else try{at="req"+at+"_"||"";try{var wt=Vr instanceof Map?Vr:Object.entries(Vr);for(const[Pr,_r]of wt){let si=_r;y(_r)&&(si=mi(_r)),ln.push(at+Pr+"="+encodeURIComponent(si))}}catch(Pr){throw ln.push(at+"type="+encodeURIComponent("_badmap")),Pr}}catch{I&&I(Vr)}}if(Ce){wt=ln.join("&");break t}}wt=void 0}return c=c.i.splice(0,S),v.G=c,wt}function Ps(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;ke||N(),ne||(ke(),ne=!0),k.add(v,c),c.A=0}}function Si(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Qr(E(c.Da,c),wa(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Ro(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Qr(E(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Ei(this),Ro(this))};function ls(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Ro(c){c.g=new sr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=sn(c.na);xe(v,"RID","rpc"),xe(v,"SID",c.M),xe(v,"AID",c.K),xe(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&xe(v,"TO",c.ia),xe(v,"TYPE","xmlhttp"),Yi(c,v),c.u&&c.o&&ks(v,c.u,c.o),c.O&&(c.g.H=c.O);var S=c.g;c=c.ba,S.M=1,S.A=as(sn(v)),S.u=null,S.R=!0,Bi(S,c)}i.Va=function(){this.C!=null&&(this.C=null,Ei(this),Si(this),nn(19))};function Sa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Qi(c,v){var S=null;if(c.g==v){Sa(c),ls(c),c.g=null;var I=2}else if(Ir(c.h,v))S=v.G,pa(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var tt=c.D;I=Tr(),en(I,new Sr(I,S)),Ti(c)}else Ps(c);else if(tt=v.m,tt==3||tt==0&&v.X>0||!(I==1&&Ta(c,v)||I==2&&Si(c)))switch(S&&S.length>0&&(v=c.h,v.i=v.i.concat(S)),tt){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function wa(c,v){let S=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(S*=2),S*v}function Mr(c,v){if(c.j.info("Error code "+v),v==2){var S=E(c.bb,c),I=c.Ua;const tt=!I;I=new ar(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||an(I,"https"),as(I),tt?or(I.toString(),S):Dr(I.toString(),S)}else nn(2);c.I=0,c.l&&c.l.pa(v),Aa(c),Ea(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Aa(c){if(c.I=0,c.ja=[],c.l){const v=ss(c.h);(v.length!=0||c.i.length!=0)&&(lt(c.ja,v),lt(c.ja,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.oa()}}function Ca(c,v,S){var I=S instanceof ar?sn(S):new ar(S);if(I.g!="")v&&(I.g=v+"."+I.g),Or(I,I.u);else{var tt=d.location;I=tt.protocol,v=v?v+"."+tt.hostname:tt.hostname,tt=+tt.port;const at=new ar(null);I&&an(at,I),v&&(at.g=v),tt&&Or(at,tt),S&&(at.h=S),I=at}return S=c.G,v=c.wa,S&&v&&xe(I,S,v),xe(I,"VER",c.ka),Yi(c,I),I}function bn(c,v,S){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new me(new je({ab:S})):new me(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function us(){}i=us.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function kr(){}kr.prototype.g=function(c,v){return new Hn(c,v)};function Hn(c,v){fn.call(this),this.g=new ii(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!M(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new wi(this)}O(Hn,fn),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){os(this.g)},Hn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.v&&(S={},S.__data__=mi(c),c=S);v.i.push(new rn(v.Ya++,c)),v.I==3&&Ti(v)},Hn.prototype.N=function(){this.g.l=null,delete this.j,os(this.g),delete this.g,Hn.Z.N.call(this)};function Ls(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){t:{for(const S in v){c=S;break t}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}O(Ls,gn);function Io(){yn.call(this),this.status=1}O(Io,yn);function wi(c){this.g=c}O(wi,us),wi.prototype.ra=function(){en(this.g,"a")},wi.prototype.qa=function(c){en(this.g,new Ls(c))},wi.prototype.pa=function(c){en(this.g,new Io)},wi.prototype.oa=function(){en(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,TE=function(){return new kr},EE=function(){return Tr()},bE=xt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Yf=gi,Pe.COMPLETE="complete",_E=Pe,pi.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",fn.prototype.listen=fn.prototype.J,Fu=pi,me.prototype.listenOnce=me.prototype.K,me.prototype.getLastError=me.prototype.Ha,me.prototype.getLastErrorCode=me.prototype.ya,me.prototype.getStatus=me.prototype.ca,me.prototype.getResponseJson=me.prototype.La,me.prototype.getResponseText=me.prototype.la,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Fa,vE=me}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",b0="4.9.2";class hr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let nu="12.3.0";const Wo=new bp("@firebase/firestore");function Ll(){return Wo.logLevel}function Pt(i,...t){if(Wo.logLevel<=Te.DEBUG){const n=t.map(Mp);Wo.debug(`Firestore (${nu}): ${i}`,...n)}}function fa(i,...t){if(Wo.logLevel<=Te.ERROR){const n=t.map(Mp);Wo.error(`Firestore (${nu}): ${i}`,...n)}}function Yl(i,...t){if(Wo.logLevel<=Te.WARN){const n=t.map(Mp);Wo.warn(`Firestore (${nu}): ${i}`,...n)}}function Mp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Xt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,SE(i,s,n)}function SE(i,t,n){let s=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fa(s),new Error(s)}function Le(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||SE(t,o,s)}function ae(i,t){return i}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends da{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class wE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class zI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BI{constructor(t){this.t=t,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Le(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fo,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fo)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string",31837,{l:s}),new wE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Le(t===null||typeof t=="string",2055,{h:t}),new hr(t)}}class qI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new qI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Le(this.o===void 0,3512);const s=u=>{u.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Pt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Se(i,t){return i<t?-1:i>t?1:0}function ep(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Um(o)===Um(u)?Se(o,u):Um(o)?1:-1}return Se(i.length,t.length)}const GI=55296,YI=57343;function Um(i){const t=i.charCodeAt(0);return t>=GI&&t<=YI}function Ql(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const T0="__name__";class gs{constructor(t,n,s){n===void 0?n=0:n>t.length&&Xt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Xt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return gs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gs?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=gs.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Se(t.length,n.length)}static compareSegments(t,n){const s=gs.isNumericId(t),o=gs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gs.extractNumericId(t).compare(gs.extractNumericId(n)):ep(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return co.fromString(t.substring(4,t.length-2))}}class un extends gs{construct(t,n,s){return new un(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new un(n)}static emptyPath(){return new un([])}}const QI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends gs{construct(t,n,s){return new nr(t,n,s)}static isValidIdentifier(t){return QI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new nr([T0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new Bt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Bt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(u(),o++)}if(u(),d)throw new Bt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nr(n)}static emptyPath(){return new nr([])}}class Gt{constructor(t){this.path=t}static fromPath(t){return new Gt(un.fromString(t))}static fromName(t){return new Gt(un.fromString(t).popFirst(5))}static empty(){return new Gt(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&un.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return un.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Gt(new un(t.slice()))}}function XI(i,t,n){if(!n)throw new Bt(bt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function $I(i,t,n,s){if(t===!0&&s===!0)throw new Bt(bt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function S0(i){if(!Gt.isDocumentKey(i))throw new Bt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function AE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Xt(12329,{type:typeof i})}function uc(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Bt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vp(i);throw new Bt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Mn(i,t){const n={typeString:i};return t&&(n.value=t),n}function wc(i,t){if(!AE(i))throw new Bt(bt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Bt(bt.INVALID_ARGUMENT,n);return!0}const w0=-62135596800,A0=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(t){return Je.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*A0);return new Je(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<w0)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A0}_compareTo(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wc(t,Je._jsonSchema))return new Je(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-w0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Mn("string",Je._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};class ie{static fromTimestamp(t){return new ie(t)}static min(){return new ie(new Je(0,0))}static max(){return new ie(new Je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cc=-1;function JI(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ie.fromTimestamp(s===1e9?new Je(n+1,0):new Je(n,s));return new ho(o,Gt.empty(),t)}function ZI(i){return new ho(i.readTime,i.key,cc)}class ho{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ho(ie.min(),Gt.empty(),cc)}static max(){return new ho(ie.max(),Gt.empty(),cc)}}function WI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Gt.comparator(i.documentKey,t.documentKey),n!==0?n:Se(i.largestBatchId,t.largestBatchId))}const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ru(i){if(i.code!==bt.FAILED_PRECONDITION||i.message!==tO)throw i;Pt("LocalStore","Unexpectedly lost primary lease")}class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new vt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof vt?n:vt.resolve(n)}catch(n){return vt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):vt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):vt.reject(n)}static resolve(t){return new vt(((n,s)=>{n(t)}))}static reject(t){return new vt(((n,s)=>{s(t)}))}static waitFor(t){return new vt(((n,s)=>{let o=0,u=0,d=!1;t.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(_=>s(_)))})),d=!0,u===o&&n()}))}static or(t){let n=vt.resolve(!1);for(const s of t)n=n.next((o=>o?vt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new vt(((s,o)=>{const u=t.length,d=new Array(u);let y=0;for(let _=0;_<u;_++){const E=_;n(t[E]).next((R=>{d[E]=R,++y,y===u&&s(d)}),(R=>o(R)))}}))}static doWhile(t,n){return new vt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function nO(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function iu(i){return i.name==="IndexedDbTransactionError"}class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;const Pp=-1;function Ih(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function rO(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const CE="";function iO(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=C0(t)),t=sO(i.get(n),t);return C0(t)}function sO(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case CE:n+="";break;default:n+=u}}return n}function C0(i){return i+CE+""}function R0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function el(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function RE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class cn{constructor(t,n){this.comparator=t,this.root=n||er.EMPTY}insert(t,n){return new cn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(t){return new cn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,er.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vf(this.root,t,this.comparator,!0)}}class Vf{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class er{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??er.RED,this.left=o??er.EMPTY,this.right=u??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new er(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return er.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Xt(27949);return t+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new er(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(t){this.comparator=t,this.data=new cn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof jn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new jn(this.comparator);return n.data=t,n}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wi{constructor(t){this.fields=t,t.sort(nr.comparator)}static empty(){return new Wi([])}unionWith(t){let n=new jn(nr.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Wi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ql(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}})(t);return new rr(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(t);return new rr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(i){if(Le(!!i,39018),typeof i=="string"){let t=0;const n=aO.exec(i);if(Le(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Sn(i.seconds),nanos:Sn(i.nanos)}}function Sn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function po(i){return typeof i=="string"?rr.fromBase64String(i):rr.fromUint8Array(i)}const OE="server_timestamp",DE="__type__",xE="__previous_value__",NE="__local_write_time__";function Lp(i){return(i?.mapValue?.fields||{})[DE]?.stringValue===OE}function Oh(i){const t=i.mapValue.fields[xE];return Lp(t)?Oh(t):t}function fc(i){const t=mo(i.mapValue.fields[NE].timestampValue);return new Je(t.seconds,t.nanos)}class oO{constructor(t,n,s,o,u,d,y,_,E,R){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=R}}const ch="(default)";class hc{constructor(t,n){this.projectId=t,this.database=n||ch}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===ch}isEqual(t){return t instanceof hc&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",lO="__max__",Pf={mapValue:{}},kE="__vector__",fh="value";function go(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lp(i)?4:cO(i)?9007199254740991:uO(i)?10:11:Xt(28295,{value:i})}function ws(i,t){if(i===t)return!0;const n=go(i);if(n!==go(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return fc(i).isEqual(fc(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=mo(o.timestampValue),y=mo(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return po(o.bytesValue).isEqual(po(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Sn(o.geoPointValue.latitude)===Sn(u.geoPointValue.latitude)&&Sn(o.geoPointValue.longitude)===Sn(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Sn(o.integerValue)===Sn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Sn(o.doubleValue),y=Sn(u.doubleValue);return d===y?uh(d)===uh(y):isNaN(d)&&isNaN(y)}return!1})(i,t);case 9:return Ql(i.arrayValue.values||[],t.arrayValue.values||[],ws);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(R0(d)!==R0(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!ws(d[_],y[_])))return!1;return!0})(i,t);default:return Xt(52216,{left:i})}}function dc(i,t){return(i.values||[]).find((n=>ws(n,t)))!==void 0}function Xl(i,t){if(i===t)return 0;const n=go(i),s=go(t);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(i.booleanValue,t.booleanValue);case 2:return(function(u,d){const y=Sn(u.integerValue||u.doubleValue),_=Sn(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(i,t);case 3:return O0(i.timestampValue,t.timestampValue);case 4:return O0(fc(i),fc(t));case 5:return ep(i.stringValue,t.stringValue);case 6:return(function(u,d){const y=po(u),_=po(d);return y.compareTo(_)})(i.bytesValue,t.bytesValue);case 7:return(function(u,d){const y=u.split("/"),_=d.split("/");for(let E=0;E<y.length&&E<_.length;E++){const R=Se(y[E],_[E]);if(R!==0)return R}return Se(y.length,_.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,d){const y=Se(Sn(u.latitude),Sn(d.latitude));return y!==0?y:Se(Sn(u.longitude),Sn(d.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return D0(i.arrayValue,t.arrayValue);case 10:return(function(u,d){const y=u.fields||{},_=d.fields||{},E=y[fh]?.arrayValue,R=_[fh]?.arrayValue,O=Se(E?.values?.length||0,R?.values?.length||0);return O!==0?O:D0(E,R)})(i.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Pf.mapValue&&d===Pf.mapValue)return 0;if(u===Pf.mapValue)return 1;if(d===Pf.mapValue)return-1;const y=u.fields||{},_=Object.keys(y),E=d.fields||{},R=Object.keys(E);_.sort(),R.sort();for(let O=0;O<_.length&&O<R.length;++O){const V=ep(_[O],R[O]);if(V!==0)return V;const W=Xl(y[_[O]],E[R[O]]);if(W!==0)return W}return Se(_.length,R.length)})(i.mapValue,t.mapValue);default:throw Xt(23264,{he:n})}}function O0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Se(i,t);const n=mo(i),s=mo(t),o=Se(n.seconds,s.seconds);return o!==0?o:Se(n.nanos,s.nanos)}function D0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Xl(n[o],s[o]);if(u)return u}return Se(n.length,s.length)}function $l(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=mo(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return po(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Gt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${np(n.fields[d])}`;return o+"}"})(i.mapValue):Xt(61005,{value:i})}function Qf(i){switch(go(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oh(i);return t?16+Qf(t):16;case 5:return 2*i.stringValue.length;case 6:return po(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Qf(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return el(s.fields,((u,d)=>{o+=u.length+Qf(d)})),o})(i.mapValue);default:throw Xt(13486,{value:i})}}function rp(i){return!!i&&"integerValue"in i}function Up(i){return!!i&&"arrayValue"in i}function x0(i){return!!i&&"nullValue"in i}function N0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xf(i){return!!i&&"mapValue"in i}function uO(i){return(i?.mapValue?.fields||{})[ME]?.stringValue===kE}function Wu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return el(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Wu(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wu(i.arrayValue.values[n]);return t}return{...i}}function cO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}class Pi{constructor(t){this.value=t}static empty(){return new Pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Xf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wu(n)}setAll(t){let n=nr.emptyPath(),s={},o=[];t.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=y.popLast()}d?s[y.lastSegment()]=Wu(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ws(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Xf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){el(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Pi(Wu(this.value))}}function VE(i){const t=[];return el(i.fields,((n,s)=>{const o=new nr([n]);if(Xf(s)){const u=VE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const d of u)t.push(o.child(d))}else t.push(o)})),new Wi(t)}class dr{constructor(t,n,s,o,u,d,y){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(t){return new dr(t,0,ie.min(),ie.min(),ie.min(),Pi.empty(),0)}static newFoundDocument(t,n,s,o){return new dr(t,1,n,ie.min(),s,o,0)}static newNoDocument(t,n){return new dr(t,2,n,ie.min(),ie.min(),Pi.empty(),0)}static newUnknownDocument(t,n){return new dr(t,3,n,ie.min(),ie.min(),Pi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(t,n){this.position=t,this.inclusive=n}}function M0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],d=i.position[o];if(u.field.isKeyField()?s=Gt.comparator(Gt.fromName(d.referenceValue),n.key):s=Xl(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function k0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ws(i.position[n],t.position[n]))return!1;return!0}class dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function fO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class PE{}class Un extends PE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new dO(t,n,s):n==="array-contains"?new gO(t,s):n==="in"?new yO(t,s):n==="not-in"?new vO(t,s):n==="array-contains-any"?new _O(t,s):new Un(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new mO(t,s):new pO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xl(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(Xl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends PE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new As(t,n)}matches(t){return LE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(i){return i.op==="and"}function UE(i){return hO(i)&&LE(i)}function hO(i){for(const t of i.filters)if(t instanceof As)return!1;return!0}function ip(i){if(i instanceof Un)return i.field.canonicalString()+i.op.toString()+$l(i.value);if(UE(i))return i.filters.map((t=>ip(t))).join(",");{const t=i.filters.map((n=>ip(n))).join(",");return`${i.op}(${t})`}}function jE(i,t){return i instanceof Un?(function(s,o){return o instanceof Un&&s.op===o.op&&s.field.isEqual(o.field)&&ws(s.value,o.value)})(i,t):i instanceof As?(function(s,o){return o instanceof As&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,y)=>u&&jE(d,o.filters[y])),!0):!1})(i,t):void Xt(19439)}function zE(i){return i instanceof Un?(function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`})(i):i instanceof As?(function(n){return n.op.toString()+" {"+n.getFilters().map(zE).join(" ,")+"}"})(i):"Filter"}class dO extends Un{constructor(t,n,s){super(t,n,s),this.key=Gt.fromName(s.referenceValue)}matches(t){const n=Gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class mO extends Un{constructor(t,n){super(t,"in",n),this.keys=BE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class pO extends Un{constructor(t,n){super(t,"not-in",n),this.keys=BE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function BE(i,t){return(t.arrayValue?.values||[]).map((n=>Gt.fromName(n.referenceValue)))}class gO extends Un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Up(n)&&dc(n.arrayValue,this.value)}}class yO extends Un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class vO extends Un{constructor(t,n){super(t,"not-in",n)}matches(t){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class _O extends Un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>dc(this.value.arrayValue,s)))}}class bO{constructor(t,n=null,s=[],o=[],u=null,d=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function V0(i,t=null,n=[],s=[],o=null,u=null,d=null){return new bO(i,t,n,s,o,u,d)}function jp(i){const t=ae(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>$l(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>$l(s))).join(",")),t.Te=n}return t.Te}function zp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!fO(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!jE(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!k0(i.startAt,t.startAt)&&k0(i.endAt,t.endAt)}function sp(i){return Gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Dh{constructor(t,n=null,s=[],o=[],u=null,d="F",y=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EO(i,t,n,s,o,u,d,y){return new Dh(i,t,n,s,o,u,d,y)}function Bp(i){return new Dh(i)}function P0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TO(i){return i.collectionGroup!==null}function tc(i){const t=ae(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new jn(nr.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new dh(u,s))})),n.has(nr.keyField().canonicalString())||t.Ie.push(new dh(nr.keyField(),s))}return t.Ie}function _s(i){const t=ae(i);return t.Ee||(t.Ee=SO(t,tc(i))),t.Ee}function SO(i,t){if(i.limitType==="F")return V0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)}));const n=i.endAt?new hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new hh(i.startAt.position,i.startAt.inclusive):null;return V0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function ap(i,t,n){return new Dh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function xh(i,t){return zp(_s(i),_s(t))&&i.limitType===t.limitType}function qE(i){return`${jp(_s(i))}|lt:${i.limitType}`}function Ul(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>zE(o))).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>$l(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>$l(o))).join(",")),`Target(${s})`})(_s(i))}; limitType=${i.limitType})`}function Nh(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of tc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(d,y,_){const E=M0(d,y,_);return d.inclusive?E<=0:E<0})(s.startAt,tc(s),o)||s.endAt&&!(function(d,y,_){const E=M0(d,y,_);return d.inclusive?E>=0:E>0})(s.endAt,tc(s),o))})(i,t)}function wO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function HE(i){return(t,n)=>{let s=!1;for(const o of tc(i)){const u=AO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AO(i,t,n){const s=i.field.isKeyField()?Gt.comparator(t.key,n.key):(function(u,d,y){const _=d.data.field(u),E=y.data.field(u);return _!==null&&E!==null?Xl(_,E):Xt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Xt(19790,{direction:i.dir})}}class nl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){el(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const CO=new cn(Gt.comparator);function ha(){return CO}const KE=new cn(Gt.comparator);function Gu(...i){let t=KE;for(const n of i)t=t.insert(n.key,n);return t}function FE(i){let t=KE;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Go(){return ec()}function GE(){return ec()}function ec(){return new nl((i=>i.toString()),((i,t)=>i.isEqual(t)))}const RO=new cn(Gt.comparator),IO=new jn(Gt.comparator);function we(...i){let t=IO;for(const n of i)t=t.add(n);return t}const OO=new jn(Se);function DO(){return OO}function qp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function YE(i){return{integerValue:""+i}}function xO(i,t){return rO(t)?YE(t):qp(i,t)}class Mh{constructor(){this._=void 0}}function NO(i,t,n){return i instanceof mh?(function(o,u){const d={fields:{[DE]:{stringValue:OE},[NE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=Oh(u)),u&&(d.fields[xE]=u),{mapValue:d}})(n,t):i instanceof mc?XE(i,t):i instanceof pc?$E(i,t):(function(o,u){const d=QE(o,u),y=L0(d)+L0(o.Ae);return rp(d)&&rp(o.Ae)?YE(y):qp(o.serializer,y)})(i,t)}function MO(i,t,n){return i instanceof mc?XE(i,t):i instanceof pc?$E(i,t):n}function QE(i,t){return i instanceof ph?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class mh extends Mh{}class mc extends Mh{constructor(t){super(),this.elements=t}}function XE(i,t){const n=JE(t);for(const s of i.elements)n.some((o=>ws(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pc extends Mh{constructor(t){super(),this.elements=t}}function $E(i,t){let n=JE(t);for(const s of i.elements)n=n.filter((o=>!ws(o,s)));return{arrayValue:{values:n}}}class ph extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function L0(i){return Sn(i.integerValue||i.doubleValue)}function JE(i){return Up(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function kO(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof mc&&o instanceof mc||s instanceof pc&&o instanceof pc?Ql(s.elements,o.elements,ws):s instanceof ph&&o instanceof ph?ws(s.Ae,o.Ae):s instanceof mh&&o instanceof mh})(i.transform,t.transform)}class VO{constructor(t,n){this.version=t,this.transformResults=n}}class oa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oa}static exists(t){return new oa(void 0,t)}static updateTime(t){return new oa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $f(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class kh{}function ZE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new tT(i.key,oa.none()):new Ac(i.key,i.data,oa.none());{const n=i.data,s=Pi.empty();let o=new jn(nr.comparator);for(let u of t.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new rl(i.key,s,new Wi(o.toArray()),oa.none())}}function PO(i,t,n){i instanceof Ac?(function(o,u,d){const y=o.value.clone(),_=j0(o.fieldTransforms,u,d.transformResults);y.setAll(_),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,t,n):i instanceof rl?(function(o,u,d){if(!$f(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=j0(o.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(WE(o)),_.setAll(y),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(i,t,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function nc(i,t,n,s){return i instanceof Ac?(function(u,d,y,_){if(!$f(u.precondition,d))return y;const E=u.value.clone(),R=z0(u.fieldTransforms,_,d);return E.setAll(R),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(i,t,n,s):i instanceof rl?(function(u,d,y,_){if(!$f(u.precondition,d))return y;const E=z0(u.fieldTransforms,_,d),R=d.data;return R.setAll(WE(u)),R.setAll(E),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((O=>O.field)))})(i,t,n,s):(function(u,d,y){return $f(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,t,n)}function LO(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=QE(s.transform,o||null);u!=null&&(n===null&&(n=Pi.empty()),n.set(s.field,u))}return n||null}function U0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ql(s,o,((u,d)=>kO(u,d)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ac extends kh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rl extends kh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WE(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function j0(i,t,n){const s=new Map;Le(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,y=t.data.field(u.field);s.set(u.field,MO(d,y,n[o]))}return s}function z0(i,t,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,NO(u,d,t))}return s}class tT extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UO extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&PO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=nc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=nc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=GE();return this.mutations.forEach((o=>{const u=t.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const _=ZE(d,y);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(ie.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),we())}isEqual(t){return this.batchId===t.batchId&&Ql(this.mutations,t.mutations,((n,s)=>U0(n,s)))&&Ql(this.baseMutations,t.baseMutations,((n,s)=>U0(n,s)))}}class Hp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Le(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return RO})();const u=t.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Hp(t,n,s,o)}}class zO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Nn,Oe;function qO(i){switch(i){case bt.OK:return Xt(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Xt(15467,{code:i})}}function eT(i){if(i===void 0)return fa("GRPC error has no .code"),bt.UNKNOWN;switch(i){case Nn.OK:return bt.OK;case Nn.CANCELLED:return bt.CANCELLED;case Nn.UNKNOWN:return bt.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return bt.INTERNAL;case Nn.UNAVAILABLE:return bt.UNAVAILABLE;case Nn.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Nn.NOT_FOUND:return bt.NOT_FOUND;case Nn.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Nn.ABORTED:return bt.ABORTED;case Nn.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Nn.DATA_LOSS:return bt.DATA_LOSS;default:return Xt(39323,{code:i})}}(Oe=Nn||(Nn={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";function HO(){return new TextEncoder}const KO=new co([4294967295,4294967295],0);function B0(i){const t=HO().encode(i),n=new yE;return n.update(t),new Uint8Array(n.digest())}function q0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new co([n,s],0),new co([o,u],0)]}class Kp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(s<0)throw new Yu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=co.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(co.fromNumber(s)));return o.compare(KO)===1&&(o=new co([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=B0(t),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Kp(u,o,n);return s.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const n=B0(t),[s,o]=q0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Cc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Vh(ie.min(),o,new cn(Se),ha(),we())}}class Cc{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Cc(s,n,we(),we(),we())}}class Jf{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class nT{constructor(t,n){this.targetId=t,this.Ce=n}}class rT{constructor(t,n,s=rr.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class H0{constructor(){this.ve=0,this.Fe=K0(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=we(),n=we(),s=we();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Xt(38017,{changeType:u})}})),new Cc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=K0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FO{constructor(t){this.Ge=t,this.ze=new Map,this.je=ha(),this.Je=Lf(),this.He=Lf(),this.Ye=new cn(Se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Xt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(sp(u))if(s===0){const d=new Gt(u.path);this.et(n,d,dr.newNoDocument(d,ie.min()))}else Le(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const y=this.ut(t),_=y?this.ct(y,t,d):1;if(_!==0){this.it(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=po(s).toUint8Array()}catch(_){if(_ instanceof IE)return Yl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Kp(d,o,u)}catch(_){return Yl(_ instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&sp(y.target)){const _=new Gt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,dr.newNoDocument(_,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=we();this.He.forEach(((u,d)=>{let y=!0;d.forEachWhile((_=>{const E=this.ot(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const o=new Vh(t,n,this.Ye,this.je,s);return this.je=ha(),this.Je=Lf(),this.He=Lf(),this.Ye=new cn(Se),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new H0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new jn(Se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new jn(Se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Lf(){return new cn(Gt.comparator)}function K0(){return new cn(Gt.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QO={and:"AND",or:"OR"};class XO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function op(i,t){return i.useProto3Json||Ih(t)?t:{value:t}}function gh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function $O(i,t){return gh(i,t.toTimestamp())}function bs(i){return Le(!!i,49232),ie.fromTimestamp((function(n){const s=mo(n);return new Je(s.seconds,s.nanos)})(i))}function Fp(i,t){return lp(i,t).canonicalString()}function lp(i,t){const n=(function(o){return new un(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function sT(i){const t=un.fromString(i);return Le(cT(t),10190,{key:t.toString()}),t}function up(i,t){return Fp(i.databaseId,t.path)}function jm(i,t){const n=sT(t);if(n.get(1)!==i.databaseId.projectId)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Gt(oT(n))}function aT(i,t){return Fp(i.databaseId,t)}function JO(i){const t=sT(i);return t.length===4?un.emptyPath():oT(t)}function cp(i){return new un(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function oT(i){return Le(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function F0(i,t,n){return{name:up(i,t),fields:n.value.mapValue.fields}}function ZO(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Xt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(E,R){return E.useProto3Json?(Le(R===void 0||typeof R=="string",58123),rr.fromBase64String(R||"")):(Le(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),rr.fromUint8Array(R||new Uint8Array))})(i,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(E){const R=E.code===void 0?bt.UNKNOWN:eT(E.code);return new Bt(R,E.message||"")})(d);n=new rT(s,o,u,y||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(i,s.document.name),u=bs(s.document.updateTime),d=s.document.createTime?bs(s.document.createTime):ie.min(),y=new Pi({mapValue:{fields:s.document.fields}}),_=dr.newFoundDocument(o,u,d,y),E=s.targetIds||[],R=s.removedTargetIds||[];n=new Jf(E,R,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=jm(i,s.document),u=s.readTime?bs(s.readTime):ie.min(),d=dr.newNoDocument(o,u),y=s.removedTargetIds||[];n=new Jf([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=jm(i,s.document),u=s.removedTargetIds||[];n=new Jf([],u,o,null)}else{if(!("filter"in t))return Xt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new BO(o,u),y=s.targetId;n=new nT(y,d)}}return n}function WO(i,t){let n;if(t instanceof Ac)n={update:F0(i,t.key,t.value)};else if(t instanceof tT)n={delete:up(i,t.key)};else if(t instanceof rl)n={update:F0(i,t.key,t.data),updateMask:l2(t.fieldMask)};else{if(!(t instanceof UO))return Xt(16599,{Vt:t.type});n={verify:up(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const y=d.transform;if(y instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof mc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof pc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ph)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Xt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$O(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Xt(27497)})(i,t.precondition)),n}function t2(i,t){return i&&i.length>0?(Le(t!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?bs(o.updateTime):bs(u);return d.isEqual(ie.min())&&(d=bs(u)),new VO(d,o.transformResults||[])})(n,t)))):[]}function e2(i,t){return{documents:[aT(i,t.path)]}}function n2(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aT(i,o);const u=(function(E){if(E.length!==0)return uT(As.create(E,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(E){if(E.length!==0)return E.map((R=>(function(V){return{field:jl(V.field),direction:s2(V.dir)}})(R)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const y=op(i,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:o}}function r2(i){let t=JO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Le(s===1,65062);const R=n.from[0];R.allDescendants?o=R.collectionId:t=t.child(R.collectionId)}let u=[];n.where&&(u=(function(O){const V=lT(O);return V instanceof As&&UE(V)?V.getFilters():[V]})(n.where));let d=[];n.orderBy&&(d=(function(O){return O.map((V=>(function(lt){return new dh(zl(lt.field),(function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(lt.direction))})(V)))})(n.orderBy));let y=null;n.limit&&(y=(function(O){let V;return V=typeof O=="object"?O.value:O,Ih(V)?null:V})(n.limit));let _=null;n.startAt&&(_=(function(O){const V=!!O.before,W=O.values||[];return new hh(W,V)})(n.startAt));let E=null;return n.endAt&&(E=(function(O){const V=!O.before,W=O.values||[];return new hh(W,V)})(n.endAt)),EO(t,o,d,u,y,"F",_,E)}function i2(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zl(n.unaryFilter.field);return Un.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zl(n.unaryFilter.field);return Un.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zl(n.unaryFilter.field);return Un.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=zl(n.unaryFilter.field);return Un.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Un.create(zl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return As.create(n.compositeFilter.filters.map((s=>lT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}})(n.compositeFilter.op))})(i):Xt(30097,{filter:i})}function s2(i){return GO[i]}function a2(i){return YO[i]}function o2(i){return QO[i]}function jl(i){return{fieldPath:i.canonicalString()}}function zl(i){return nr.fromServerFormat(i.fieldPath)}function uT(i){return i instanceof Un?(function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:a2(n.op),value:n.value}}})(i):i instanceof As?(function(n){const s=n.getFilters().map((o=>uT(o)));return s.length===1?s[0]:{compositeFilter:{op:o2(n.op),filters:s}}})(i):Xt(54877,{filter:i})}function l2(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function cT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class so{constructor(t,n,s,o,u=ie.min(),d=ie.min(),y=rr.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(t){return new so(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class u2{constructor(t){this.yt=t}}function c2(i){const t=r2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ap(t,t.limit,"L"):t}class f2{constructor(){this.Cn=new h2}addToCollectionParentIndex(t,n){return this.Cn.add(n),vt.resolve()}getCollectionParents(t,n){return vt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return vt.resolve()}deleteFieldIndex(t,n){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,n){return vt.resolve()}getDocumentsMatchingTarget(t,n){return vt.resolve(null)}getIndexType(t,n){return vt.resolve(0)}getFieldIndexes(t,n){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,n){return vt.resolve(ho.min())}getMinOffsetFromCollectionGroup(t,n){return vt.resolve(ho.min())}updateCollectionGroup(t,n,s){return vt.resolve()}updateIndexEntries(t,n){return vt.resolve()}}class h2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new jn(un.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new jn(un.comparator)).toArray()}}const G0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class Hr{static withCacheSize(t){return new Hr(t,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(fT,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class Jl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}const Y0="LruGarbageCollector",d2=1048576;function Q0([i,t],[n,s]){const o=Se(i,n);return o===0?Se(t,s):o}class m2{constructor(t){this.Ir=t,this.buffer=new jn(Q0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Q0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Pt(Y0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){iu(n)?Pt(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Vr(3e5)}))}}class g2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return vt.resolve(Rh.ce);const s=new m2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(G0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,d,y,_,E;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(t,o)))).next((O=>(s=O,y=Date.now(),this.removeTargets(t,s,n)))).next((O=>(u=O,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((O=>(E=Date.now(),Ll()<=Te.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(_-y)+`ms
	Removed ${O} documents in `+(E-_)+`ms
Total Duration: ${E-R}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O}))))}}function y2(i,t){return new g2(i,t)}class v2{constructor(){this.changes=new nl((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,dr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?vt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class b2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&nc(s.mutation,o,Wi.empty(),Je.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,we()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=we()){const o=Go();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let d=Gu();return u.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Go();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,we())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(t,n,s,o){let u=ha();const d=ec(),y=(function(){return ec()})();return n.forEach(((_,E)=>{const R=s.get(E.key);o.has(E.key)&&(R===void 0||R.mutation instanceof rl)?u=u.insert(E.key,E):R!==void 0?(d.set(E.key,R.mutation.getFieldMask()),nc(R.mutation,E,R.mutation.getFieldMask(),Je.now())):d.set(E.key,Wi.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((E,R)=>d.set(E,R))),n.forEach(((E,R)=>y.set(E,new _2(R,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(t,n){const s=ec();let o=new cn(((d,y)=>d-y)),u=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const y of d)y.keys().forEach((_=>{const E=n.get(_);if(E===null)return;let R=s.get(_)||Wi.empty();R=y.applyToLocalView(E,R),s.set(_,R);const O=(o.get(y.batchId)||we()).add(_);o=o.insert(y.batchId,O)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),E=_.key,R=_.value,O=GE();R.forEach((V=>{if(!u.has(V)){const W=ZE(n.get(V),s.get(V));W!==null&&O.set(V,W),u=u.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,E,O))}return vt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(d){return Gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):TO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):vt.resolve(Go());let y=cc,_=u;return d.next((E=>vt.forEach(E,((R,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),u.get(R)?vt.resolve():this.remoteDocumentCache.getEntry(t,R).next((V=>{_=_.insert(R,V)}))))).next((()=>this.populateOverlays(t,E,u))).next((()=>this.computeViews(t,_,E,we()))).next((R=>({batchId:y,changes:FE(R)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Gt(n)).next((s=>{let o=Gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let d=Gu();return this.indexManager.getCollectionParents(t,u).next((y=>vt.forEach(y,(_=>{const E=(function(O,V){return new Dh(V,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,E,s,o).next((R=>{R.forEach(((O,V)=>{d=d.insert(O,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((d=>{u.forEach(((_,E)=>{const R=E.getKey();d.get(R)===null&&(d=d.insert(R,dr.newInvalidDocument(R)))}));let y=Gu();return d.forEach(((_,E)=>{const R=u.get(_);R!==void 0&&nc(R.mutation,E,Wi.empty(),Je.now()),Nh(n,E)&&(y=y.insert(_,E))})),y}))}}class E2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return vt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:bs(o.createTime)}})(n)),vt.resolve()}getNamedQuery(t,n){return vt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:c2(o.bundledQuery),readTime:bs(o.readTime)}})(n)),vt.resolve()}}class T2{constructor(){this.overlays=new cn(Gt.comparator),this.qr=new Map}getOverlay(t,n){return vt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Go();return vt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),vt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),vt.resolve()}getOverlaysForCollection(t,n,s){const o=Go(),u=n.length+1,d=new Gt(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return vt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new cn(((E,R)=>E-R));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let R=u.get(E.largestBatchId);R===null&&(R=Go(),u=u.insert(E.largestBatchId,R)),R.set(E.getKey(),E)}}const y=Go(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,R)=>y.set(E,R))),!(y.size()>=o)););return vt.resolve(y)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zO(n,s));let u=this.qr.get(n);u===void 0&&(u=we(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class S2{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,vt.resolve()}}class Gp{constructor(){this.Qr=new jn(Yn.$r),this.Ur=new jn(Yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Yn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Yn(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Gt(new un([])),s=new Yn(n,t),o=new Yn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Gt(new un([])),s=new Yn(n,t),o=new Yn(n,t+1);let u=we();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Yn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Yn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Gt.comparator(t.key,n.key)||Se(t.Yr,n.Yr)}static Kr(t,n){return Se(t.Yr,n.Yr)||Gt.comparator(t.key,n.key)}}class w2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jn(Yn.$r)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jO(u,n,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Yn(y.key,u)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return vt.resolve(d)}lookupMutationBatch(t,n){return vt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Yn(n,0),o=new Yn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);u.push(y)})),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new jn(Se);return n.forEach((o=>{const u=new Yn(o,0),d=new Yn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(y=>{s=s.add(y.Yr)}))})),vt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Gt.isDocumentKey(u)||(u=u.child(""));const d=new Yn(new Gt(u),0);let y=new jn(Se);return this.Zr.forEachWhile((_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===o&&(y=y.add(_.Yr)),!0)}),d),vt.resolve(this.ti(y))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return vt.forEach(n.mutations,(o=>{const u=new Yn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Yn(n,0),o=this.Zr.firstAfterOrEqual(s);return vt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class A2{constructor(t){this.ri=t,this.docs=(function(){return new cn(Gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return vt.resolve(s?s.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(t,n){let s=ha();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dr.newInvalidDocument(o))})),vt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ha();const d=n.path,y=new Gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:E,value:{document:R}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||WI(ZI(R),s)<=0||(o.has(R.key)||Nh(n,R))&&(u=u.insert(R.key,R.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Xt(9500)}ii(t,n){return vt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new C2(this)}getSize(t){return vt.resolve(this.size)}}class C2 extends v2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),vt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class R2{constructor(t){this.persistence=t,this.si=new nl((n=>jp(n)),zp),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Gp,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),vt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Jl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,vt.resolve()}updateTargetData(t,n){return this.Pr(n),vt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),vt.waitFor(u).next((()=>o))}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return vt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),vt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(t,d))})),vt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),vt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return vt.resolve(s)}containsKey(t,n){return vt.resolve(this._i.containsKey(n))}}class hT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new S2,this.referenceDelegate=t(this),this.Pi=new R2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(o){return new A2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new u2(n),this.Ii=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new T2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new w2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Pt("MemoryPersistence","Starting transaction:",t);const o=new I2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return vt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class I2 extends eO{constructor(t){super(),this.currentSequenceNumber=t}}class Yp{constructor(t){this.persistence=t,this.Ri=new Gp,this.Vi=null}static mi(t){return new Yp(t)}get fi(){if(this.Vi)return this.Vi;throw Xt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),vt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),vt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(s=>{const o=Gt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,ie.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return vt.or([()=>vt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.pi=new nl((s=>iO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=y2(this,n)}static mi(t,n){return new yh(t,n)}Ei(){}di(t){return vt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return vt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?vt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,n).next((y=>{y||(s++,u.removeEntry(d,ie.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),vt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),vt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),vt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Qf(t.data.value)),n}br(t,n,s){return vt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return vt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=we(),o=we();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(t,n.fromCache,s,o)}}class O2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class D2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _1()?8:nO(pr())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new O2;return this.Ss(t,n,d).next((y=>{if(u.result=y,this.Vs)return this.bs(t,n,d,y.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ll()<=Te.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(Ll()<=Te.DEBUG&&Pt("QueryEngine","Query:",Ul(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ll()<=Te.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_s(n))):vt.resolve())}ys(t,n){if(P0(n))return vt.resolve(null);let s=_s(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ap(n,null,"F"),s=_s(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=we(...u);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,s).next((_=>{const E=this.Ds(n,y);return this.Cs(n,E,d,_.readTime)?this.ys(t,ap(n,null,"F")):this.vs(t,E,n,_)}))))})))))}ws(t,n,s,o){return P0(n)||o.isEqual(ie.min())?vt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,o)?vt.resolve(null):(Ll()<=Te.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ul(n)),this.vs(t,d,n,JI(o,cc)).next((y=>y)))}))}Ds(t,n){let s=new jn(HE(t));return n.forEach(((o,u)=>{Nh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ll()<=Te.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Ul(n)),this.ps.getDocumentsMatchingQuery(t,n,ho.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Xp="LocalStore",x2=3e8;class N2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new cn(Se),this.xs=new nl((u=>jp(u)),zp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function M2(i,t,n,s){return new N2(i,t,n,s)}async function dT(i,t){const n=ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],y=[];let _=we();for(const E of o){d.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}for(const E of u){y.push(E.batchId);for(const R of E.mutations)_=_.add(R.key)}return n.localDocuments.getDocuments(s,_).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function k2(i,t){const n=ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,E,R){const O=E.batch,V=O.keys();let W=vt.resolve();return V.forEach((lt=>{W=W.next((()=>R.getEntry(_,lt))).next((mt=>{const _t=E.docVersions.get(lt);Le(_t!==null,48541),mt.version.compareTo(_t)<0&&(O.applyToRemoteDocument(mt,E),mt.isValidDocument()&&(mt.setReadTime(E.commitVersion),R.addEntry(mt)))}))})),W.next((()=>y.mutationQueue.removeMutationBatch(_,O)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let _=we();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(_=_.add(y.batch.mutations[E].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function mT(i){const t=ae(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function V2(i,t){const n=ae(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];t.targetChanges.forEach(((R,O)=>{const V=o.get(O);if(!V)return;y.push(n.Pi.removeMatchingKeys(u,R.removedDocuments,O).next((()=>n.Pi.addMatchingKeys(u,R.addedDocuments,O))));let W=V.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(O)!==null?W=W.withResumeToken(rr.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):R.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(R.resumeToken,s)),o=o.insert(O,W),(function(mt,_t,qt){return mt.resumeToken.approximateByteSize()===0||_t.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=x2?!0:qt.addedDocuments.size+qt.modifiedDocuments.size+qt.removedDocuments.size>0})(V,W,R)&&y.push(n.Pi.updateTargetData(u,W))}));let _=ha(),E=we();if(t.documentUpdates.forEach((R=>{t.resolvedLimboDocuments.has(R)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,R))})),y.push(P2(u,d,t.documentUpdates).next((R=>{_=R.ks,E=R.qs}))),!s.isEqual(ie.min())){const R=n.Pi.getLastRemoteSnapshotVersion(u).next((O=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(R)}return vt.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,E))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function P2(i,t,n){let s=we(),o=we();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let d=ha();return n.forEach(((y,_)=>{const E=u.get(y);_.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(ie.min())?(t.removeEntry(y,_.readTime),d=d.insert(y,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(_),d=d.insert(y,_)):Pt(Xp,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function L2(i,t){const n=ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function U2(i,t){const n=ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,vt.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new so(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function fp(i,t,n){const s=ae(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!iu(d))throw d;Pt(Xp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function X0(i,t,n){const s=ae(i);let o=ie.min(),u=we();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,E,R){const O=ae(_),V=O.xs.get(R);return V!==void 0?vt.resolve(O.Ms.get(V)):O.Pi.getTargetData(E,R)})(s,d,_s(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?o:ie.min(),n?u:we()))).next((y=>(j2(s,wO(t),y),{documents:y,Qs:u})))))}function j2(i,t,n){let s=i.Os.get(t)||ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class $0{constructor(){this.activeTargetIds=DO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z2{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B2{Oo(t){}shutdown(){}}const J0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pt(J0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Pt(J0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uf=null;function hp(){return Uf===null?Uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uf++,"0x"+Uf.toString(16)}const zm="RestConnection",q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const d=hp(),y=this.zo(t,n.toUriEncodedString());Pt(zm,`Sending RPC '${t}' ${d}:`,y,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:E}=new URL(y),R=Wl(E);return this.Jo(t,y,_,s,R).then((O=>(Pt(zm,`Received RPC '${t}' ${d}: `,O),O)),(O=>{throw Yl(zm,`RPC '${t}' ${d} failed with error: `,O,"url: ",y,"request:",s),O}))}Ho(t,n,s,o,u,d){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=q2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class K2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const cr="WebChannelConnection";class F2 extends H2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const d=hp();return new Promise(((y,_)=>{const E=new vE;E.setWithCredentials(!0),E.listenOnce(_E.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Yf.NO_ERROR:const O=E.getResponseJson();Pt(cr,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(O)),y(O);break;case Yf.TIMEOUT:Pt(cr,`RPC '${t}' ${d} timed out`),_(new Bt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const V=E.getStatus();if(Pt(cr,`RPC '${t}' ${d} failed with status:`,V,"response text:",E.getResponseText()),V>0){let W=E.getResponseJson();Array.isArray(W)&&(W=W[0]);const lt=W?.error;if(lt&&lt.status&&lt.message){const mt=(function(qt){const Ft=qt.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(Ft)>=0?Ft:bt.UNKNOWN})(lt.status);_(new Bt(mt,lt.message))}else _(new Bt(bt.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new Bt(bt.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{l_:t,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{Pt(cr,`RPC '${t}' ${d} completed.`)}}));const R=JSON.stringify(o);Pt(cr,`RPC '${t}' ${d} sending request:`,o),E.send(n,"POST",R,s,15)}))}T_(t,n,s){const o=hp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),y=EE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const R=u.join("");Pt(cr,`Creating RPC '${t}' stream ${o}: ${R}`,_);const O=d.createWebChannel(R,_);this.I_(O);let V=!1,W=!1;const lt=new K2({Yo:_t=>{W?Pt(cr,`Not sending because RPC '${t}' stream ${o} is closed:`,_t):(V||(Pt(cr,`Opening RPC '${t}' stream ${o} transport.`),O.open(),V=!0),Pt(cr,`RPC '${t}' stream ${o} sending:`,_t),O.send(_t))},Zo:()=>O.close()}),mt=(_t,qt,Ft)=>{_t.listen(qt,(Vt=>{try{Ft(Vt)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return mt(O,Fu.EventType.OPEN,(()=>{W||(Pt(cr,`RPC '${t}' stream ${o} transport opened.`),lt.o_())})),mt(O,Fu.EventType.CLOSE,(()=>{W||(W=!0,Pt(cr,`RPC '${t}' stream ${o} transport closed`),lt.a_(),this.E_(O))})),mt(O,Fu.EventType.ERROR,(_t=>{W||(W=!0,Yl(cr,`RPC '${t}' stream ${o} transport errored. Name:`,_t.name,"Message:",_t.message),lt.a_(new Bt(bt.UNAVAILABLE,"The operation could not be completed")))})),mt(O,Fu.EventType.MESSAGE,(_t=>{if(!W){const qt=_t.data[0];Le(!!qt,16349);const Ft=qt,Vt=Ft?.error||Ft[0]?.error;if(Vt){Pt(cr,`RPC '${t}' stream ${o} received error:`,Vt);const oe=Vt.status;let ke=(function(N){const P=Nn[N];if(P!==void 0)return eT(P)})(oe),ne=Vt.message;ke===void 0&&(ke=bt.INTERNAL,ne="Unknown error status: "+oe+" with message "+Vt.message),W=!0,lt.a_(new Bt(ke,ne)),O.close()}else Pt(cr,`RPC '${t}' stream ${o} received:`,qt),lt.u_(qt)}})),mt(y,bE.STAT_EVENT,(_t=>{_t.stat===tp.PROXY?Pt(cr,`RPC '${t}' stream ${o} detected buffering proxy`):_t.stat===tp.NOPROXY&&Pt(cr,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{lt.__()}),0),lt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Bm(){return typeof document<"u"?document:null}function Ph(i){return new XO(i,!0)}class pT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class gT{constructor(t,n,s,o,u,d,y,_){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===bt.RESOURCE_EXHAUSTED?(fa(n.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new Bt(bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Pt(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Pt(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G2 extends gT{constructor(t,n,s,o,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ZO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ie.min():d.readTime?bs(d.readTime):ie.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,d){let y;const _=d.target;if(y=sp(_)?{documents:e2(u,_)}:{query:n2(u,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iT(u,d.resumeToken);const E=op(u,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(ie.min())>0){y.readTime=gh(u,d.snapshotVersion.toTimestamp());const E=op(u,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,t);const s=i2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=cp(this.serializer),n.removeTarget=t,this.q_(n)}}class Y2 extends gT{constructor(t,n,s,o,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Le(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=t2(t.writeResults,t.commitTime),s=bs(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=cp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>WO(this.serializer,s)))};this.q_(n)}}class Q2{}class X2 extends Q2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,lp(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Bt(bt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,lp(n,s),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Bt(bt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fa(n),this.aa=!1):Pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class J2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{il(this)&&(Pt(tl,"Restarting streams for network reachability change."),await(async function(_){const E=ae(_);E.Ea.add(4),await Rc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await Lh(E)})(this))}))})),this.Ra=new $2(s,o)}}async function Lh(i){if(il(i))for(const t of i.da)await t(!0)}async function Rc(i){for(const t of i.da)await t(!1)}function yT(i,t){const n=ae(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wp(n)?Zp(n):su(n).O_()&&Jp(n,t))}function $p(i,t){const n=ae(i),s=su(n);n.Ia.delete(t),s.O_()&&vT(n,t),n.Ia.size===0&&(s.O_()?s.L_():il(n)&&n.Ra.set("Unknown"))}function Jp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}su(i).Y_(t)}function vT(i,t){i.Va.Ue(t),su(i).Z_(t)}function Zp(i){i.Va=new FO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),su(i).start(),i.Ra.ua()}function Wp(i){return il(i)&&!su(i).x_()&&i.Ia.size>0}function il(i){return ae(i).Ea.size===0}function _T(i){i.Va=void 0}async function Z2(i){i.Ra.set("Online")}async function W2(i){i.Ia.forEach(((t,n)=>{Jp(i,t)}))}async function tD(i,t){_T(i),Wp(i)?(i.Ra.ha(t),Zp(i)):i.Ra.set("Unknown")}async function eD(i,t,n){if(i.Ra.set("Online"),t instanceof rT&&t.state===2&&t.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(i,t)}catch(s){Pt(tl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await vh(i,s)}else if(t instanceof Jf?i.Va.Ze(t):t instanceof nT?i.Va.st(t):i.Va.tt(t),!n.isEqual(ie.min()))try{const s=await mT(i.localStore);n.compareTo(s)>=0&&await(function(u,d){const y=u.Va.Tt(d);return y.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const R=u.Ia.get(E);R&&u.Ia.set(E,R.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,E)=>{const R=u.Ia.get(_);if(!R)return;u.Ia.set(_,R.withResumeToken(rr.EMPTY_BYTE_STRING,R.snapshotVersion)),vT(u,_);const O=new so(R.target,_,E,R.sequenceNumber);Jp(u,O)})),u.remoteSyncer.applyRemoteEvent(y)})(i,n)}catch(s){Pt(tl,"Failed to raise snapshot:",s),await vh(i,s)}}async function vh(i,t,n){if(!iu(t))throw t;i.Ea.add(1),await Rc(i),i.Ra.set("Offline"),n||(n=()=>mT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Pt(tl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Lh(i)}))}function bT(i,t){return t().catch((n=>vh(i,n,t)))}async function Uh(i){const t=ae(i),n=yo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pp;for(;nD(t);)try{const o=await L2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,rD(t,o)}catch(o){await vh(t,o)}ET(t)&&TT(t)}function nD(i){return il(i)&&i.Ta.length<10}function rD(i,t){i.Ta.push(t);const n=yo(i);n.O_()&&n.X_&&n.ea(t.mutations)}function ET(i){return il(i)&&!yo(i).x_()&&i.Ta.length>0}function TT(i){yo(i).start()}async function iD(i){yo(i).ra()}async function sD(i){const t=yo(i);for(const n of i.Ta)t.ea(n.mutations)}async function aD(i,t,n){const s=i.Ta.shift(),o=Hp.from(s,t,n);await bT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Uh(i)}async function oD(i,t){t&&yo(i).X_&&await(async function(s,o){if((function(d){return qO(d)&&d!==bt.ABORTED})(o.code)){const u=s.Ta.shift();yo(s).B_(),await bT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uh(s)}})(i,t),ET(i)&&TT(i)}async function tb(i,t){const n=ae(i);n.asyncQueue.verifyOperationInProgress(),Pt(tl,"RemoteStore received new credentials");const s=il(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lh(n)}async function lD(i,t){const n=ae(i);t?(n.Ea.delete(2),await Lh(n)):t||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function su(i){return i.ma||(i.ma=(function(n,s,o){const u=ae(n);return u.sa(),new G2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Z2.bind(null,i),t_:W2.bind(null,i),r_:tD.bind(null,i),H_:eD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Wp(i)?Zp(i):i.Ra.set("Unknown")):(await i.ma.stop(),_T(i))}))),i.ma}function yo(i){return i.fa||(i.fa=(function(n,s,o){const u=ae(n);return u.sa(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:iD.bind(null,i),r_:oD.bind(null,i),ta:sD.bind(null,i),na:aD.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Uh(i)):(await i.fa.stop(),i.Ta.length>0&&(Pt(tl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class tg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const d=Date.now()+s,y=new tg(t,n,d,o,u);return y.start(s),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(i,t){if(fa("AsyncQueue",`${t}: ${i}`),iu(i))return new Bt(bt.UNAVAILABLE,`${t}: ${i}`);throw i}class Kl{static emptySet(t){return new Kl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Gt.comparator(n.key,s.key):(n,s)=>Gt.comparator(n.key,s.key),this.keyedMap=Gu(),this.sortedSet=new cn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Kl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Kl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class eb{constructor(){this.ga=new cn(Gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Xt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Zl{constructor(t,n,s,o,u,d,y,_,E){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(t,n,s,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new Zl(t,n,Kl.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class uD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cD{constructor(){this.queries=nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=ae(n),u=o.queries;o.queries=nb(),u.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(s)}))})(this,new Bt(bt.ABORTED,"Firestore shutting down"))}}function nb(){return new nl((i=>qE(i)),xh)}async function fD(i,t){const n=ae(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new uD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=eg(d,`Initialization of query '${Ul(t.query)}' failed`);return void t.onError(y)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ng(n)}async function hD(i,t){const n=ae(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(i,t){const n=ae(i);let s=!1;for(const o of t){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&ng(n)}function mD(i,t,n){const s=ae(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function ng(i){i.Ca.forEach((t=>{t.next()}))}var dp,rb;(rb=dp||(dp={})).Ma="default",rb.Cache="cache";class pD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Zl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Zl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dp.Cache}}class ST{constructor(t){this.key=t}}class wT{constructor(t){this.key=t}}class gD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=HE(t),this.tu=new Kl(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new eb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((R,O)=>{const V=o.get(R),W=Nh(this.query,O)?O:null,lt=!!V&&this.mutatedKeys.has(V.key),mt=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let _t=!1;V&&W?V.data.isEqual(W.data)?lt!==mt&&(s.track({type:3,doc:W}),_t=!0):this.su(V,W)||(s.track({type:2,doc:W}),_t=!0,(_&&this.eu(W,_)>0||E&&this.eu(W,E)<0)&&(y=!0)):!V&&W?(s.track({type:0,doc:W}),_t=!0):V&&!W&&(s.track({type:1,doc:V}),_t=!0,(_||E)&&(y=!0)),_t&&(W?(d=d.add(W),u=mt?u.add(R):u.delete(R)):(d=d.delete(R),u=u.delete(R)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),u=u.delete(R.key),s.track({type:1,doc:R})}return{tu:d,iu:s,Cs:y,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((R,O)=>(function(W,lt){const mt=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt(20277,{Rt:_t})}};return mt(W)-mt(lt)})(R.type,O.type)||this.eu(R.doc,O.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,E=_!==this.Za;return this.Za=_,d.length!==0||E?{snapshot:new Zl(this.query,t.tu,u,d,t.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=we(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new wT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new ST(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=we();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class yD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class vD{constructor(t){this.key=t,this.hu=!1}}class _D{constructor(t,n,s,o,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new nl((y=>qE(y)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Gt.comparator),this.Au=new Map,this.Ru=new Gp,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bD(i,t,n=!0){const s=DT(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await AT(s,t,n,!0),o}async function ED(i,t){const n=DT(i);await AT(n,t,!0,!1)}async function AT(i,t,n,s){const o=await U2(i.localStore,_s(t)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await TD(i,t,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&yT(i.remoteStore,o),y}async function TD(i,t,n,s,o){i.pu=(O,V,W)=>(async function(mt,_t,qt,Ft){let Vt=_t.view.ru(qt);Vt.Cs&&(Vt=await X0(mt.localStore,_t.query,!1).then((({documents:k})=>_t.view.ru(k,Vt))));const oe=Ft&&Ft.targetChanges.get(_t.targetId),ke=Ft&&Ft.targetMismatches.get(_t.targetId)!=null,ne=_t.view.applyChanges(Vt,mt.isPrimaryClient,oe,ke);return sb(mt,_t.targetId,ne.au),ne.snapshot})(i,O,V,W);const u=await X0(i.localStore,t,!0),d=new gD(t,u.Qs),y=d.ru(u.documents),_=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),E=d.applyChanges(y,i.isPrimaryClient,_);sb(i,n,E.au);const R=new yD(t,n,d);return i.Tu.set(t,R),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),E.snapshot}async function SD(i,t,n){const s=ae(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!xh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(ru)):(mp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function wD(i,t){const n=ae(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function AD(i,t,n){const s=ND(i);try{const o=await(function(d,y){const _=ae(d),E=Je.now(),R=y.reduce(((W,lt)=>W.add(lt.key)),we());let O,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(W=>{let lt=ha(),mt=we();return _.Ns.getEntries(W,R).next((_t=>{lt=_t,lt.forEach(((qt,Ft)=>{Ft.isValidDocument()||(mt=mt.add(qt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(W,lt))).next((_t=>{O=_t;const qt=[];for(const Ft of y){const Vt=LO(Ft,O.get(Ft.key).overlayedDocument);Vt!=null&&qt.push(new rl(Ft.key,Vt,VE(Vt.value.mapValue),oa.exists(!0)))}return _.mutationQueue.addMutationBatch(W,E,qt,y)})).next((_t=>{V=_t;const qt=_t.applyToLocalDocumentSet(O,mt);return _.documentOverlayCache.saveOverlays(W,_t.batchId,qt)}))})).then((()=>({batchId:V.batchId,changes:FE(O)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let E=d.Vu[d.currentUser.toKey()];E||(E=new cn(Se)),E=E.insert(y,_),d.Vu[d.currentUser.toKey()]=E})(s,o.batchId,n),await Ic(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");n.reject(u)}}async function CT(i,t){const n=ae(i);try{const s=await V2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Le(d.hu,14607):o.removedDocuments.size>0&&(Le(d.hu,42227),d.hu=!1))})),await Ic(n,s,t)}catch(s){await ru(s)}}function ib(i,t,n){const s=ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const y=d.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=ae(d);_.onlineState=y;let E=!1;_.queries.forEach(((R,O)=>{for(const V of O.Sa)V.va(y)&&(E=!0)})),E&&ng(_)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CD(i,t,n){const s=ae(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let d=new cn(Gt.comparator);d=d.insert(u,dr.newNoDocument(u,ie.min()));const y=we().add(u),_=new Vh(ie.min(),new Map,new cn(Se),d,y);await CT(s,_),s.du=s.du.remove(u),s.Au.delete(t),ig(s)}else await fp(s.localStore,t,!1).then((()=>mp(s,t,n))).catch(ru)}async function RD(i,t){const n=ae(i),s=t.batch.batchId;try{const o=await k2(n.localStore,t);IT(n,s,null),RT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,o)}catch(o){await ru(o)}}async function ID(i,t,n){const s=ae(i);try{const o=await(function(d,y){const _=ae(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let R;return _.mutationQueue.lookupMutationBatch(E,y).next((O=>(Le(O!==null,37113),R=O.keys(),_.mutationQueue.removeMutationBatch(E,O)))).next((()=>_.mutationQueue.performConsistencyCheck(E))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(E,R,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,R))).next((()=>_.localDocuments.getDocuments(E,R)))}))})(s.localStore,t);IT(s,t,n),RT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ic(s,o)}catch(o){await ru(o)}}function RT(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function IT(i,t,n){const s=ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function mp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||OT(i,s)}))}function OT(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&($p(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),ig(i))}function sb(i,t,n){for(const s of n)s instanceof ST?(i.Ru.addReference(s.key,t),OD(i,s)):s instanceof wT?(Pt(rg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||OT(i,s.key)):Xt(19791,{wu:s})}function OD(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Pt(rg,"New document in limbo: "+n),i.Eu.add(s),ig(i))}function ig(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Gt(un.fromString(t)),s=i.fu.next();i.Au.set(s,new vD(n)),i.du=i.du.insert(n,s),yT(i.remoteStore,new so(_s(Bp(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function Ic(i,t,n){const s=ae(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,_)=>{d.push(s.pu(_,t,n).then((E=>{if((E||n)&&s.isPrimaryClient){const R=E?!E.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(E){o.push(E);const R=Qp.As(_.targetId,E);u.push(R)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,E){const R=ae(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>vt.forEach(E,(V=>vt.forEach(V.Es,(W=>R.persistence.referenceDelegate.addReference(O,V.targetId,W))).next((()=>vt.forEach(V.ds,(W=>R.persistence.referenceDelegate.removeReference(O,V.targetId,W)))))))))}catch(O){if(!iu(O))throw O;Pt(Xp,"Failed to update sequence numbers: "+O)}for(const O of E){const V=O.targetId;if(!O.fromCache){const W=R.Ms.get(V),lt=W.snapshotVersion,mt=W.withLastLimboFreeSnapshotVersion(lt);R.Ms=R.Ms.insert(V,mt)}}})(s.localStore,u))}async function DD(i,t){const n=ae(i);if(!n.currentUser.isEqual(t)){Pt(rg,"User change. New user:",t.toKey());const s=await dT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((y=>{y.forEach((_=>{_.reject(new Bt(bt.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function xD(i,t){const n=ae(i),s=n.Au.get(t);if(s&&s.hu)return we().add(s.key);{let o=we();const u=n.Iu.get(t);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function DT(i){const t=ae(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CD.bind(null,t),t.Pu.H_=dD.bind(null,t.eventManager),t.Pu.yu=mD.bind(null,t.eventManager),t}function ND(i){const t=ae(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,t),t}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return M2(this.persistence,new D2,t.initialUser,this.serializer)}Cu(t){return new hT(Yp.mi,this.serializer)}Du(t){return new z2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class MD extends _h{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Le(this.persistence.referenceDelegate instanceof yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new p2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new hT((s=>yh.mi(s,n)),this.serializer)}}class pp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ib(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cD})()}createDatastore(t){const n=Ph(t.databaseInfo.databaseId),s=(function(u){return new F2(u)})(t.databaseInfo);return(function(u,d,y,_){return new X2(u,d,y,_)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,d,y){return new J2(s,o,u,d,y)})(this.localStore,this.datastore,t.asyncQueue,(n=>ib(this.syncEngine,n,0)),(function(){return Z0.v()?new Z0:new B2})())}createSyncEngine(t,n){return(function(o,u,d,y,_,E,R){const O=new _D(o,u,d,y,_,E);return R&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ae(n);Pt(tl,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pp.provider={build:()=>new pp};class kD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const vo="FirestoreClient";class VD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hr.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{Pt(vo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Pt(vo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=eg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function qm(i,t){i.asyncQueue.verifyOperationInProgress(),Pt(vo,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function ab(i,t){i.asyncQueue.verifyOperationInProgress();const n=await PD(i);Pt(vo,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>tb(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>tb(t.remoteStore,o))),i._onlineComponents=t}async function PD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Pt(vo,"Using user provided OfflineComponentProvider");try{await qm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===bt.FAILED_PRECONDITION||o.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),await qm(i,new _h)}}else Pt(vo,"Using default OfflineComponentProvider"),await qm(i,new MD(void 0));return i._offlineComponents}async function xT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Pt(vo,"Using user provided OnlineComponentProvider"),await ab(i,i._uninitializedComponentsProvider._online)):(Pt(vo,"Using default OnlineComponentProvider"),await ab(i,new pp))),i._onlineComponents}function LD(i){return xT(i).then((t=>t.syncEngine))}async function UD(i){const t=await xT(i),n=t.eventManager;return n.onListen=bD.bind(null,t.syncEngine),n.onUnlisten=SD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ED.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,t.syncEngine),n}function jD(i,t,n={}){const s=new fo;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,_,E){const R=new kD({next:V=>{R.Nu(),d.enqueueAndForget((()=>hD(u,O)));const W=V.docs.has(y);!W&&V.fromCache?E.reject(new Bt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&V.fromCache&&_&&_.source==="server"?E.reject(new Bt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(V)},error:V=>E.reject(V)}),O=new pD(Bp(y.path),R,{includeMetadataChanges:!0,qa:!0});return fD(u,O)})(await UD(i),i.asyncQueue,t,n,s))),s.promise}function NT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const ob=new Map;const MT="firestore.googleapis.com",lb=!0;class ub{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Bt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=lb}else this.host=t.host,this.ssl=t.ssl??lb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<d2)throw new Bt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$I("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Bt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Bt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Bt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Bt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ub(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jI;switch(s.type){case"firstParty":return new HI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Bt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ob.get(n);s&&(Pt("ComponentProvider","Removing Datastore"),ob.delete(n),s.terminate())})(this),Promise.resolve()}}function zD(i,t,n,s={}){i=uc(i,sg);const o=Wl(t),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},y=`${t}:${n}`;o&&(Mb(`https://${y}`),kb("Firestore",!0)),u.host!==MT&&u.host!==y&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:y,ssl:o,emulatorOptions:s};if(!$o(_,d)&&(i._setSettings(_),s.mockUserToken)){let E,R;if(typeof s.mockUserToken=="string")E=s.mockUserToken,R=hr.MOCK_USER;else{E=c1(s.mockUserToken,i._app?.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new Bt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new hr(O)}i._authCredentials=new zI(new wE(E,R))}}class ag{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ag(this.firestore,t,this._query)}}class Qn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qn(this.firestore,t,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(wc(n,Qn._jsonSchema))return new Qn(t,s||null,new Gt(un.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:Mn("string",Qn._jsonSchemaVersion),referencePath:Mn("string")};class gc extends ag{constructor(t,n,s){super(t,n,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qn(this.firestore,null,new Gt(t))}withConverter(t){return new gc(this.firestore,t,this._path)}}function kT(i,t,...n){if(i=Ui(i),arguments.length===1&&(t=kp.newId()),XI("doc","path",t),i instanceof sg){const s=un.fromString(t,...n);return S0(s),new Qn(i,null,new Gt(s))}{if(!(i instanceof Qn||i instanceof gc))throw new Bt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(un.fromString(t,...n));return S0(s),new Qn(i.firestore,i instanceof gc?i.converter:null,new Gt(s))}}const cb="AsyncQueue";class fb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&Pt(cb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!iu(t))throw t;Pt(cb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,fa("INTERNAL UNHANDLED ERROR: ",hb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=tg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Xt(47125,{Pc:hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function hb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class og extends sg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new fb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fb(t),this._firestoreClient=void 0,await t}}}function BD(i,t){const n=typeof i=="object"?i:Ub(),s=typeof i=="string"?i:ch,o=Tp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=l1("firestore");u&&zD(o,...u)}return o}function VT(i){if(i._terminated)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qD(i),i._firestoreClient}function qD(i){const t=i._freezeSettings(),n=(function(o,u,d,y){return new oO(o,u,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,NT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new VD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Li(rr.fromBase64String(t))}catch(n){throw new Bt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Li(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wc(t,Li._jsonSchema))return Li.fromBase64String(t.bytes)}}Li._jsonSchemaVersion="firestore/bytes/1.0",Li._jsonSchema={type:Mn("string",Li._jsonSchemaVersion),bytes:Mn("string")};class lg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Bt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class PT{constructor(t){this._methodName=t}}class Es{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Bt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Bt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Se(this._lat,t._lat)||Se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Es._jsonSchemaVersion}}static fromJSON(t){if(wc(t,Es._jsonSchema))return new Es(t.latitude,t.longitude)}}Es._jsonSchemaVersion="firestore/geoPoint/1.0",Es._jsonSchema={type:Mn("string",Es._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};class Ts{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wc(t,Ts._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ts(t.vectorValues);throw new Bt(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:Mn("string",Ts._jsonSchemaVersion),vectorValues:Mn("object")};const HD=/^__.*__$/;class KD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new rl(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(t,this.data,n,this.fieldTransforms)}}function LT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt(40011,{Ac:i})}}class ug{constructor(t,n,s,o,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ug({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&HD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ph(t)}Cc(t,n,s,o=!1){return new ug({Ac:t,methodName:n,Dc:s,path:nr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GD(i){const t=i._freezeSettings(),n=Ph(i._databaseId);return new FD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function YD(i,t,n,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);BT("Data must be an object, but it was:",d,s);const y=jT(s,d);let _,E;if(u.merge)_=new Wi(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const R=[];for(const O of u.mergeFields){const V=QD(t,O,n);if(!d.contains(V))throw new Bt(bt.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);$D(R,V)||R.push(V)}_=new Wi(R),E=d.fieldTransforms.filter((O=>_.covers(O.field)))}else _=null,E=d.fieldTransforms;return new KD(new Pi(y),_,E)}function UT(i,t){if(zT(i=Ui(i)))return BT("Unsupported field value:",t,i),jT(i,t);if(i instanceof PT)return(function(s,o){if(!LT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const y of s){let _=UT(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ui(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:gh(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(o.serializer,u)}}if(s instanceof Es)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Li)return{bytesValue:iT(o.serializer,s._byteString)};if(s instanceof Qn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ts)return(function(d,y){return{mapValue:{fields:{[ME]:{stringValue:kE},[fh]:{arrayValue:{values:d.toArray().map((E=>{if(typeof E!="number")throw y.Sc("VectorValues must only contain numeric values.");return qp(y.serializer,E)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vp(s)}`)})(i,t)}function jT(i,t){const n={};return RE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):el(i,((s,o)=>{const u=UT(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function zT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof Es||i instanceof Li||i instanceof Qn||i instanceof PT||i instanceof Ts)}function BT(i,t,n){if(!zT(n)||!AE(n)){const s=Vp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function QD(i,t,n){if((t=Ui(t))instanceof lg)return t._internalPath;if(typeof t=="string")return qT(i,t);throw bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const XD=new RegExp("[~\\*/\\[\\]]");function qT(i,t,n){if(t.search(XD)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lg(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bh(i,t,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new Bt(bt.INVALID_ARGUMENT,y+i+_)}function $D(i,t){return i.some((n=>n.isEqual(t)))}class HT{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(KT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JD extends HT{data(){return super.data()}}function KT(i,t){return typeof t=="string"?qT(i,t):t instanceof lg?t._internalPath:t._delegate._internalPath}class ZD{convertValue(t,n="none"){switch(go(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(po(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Xt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return el(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((s=>Sn(s.doubleValue)));return new Ts(n)}convertGeoPoint(t){return new Es(Sn(t.latitude),Sn(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Oh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fc(t));default:return null}}convertTimestamp(t){const n=mo(t);return new Je(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=un.fromString(t);Le(cT(s),9688,{name:t});const o=new hc(s.get(1),s.get(3)),u=new Gt(s.popFirst(5));return o.isEqual(n)||fa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function WD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}class Qu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qo extends HT{constructor(t,n,s,o,u,d){super(t,n,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(KT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:Mn("string",Qo._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Zf extends Qo{data(t={}){return super.data(t)}}class rc{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Qu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Zf(this._firestore,this._userDataWriter,s.key,s,new Qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Bt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new Zf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Qu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const _=new Zf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Qu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,R=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:tx(y.type),doc:_,oldIndex:E,newIndex:R}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:i})}}function ex(i){i=uc(i,Qn);const t=uc(i.firestore,og);return jD(VT(t),i._key).then((n=>sx(t,i,n)))}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:Mn("string",rc._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class nx extends ZD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Li(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function rx(i,t,n){i=uc(i,Qn);const s=uc(i.firestore,og),o=WD(i.converter,t);return ix(s,[YD(GD(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,oa.none())])}function ix(i,t){return(function(s,o){const u=new fo;return s.asyncQueue.enqueueAndForget((async()=>AD(await LD(s),o,u))),u.promise})(VT(i),t)}function sx(i,t,n){const s=n.docs.get(t._key),o=new nx(i);return new Qo(i,o,t._key,s,new Qu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){nu=o})(tu),Fl(new Jo("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),y=new og(new BI(s.getProvider("auth-internal")),new KI(d,s.getProvider("app-check-internal")),(function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Bt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(E.options.projectId,R)})(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),uo(_0,b0,t),uo(_0,b0,"esm2020")})();const ax={apiKey:"AIzaSyCGabs1zTYUI0-yPRp2RD7_Zk4HLsd3kSc",authDomain:"gemini-podcast-cards.firebaseapp.com",projectId:"gemini-podcast-cards",storageBucket:"gemini-podcast-cards.firebasestorage.app",messagingSenderId:"535172285628",appId:"1:535172285628:web:1fa37b46cf2bdf89257cb9"},FT=Lb(ax),jf=LI(FT),ox=new ia,GT=BD(FT),YT="users";async function lx(i,t){if(!i)throw new Error("User ID is required");try{const n=JSON.stringify(t),s=kT(GT,YT,i);await rx(s,{vocab_data:n,last_synced:Date.now()}),console.log(`Successfully synced ${t.length} cards for user ${i}`)}catch(n){throw console.error("Sync upload failed:",n),n}}async function ux(i){if(!i)throw new Error("User ID is required");try{const t=kT(GT,YT,i),n=await ex(t);if(n.exists()){const s=n.data();if(s.vocab_data)return JSON.parse(s.vocab_data)}return null}catch(t){throw console.error("Sync download failed:",t),t}}const db="zanta0529@gmail.com,amy.webhd@gmail.com".split(",").map(i=>i.trim()).filter(i=>i!==""),cx=({isOpen:i,onClose:t,onConfirm:n,title:s,message:o})=>{const[u,d]=Lt.useState(3);return Lt.useEffect(()=>{if(i){d(3);const y=setInterval(()=>{d(_=>_<=1?(clearInterval(y),0):_-1)},1e3);return()=>clearInterval(y)}},[i]),i?ft.jsx("div",{style:mb.overlay,children:ft.jsxs("div",{style:mb.content,children:[ft.jsxs("h3",{style:{marginTop:0,color:"#ff6b6b"},children:[" ",s]}),ft.jsx("p",{style:{color:"#ccc",lineHeight:"1.5"},children:o}),ft.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem"},children:[ft.jsx("button",{onClick:t,style:{...ic,backgroundColor:"#666"},children:"Cancel"}),ft.jsx("button",{onClick:()=>{n(),t()},disabled:u>0,style:{...ic,backgroundColor:u>0?"#CCC":"#e03131",cursor:u>0?"not-allowed":"pointer",opacity:u>0?.7:1},children:u>0?`Wait (${u})...`:"Execute!"})]})]})}):null};function fx(){const[i,t]=Lt.useState([]),[n,s]=Lt.useState(!0),[o,u]=Lt.useState(0),[d,y]=Lt.useState(null),[_,E]=Lt.useState(!1),[R,O]=Lt.useState(!1),[V,W]=Lt.useState(!1),[lt,mt]=Lt.useState(!1),[_t,qt]=Lt.useState(!1),[Ft,Vt]=Lt.useState(!1),[oe,ke]=Lt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),ne=($t,Wt,ut)=>{ke({isOpen:!0,title:$t,message:Wt,onConfirm:ut})};Lt.useEffect(()=>{const $t=CR(jf,async Wt=>{Wt?db.length===0||db.includes(Wt.email)?(y(Wt),De.success(`Welcome, ${Wt.displayName}`)):(console.warn(`Unauthorized: ${Wt.email}`),De.error(`Access denied for ${Wt.email}`),await l0(jf),y(null)):y(null)});return()=>$t()},[]);const k=async()=>{try{s(!0),await Cw();const $t=await fr.vocab.toArray(),Wt=Date.now(),ut=$t.filter(Ot=>Ot.nextReview<=Wt||Ot.status==="new");t(ut)}catch($t){console.error("Failed to load cards:",$t),De.error("Load failed: "+$t.message)}finally{s(!1)}};Lt.useEffect(()=>{k()},[]);const N=async $t=>{try{await fr.vocab.put($t),u(Wt=>Wt+1)}catch(Wt){console.error("Update failed:",Wt),De.error("Update failed")}},P=async()=>{try{await GR(jf,ox),Vt(!1)}catch($t){console.error("Login failed:",$t),De.error("Login failed")}},Y=async()=>{await l0(jf),window.location.reload()},q=async()=>{if(!d)return;E(!0),Vt(!1);const $t=De.loading("Backing up...");try{const Wt=await fr.vocab.toArray();await lx(d.uid,Wt),De.success("Backup complete!",{id:$t})}catch(Wt){console.error(Wt),De.error("Backup failed",{id:$t})}finally{E(!1)}},J=async()=>{d&&ne("Overwrite Warning","Are you sure you want to overwrite local data with cloud backup? This action cannot be undone.",async()=>{E(!0),Vt(!1);const $t=De.loading("Restoring...");try{const Wt=await ux(d.uid);Wt?(await fr.vocab.clear(),await fr.vocab.bulkAdd(Wt),De.success("Restore complete! Reloading...",{id:$t}),setTimeout(()=>window.location.reload(),1500)):De("No backup found.",{id:$t,icon:""})}catch(Wt){console.error(Wt),De.error("Restore failed",{id:$t})}finally{E(!1)}})};if(n)return ft.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1b1e",color:"#fff"},children:"Loading..."});const M=i[o];return ft.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px",minHeight:"100vh",backgroundColor:"#1a1b1e",color:"#ffffff",fontFamily:"sans-serif",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[ft.jsx(XA,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"}}}),ft.jsx(cx,{isOpen:oe.isOpen,onClose:()=>ke($t=>({...$t,isOpen:!1})),onConfirm:oe.onConfirm,title:oe.title,message:oe.message}),ft.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0.5rem",borderBottom:"1px solid #333",position:"relative"},children:[ft.jsxs("div",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px"},children:["GPF",ft.jsx("button",{onClick:()=>W(!0),style:hx,title:"Settings",children:""})]}),ft.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[ft.jsx("button",{onClick:()=>mt(!0),style:{...ic,backgroundColor:"#2196f3"},children:"+ Add"}),ft.jsx("button",{onClick:()=>O(!0),style:{...ic,backgroundColor:"#e91e63"},children:"Import"}),ft.jsx("button",{onClick:()=>Vt(!Ft),style:{...ic,backgroundColor:"#333",padding:"0.5rem 0.8rem",fontSize:"1.1rem"},children:""}),Ft&&ft.jsxs(ft.Fragment,{children:[ft.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>Vt(!1)}),ft.jsxs("div",{style:na.container,children:[ft.jsx("button",{onClick:()=>{qt(!0),Vt(!1)},style:na.item,children:" Manage Cards"}),ft.jsx("div",{style:na.divider}),d?ft.jsxs(ft.Fragment,{children:[ft.jsx("button",{onClick:q,disabled:_,style:na.item,children:" Backup Data"}),ft.jsx("button",{onClick:J,disabled:_,style:na.item,children:" Restore Data"}),ft.jsx("div",{style:na.divider}),ft.jsx("div",{style:na.userEmail,children:d.email}),ft.jsx("button",{onClick:Y,style:{...na.item,color:"#ff6b6b"},children:"Logout"})]}):ft.jsx("button",{onClick:P,style:{...na.item,color:"#4285F4"},children:"Login with Google"})]})]})]})]}),ft.jsxs("header",{style:{marginBottom:"2rem",width:"100%",textAlign:"center"},children:[ft.jsx("h1",{children:"Gemini Flashcards"}),ft.jsx("p",{style:{color:"#888"},children:i.length>0?`Progress: ${o} / ${i.length}`:"No cards due"})]}),ft.jsx("main",{style:{width:"100%"},children:M?ft.jsx(Iw,{card:M,onUpdate:N},M.id):ft.jsxs("div",{style:{textAlign:"center",padding:"3rem",border:"1px dashed #555",borderRadius:"8px"},children:[ft.jsx("h2",{children:" All caught up!"}),ft.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",cursor:"pointer"},children:"Refresh"})]})}),ft.jsx($A,{isOpen:R,onClose:()=>O(!1),onSuccess:k}),ft.jsx(JA,{isOpen:V,onClose:()=>W(!1)}),ft.jsx(ZA,{isOpen:lt,onClose:()=>mt(!1),onSuccess:k}),ft.jsx(WA,{isOpen:_t,onClose:()=>{qt(!1),k()}})]})}const ic={padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"6px",border:"none",cursor:"pointer",color:"white",whiteSpace:"nowrap",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.3rem",transition:"opacity 0.2s"},hx={background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},na={container:{position:"absolute",top:"3.5rem",right:"0.5rem",backgroundColor:"#25262b",border:"1px solid #444",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)",zIndex:100,display:"flex",flexDirection:"column",minWidth:"180px",padding:"0.5rem"},item:{background:"none",border:"none",color:"#e0e0e0",padding:"0.8rem 1rem",textAlign:"left",cursor:"pointer",borderRadius:"4px",fontSize:"0.95rem",transition:"background 0.2s"},divider:{height:"1px",backgroundColor:"#444",margin:"0.5rem 0"},userEmail:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"#888",borderBottom:"1px solid #333",marginBottom:"0.5rem"}},mb={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},content:{backgroundColor:"#25262b",padding:"2rem",borderRadius:"12px",maxWidth:"400px",width:"90%",border:"1px solid #444",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"}};Tw.createRoot(document.getElementById("root")).render(ft.jsx(mw.StrictMode,{children:ft.jsx(fx,{})}));
