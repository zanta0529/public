:root{--primary-color: #3498db;--secondary-color: #2c3e50;--auth-note-color: #b18907;--background-color: #f5f5f5;--panel-bg-color: #ffffff;--text-color: #333;--light-text-color: #7f8c8d;--border-color: #ecf0f1;--shadow: 0 4px 12px rgba(0, 0, 0, .1);--category-sight: #27ae60;--category-stay: #e67e22;--category-transport: #8e44ad;--category-food: #c0392b;--category-default: #7f8c8d}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--background-color);color:var(--text-color);overflow:hidden}.hidden{display:none!important}#offline-warning-banner{background-color:#e67e22;color:#fff;text-align:center;padding:8px;font-size:.9em;position:fixed;top:0;left:0;width:100%;z-index:9999;box-shadow:0 2px 5px #0003}#app-container.offline{padding-top:35px}.map-offline-placeholder{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#e0e0e0cc;color:#757575;font-size:1.2em;font-weight:700;z-index:500}#app-container{position:relative;overflow:hidden;height:100vh}#itinerary-panel{position:absolute;top:0;left:0;width:360px;height:100%;background-color:var(--panel-bg-color);box-shadow:var(--shadow);display:flex;flex-direction:column;z-index:2000;transition:transform .3s ease-in-out;transform:translate(-100%)}#itinerary-panel.open{transform:translate(0)}#map-container{width:100%;height:100%;position:relative}#map{height:100%;width:100%;z-index:400}.panel-header{padding:15px 20px;background-color:var(--primary-color);color:#fff;flex-shrink:0}.panel-header .header-main-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.panel-header h1{font-size:1.5em;margin:0;flex-grow:1;text-align:left}#auth-container{margin:0;font-size:.9em;flex-shrink:0}#guest-info #show-login-btn{background:none;border:1px solid rgba(255,255,255,.7);color:#fff;padding:6px 14px;border-radius:5px;cursor:pointer;font-weight:400;transition:background-color .2s,color .2s}#guest-info #show-login-btn:hover{background-color:#fff3}#user-info{display:flex;align-items:center;gap:12px}#user-email{font-weight:400;font-size:.95em;opacity:.9;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:150px}#user-info #logout-btn{background:none;border:1px solid rgba(255,255,255,.7);color:#fff;padding:6px 14px;border-radius:5px;cursor:pointer;font-weight:400;transition:background-color .2s,color .2s}#user-info #logout-btn:hover{background-color:#fff3}.header-controls{display:flex;gap:10px;align-items:center}.header-controls button{padding:8px 12px;background-color:#fff;color:var(--primary-color);border:none;border-radius:5px;cursor:pointer;font-size:.9em;font-weight:700;line-height:1.2;flex-shrink:0}#export-json,#export-printable{padding:8px 10px;font-size:1.2em;line-height:1}#search-input{flex-grow:1;border:1px solid var(--border-color);border-radius:5px;font-size:.9em;padding:8px;min-width:50px}#stats-panel{display:flex;justify-content:space-around;padding:12px 20px;background-color:#f8f9fa;border-bottom:1px solid var(--border-color);flex-shrink:0}.stat-item{text-align:center}.stat-item span{font-size:1.5em;font-weight:700;color:var(--secondary-color)}.stat-item label{font-size:.8em;color:var(--light-text-color);display:block}#itinerary-list-container{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}#itinerary-list-header{padding:10px 20px;border-bottom:1px solid var(--border-color);flex-shrink:0;display:flex;justify-content:space-between;align-items:center}#itinerary-list-header h2{font-size:1em;margin:0;color:var(--secondary-color)}#itinerary-list{overflow-y:auto;flex-grow:1;padding:10px 0}#add-location-container{padding:15px 20px;border-top:1px solid var(--border-color);flex-shrink:0}#add-location-btn{width:100%;padding:12px;font-size:1em;font-weight:700;background-color:var(--primary-color);color:#fff;border:none;border-radius:5px;cursor:pointer}#add-location-btn:hover{background-color:#2980b9}.day-group{margin-bottom:10px}.day-header{padding:10px 20px;font-size:1.1em;font-weight:700;color:var(--secondary-color);background-color:var(--border-color);border-top:1px solid #ddd;border-bottom:1px solid #ddd}.location-item{padding:12px 20px;cursor:grab;border-bottom:1px solid var(--border-color);transition:background-color .2s;display:flex;align-items:center;gap:15px}.location-item p{flex-grow:1;margin:0}.location-item.dragging{opacity:.5;background:#cce5ff}.location-item:hover{background-color:#e8f4fd}.location-number{font-weight:700;color:var(--secondary-color);font-size:1.1em}.category-badge{padding:3px 8px;border-radius:12px;font-size:.75em;color:#fff;flex-shrink:0}.location-controls{display:flex;gap:5px}.location-controls button{background:none;border:none;cursor:pointer;font-size:1.1em;padding:2px;color:var(--light-text-color)}.location-controls button:hover{color:var(--primary-color)}.location-controls .delete-btn:hover{color:var(--category-food)}#panel-handle{position:absolute;top:50%;transform:translateY(-50%);width:20px;height:60px;background-color:var(--secondary-color);cursor:pointer;display:flex;justify-content:center;align-items:center;transition:left .3s ease-in-out,background-color .2s ease;border-top-right-radius:5px;border-bottom-right-radius:5px;z-index:2001;left:0}#panel-handle.open{left:360px}#panel-handle:hover{background-color:#495f75}.handle-icon{width:100%;height:40px;color:#fff;font-size:1.2em;position:relative;display:flex;justify-content:center;align-items:center}.handle-icon:before{content:"▲";position:absolute;transition:transform .3s ease;transform:rotate(90deg) scale(.6)}#panel-handle.open .handle-icon:before{transform:rotate(-90deg) scale(.6)}#filters-wrapper{position:absolute;top:10px;left:50%;transform:translate(-50%);z-index:1000;width:90%;max-width:800px}#filters{background-color:#ffffffe6;padding:8px;border-radius:8px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;overflow:hidden;max-height:500px;transition:max-height .35s ease-in-out,padding .35s ease-in-out}#filters.collapsed{max-height:0;padding-top:0;padding-bottom:0;border:none;box-shadow:none}#date-filters,#category-filters{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}#filters button{padding:8px 15px;border-radius:5px;border:1px solid var(--border-color);background-color:#fff;color:var(--text-color);cursor:pointer;font-size:.9em;transition:all .2s}#filters button:hover{filter:brightness(1.1)}#filters button.active{outline:2px solid var(--primary-color);outline-offset:2px}#filters button[data-category=sight]{background-color:var(--category-sight);color:#fff;border-color:transparent}#filters button[data-category=stay]{background-color:var(--category-stay);color:#fff;border-color:transparent}#filters button[data-category=transport]{background-color:var(--category-transport);color:#fff;border-color:transparent}#filters button[data-category=food]{background-color:var(--category-food);color:#fff;border-color:transparent}#filters button[data-category=default]{background-color:var(--category-default);color:#fff;border-color:transparent}#filters-handle{width:60px;height:20px;background-color:var(--secondary-color);margin:-1px auto 0;border-radius:0 0 5px 5px;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:background-color .2s ease}#filters-handle:hover{background-color:#495f75}.filters-handle-icon{width:100%;height:100%;color:#fff;font-size:1.2em;position:relative;display:flex;justify-content:center;align-items:center}.filters-handle-icon:before{content:"▲";position:absolute;font-weight:400;transition:transform .3s ease-in-out;transform:scale(.6)}#filters-handle.collapsed .filters-handle-icon:before{transform:scale(.6) rotate(180deg)}.modal-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:3000;display:flex;justify-content:center;align-items:center}.modal-content{background-color:#fff;padding:25px 30px;border-radius:8px;box-shadow:0 5px 15px #0000004d;width:90%;max-width:500px;max-height:90vh;overflow-y:auto}.modal-content.large{max-width:650px}.modal-content h2{margin-top:0;margin-bottom:20px;color:var(--secondary-color)}.modal-actions{margin-top:25px;display:flex;gap:10px;justify-content:flex-end}.modal-actions button{padding:10px 20px;border-radius:5px;border:none;cursor:pointer;font-size:.95em;font-weight:700}.modal-actions button:first-of-type{background-color:var(--primary-color);color:#fff}.modal-actions button:not(:first-of-type){background-color:var(--border-color);color:var(--text-color)}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:5px;font-size:.9em;color:var(--light-text-color)}.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px;font-size:1em;border:1px solid #ccc;border-radius:5px}.auth-note{font-size:.85em;color:var(--auth-note-color);text-align:center;margin-top:20px;padding:0 10px}.search-wrapper{display:flex;gap:5px}#location-search-results{margin-top:10px;border:1px solid var(--border-color);border-radius:5px;max-height:150px;overflow-y:auto}.search-result-item{padding:10px;cursor:pointer;font-size:.9em}.search-result-item:hover{background-color:#e8f4fd}#itinerary-manager-list{list-style:none;padding:0;margin:0;max-height:40vh;overflow-y:auto}#itinerary-manager-list h3{padding:10px 12px 5px;margin-top:10px;font-size:.9em;color:var(--light-text-color);border-bottom:1px solid var(--border-color)}#itinerary-manager-list h3:first-child{margin-top:0}.itinerary-manager-item-actions .upload-btn{background-color:var(--primary-color);color:#fff;border-color:transparent}.itinerary-manager-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:5px}.itinerary-manager-item:hover{background-color:#f8f9fa}.itinerary-manager-item-name{font-weight:700}.itinerary-manager-item-actions button{margin-left:8px;padding:5px 10px;font-size:.85em;cursor:pointer;border-radius:5px;border:1px solid var(--border-color)}.itinerary-manager-item-actions .load-btn{background-color:var(--category-sight);color:#fff;border-color:transparent}.itinerary-manager-item-actions .delete-btn{background-color:var(--category-food);color:#fff;border-color:transparent}.toast-message{position:fixed;bottom:30px;left:50%;background-color:var(--secondary-color);color:#fff;padding:15px 25px;border-radius:8px;box-shadow:var(--shadow);z-index:9999;opacity:0;transition:opacity .5s,transform .5s;transform:translate(-50%,100%)}.toast-message.show{opacity:1;transform:translate(-50%)}.toast-message.warning{background-color:#e67e22}.toast-message.success{background-color:#2ecc71}.toast-message.error{background-color:#e74c3c}.coordinates-helper{font-size:.85em;margin-top:12px;background-color:#f8f9fa;border:1px solid var(--border-color);border-radius:5px;padding:5px 12px}.coordinates-helper summary{cursor:pointer;font-weight:700;color:var(--primary-color);padding:5px 0}.coordinates-helper p{margin-top:8px;padding-bottom:5px;line-height:1.6;color:var(--secondary-color)}.coordinates-helper code{background-color:#e9ecef;padding:2px 5px;border-radius:3px;font-family:monospace}.coordinates-warning-message{font-size:.8em;color:var(--auth-note-color);margin-top:5px;padding:3px 5px;background-color:#fdf8e9;border-radius:3px}.coordinates-warning-message.hidden{display:none}.leaflet-control-copyright{background-color:#ffffffb3;padding:2px 6px;border-radius:4px;box-shadow:0 1px 5px #0006;font-size:11px;color:#333}.leaflet-control-copyright a{color:#0078a8;text-decoration:none}.leaflet-control-copyright a:hover{text-decoration:underline}@media (max-width: 768px){#itinerary-panel{width:100%;transform:translate(-100%)}#itinerary-panel.open{transform:translate(0)}#panel-handle{left:0}#panel-handle.open{left:auto;right:0}#filters-wrapper{left:10px;right:10px;transform:translate(0);width:calc(100% - 20px)}}
